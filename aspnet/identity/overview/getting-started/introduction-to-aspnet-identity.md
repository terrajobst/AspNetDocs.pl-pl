---
uid: identity/overview/getting-started/introduction-to-aspnet-identity
title: Wprowadzenie do produktu ASP.NET Identity | Dokumentacja firmy Microsoft
author: jongalloway
description: Systemu członkostwa programu ASP.NET została wprowadzona w systemach kopii programu ASP.NET 2.0 w wersji 2005 i od czasu, a następnie typicall aplikacji sieci web sposoby miały miejsce wiele zmian...
ms.author: riande
ms.date: 01/22/2019
ms.assetid: 38717fc1-5989-43cf-952d-4007cc1dd923
msc.legacyurl: /identity/overview/getting-started/introduction-to-aspnet-identity
msc.type: authoredcontent
ms.openlocfilehash: 4a545e52d2d9ea04a10c37c116fd326c60de9f8f
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/01/2019
ms.locfileid: "57077075"
---
<a name="introduction-to-aspnet-identity"></a><span data-ttu-id="0e061-103">Wprowadzenie do systemu ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="0e061-103">Introduction to ASP.NET Identity</span></span>
====================

> <span data-ttu-id="0e061-104">Systemu członkostwa programu ASP.NET została wprowadzona w systemach kopii programu ASP.NET 2.0 w wersji 2005 i od czasu, a następnie w sposób, w aplikacji sieci web zazwyczaj obsługiwać uwierzytelnianie i autoryzacja było wiele zmian.</span><span class="sxs-lookup"><span data-stu-id="0e061-104">The ASP.NET membership system was introduced with ASP.NET 2.0 back in 2005, and since then there have been many changes in the ways web applications typically handle authentication and authorization.</span></span> <span data-ttu-id="0e061-105">ASP.NET Identity jest nowy wygląd, na jakie systemu członkostwa powinny być podczas kompilowania nowoczesnych aplikacji dla sieci web, telefonu lub tabletu.</span><span class="sxs-lookup"><span data-stu-id="0e061-105">ASP.NET Identity is a fresh look at what the membership system should be when you are building modern applications for the web, phone, or tablet.</span></span>


## <a name="background-membership-in-aspnet"></a><span data-ttu-id="0e061-106">Tło: Członkostwo w programie ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="0e061-106">Background: Membership in ASP.NET</span></span>

### <a name="aspnet-membership"></a><span data-ttu-id="0e061-107">Członkostwo platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="0e061-107">ASP.NET Membership</span></span>

<span data-ttu-id="0e061-108">[Członkostwo ASP.NET](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) zaprojektowano tak, aby rozwiązać wymagania dotyczące członkostwa w lokacji, które są wspólne w 2005 uwierzytelniania formularzy i bazy danych programu SQL Server dla nazwy użytkownika, hasła i dane profilu.</span><span class="sxs-lookup"><span data-stu-id="0e061-108">[ASP.NET Membership](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) was designed to solve site membership requirements that were common in 2005, which involved Forms Authentication, and a SQL Server database for user names, passwords, and profile data.</span></span> <span data-ttu-id="0e061-109">Obecnie istnieje znacznie szerszy tablicą opcji przechowywania danych dla aplikacji sieci web i większość deweloperów chcesz włączyć w swoich witrynach dostawców tożsamości społecznościowych na użytek funkcji uwierzytelniania i autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="0e061-109">Today there is a much broader array of data storage options for web applications, and most developers want to enable their sites to use social identity providers for authentication and authorization functionality.</span></span> <span data-ttu-id="0e061-110">Ograniczenia dotyczące projektowania członkostwa ASP.NET utrudniają to przejście:</span><span class="sxs-lookup"><span data-stu-id="0e061-110">The limitations of ASP.NET Membership's design make this transition difficult:</span></span>

- <span data-ttu-id="0e061-111">Schemat bazy danych została zaprojektowana dla programu SQL Server i nie można go zmienić.</span><span class="sxs-lookup"><span data-stu-id="0e061-111">The database schema was designed for SQL Server and you can't change it.</span></span> <span data-ttu-id="0e061-112">Można dodać informacji o profilu, ale dodatkowe dane są pakowane w innej tabeli, co utrudnia na dostęp za pomocą jakichkolwiek środków, z wyjątkiem za pośrednictwem interfejsu API dostawcy profilu.</span><span class="sxs-lookup"><span data-stu-id="0e061-112">You can add profile information, but the additional data is packed into a different table, which makes it difficult to access by any means except through the Profile Provider API.</span></span>
- <span data-ttu-id="0e061-113">System dostawcy umożliwia zmianę zapasowy magazyn danych, ale system zaprojektowany pod kątem założeń, które są odpowiednie w przypadku relacyjnej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="0e061-113">The provider system enables you to change the backing data store, but the system is designed around assumptions appropriate for a relational database.</span></span> <span data-ttu-id="0e061-114">Można napisać dostawcy do przechowywania informacji o członkostwie w mechanizm magazynu nierelacyjnych, takich jak tabele magazynu platformy Azure, ale następnie trzeba obejść projektowania relacyjnych, pisząc większej ilości kodu i wiele `System.NotImplementedException` wyjątków dla metod, które nie mają zastosowanie do baz danych NoSQL.</span><span class="sxs-lookup"><span data-stu-id="0e061-114">You can write a provider to store membership information in a non-relational storage mechanism, such as Azure Storage Tables, but then you have to work around the relational design by writing much code and a lot of `System.NotImplementedException` exceptions for methods that don't apply to NoSQL databases.</span></span>
- <span data-ttu-id="0e061-115">Ponieważ funkcje w/log Wyloguj opiera się na uwierzytelnianie formularzy, nie można użyć systemu członkostwa [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span><span class="sxs-lookup"><span data-stu-id="0e061-115">Since the log-in/log-out functionality is based on Forms Authentication, the membership system can't use [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span></span> <span data-ttu-id="0e061-116">OWIN obejmuje składniki oprogramowania pośredniczącego uwierzytelniania, takie jak Obsługa dziennika dodatków przy użyciu dostawców tożsamości zewnętrznych (takich jak Accounts firmy Microsoft, Facebook, Google i Twitter) i dziennika dodatków przy użyciu konta organizacji z usługi Active Directory lokalnych lub Usługa Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0e061-116">OWIN includes middleware components for authentication, including support for log-ins using external identity providers (like Microsoft Accounts, Facebook, Google, Twitter), and log-ins using organizational accounts from on-premises Active Directory or Azure Active Directory.</span></span> <span data-ttu-id="0e061-117">OWIN obejmuje również obsługę protokołu OAuth 2.0 JWT i mechanizmu CORS.</span><span class="sxs-lookup"><span data-stu-id="0e061-117">OWIN also includes support for OAuth 2.0, JWT and CORS.</span></span>

### <a name="aspnet-simple-membership"></a><span data-ttu-id="0e061-118">Członkostwo ASP.NET prosty</span><span class="sxs-lookup"><span data-stu-id="0e061-118">ASP.NET Simple Membership</span></span>

<span data-ttu-id="0e061-119">[Proste członkostwa ASP.NET](../../../web-pages/overview/security/16-adding-security-and-membership.md) został opracowany jako system członkostwa ASP.NET Web Pages.</span><span class="sxs-lookup"><span data-stu-id="0e061-119">[ASP.NET simple membership](../../../web-pages/overview/security/16-adding-security-and-membership.md) was developed as a membership system for ASP.NET Web Pages.</span></span> <span data-ttu-id="0e061-120">Został wydany przy użyciu programu WebMatrix i Visual Studio 2010 SP1.</span><span class="sxs-lookup"><span data-stu-id="0e061-120">It was released with WebMatrix and Visual Studio 2010 SP1.</span></span> <span data-ttu-id="0e061-121">Celem członkostwa prostego był ułatwia dodawanie funkcji przynależności do aplikacji stron sieci Web.</span><span class="sxs-lookup"><span data-stu-id="0e061-121">The goal of Simple Membership was to make it easy to add membership functionality to a Web Pages application.</span></span>

<span data-ttu-id="0e061-122">Członkostwa prostego ułatwiają dostosowywanie informacji o profilu użytkownika, ale nadal udostępnia inne problemy z członkostwa ASP.NET i ma pewne ograniczenia:</span><span class="sxs-lookup"><span data-stu-id="0e061-122">Simple Membership did make it easier to customize user profile information, but it still shares the other problems with ASP.NET Membership, and it has some limitations:</span></span>

- <span data-ttu-id="0e061-123">Był trudny do utrwalenia danych systemu członkostwa w magazynie nierelacyjnych.</span><span class="sxs-lookup"><span data-stu-id="0e061-123">It was hard to persist membership system data in a non-relational store.</span></span>
- <span data-ttu-id="0e061-124">Nie można go używać z oprogramowaniem OWIN.</span><span class="sxs-lookup"><span data-stu-id="0e061-124">You can't use it with OWIN.</span></span>
- <span data-ttu-id="0e061-125">Nie działa dobrze z istniejącego dostawcy członkostwa ASP.NET, a nie jest rozszerzalny.</span><span class="sxs-lookup"><span data-stu-id="0e061-125">It doesn't work well with existing ASP.NET Membership providers, and it's not extensible.</span></span>

### <a name="aspnet-universal-providers"></a><span data-ttu-id="0e061-126">Standardowi dostawcy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="0e061-126">ASP.NET Universal Providers</span></span>

<span data-ttu-id="0e061-127">[Dostawców uniwersalnych ASP.NET](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) zostały zaprojektowane, aby umożliwić utrwalanie informacji o członkostwie w systemie Microsoft Azure SQL Database i mogą również działać przy użyciu programu SQL Server Compact.</span><span class="sxs-lookup"><span data-stu-id="0e061-127">[ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) were developed to make it possible to persist membership information in Microsoft Azure SQL Database, and they also work with SQL Server Compact.</span></span> <span data-ttu-id="0e061-128">Dostawców uniwersalnych zostały zbudowane Entity Framework Code First, co oznacza, że dostawców uniwersalnych może służyć do utrwalenia danych w magazynie, wszystkie objęte EF.</span><span class="sxs-lookup"><span data-stu-id="0e061-128">The Universal Providers were built on Entity Framework Code First, which means that the Universal Providers can be used to persist data in any store supported by EF.</span></span> <span data-ttu-id="0e061-129">Za pomocą dostawców uniwersalnych schemat bazy danych został oczyszczony z bardzo dużo także.</span><span class="sxs-lookup"><span data-stu-id="0e061-129">With the Universal Providers, the database schema was cleaned up quite a lot as well.</span></span>

<span data-ttu-id="0e061-130">Dostawców uniwersalnych są tworzone w infrastrukturze członkostwa ASP.NET, więc one nadal wykonać te same ograniczenia jako dostawca SqlMembership.</span><span class="sxs-lookup"><span data-stu-id="0e061-130">The Universal Providers are built on the ASP.NET Membership infrastructure, so they still carry the same limitations as the SqlMembership Provider.</span></span> <span data-ttu-id="0e061-131">Oznacza to, że zostały zaprojektowane dla relacyjnych baz danych i trudno Dostosuj informacje o profilu i użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0e061-131">That is, they were designed for relational databases and it's hard to customize profile and user information.</span></span> <span data-ttu-id="0e061-132">Ci dostawcy nadal można używać uwierzytelniania formularzy dla funkcji logowania i wylogowywania.</span><span class="sxs-lookup"><span data-stu-id="0e061-132">These providers also still use Forms Authentication for sign-in and sign-out functionality.</span></span>

## <a name="aspnet-identity"></a><span data-ttu-id="0e061-133">ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="0e061-133">ASP.NET Identity</span></span>

<span data-ttu-id="0e061-134">Jako członkostwa wątku na platformie ASP.NET powstał w ciągu lat zespół programu ASP.NET ma umożliwił zdobycie z opinii klientów.</span><span class="sxs-lookup"><span data-stu-id="0e061-134">As the membership story in ASP.NET has evolved over the years, the ASP.NET team has learned a lot from feedback from customers.</span></span>

<span data-ttu-id="0e061-135">Przy założeniu, że użytkownicy będą logować, wprowadzając nazwę użytkownika i hasło, które zarejestrowanych w swojej aplikacji nie jest już prawidłowy.</span><span class="sxs-lookup"><span data-stu-id="0e061-135">The assumption that users will sign in by entering a user name and password that they have registered in your own application is no longer valid.</span></span> <span data-ttu-id="0e061-136">Stała się bardziej społecznościowych sieci web.</span><span class="sxs-lookup"><span data-stu-id="0e061-136">The web has become more social.</span></span> <span data-ttu-id="0e061-137">Użytkownicy wchodzą w interakcje ze sobą w czasie rzeczywistym za pośrednictwem kanałów społecznościowych, takich jak Facebook, Twitter i innych społecznościowych witryn sieci web.</span><span class="sxs-lookup"><span data-stu-id="0e061-137">Users are interacting with each other in real time through social channels such as Facebook, Twitter, and other social web sites.</span></span> <span data-ttu-id="0e061-138">Deweloperzy mają użytkownicy mogą zalogować się przy użyciu ich tożsamości społecznościowych, dzięki czemu mają bogate doświadczenie w swoich witrynach sieci web.</span><span class="sxs-lookup"><span data-stu-id="0e061-138">Developers want users to be able to sign in with their social identities so that they can have a rich experience on their web sites.</span></span> <span data-ttu-id="0e061-139">System członkostwa nowoczesnych należy włączyć na podstawie przekierowania dziennika dodatki plug-in do dostawców uwierzytelniania, takich jak Facebook, Twitter i innych.</span><span class="sxs-lookup"><span data-stu-id="0e061-139">A modern membership system must enable redirection-based log-ins to authentication providers such as Facebook, Twitter, and others.</span></span>

<span data-ttu-id="0e061-140">Jak ewoluował programowania dla sieci web, tak samo wzorce programowania dla sieci web.</span><span class="sxs-lookup"><span data-stu-id="0e061-140">As web development evolved, so did the patterns of web development.</span></span> <span data-ttu-id="0e061-141">Jednostki testowania kodu aplikacji stały się podstawowe znaczenie dla deweloperów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0e061-141">Unit testing of application code became a core concern for application developers.</span></span> <span data-ttu-id="0e061-142">W 2008 ASP.NET dodaje nowej struktury, na podstawie wzorca Model-View-Controller (MVC), w części, aby pomóc deweloperom w tworzeniu jednostki sprawdzalnego działa zgodnie aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0e061-142">In 2008 ASP.NET added a new framework based on the Model-View-Controller (MVC) pattern, in part to help developers build unit testable ASP.NET applications.</span></span> <span data-ttu-id="0e061-143">Deweloperzy, którzy chcieli jednostki testowania ich logiki aplikacji, które również chce, aby można było to zrobić za pomocą systemu członkostwa.</span><span class="sxs-lookup"><span data-stu-id="0e061-143">Developers who wanted to unit test their application logic also wanted to be able to do that with the membership system.</span></span>

<span data-ttu-id="0e061-144">Biorąc pod uwagę te zmiany podczas tworzenia aplikacji sieci web ASP.NET Identity został opracowany przy użyciu następujących celów:</span><span class="sxs-lookup"><span data-stu-id="0e061-144">Considering these changes in web application development, ASP.NET Identity was developed with the following goals:</span></span>

- <span data-ttu-id="0e061-145">**Jeden system produktu ASP.NET Identity**</span><span class="sxs-lookup"><span data-stu-id="0e061-145">**One ASP.NET Identity system**</span></span>

    - <span data-ttu-id="0e061-146">ASP.NET Identity może służyć w przypadku wszystkich platform ASP.NET, takich jak ASP.NET MVC, formularze sieci Web, stron sieci Web, internetowy interfejs API i SignalR.</span><span class="sxs-lookup"><span data-stu-id="0e061-146">ASP.NET Identity can be used with all of the ASP.NET frameworks, such as ASP.NET MVC, Web Forms, Web Pages, Web API, and SignalR.</span></span>
    - <span data-ttu-id="0e061-147">ASP.NET Identity może służyć podczas tworzenia aplikacji sieci web, telefonu, magazynu lub hybrydowego.</span><span class="sxs-lookup"><span data-stu-id="0e061-147">ASP.NET Identity can be used when you are building web, phone, store, or hybrid applications.</span></span>
- <span data-ttu-id="0e061-148">**Łatwość podłączania dane profilu użytkownika**</span><span class="sxs-lookup"><span data-stu-id="0e061-148">**Ease of plugging in profile data about the user**</span></span>

    - <span data-ttu-id="0e061-149">Masz kontrolę nad schemat użytkownika oraz informacje o profilu.</span><span class="sxs-lookup"><span data-stu-id="0e061-149">You have control over the schema of user and profile information.</span></span> <span data-ttu-id="0e061-150">Na przykład można łatwo włączyć system do przechowywania daty urodzenia wprowadzone przez użytkowników, po zarejestrowaniu konta w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0e061-150">For example, you can easily enable the system to store birth dates entered by users when they register an account in your application.</span></span>

- <span data-ttu-id="0e061-151">**Kontrola stanu trwałego**</span><span class="sxs-lookup"><span data-stu-id="0e061-151">**Persistence control**</span></span>

    - <span data-ttu-id="0e061-152">Domyślnie system produktu ASP.NET Identity przechowuje wszystkie informacje o użytkowniku w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="0e061-152">By default, the ASP.NET Identity system stores all the user information in a database.</span></span> <span data-ttu-id="0e061-153">Do wdrożenia całości mechanizmu stanu trwałego produktu ASP.NET Identity korzysta z programu Entity Framework Code First.</span><span class="sxs-lookup"><span data-stu-id="0e061-153">ASP.NET Identity uses Entity Framework Code First to implement all of its persistence mechanism.</span></span>
    - <span data-ttu-id="0e061-154">Ponieważ możesz kontrolować schematu bazy danych, typowych zadań, takich jak zmiana nazwy tabel lub zmiana typu danych kluczy podstawowych jest prosty sposób.</span><span class="sxs-lookup"><span data-stu-id="0e061-154">Since you control the database schema, common tasks such as changing table names or changing the data type of primary keys is simple to do.</span></span>
    - <span data-ttu-id="0e061-155">Można łatwo podłączyć mechanizmów innego magazynu, takich jak SharePoint, usługę Azure Storage Table Service, bazy danych NoSQL, itp., bez konieczności throw `System.NotImplementedExceptions` wyjątków.</span><span class="sxs-lookup"><span data-stu-id="0e061-155">It's easy to plug in different storage mechanisms such as SharePoint, Azure Storage Table Service, NoSQL databases, etc., without having to throw `System.NotImplementedExceptions` exceptions.</span></span>
- <span data-ttu-id="0e061-156">**Jednostka testowalności**</span><span class="sxs-lookup"><span data-stu-id="0e061-156">**Unit testability**</span></span>

    - <span data-ttu-id="0e061-157">ASP.NET Identity sprawia, że aplikacja sieci web więcej jednostek sprawdzalnego działa zgodnie.</span><span class="sxs-lookup"><span data-stu-id="0e061-157">ASP.NET Identity makes the web application more unit testable.</span></span> <span data-ttu-id="0e061-158">Można pisać testy jednostkowe dla części aplikacji, które używają produktu ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="0e061-158">You can write unit tests for the parts of your application that use ASP.NET Identity.</span></span>
- <span data-ttu-id="0e061-159">**Dostawca ról**</span><span class="sxs-lookup"><span data-stu-id="0e061-159">**Role provider**</span></span>

    - <span data-ttu-id="0e061-160">Brak dostawcy ról, które pozwala ograniczyć dostęp do poszczególnych części aplikacji przez role.</span><span class="sxs-lookup"><span data-stu-id="0e061-160">There is a role provider which lets you restrict access to parts of your application by roles.</span></span> <span data-ttu-id="0e061-161">Możesz łatwo tworzyć role, takie jak "Admin" i dodać użytkowników do ról.</span><span class="sxs-lookup"><span data-stu-id="0e061-161">You can easily create roles such as "Admin" and add users to roles.</span></span>
- <span data-ttu-id="0e061-162">**Na podstawie oświadczeń**</span><span class="sxs-lookup"><span data-stu-id="0e061-162">**Claims Based**</span></span>

    - <span data-ttu-id="0e061-163">ASP.NET Identity obsługuje uwierzytelniania opartego na oświadczeniach, gdy tożsamość użytkownika jest reprezentowana jako zestaw oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="0e061-163">ASP.NET Identity supports claims-based authentication, where the user's identity is represented as a set of claims.</span></span> <span data-ttu-id="0e061-164">Oświadczenia umożliwiają deweloperom można o wiele bardziej ekspresyjnego do opisywania tożsamości użytkownika, niż jest dozwolone role.</span><span class="sxs-lookup"><span data-stu-id="0e061-164">Claims allow developers to be a lot more expressive in describing a user's identity than roles allow.</span></span> <span data-ttu-id="0e061-165">Członkostwo w roli jest po prostu atrybut typu wartość logiczna (składowej lub nie jest członkiem), oświadczenia mogą zawierać bogate informacje o tożsamości i członkostwa użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0e061-165">Whereas role membership is just a boolean (member or non-member), a claim can include rich information about the user's identity and membership.</span></span>
- <span data-ttu-id="0e061-166">**Dostawców społecznościowych logowania**</span><span class="sxs-lookup"><span data-stu-id="0e061-166">**Social Login Providers**</span></span>

    - <span data-ttu-id="0e061-167">Możesz łatwo dodać społecznościowych dodatków dziennika, takich jak Account Microsoft, Facebook, Twitter, Google i innych użytkowników do aplikacji i przechowywać dane specyficzne dla użytkownika w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0e061-167">You can easily add social log-ins such as Microsoft Account, Facebook, Twitter, Google, and others to your application, and store the user-specific data in your application.</span></span>

- <span data-ttu-id="0e061-168">**Integracja z OWIN**</span><span class="sxs-lookup"><span data-stu-id="0e061-168">**OWIN Integration**</span></span>

    - <span data-ttu-id="0e061-169">Uwierzytelnianie ASP.NET teraz opiera się na oprogramowania pośredniczącego OWIN, które mogą być używane na dowolnego hosta, na podstawie OWIN.</span><span class="sxs-lookup"><span data-stu-id="0e061-169">ASP.NET authentication is now based on OWIN middleware that can be used on any OWIN-based host.</span></span> <span data-ttu-id="0e061-170">ASP.NET Identity nie ma żadnych zależności na System.Web.</span><span class="sxs-lookup"><span data-stu-id="0e061-170">ASP.NET Identity does not have any dependency on System.Web.</span></span> <span data-ttu-id="0e061-171">Jest w pełni zgodne framework OWIN i mogą być używane w dowolnej aplikacji OWIN hostowanej.</span><span class="sxs-lookup"><span data-stu-id="0e061-171">It is a fully compliant OWIN framework and can be used in any OWIN hosted application.</span></span>
    - <span data-ttu-id="0e061-172">ASP.NET Identity korzysta z uwierzytelniania OWIN w/log Wyloguj użytkowników w witrynie sieci web.</span><span class="sxs-lookup"><span data-stu-id="0e061-172">ASP.NET Identity uses OWIN Authentication for log-in/log-out of users in the web site.</span></span> <span data-ttu-id="0e061-173">Oznacza to, że zamiast korzystać z uwierzytelniania formularzy, aby wygenerować plik cookie, aplikacja używa OWIN CookieAuthentication w tym.</span><span class="sxs-lookup"><span data-stu-id="0e061-173">This means that instead of using FormsAuthentication to generate the cookie, the application uses OWIN CookieAuthentication to do that.</span></span>
- <span data-ttu-id="0e061-174">**Pakiet NuGet**</span><span class="sxs-lookup"><span data-stu-id="0e061-174">**NuGet package**</span></span>

    - <span data-ttu-id="0e061-175">ASP.NET Identity jest dystrybuowany jako pakiet NuGet, który jest zainstalowany w szablonach platformy ASP.NET MVC i formularzy sieci Web interfejsu API sieci Web, które są dostarczane z programem Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="0e061-175">ASP.NET Identity is redistributed as a NuGet package which is installed in the ASP.NET MVC, Web Forms and Web API templates that ship with Visual Studio 2017.</span></span> <span data-ttu-id="0e061-176">Ten pakiet NuGet można pobrać z galerii pakietów NuGet.</span><span class="sxs-lookup"><span data-stu-id="0e061-176">You can download this NuGet package from the NuGet gallery.</span></span>
    - <span data-ttu-id="0e061-177">Zwalnianie produktu ASP.NET Identity jako NuGet pakietu ułatwia zespół programu ASP.NET do iteracji na nowe funkcje i poprawki błędów i dostarczaj je deweloperom zwinne.</span><span class="sxs-lookup"><span data-stu-id="0e061-177">Releasing ASP.NET Identity as a NuGet package makes it easier for the ASP.NET team to iterate on new features and bug fixes, and deliver these to developers in an agile manner.</span></span>

## <a name="get-started-with-aspnet-identity"></a><span data-ttu-id="0e061-178">Wprowadzenie do produktu ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="0e061-178">Get started with ASP.NET Identity</span></span>

<span data-ttu-id="0e061-179">ASP.NET Identity jest używany w szablonach projektu programu Visual Studio 2017 dla platformy ASP.NET MVC i formularzy sieci Web, internetowy interfejs API SPA.</span><span class="sxs-lookup"><span data-stu-id="0e061-179">ASP.NET Identity is used in the Visual Studio 2017 project templates for ASP.NET MVC, Web Forms, Web API and SPA.</span></span> <span data-ttu-id="0e061-180">W ramach tego przewodnika firma Microsoft będzie pokazują, jak szablony projektów umożliwiają produktu ASP.NET Identity dodają funkcje do rejestracji, zaloguj się i wylogować użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0e061-180">In this walkthrough, we'll illustrate how the project templates use ASP.NET Identity to add functionality to register, sign in and sign out a user.</span></span>

<span data-ttu-id="0e061-181">ASP.NET Identity jest implementowany przy użyciu poniższej procedury.</span><span class="sxs-lookup"><span data-stu-id="0e061-181">ASP.NET Identity is implemented using the following procedure.</span></span> <span data-ttu-id="0e061-182">Celem tego artykułu jest zapewnienie wysokiego poziomu omówienie produktu ASP.NET Identity; można wykonać krok po kroku lub tylko odczytać szczegóły.</span><span class="sxs-lookup"><span data-stu-id="0e061-182">The purpose of this article is to give you a high level overview of ASP.NET Identity; you can follow it step by step or just read the details.</span></span> <span data-ttu-id="0e061-183">Aby uzyskać bardziej szczegółowe instrukcje na temat tworzenia aplikacji za pomocą tożsamości ASP.NET, w tym za pomocą nowego interfejsu API, aby dodać użytkowników, role i informacje o profilu Zobacz sekcji Następne kroki na końcu tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="0e061-183">For more detailed instructions on creating apps using ASP.NET Identity, including using the new API to add users, roles and profile information, see the Next Steps section at the end of this article.</span></span>

1. <span data-ttu-id="0e061-184">Tworzenie aplikacji ASP.NET MVC za pomocą indywidualnych kont.</span><span class="sxs-lookup"><span data-stu-id="0e061-184">Create an ASP.NET MVC application with Individual Accounts.</span></span> <span data-ttu-id="0e061-185">Możesz użyć produktu ASP.NET Identity w ASP.NET MVC, Web Forms, internetowy interfejs API itp SignalR. W tym artykule Zaczniemy z aplikacją ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="0e061-185">You can use ASP.NET Identity in ASP.NET MVC, Web Forms, Web API, SignalR etc. In this article we will start with an ASP.NET MVC application.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image1.png)
2. <span data-ttu-id="0e061-186">Utworzony projekt zawiera następujące trzy pakiety dla produktu ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="0e061-186">The created project contains the following three packages for ASP.NET Identity.</span></span>

    - [`Microsoft.AspNet.Identity.EntityFramework`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.EntityFramework/)  
   <span data-ttu-id="0e061-187">Ten pakiet zawiera implementację programu Entity Framework tożsamości ASP.NET, która zostanie utrzymany danych produktu ASP.NET Identity i schematów do programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0e061-187">This package has the Entity Framework implementation of ASP.NET Identity which will persist the ASP.NET Identity data and schema to SQL Server.</span></span>
    - [`Microsoft.AspNet.Identity.Core`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Core/)  
   <span data-ttu-id="0e061-188">Ten pakiet zawiera interfejsy podstawowe dla produktu ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="0e061-188">This package has the core interfaces for ASP.NET Identity.</span></span> <span data-ttu-id="0e061-189">Ten pakiet można napisać implementację dla produktu ASP.NET Identity, że elementy docelowe różnych stanów trwałych magazyny, takie jak Azure Table Storage, NoSQL baz danych itp.</span><span class="sxs-lookup"><span data-stu-id="0e061-189">This package can be used to write an implementation for ASP.NET Identity that targets different persistence stores such as Azure Table Storage, NoSQL databases etc.</span></span>
    - [`Microsoft.AspNet.Identity.OWIN`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Owin/)  
   <span data-ttu-id="0e061-190">Ten pakiet zawiera funkcje, które służy do dodatku w aplikacjach ASP.NET uwierzytelniania OWIN w produkcie ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="0e061-190">This package contains functionality that is used to plug in OWIN authentication with ASP.NET Identity in ASP.NET applications.</span></span> <span data-ttu-id="0e061-191">To jest używana podczas dodawania logowania funkcji do aplikacji i wywołać oprogramowanie pośredniczące uwierzytelniania plików Cookie OWIN do generowania pliku cookie.</span><span class="sxs-lookup"><span data-stu-id="0e061-191">This is used when you add sign in functionality to your application and call into OWIN Cookie Authentication middleware to generate a cookie.</span></span>
3. <span data-ttu-id="0e061-192">Tworzenie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0e061-192">Creating a user.</span></span>  
   <span data-ttu-id="0e061-193">Uruchom aplikację, a następnie kliknij polecenie **zarejestrować** link, aby utworzyć użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0e061-193">Launch the application and then click on the **Register** link to create a user.</span></span> <span data-ttu-id="0e061-194">Na poniższej ilustracji przedstawiono na stronie rejestru, który gromadzi informacje o nazwę użytkownika i hasło.</span><span class="sxs-lookup"><span data-stu-id="0e061-194">The following image shows the Register page that collects the user name and password.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image2.png)  
  
   <span data-ttu-id="0e061-195">Gdy użytkownik wybierze **zarejestrować** przycisku `Register` akcji kontrolera konto tworzy użytkownika, wywołując Identity interfejsu API ASP.NET, jak wyróżniono poniżej:</span><span class="sxs-lookup"><span data-stu-id="0e061-195">When the user selects the **Register** button, the `Register` action of the Account controller creates the user by calling the ASP.NET Identity API, as highlighted below:</span></span>

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample1.cs?highlight=8-9)]
4. <span data-ttu-id="0e061-196">Rejestrowanie.</span><span class="sxs-lookup"><span data-stu-id="0e061-196">Sign in.</span></span>  
   <span data-ttu-id="0e061-197">Jeśli użytkownik został pomyślnie utworzony, użytkownik jest zalogowany za `SignInAsync` metody.</span><span class="sxs-lookup"><span data-stu-id="0e061-197">If the user was successfully created, she is signed in by the `SignInAsync` method.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample6.cs?highlight=12)]


   <span data-ttu-id="0e061-198">`SignInManager.SignInAsync` Metoda generuje [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span><span class="sxs-lookup"><span data-stu-id="0e061-198">The `SignInManager.SignInAsync` method generates a [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span></span> <span data-ttu-id="0e061-199">Ponieważ produktu ASP.NET Identity i uwierzytelniania plików Cookie OWIN systemu opartego na oświadczeniach, struktura wymaga aplikację, aby wygenerować ClaimsIdentity dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0e061-199">Since ASP.NET Identity and OWIN Cookie Authentication are claims-based system, the framework requires the app to generate a ClaimsIdentity for the user.</span></span> <span data-ttu-id="0e061-200">Tożsamość ClaimsIdentity zawierają informacje dotyczące wszystkich oświadczeń użytkownika, takich jak role, jakie należy użytkownik.</span><span class="sxs-lookup"><span data-stu-id="0e061-200">ClaimsIdentity has information about all the claims for the user, such as what roles the user belongs to.</span></span>   
 
5. <span data-ttu-id="0e061-201">Wyloguj się.</span><span class="sxs-lookup"><span data-stu-id="0e061-201">Log off.</span></span>  
   <span data-ttu-id="0e061-202">Wybierz **wylogować** łącza do wywoływania akcji wylogowania w kontrolerze konta.</span><span class="sxs-lookup"><span data-stu-id="0e061-202">Select the **Log off** link to call the LogOff action in the account controller.</span></span> 

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample5.cs?highlight=6)]

   <span data-ttu-id="0e061-203">Wyróżniony kod powyżej przedstawiono OWIN `AuthenticationManager.SignOut` metody.</span><span class="sxs-lookup"><span data-stu-id="0e061-203">The highlighted code above shows the OWIN `AuthenticationManager.SignOut` method.</span></span> <span data-ttu-id="0e061-204">To jest odpowiednikiem [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) metodę używaną przez [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) modułu w formularzach sieci Web.</span><span class="sxs-lookup"><span data-stu-id="0e061-204">This is analogous to [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) method used by the [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) module in Web Forms.</span></span>

## <a name="components-of-aspnet-identity"></a><span data-ttu-id="0e061-205">Składniki produktu ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="0e061-205">Components of ASP.NET Identity</span></span>

<span data-ttu-id="0e061-206">Na poniższym diagramie przedstawiono składniki systemu produktu ASP.NET Identity (wybierz [to](introduction-to-aspnet-identity/_static/image3.png) lub na diagramie Aby powiększyć ją).</span><span class="sxs-lookup"><span data-stu-id="0e061-206">The diagram below shows the components of the ASP.NET Identity system (select on [this](introduction-to-aspnet-identity/_static/image3.png) or on the diagram to enlarge it).</span></span> <span data-ttu-id="0e061-207">Pakiety w kolorze zielonym tworzą system tożsamości ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0e061-207">The packages in green make up the ASP.NET Identity system.</span></span> <span data-ttu-id="0e061-208">Inne pakiety są zależności, które są potrzebne do korzystania z systemu tożsamości ASP.NET w aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0e061-208">All the other packages are dependencies which are needed to use the ASP.NET Identity system in ASP.NET applications.</span></span>

[![](introduction-to-aspnet-identity/_static/image5.png)](introduction-to-aspnet-identity/_static/image4.png)

<span data-ttu-id="0e061-209">Poniżej przedstawiono krótki opis pakiety NuGet nie są wymienione wcześniej:</span><span class="sxs-lookup"><span data-stu-id="0e061-209">The following is a brief description of the NuGet packages not mentioned previously:</span></span>

- [<span data-ttu-id="0e061-210">Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="0e061-210">Microsoft.Owin.Security.Cookies</span></span>](http://www.nuget.org/packages/Microsoft.Owin.Security.Cookies/)  
 <span data-ttu-id="0e061-211">Oprogramowanie pośredniczące, który umożliwia aplikacji na używanie plików cookie na podstawie uwierzytelniania, podobnie jak ASP. Uwierzytelnianie formularzy w sieci.</span><span class="sxs-lookup"><span data-stu-id="0e061-211">Middleware that enables an application to use cookie based authentication, similar to ASP.NET's Forms Authentication.</span></span>
- [<span data-ttu-id="0e061-212">EntityFramework</span><span class="sxs-lookup"><span data-stu-id="0e061-212">EntityFramework</span></span>](http://www.nuget.org/packages/EntityFramework/)  
 <span data-ttu-id="0e061-213">Entity Framework jest technologii dostępu do danych zalecane przez firmę Microsoft dla relacyjnych baz danych.</span><span class="sxs-lookup"><span data-stu-id="0e061-213">Entity Framework is Microsoft's recommended data access technology for relational databases.</span></span>

## <a name="migrating-from-membership-to-aspnet-identity"></a><span data-ttu-id="0e061-214">Migrowanie z członkostwa do produktu ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="0e061-214">Migrating from Membership to ASP.NET Identity</span></span>

<span data-ttu-id="0e061-215">Mamy nadzieję, że wkrótce zapewnić wskazówki dotyczące migrowania istniejących aplikacji, które używają członkostwa ASP.NET lub członkostwa prostego do nowego systemu tożsamości ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0e061-215">We hope to soon provide guidance on migrating your existing apps that use ASP.NET Membership or Simple Membership to the new ASP.NET Identity system.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0e061-216">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="0e061-216">Next Steps</span></span>

- [<span data-ttu-id="0e061-217">Tworzenie aplikacji ASP.NET MVC 5 z usługi Facebook i Google OAuth2 i OpenID logowanie jednokrotne</span><span class="sxs-lookup"><span data-stu-id="0e061-217">Create an ASP.NET MVC 5 App with Facebook and Google OAuth2 and OpenID Sign-on</span></span>](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md)  
 <span data-ttu-id="0e061-218">Interfejs API platformy ASP.NET Identity jest samouczku można dodać informacji o profilu do bazy danych użytkowników i sposób uwierzytelniania za pomocą serwis Google czy Facebook.</span><span class="sxs-lookup"><span data-stu-id="0e061-218">The tutorial uses the ASP.NET Identity API to add profile information to the user database, and how to authenticate with Google and Facebook.</span></span>
- [<span data-ttu-id="0e061-219">Tworzenie aplikacji ASP.NET MVC z uwierzytelnianiem i bazą danych SQL i wdrażanie w usłudze Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0e061-219">Create an ASP.NET MVC app with auth and SQL DB and deploy to Azure App Service</span></span>](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data)  
 <span data-ttu-id="0e061-220">W tym samouczku pokazano, jak dodać użytkowników i ról za pomocą interfejsu API tożsamości.</span><span class="sxs-lookup"><span data-stu-id="0e061-220">This tutorial shows how to use the Identity API to add users and roles.</span></span>
- [https://github.com/rustd/AspnetIdentitySample](https://github.com/rustd/AspnetIdentitySample)  
 <span data-ttu-id="0e061-221">Przykładowa aplikacja pokazuje, jak dodać podstawowe role i pomoc dla użytkowników i jak to zrobić, ról i zarządzanie użytkownikami.</span><span class="sxs-lookup"><span data-stu-id="0e061-221">Sample application that shows how to add basic roles and user support and how to do roles and user management.</span></span>
