---
uid: identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure
title: Najlepsze rozwiązania dotyczące wdrażania haseł i innych danych poufnych na platformie ASP.NET i usłudze Azure App Service | Dokumentacja firmy Microsoft
author: Rick-Anderson
description: Ten samouczek pokazuje, jak Twój kod może bezpieczne przechowywanie i dostęp do informacji poufnych. Najbardziej istotną kwestią jest, że nigdy nie przechowuj hasła lub inne dawcy...
ms.author: riande
ms.date: 05/21/2015
ms.assetid: 97902c66-cb61-4d11-be52-73f962f2db0a
msc.legacyurl: /identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure
msc.type: authoredcontent
ms.openlocfilehash: 8b5d6bf9fad72218341e4e0b90144da01abea3aa
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/01/2019
ms.locfileid: "57072710"
---
<a name="best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure-app-service"></a><span data-ttu-id="77da8-104">Najlepsze rozwiązania dotyczące wdrażania haseł i innych danych poufnych na platformie ASP.NET i w usłudze Azure App Service</span><span class="sxs-lookup"><span data-stu-id="77da8-104">Best practices for deploying passwords and other sensitive data to ASP.NET and Azure App Service</span></span>
====================
<span data-ttu-id="77da8-105">Przez [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="77da8-105">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> <span data-ttu-id="77da8-106">Ten samouczek pokazuje, jak Twój kod może bezpieczne przechowywanie i dostęp do informacji poufnych.</span><span class="sxs-lookup"><span data-stu-id="77da8-106">This tutorial shows how your code can securely store and access secure information.</span></span> <span data-ttu-id="77da8-107">Najważniejsze jest nigdy nie przechowuj haseł i innych poufnych danych w kodzie źródłowym i wpisów tajnych w środowisku produkcyjnym nie należy używać w trybie projektowania i testowania.</span><span class="sxs-lookup"><span data-stu-id="77da8-107">The most important point is you should never store passwords or other sensitive data in source code, and you shouldn't use production secrets in development and test mode.</span></span>
> 
> <span data-ttu-id="77da8-108">Przykładowy kod jest prosta aplikacja konsoli zadań WebJob i aplikacji ASP.NET MVC, która wymaga dostępu do bazy danych połączenia ciąg hasła, Twilio, serwis Google czy SendGrid kluczy zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="77da8-108">The sample code is a simple WebJob console app and a ASP.NET MVC app that needs access to a database connection string password, Twilio, Google and SendGrid secure keys.</span></span>
> 
> <span data-ttu-id="77da8-109">Lokalne ustawienia i PHP wymieniana jest także.</span><span class="sxs-lookup"><span data-stu-id="77da8-109">On premise settings and PHP is also mentioned.</span></span>


- [<span data-ttu-id="77da8-110">Przy użyciu haseł w środowisku programistycznym</span><span class="sxs-lookup"><span data-stu-id="77da8-110">Working with passwords in the development environment</span></span>](#pwd)
- [<span data-ttu-id="77da8-111">Praca z parametrów połączenia w środowisku programistycznym</span><span class="sxs-lookup"><span data-stu-id="77da8-111">Working with connection strings in the development environment</span></span>](#con)
- [<span data-ttu-id="77da8-112">Aplikacje konsoli zadań Webjob</span><span class="sxs-lookup"><span data-stu-id="77da8-112">WebJobs console apps</span></span>](#wj)
- [<span data-ttu-id="77da8-113">Wdrażanie kluczy tajnych na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="77da8-113">Deploying secrets to Azure</span></span>](#da)
- [<span data-ttu-id="77da8-114">Informacje o lokalnych i PHP</span><span class="sxs-lookup"><span data-stu-id="77da8-114">Notes for On-Premise and PHP</span></span>](#not)
- [<span data-ttu-id="77da8-115">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="77da8-115">Additional Resources</span></span>](#addRes)

<a id="pwd"></a>
## <a name="working-with-passwords-in-the-development-environment"></a><span data-ttu-id="77da8-116">Przy użyciu haseł w środowisku programistycznym</span><span class="sxs-lookup"><span data-stu-id="77da8-116">Working with passwords in the development environment</span></span>

<span data-ttu-id="77da8-117">W samouczkach pokazano często danych poufnych w kodzie źródłowym, miejmy nadzieję z ale należy pamiętać, że nigdy nie należy przechowywać poufnych danych w kodzie źródłowym.</span><span class="sxs-lookup"><span data-stu-id="77da8-117">Tutorials frequently show sensitive data in source code, hopefully with a caveat that you should never store sensitive data in source code.</span></span> <span data-ttu-id="77da8-118">Na przykład Moje [aplikacji ASP.NET MVC 5 za pomocą wiadomości SMS i wiadomości e-mail funkcji 2FA](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md) samouczek pokazuje, że w *web.config* pliku:</span><span class="sxs-lookup"><span data-stu-id="77da8-118">For example, my [ASP.NET MVC 5 app with SMS and email 2FA](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md) tutorial shows the following in the *web.config* file:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample1.xml)]

<span data-ttu-id="77da8-119">*Web.config* plik jest kod źródłowy, więc tych kluczy tajnych nigdy nie powinny być przechowywane w tym pliku.</span><span class="sxs-lookup"><span data-stu-id="77da8-119">The *web.config* file is source code, so these secrets should never be stored in that file.</span></span> <span data-ttu-id="77da8-120">Na szczęście `<appSettings>` element ma `file` atrybut, który pozwala na określenie zewnętrznego pliku, który zawiera ustawienia konfiguracji aplikacji poufnych.</span><span class="sxs-lookup"><span data-stu-id="77da8-120">Fortunately, the `<appSettings>` element has a `file` attribute that allows you to specify an external file that contains sensitive app config settings.</span></span> <span data-ttu-id="77da8-121">Można przenieść wszystkich wpisów tajnych do zewnętrznego pliku, tak długo, jak zewnętrzny plik nie zostanie zaznaczona w drzewie źródłowym.</span><span class="sxs-lookup"><span data-stu-id="77da8-121">You can move all your secrets to an external file as long as the external file is not checked into your source tree.</span></span> <span data-ttu-id="77da8-122">Na przykład w niej następujące znaczniki pliku *AppSettingsSecrets.config* zawiera wszystkie wpisy tajne aplikacji:</span><span class="sxs-lookup"><span data-stu-id="77da8-122">For example, in the following markup, the file *AppSettingsSecrets.config* contains all the app secrets:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample2.xml)]

<span data-ttu-id="77da8-123">Znaczniki w pliku zewnętrznym (*AppSettingsSecrets.config* w tym przykładzie), ten sam kod znaczników znajduje się w *web.config* pliku:</span><span class="sxs-lookup"><span data-stu-id="77da8-123">The markup in the external file (*AppSettingsSecrets.config* in this sample), is the same markup found in the *web.config* file:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample3.xml)]

<span data-ttu-id="77da8-124">Środowisko uruchomieniowe ASP.NET Scala zawartość pliku zewnętrznego ze znacznikami w &lt;appSettings&gt; elementu.</span><span class="sxs-lookup"><span data-stu-id="77da8-124">The ASP.NET runtime merges the contents of the external file with the markup in &lt;appSettings&gt; element.</span></span> <span data-ttu-id="77da8-125">Środowisko uruchomieniowe ignoruje atrybut pliku, jeśli nie można odnaleźć określonego pliku.</span><span class="sxs-lookup"><span data-stu-id="77da8-125">The runtime ignores the file attribute if the specified file cannot be found.</span></span>

> [!WARNING]
> <span data-ttu-id="77da8-126">Zabezpieczenia — nie należy dodawać swoje *.config wpisów tajnych* plik do projektu lub sprawdź go do kontroli źródła.</span><span class="sxs-lookup"><span data-stu-id="77da8-126">Security - Do not add your *secrets .config* file to your project or check it into source control.</span></span> <span data-ttu-id="77da8-127">Domyślnie program Visual Studio ustawia `Build Action` do `Content`, co oznacza, że plik jest wdrożony.</span><span class="sxs-lookup"><span data-stu-id="77da8-127">By default, Visual Studio sets the `Build Action` to `Content`, which means the file is deployed.</span></span> <span data-ttu-id="77da8-128">Aby uzyskać więcej informacji, zobacz [Dlaczego nie wszystkie pliki w folderze projektu wdrożony?](https://msdn.microsoft.com/library/ee942158(v=vs.110).aspx#can_i_exclude_specific_files_or_folders_from_deployment)</span><span class="sxs-lookup"><span data-stu-id="77da8-128">For more information see [Why don't all of the files in my project folder get deployed?](https://msdn.microsoft.com/library/ee942158(v=vs.110).aspx#can_i_exclude_specific_files_or_folders_from_deployment)</span></span> <span data-ttu-id="77da8-129">Chociaż można używać dowolnego rozszerzenia dla *.config wpisów tajnych* pliku, warto zachować *.config*, jak pliki konfiguracji nie są obsługiwane przez usługi IIS.</span><span class="sxs-lookup"><span data-stu-id="77da8-129">Although you can use any extension for the *secrets .config* file, it's best to keep it *.config*, as config files are not served by IIS.</span></span> <span data-ttu-id="77da8-130">Zauważ również, że *AppSettingsSecrets.config* plik znajduje się dwa poziomy katalogu w górę od *web.config* plików, dzięki czemu jest całkowicie poza katalog rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="77da8-130">Notice also that the *AppSettingsSecrets.config* file is two directory levels up from the *web.config* file, so it's completely out of the solution directory.</span></span> <span data-ttu-id="77da8-131">Dzięki przeniesieniu pliku poza katalog rozwiązania &quot;git Dodaj \* &quot; nie będzie dodać go do repozytorium.</span><span class="sxs-lookup"><span data-stu-id="77da8-131">By moving the file out of the solution directory, &quot;git add \*&quot; won't add it to your repository.</span></span>


<a id="con"></a>
## <a name="working-with-connection-strings-in-the-development-environment"></a><span data-ttu-id="77da8-132">Praca z parametrów połączenia w środowisku programistycznym</span><span class="sxs-lookup"><span data-stu-id="77da8-132">Working with connection strings in the development environment</span></span>

<span data-ttu-id="77da8-133">Program Visual Studio tworzy nowych projektach programu ASP.NET, które używają [LocalDB](https://blogs.msdn.com/b/sqlexpress/archive/2011/07/12/introducing-localdb-a-better-sql-express.aspx).</span><span class="sxs-lookup"><span data-stu-id="77da8-133">Visual Studio creates new ASP.NET projects that use [LocalDB](https://blogs.msdn.com/b/sqlexpress/archive/2011/07/12/introducing-localdb-a-better-sql-express.aspx).</span></span> <span data-ttu-id="77da8-134">LocalDB został utworzony specjalnie dla środowiska programistycznego.</span><span class="sxs-lookup"><span data-stu-id="77da8-134">LocalDB was created specifically for the development environment.</span></span> <span data-ttu-id="77da8-135">Nie wymaga hasła, więc nie trzeba nic robić, aby uniemożliwić wpisów tajnych sprawdzany w kodzie źródłowym.</span><span class="sxs-lookup"><span data-stu-id="77da8-135">It doesn't require a password, therefore you don't need to do anything to prevent secrets from being checked into your source code.</span></span> <span data-ttu-id="77da8-136">Niektóre zespoły deweloperów używanie pełnych wersji programu SQL Server (lub inne DBMS), wymagające hasła.</span><span class="sxs-lookup"><span data-stu-id="77da8-136">Some development teams use the full versions of SQL Server (or other DBMS) that require a password.</span></span>

<span data-ttu-id="77da8-137">Możesz użyć `configSource` atrybutu, aby zastąpić całą `<connectionStrings>` znaczników.</span><span class="sxs-lookup"><span data-stu-id="77da8-137">You can use the `configSource` attribute to replace the entire `<connectionStrings>` markup.</span></span> <span data-ttu-id="77da8-138">W odróżnieniu od `<appSettings>` `file` atrybut, który scala znaczników, `configSource` atrybut zastępuje znaczników.</span><span class="sxs-lookup"><span data-stu-id="77da8-138">Unlike the `<appSettings>` `file` attribute that merges the markup, the `configSource` attribute replaces the markup.</span></span> <span data-ttu-id="77da8-139">Ilustruje poniższy kod znaczników `configSource` atrybutu w *web.config* pliku:</span><span class="sxs-lookup"><span data-stu-id="77da8-139">The following markup shows the `configSource` attribute in the *web.config* file:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample4.xml?highlight=1)]

> [!NOTE]
> <span data-ttu-id="77da8-140">Jeśli używasz `configSource` atrybutu, jak pokazano powyżej, aby przenieść parametry połączenia do pliku zewnętrznego i program Visual Studio Utwórz nową witrynę sieci web, nie będzie mógł wykryć korzystania z bazy danych i nie będzie dostępna opcja konfigurowania bazy danych po użytkownik pu Publikuj na platformie Azure z programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="77da8-140">If you use the `configSource` attribute as shown above to move your connection strings to an external file, and have Visual Studio create a new web site, it won't be able to detect you are using a database, and you won't get the option of configuring the database when you publish to Azure from Visual Studio.</span></span> <span data-ttu-id="77da8-141">Jeśli używasz `configSource` atrybut, można użyć programu PowerShell do tworzenia i wdrażania witryn sieci web i bazy danych lub można utworzyć witryny sieci web i bazy danych w portalu usługi przed opublikowaniem.</span><span class="sxs-lookup"><span data-stu-id="77da8-141">If you are using the `configSource` attribute, you can use PowerShell to create and deploy your web site and database, or you can create the web site and the database in the portal before you publish.</span></span> <span data-ttu-id="77da8-142">[New AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) skrypt spowoduje utworzenie nowej witryny sieci web i bazy danych.</span><span class="sxs-lookup"><span data-stu-id="77da8-142">The [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) script will create a new web site and database.</span></span>


> [!WARNING]
> <span data-ttu-id="77da8-143">Zabezpieczenia — w przeciwieństwie do *AppSettingsSecrets.config* pliku, plik ciągów połączenia zewnętrznego musi być w tym samym katalogu głównym *web.config* plików, dlatego należy zachować środki ostrożności, aby zagwarantować, że nie zaznaczaj jej w repozytorium źródłowym.</span><span class="sxs-lookup"><span data-stu-id="77da8-143">Security - Unlike the *AppSettingsSecrets.config* file, the external connection strings file must be in the same directory as the root *web.config* file, so you'll have to take precautions to ensure you don't check it into your source repository.</span></span>


> [!NOTE]
> <span data-ttu-id="77da8-144">**Ostrzeżenie o zabezpieczeniach w pliku wpisów tajnych:** Najlepszym rozwiązaniem jest nieużywanie tajemnice produkcji w projektowania i testowania.</span><span class="sxs-lookup"><span data-stu-id="77da8-144">**Security Warning on secrets file:** A best practice is to not use production secrets in test and development.</span></span> <span data-ttu-id="77da8-145">Korzystanie z haseł produkcji w testowym lub deweloperskim przeciek tych kluczy tajnych.</span><span class="sxs-lookup"><span data-stu-id="77da8-145">Using production passwords in test or development leaks those secrets.</span></span>


<a id="wj"></a>
## <a name="webjobs-console-apps"></a><span data-ttu-id="77da8-146">Aplikacje konsoli zadań Webjob</span><span class="sxs-lookup"><span data-stu-id="77da8-146">WebJobs console apps</span></span>

<span data-ttu-id="77da8-147">*App.config* plik używany przez aplikację konsoli nie obsługuje ścieżek względnych, ale obsługuje ona ścieżek bezwzględnych.</span><span class="sxs-lookup"><span data-stu-id="77da8-147">The *app.config* file used by a console app doesn't support relative paths, but it does support absolute paths.</span></span> <span data-ttu-id="77da8-148">Klucze tajne wychodzenia z katalogu projektu, można użyć ścieżki bezwzględnej.</span><span class="sxs-lookup"><span data-stu-id="77da8-148">You can use an absolute path to move your secrets out of your project directory.</span></span> <span data-ttu-id="77da8-149">Poniższy kod przedstawia wpisów tajnych w *C:\secrets\AppSettingsSecrets.config* plików i innych poufnych danych w *app.config* pliku.</span><span class="sxs-lookup"><span data-stu-id="77da8-149">The following markup shows the secrets in the *C:\secrets\AppSettingsSecrets.config* file, and non sensitive data in the *app.config* file.</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample5.xml?highlight=2)]

<a id="da"></a>
## <a name="deploying-secrets-to-azure"></a><span data-ttu-id="77da8-150">Wdrażanie kluczy tajnych na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="77da8-150">Deploying secrets to Azure</span></span>

<span data-ttu-id="77da8-151">W przypadku wdrażania aplikacji sieci web na platformie Azure, *AppSettingsSecrets.config* pliku nie zostanie wdrożony (jest to zamierzone).</span><span class="sxs-lookup"><span data-stu-id="77da8-151">When you deploy your web app to Azure, the *AppSettingsSecrets.config* file won't be deployed (that's what you want).</span></span> <span data-ttu-id="77da8-152">Można przejść do [portalu zarządzania systemu Azure](https://azure.microsoft.com/services/management-portal/) i ustawić je ręcznie, aby to zrobić:</span><span class="sxs-lookup"><span data-stu-id="77da8-152">You could go to the [Azure Management Portal](https://azure.microsoft.com/services/management-portal/) and set them manually, to do that:</span></span>

1. <span data-ttu-id="77da8-153">Przejdź do [ https://portal.azure.com ](https://portal.azure.com)i zaloguj się przy użyciu swoich poświadczeń platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="77da8-153">Go to [https://portal.azure.com](https://portal.azure.com), and sign in with your Azure credentials.</span></span>
2. <span data-ttu-id="77da8-154">Kliknij przycisk **Przeglądaj &gt; aplikacji sieci Web**, następnie kliknij nazwę aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="77da8-154">Click **Browse &gt; Web Apps**, then click the name of your web app.</span></span>
3. <span data-ttu-id="77da8-155">Kliknij przycisk **wszystkie ustawienia &gt; ustawienia aplikacji**.</span><span class="sxs-lookup"><span data-stu-id="77da8-155">Click **All settings &gt; Application settings**.</span></span>

<span data-ttu-id="77da8-156">**Ustawienia aplikacji** i **parametry połączenia** wartości zastąpienie tych samych ustawień w *web.config* pliku.</span><span class="sxs-lookup"><span data-stu-id="77da8-156">The **app settings** and **connection string** values override the same settings in the *web.config* file.</span></span> <span data-ttu-id="77da8-157">W tym przykładzie firma Microsoft nie zostały wdrożone te ustawienia na platformie Azure, ale jeśli te klucze znajdowały się w *web.config* pliku, ustawienia wyświetlane w portalu pierwszeństwo.</span><span class="sxs-lookup"><span data-stu-id="77da8-157">In our example, we did not deploy these settings to Azure, but if these keys were in the *web.config* file, the settings shown on the portal would take precedence.</span></span>

<span data-ttu-id="77da8-158">Najlepszym rozwiązaniem jest wykonanie czynności opisanych [przepływ pracy DevOps](../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/automate-everything.md) i użyj [programu Azure PowerShell](https://azure.microsoft.com/documentation/articles/install-configure-powershell/) (lub innej platformy, takie jak [Chef](http://www.opscode.com/chef/) lub [Puppet](http://puppetlabs.com/puppet/what-is-puppet)) do Automatyzowanie, ustawienia te wartości na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="77da8-158">A best practice is to follow a [DevOps workflow](../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/automate-everything.md) and use [Azure PowerShell](https://azure.microsoft.com/documentation/articles/install-configure-powershell/) (or another framework such as [Chef](http://www.opscode.com/chef/) or [Puppet](http://puppetlabs.com/puppet/what-is-puppet)) to automate setting these values in Azure.</span></span> <span data-ttu-id="77da8-159">Poniższy skrypt programu PowerShell używa [CliXml eksportu](http://www.powershellcookbook.com/recipe/PukO/securely-store-credentials-on-disk) do wyeksportowania zaszyfrowane klucze tajne na dysku:</span><span class="sxs-lookup"><span data-stu-id="77da8-159">The following PowerShell script uses [Export-CliXml](http://www.powershellcookbook.com/recipe/PukO/securely-store-credentials-on-disk) to export the encrypted secrets to disk:</span></span>

[!code-powershell[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample6.ps1)]

<span data-ttu-id="77da8-160">W skrypcie powyżej "Name" jest nazwą klucza tajnego, takie jak "&quot;platformy FB\_AppSecret&quot; lub"TwitterSecret".</span><span class="sxs-lookup"><span data-stu-id="77da8-160">In the script above, ‘Name' is the name of the secret key, such as ‘&quot;FB\_AppSecret&quot; or "TwitterSecret".</span></span> <span data-ttu-id="77da8-161">Można wyświetlić pliku ".credential" utworzony przez skrypt w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="77da8-161">You can view the ".credential" file created by the script in your browser.</span></span> <span data-ttu-id="77da8-162">Poniższy fragment kodu sprawdza każdy z plików poświadczeń i ustawia wpisów tajnych aplikacji sieci web o nazwie:</span><span class="sxs-lookup"><span data-stu-id="77da8-162">The snippet below tests each of the credential files and sets the secrets for the named web app:</span></span>

[!code-powershell[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample7.ps1)]

> [!WARNING]
> <span data-ttu-id="77da8-163">Zabezpieczenia — nie dołączaj hasła lub inne wpisy tajne w skrypcie programu PowerShell, wykonując tak zaprzeczenie celem wdrażania poufnych danych przy użyciu skryptu programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="77da8-163">Security - Don't include passwords or other secrets in the PowerShell script, doing so defeats the purpose of using a PowerShell script to deploy sensitive data.</span></span> <span data-ttu-id="77da8-164">[Get-Credential](https://technet.microsoft.com/library/hh849815.aspx) polecenie cmdlet zapewnia mechanizm bezpiecznego można uzyskać hasło.</span><span class="sxs-lookup"><span data-stu-id="77da8-164">The [Get-Credential](https://technet.microsoft.com/library/hh849815.aspx) cmdlet provides a secure mechanism to obtain a password.</span></span> <span data-ttu-id="77da8-165">Przy użyciu wiersza interfejsu użytkownika może uniemożliwić przeciek hasła.</span><span class="sxs-lookup"><span data-stu-id="77da8-165">Using a UI prompt can prevent leaking a password.</span></span>


### <a name="deploying-db-connection-strings"></a><span data-ttu-id="77da8-166">Wdrażanie parametry połączenia bazy danych</span><span class="sxs-lookup"><span data-stu-id="77da8-166">Deploying DB connection strings</span></span>

<span data-ttu-id="77da8-167">Parametry połączenia bazy danych są obsługiwane podobnie do ustawień aplikacji.</span><span class="sxs-lookup"><span data-stu-id="77da8-167">DB connection strings are handled similarly to app settings.</span></span> <span data-ttu-id="77da8-168">W przypadku wdrożenia aplikacji sieci web w programie Visual Studio, parametry połączenia zostaną skonfigurowane dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="77da8-168">If you deploy your web app from Visual Studio, the connection string will be configured for you.</span></span> <span data-ttu-id="77da8-169">Można to sprawdzić, w portalu.</span><span class="sxs-lookup"><span data-stu-id="77da8-169">You can verify this in the portal.</span></span> <span data-ttu-id="77da8-170">Jest to zalecany sposób ustawimy parametry połączenia przy użyciu programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="77da8-170">The recommended way to set the connection string is with PowerShell.</span></span> <span data-ttu-id="77da8-171">Przykładowy skrypt programu PowerShell utworzy witryny sieci Web i bazy danych, a następnie ustawia parametry połączenia w witrynie sieci Web, Pobierz [New AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) z [biblioteki skryptów Azure](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span><span class="sxs-lookup"><span data-stu-id="77da8-171">For an example of a PowerShell script the creates a website and database and sets the connection string in the website, download [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) from the [Azure Script library](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span></span>

<a id="not"></a>
## <a name="notes-for-php"></a><span data-ttu-id="77da8-172">Informacje o języku PHP</span><span class="sxs-lookup"><span data-stu-id="77da8-172">Notes for PHP</span></span>

<span data-ttu-id="77da8-173">Ponieważ pary klucz wartość dla obu **ustawienia aplikacji** i **parametry połączenia** są przechowywane w zmiennych środowiskowych w usłudze Azure App Service deweloperów, którzy łatwo używać dowolnej może struktur (takich jak PHP) aplikacji sieci web Pobierz te wartości.</span><span class="sxs-lookup"><span data-stu-id="77da8-173">Since the key-value pairs for both **app settings** and **connection strings** are stored in environment variables on Azure App Service, developers that use any web app frameworks (such as PHP) can easily retrieve these values.</span></span> <span data-ttu-id="77da8-174">Zobacz Stefan Schackow [Windows Azure Web Sites: Jak aplikacja ciągi and Connection Strings Work](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/) wpis w blogu, zawierającym fragment PHP można odczytać ustawień aplikacji i parametry połączenia.</span><span class="sxs-lookup"><span data-stu-id="77da8-174">See Stefan Schackow's [Windows Azure Web Sites: How Application Strings and Connection Strings Work](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/) blog post which shows a PHP snippet to read app settings and connection strings.</span></span>

## <a name="notes-for-on-premises-servers"></a><span data-ttu-id="77da8-175">Informacje o serwerach lokalnych</span><span class="sxs-lookup"><span data-stu-id="77da8-175">Notes for on-premises servers</span></span>

<span data-ttu-id="77da8-176">Jeśli wdrażasz do serwerów sieci web w środowisku lokalnym, możesz pomóc bezpieczne wpisy tajne przy [szyfrowania sekcji konfiguracyjnych w pliku konfiguracji](https://msdn.microsoft.com/library/ff647398.aspx).</span><span class="sxs-lookup"><span data-stu-id="77da8-176">If you are deploying to on-premises web servers, you can help secure secrets by [encrypting the configuration sections of configuration files](https://msdn.microsoft.com/library/ff647398.aspx).</span></span> <span data-ttu-id="77da8-177">Jako alternatywę, można użyć tej samej metody, zalecane w przypadku usługi Azure Websites: Zachowaj ustawienia środowiska deweloperskiego w plikach konfiguracji i używać wartości zmiennych środowiskowych ustawień w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="77da8-177">As an alternative, you can use the same approach recommended for Azure Websites: keep development settings in configuration files, and use environment variable values for production settings.</span></span> <span data-ttu-id="77da8-178">W takim jednak trzeba napisać kod aplikacji dla funkcji, które odbywa się automatycznie w usłudze Azure Websites: pobrać ustawień ze zmiennych środowiskowych i użyć tych wartości zamiast ustawień pliku konfiguracji lub ustawień pliku konfiguracji podczas Nie znaleziono zmiennych środowiskowych.</span><span class="sxs-lookup"><span data-stu-id="77da8-178">In this case, however, you have to write application code for functionality that is automatic in Azure Websites: retrieve settings from environment variables and use those values in place of configuration file settings, or use configuration file settings when environment variables are not found.</span></span>

<a id="addRes"></a>
## <a name="additional-resources"></a><span data-ttu-id="77da8-179">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="77da8-179">Additional Resources</span></span>

<span data-ttu-id="77da8-180">Na przykład programu PowerShell skrypt, który tworzy aplikacja sieci web i bazy danych, ustawia parametry połączenia i ustawienia aplikacji, Pobierz [New AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) z [biblioteki skryptów Azure](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span><span class="sxs-lookup"><span data-stu-id="77da8-180">For an example of a PowerShell script that creates a web app + database, sets the connection string + app settings, download [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) from the [Azure Script library](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span></span> 

<span data-ttu-id="77da8-181">Zobacz Stefan Schackow [Windows Azure Web Sites: Sposób działania ciągów aplikacji i parametrów połączenia](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/)</span><span class="sxs-lookup"><span data-stu-id="77da8-181">See Stefan Schackow's [Windows Azure Web Sites: How Application Strings and Connection Strings Work](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/)</span></span>


<span data-ttu-id="77da8-182">Specjalne dzięki Barry Dorrans ( [ @blowdart ](https://twitter.com/blowdart) ) i Farre Carlos przeglądania.</span><span class="sxs-lookup"><span data-stu-id="77da8-182">Special thanks to Barry Dorrans ( [@blowdart](https://twitter.com/blowdart) ) and Carlos Farre for reviewing.</span></span>
