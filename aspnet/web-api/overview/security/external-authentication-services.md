---
uid: web-api/overview/security/external-authentication-services
title: Zewnętrznych usług uwierzytelniania przy użyciu interfejsu API sieci Web platformy ASP.NET (C#) | Dokumentacja firmy Microsoft
author: rmcmurray
description: W tym artykule opisano korzystanie z zewnętrznych usług uwierzytelniania w Web API platformy ASP.NET.
ms.author: riande
ms.date: 01/28/2019
ms.assetid: 3bb8eb15-b518-44f5-a67d-a27e051aedc6
msc.legacyurl: /web-api/overview/security/external-authentication-services
msc.type: authoredcontent
ms.openlocfilehash: b2571552a3f8040ff42bfa0a9fa48981f71a1e4b
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/06/2019
ms.locfileid: "65133570"
---
# <a name="external-authentication-services-with-aspnet-web-api-c"></a><span data-ttu-id="d6639-103">Zewnętrznych usług uwierzytelniania przy użyciu interfejsu API sieci Web platformy ASP.NET (C#)</span><span class="sxs-lookup"><span data-stu-id="d6639-103">External Authentication Services with ASP.NET Web API (C#)</span></span>

<span data-ttu-id="d6639-104">Visual Studio 2017 i platformy ASP.NET 4.7.2 Rozwiń opcje zabezpieczeń [aplikacje jednostronicowe](../../../single-page-application/index.md) (SPA) i [interfejsu API sieci Web](../../index.md) usługi w celu integracji z usługami uwierzytelniania zewnętrznego, które obejmują kilka Uwierzytelniania OAuth/OpenID i mediów społecznościowych usługi uwierzytelniania: Konta Microsoft, Twitter, Facebook i Google.</span><span class="sxs-lookup"><span data-stu-id="d6639-104">Visual Studio 2017 and ASP.NET 4.7.2 expand the security options for [Single Page Applications](../../../single-page-application/index.md) (SPA) and [Web API](../../index.md) services to integrate with external authentication services, which include several OAuth/OpenID and social media authentication services: Microsoft Accounts, Twitter, Facebook, and Google.</span></span>  

### <a name="in-this-walkthrough"></a><span data-ttu-id="d6639-105">W tym przewodniku</span><span class="sxs-lookup"><span data-stu-id="d6639-105">In this Walkthrough</span></span>

- [<span data-ttu-id="d6639-106">Za pomocą zewnętrznych usług uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="d6639-106">Using External Authentication Services</span></span>](#USING)
- [<span data-ttu-id="d6639-107">Tworzenie przykładowej aplikacji sieci Web</span><span class="sxs-lookup"><span data-stu-id="d6639-107">Creating the Sample Web Application</span></span>](#SAMPLE)
- [<span data-ttu-id="d6639-108">Włączanie uwierzytelniania serwisu Facebook</span><span class="sxs-lookup"><span data-stu-id="d6639-108">Enabling Facebook Authentication</span></span>](#FACEBOOK)
- [<span data-ttu-id="d6639-109">Włączanie uwierzytelniania serwisu Google</span><span class="sxs-lookup"><span data-stu-id="d6639-109">Enabling Google Authentication</span></span>](#GOOGLE)
- [<span data-ttu-id="d6639-110">Włączanie uwierzytelniania firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="d6639-110">Enabling Microsoft Authentication</span></span>](#MICROSOFT)
- [<span data-ttu-id="d6639-111">Włączanie uwierzytelniania usługi Twitter</span><span class="sxs-lookup"><span data-stu-id="d6639-111">Enabling Twitter Authentication</span></span>](#TWITTER)
- [<span data-ttu-id="d6639-112">Dodatkowe informacje</span><span class="sxs-lookup"><span data-stu-id="d6639-112">Additional Information</span></span>](#MOREINFO)

    - [<span data-ttu-id="d6639-113">Łączenie zewnętrznych usług uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="d6639-113">Combining External Authentication Services</span></span>](#COMBINE)
    - [<span data-ttu-id="d6639-114">Konfiguracja usług IIS Express do użycia w pełni kwalifikowaną nazwę domeny</span><span class="sxs-lookup"><span data-stu-id="d6639-114">Configuring IIS Express to use a Fully Qualified Domain Name</span></span>](#FQDN)
    - [<span data-ttu-id="d6639-115">Jak uzyskać ustawienia aplikacji dla uwierzytelniania firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="d6639-115">How to Obtain your Application Settings for Microsoft Authentication</span></span>](#OBTAIN)
    - [<span data-ttu-id="d6639-116">Opcjonalnie: Wyłącz lokalne rejestracji</span><span class="sxs-lookup"><span data-stu-id="d6639-116">Optional: Disable Local Registration</span></span>](#DISABLE)

### <a name="prerequisites"></a><span data-ttu-id="d6639-117">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="d6639-117">Prerequisites</span></span>

<span data-ttu-id="d6639-118">Aby skorzystać z przykładów w tym przewodniku, należy dysponować następującymi elementami:</span><span class="sxs-lookup"><span data-stu-id="d6639-118">To follow the examples in this walkthrough, you need to have the following:</span></span>

- <span data-ttu-id="d6639-119">Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="d6639-119">Visual Studio 2017</span></span>
- <span data-ttu-id="d6639-120">Konto dewelopera z identyfikatorem aplikacji i klucz tajny dla jednego z następujących usług uwierzytelniania mediów społecznościowych:</span><span class="sxs-lookup"><span data-stu-id="d6639-120">A developer account with the application identifier and secret key for one of the following social media authentication services:</span></span>

  - <span data-ttu-id="d6639-121">Konta Microsoft ([https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070))</span><span class="sxs-lookup"><span data-stu-id="d6639-121">Microsoft Accounts ([https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070))</span></span>
  - <span data-ttu-id="d6639-122">Twitter ([https://dev.twitter.com/](https://dev.twitter.com/))</span><span class="sxs-lookup"><span data-stu-id="d6639-122">Twitter ([https://dev.twitter.com/](https://dev.twitter.com/))</span></span>
  - <span data-ttu-id="d6639-123">Facebook ([https://developers.facebook.com/](https://developers.facebook.com/))</span><span class="sxs-lookup"><span data-stu-id="d6639-123">Facebook ([https://developers.facebook.com/](https://developers.facebook.com/))</span></span>
  - <span data-ttu-id="d6639-124">Google ([https://developers.google.com/](https://developers.google.com))</span><span class="sxs-lookup"><span data-stu-id="d6639-124">Google ([https://developers.google.com/](https://developers.google.com))</span></span>

<a id="USING"></a>
## <a name="using-external-authentication-services"></a><span data-ttu-id="d6639-125">Za pomocą zewnętrznych usług uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="d6639-125">Using External Authentication Services</span></span>

<span data-ttu-id="d6639-126">Wiele usług uwierzytelniania zewnętrznego, które są obecnie dostępne dla sieci web deweloperów pomoc, aby zmniejszyć rozwoju czas podczas tworzenia nowej aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="d6639-126">The abundance of external authentication services that are currently available to web developers help to reduce development time when creating new web applications.</span></span> <span data-ttu-id="d6639-127">Użytkownicy sieci Web zazwyczaj mają kilka istniejących kont usług sieci web popularnych i społecznościowych witryn sieci Web, w związku z tym gdy implementuje aplikacji sieci web, usług uwierzytelniania z zewnętrznej usługi sieci web lub witryny sieci Web w mediach społecznościowych, można zaoszczędzić czas opracowywania może zostać wykorzystana tworzenia implementację uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="d6639-127">Web users typically have several existing accounts for popular web services and social media websites, therefore when a web application implements the authentication services from an external web service or social media website, it saves the development time that would have been spent creating an authentication implementation.</span></span> <span data-ttu-id="d6639-128">Usługa uwierzytelniania zewnętrznego zapisuje użytkownikom końcowym, trzeba utworzyć nowe konto dla aplikacji sieci web, a także od trzeba pamiętać innej nazwy użytkownika i hasła.</span><span class="sxs-lookup"><span data-stu-id="d6639-128">Using an external authentication service saves end users from having to create another account for your web application, and also from having to remember another username and password.</span></span>

<span data-ttu-id="d6639-129">W przeszłości deweloperów dwie opcje: tworzenie zapewniali własną implementację uwierzytelniania lub informacje o sposobie integrowania usługi uwierzytelniania zewnętrznego w swoich aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="d6639-129">In the past, developers have had two choices: create their own authentication implementation, or learn how to integrate an external authentication service into their applications.</span></span> <span data-ttu-id="d6639-130">Na najbardziej podstawowym poziomie, na poniższym diagramie przedstawiono przepływ żądania prostego agenta użytkownika (przeglądarka sieci web), który żąda informacji z aplikacji sieci web, który jest skonfigurowany do używania usługi uwierzytelniania zewnętrznych:</span><span class="sxs-lookup"><span data-stu-id="d6639-130">At the most basic level, the following diagram illustrates a simple request flow for a user agent (web browser) that is requesting information from a web application that is configured to use an external authentication service:</span></span>

<span data-ttu-id="d6639-131">[![](external-authentication-services/_static/image2.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-131">[![](external-authentication-services/_static/image2.png "Click to Expand the Image")](external-authentication-services/_static/image1.png)</span></span>

<span data-ttu-id="d6639-132">Agent użytkownika (lub przeglądarki sieci web, w tym przykładzie) na powyższym diagramie, kieruje żądanie do aplikacji sieci web, który przekierowuje przeglądarki sieci web w usłudze uwierzytelniania zewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="d6639-132">In the preceding diagram, the user agent (or web browser in this example) makes a request to a web application, which redirects the web browser to an external authentication service.</span></span> <span data-ttu-id="d6639-133">Agent użytkownika wysyła swoje poświadczenia usługi uwierzytelniania zewnętrznego, i jeśli agent użytkownika o pomyślnym uwierzytelnieniu, usługę uwierzytelniania zewnętrznego przekieruje agenta użytkownika do oryginalnej aplikacji sieci web przy użyciu pewnego rodzaju token, który agent użytkownika będzie wysyłać do aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="d6639-133">The user agent sends its credentials to the external authentication service, and if the user agent has successfully authenticated, the external authentication service will redirect the user agent to the original web application with some form of token which the user agent will send to the web application.</span></span> <span data-ttu-id="d6639-134">Aplikacja sieci web użyje token Sprawdź, czy agent użytkownika został pomyślnie uwierzytelniony przez usługę uwierzytelniania zewnętrznego i aplikacji sieci web może zebrać więcej informacji na temat agenta użytkownika przy użyciu tokenu.</span><span class="sxs-lookup"><span data-stu-id="d6639-134">The web application will use the token to verify that the user agent has been successfully authenticated by the external authentication service, and the web application may use the token to gather more information about the user agent.</span></span> <span data-ttu-id="d6639-135">Po zakończeniu aplikacji przetwarzania informacji agenta użytkownika, aplikacja sieci web zwróci właściwą odpowiedź na podstawie jej ustawień autoryzacji przekazać agentowi użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d6639-135">Once the application is done processing the user agent's information, the web application will return the appropriate response to the user agent based on its authorization settings.</span></span>

<span data-ttu-id="d6639-136">W drugim przykładzie agent użytkownika negocjuje z serwera zewnętrznego autoryzacji i aplikacji sieci web i aplikacji sieci web wykonuje dodatkowej komunikacji z serwerem autoryzacji zewnętrzne, można pobrać dodatkowe informacje o użytkowniku Agent:</span><span class="sxs-lookup"><span data-stu-id="d6639-136">In this second example, the user agent negotiates with the web application and external authorization server, and the web application performs additional communication with the external authorization server to retrieve additional information about the user agent:</span></span>

<span data-ttu-id="d6639-137">[![](external-authentication-services/_static/image4.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-137">[![](external-authentication-services/_static/image4.png "Click to Expand the Image")](external-authentication-services/_static/image3.png)</span></span>

<span data-ttu-id="d6639-138">Visual Studio 2017 i platformy ASP.NET 4.7.2 ułatwienia integracji z zewnętrznych usług uwierzytelniania dla deweloperów, zapewniając wbudowane funkcje integracji dla następujących usług uwierzytelniania:</span><span class="sxs-lookup"><span data-stu-id="d6639-138">Visual Studio 2017 and ASP.NET 4.7.2 make integration with external authentication services easier for developers by providing built-in integration for the following authentication services:</span></span>

- <span data-ttu-id="d6639-139">Facebook</span><span class="sxs-lookup"><span data-stu-id="d6639-139">Facebook</span></span>
- <span data-ttu-id="d6639-140">Google</span><span class="sxs-lookup"><span data-stu-id="d6639-140">Google</span></span>
- <span data-ttu-id="d6639-141">Accounts firmy Microsoft (konta Windows Live ID)</span><span class="sxs-lookup"><span data-stu-id="d6639-141">Microsoft Accounts (Windows Live ID accounts)</span></span>
- <span data-ttu-id="d6639-142">Twitter</span><span class="sxs-lookup"><span data-stu-id="d6639-142">Twitter</span></span>

<span data-ttu-id="d6639-143">W przykładach w tym przewodniku pokazano, jak skonfigurować każdej z obsługiwanych zewnętrznych usług uwierzytelniania przy użyciu nowego szablonu aplikacji sieci Web ASP.NET, który jest dostarczany z programem Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="d6639-143">The examples in this walkthrough will demonstrate how to configure each of the supported external authentication services by using the new ASP.NET Web Application template that ships with Visual Studio 2017.</span></span>

> [!NOTE]
> <span data-ttu-id="d6639-144">Jeśli to konieczne, może być konieczne dodanie Twojej nazwy FQDN do ustawienia usługi uwierzytelniania zewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="d6639-144">If necessary, you may need to add your FQDN to the settings for your external authentication service.</span></span> <span data-ttu-id="d6639-145">Wymóg ten jest oparty na ograniczenia zabezpieczeń w przypadku niektórych usług uwierzytelniania zewnętrznego, które wymagają nazwy FQDN w ustawieniach aplikacji dopasować nazwę FQDN, który jest używany przez klientów.</span><span class="sxs-lookup"><span data-stu-id="d6639-145">This requirement is based on security constraints for some external authentication services which require the FQDN in your application settings to match the FQDN that is used by your clients.</span></span> <span data-ttu-id="d6639-146">(Kroki opisane w tym się znacznie różnić dla poszczególnych usług uwierzytelniania zewnętrznego, należy skontaktować się z dokumentacją poszczególnych usług uwierzytelniania zewnętrznego, aby zobaczyć, jeśli jest to wymagane i sposobie konfigurowania tych ustawień.) Jeśli potrzebujesz do skonfigurowania usług IIS Express do używania nazwy FQDN, w tym środowisku testowym, zobacz [konfigurowania usług IIS Express do użycia w pełni kwalifikowaną nazwę domeny](#FQDN) sekcję w dalszej części tego przewodnika.</span><span class="sxs-lookup"><span data-stu-id="d6639-146">(The steps for this will vary greatly for each external authentication service; you will need to consult the documentation for each external authentication service to see if this is required and how to configure these settings.) If you need to configure IIS Express to use an FQDN for testing this environment, see the [Configuring IIS Express to use a Fully Qualified Domain Name](#FQDN) section later in this walkthrough.</span></span>

<a id="SAMPLE"></a>
## <a name="create-a-sample-web-application"></a><span data-ttu-id="d6639-147">Tworzenie przykładowej aplikacji sieci Web</span><span class="sxs-lookup"><span data-stu-id="d6639-147">Create a Sample Web Application</span></span>

<span data-ttu-id="d6639-148">Poniższe kroki prowadzi przez proces tworzenia przykładowej aplikacji przy użyciu szablonu aplikacji sieci Web platformy ASP.NET i użyjesz tej przykładowej aplikacji dla poszczególnych usług uwierzytelniania zewnętrznego w dalszej części tego przewodnika.</span><span class="sxs-lookup"><span data-stu-id="d6639-148">The following steps will lead you through creating a sample application by using the ASP.NET Web Application template, and you will use this sample application for each of the external authentication services later in this walkthrough.</span></span>

<span data-ttu-id="d6639-149">Uruchom program Visual Studio 2017 i wybierz **nowy projekt** ze strony początkowej.</span><span class="sxs-lookup"><span data-stu-id="d6639-149">Start Visual Studio 2017 and select **New Project** from the Start page.</span></span> <span data-ttu-id="d6639-150">Możesz również z menu **Plik** wybrać pozycję **Nowy**, a następnie **Projekt**.</span><span class="sxs-lookup"><span data-stu-id="d6639-150">Or, from the **File** menu, select **New** and then **Project**.</span></span>

<!-- [![](external-authentication-services/_static/image6.png "Click to Expand the Image")](external-authentication-services/_static/image5.png) -->

<span data-ttu-id="d6639-151">Gdy **nowy projekt** zostanie wyświetlone okno dialogowe, wybierz **zainstalowane** i rozwiń **Visual C#** .</span><span class="sxs-lookup"><span data-stu-id="d6639-151">When the **New Project** dialog box is displayed, select **Installed** and expand **Visual C#**.</span></span> <span data-ttu-id="d6639-152">W obszarze **Visual C#**, wybierz pozycję **Sieć Web**.</span><span class="sxs-lookup"><span data-stu-id="d6639-152">Under **Visual C#**, select **Web**.</span></span> <span data-ttu-id="d6639-153">Na liście szablonów projektu wybierz **aplikacji sieci Web ASP.NET (.Net Framework)**.</span><span class="sxs-lookup"><span data-stu-id="d6639-153">In the list of project templates, select **ASP.NET Web Application (.Net Framework)**.</span></span> <span data-ttu-id="d6639-154">Wprowadź nazwę dla projektu, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="d6639-154">Enter a name for your project and click **OK**.</span></span>

<span data-ttu-id="d6639-155">[![](external-authentication-services/_static/image71.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image71.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-155">[![](external-authentication-services/_static/image71.png "Click to Expand the Image")](external-authentication-services/_static/image71.png)</span></span>

<span data-ttu-id="d6639-156">Gdy **nowy projekt ASP.NET** jest wyświetlany, wybierz opcję **aplikacji jednostronicowej** szablon i kliknij przycisk **Tworzenie projektu**.</span><span class="sxs-lookup"><span data-stu-id="d6639-156">When the **New ASP.NET Project** is displayed, select the **Single Page Application** template and click **Create Project**.</span></span>

<span data-ttu-id="d6639-157">[![](external-authentication-services/_static/image72.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image72.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-157">[![](external-authentication-services/_static/image72.png "Click to Expand the Image")](external-authentication-services/_static/image72.png)</span></span>

<span data-ttu-id="d6639-158">Poczekaj co program Visual Studio 2017 powoduje utworzenie projektu.</span><span class="sxs-lookup"><span data-stu-id="d6639-158">Wait as Visual Studio 2017 creates your project.</span></span>

<!-- [![](external-authentication-services/_static/image12.png "Click to Expand the Image")](external-authentication-services/_static/image11.png) -->

<span data-ttu-id="d6639-159">Po zakończeniu programu Visual Studio 2017 podczas tworzenia projektu, otwórz *Startup.Auth.cs* pliku, który znajduje się w **aplikacji\_Start** folderu.</span><span class="sxs-lookup"><span data-stu-id="d6639-159">When Visual Studio 2017 has finished creating your project, open the *Startup.Auth.cs* file that is located in the **App\_Start** folder.</span></span>

<span data-ttu-id="d6639-160">Po utworzeniu projektu Brak zewnętrznych usług uwierzytelniania są włączone w *Startup.Auth.cs* pliku; poniższy rysunek ilustruje, co może wyglądać w kodzie, z sekcjami wyróżniony, gdzie zostanie włączone Usługa uwierzytelniania zewnętrznego i wszelkie odpowiednie ustawienia, aby można było używać uwierzytelniania Accounts firmy Microsoft, Twitter, Facebook lub Google przy użyciu aplikacji ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="d6639-160">When you first create the project, none of the external authentication services are enabled in *Startup.Auth.cs* file; the following illustrates what your code might resemble, with the sections highlighted for where you would enable an external authentication service and any relevant settings in order to use Microsoft Accounts, Twitter, Facebook, or Google authentication with your ASP.NET application:</span></span>

[!code-csharp[Main](external-authentication-services/samples/sample1.cs)]

<span data-ttu-id="d6639-161">Po naciśnięciu klawisza F5, aby kompilować i debugować aplikację sieci web, wyświetli ekran logowania, gdzie zobaczysz, że nie zdefiniowano żadnych zewnętrznych usług uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="d6639-161">When you press F5 to build and debug your web application, it will display a login screen where you will see that no external authentication services have been defined.</span></span>

<span data-ttu-id="d6639-162">[![](external-authentication-services/_static/image73.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image73.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-162">[![](external-authentication-services/_static/image73.png "Click to Expand the Image")](external-authentication-services/_static/image73.png)</span></span>

<span data-ttu-id="d6639-163">W poniższych sekcjach dowiesz się, jak włączyć każdą z tych usług uwierzytelniania zewnętrznego, które są dostarczane za pomocą platformy ASP.NET w programie Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="d6639-163">In the following sections, you will learn how to enable each of the external authentication services that are provided with ASP.NET in Visual Studio 2017.</span></span>

<a id="FACEBOOK"></a>
## <a name="enabling-facebook-authentication"></a><span data-ttu-id="d6639-164">Włączanie uwierzytelniania serwisu Facebook</span><span class="sxs-lookup"><span data-stu-id="d6639-164">Enabling Facebook authentication</span></span>

<span data-ttu-id="d6639-165">Za pomocą usługi Facebook uwierzytelnianie wymaga utworzenia konta dewelopera usługi Facebook, a projekt będzie wymagać Identyfikatora aplikacji i klucza tajnego z usługi Facebook aby funkcjonować.</span><span class="sxs-lookup"><span data-stu-id="d6639-165">Using Facebook authentication requires you to create a Facebook developer account, and your project will require an application ID and secret key from Facebook in order to function.</span></span> <span data-ttu-id="d6639-166">Aby uzyskać informacje o tworzeniu konta dla deweloperów w usłudze Facebook i uzyskania Twojej aplikacji, identyfikator i klucz tajny, zobacz [ https://go.microsoft.com/fwlink/?LinkID=252166 ](https://go.microsoft.com/fwlink/?LinkID=252166).</span><span class="sxs-lookup"><span data-stu-id="d6639-166">For information about creating a Facebook developer account and obtaining your application ID and secret key, see [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span></span>

<span data-ttu-id="d6639-167">Po uzyskaniu swojego Identyfikatora aplikacji i klucz tajny, wykonaj następujące kroki, aby włączyć uwierzytelnianie serwisu Facebook dla aplikacji sieci web:</span><span class="sxs-lookup"><span data-stu-id="d6639-167">Once you have obtained your application ID and secret key, use the following steps to enable Facebook authentication for your web application:</span></span>

1. <span data-ttu-id="d6639-168">Gdy projekt jest otwarty w programie Visual Studio 2017, otwórz *Startup.Auth.cs* pliku.</span><span class="sxs-lookup"><span data-stu-id="d6639-168">When your project is open in Visual Studio 2017, open the *Startup.Auth.cs* file.</span></span>

2. <span data-ttu-id="d6639-169">Zlokalizuj sekcję uwierzytelniania serwisu Facebook kodu:</span><span class="sxs-lookup"><span data-stu-id="d6639-169">Locate the Facebook authentication section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample2.cs)]
3. <span data-ttu-id="d6639-170">Usuń &quot; // &quot; znaków, usuń znaczniki komentarza wyróżnione wiersze kodu, a następnie dodaj swojego Identyfikatora aplikacji i klucz tajny.</span><span class="sxs-lookup"><span data-stu-id="d6639-170">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your application ID and secret key.</span></span> <span data-ttu-id="d6639-171">Po dodaniu tych parametrów można ponownie skompilować projekt:</span><span class="sxs-lookup"><span data-stu-id="d6639-171">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample3.cs)]
4. <span data-ttu-id="d6639-172">Po naciśnięciu klawisza F5, aby otworzyć aplikację sieci web w przeglądarce sieci web, pojawią się, że usługi Facebook został zdefiniowany jako usługi uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="d6639-172">When you press F5 to open your web application in your web browser, you will see that Facebook has been defined as an external authentication service:</span></span>

    <span data-ttu-id="d6639-173">[![](external-authentication-services/_static/image74.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image74.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-173">[![](external-authentication-services/_static/image74.png "Click to Expand the Image")](external-authentication-services/_static/image74.png)</span></span>
5. <span data-ttu-id="d6639-174">Po kliknięciu **Facebook** przycisku przeglądarki nastąpi przekierowanie do strony logowania usługi Facebook:</span><span class="sxs-lookup"><span data-stu-id="d6639-174">When you click the **Facebook** button, your browser will be redirected to the Facebook login page:</span></span>

    <span data-ttu-id="d6639-175">[![](external-authentication-services/_static/image22.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-175">[![](external-authentication-services/_static/image22.png "Click to Expand the Image")](external-authentication-services/_static/image21.png)</span></span>
6. <span data-ttu-id="d6639-176">Po wprowadź swoje poświadczenia usługi Facebook i kliknij przycisk **Zaloguj się**, przeglądarki sieci web zostanie przekierowany ponownie do aplikacji sieci web, która wyświetli monit o **nazwy użytkownika** , którą chcesz skojarzyć z usługi Konta w serwisie Facebook:</span><span class="sxs-lookup"><span data-stu-id="d6639-176">After you enter your Facebook credentials and click **Log in**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Facebook account:</span></span>

    <span data-ttu-id="d6639-177">[![](external-authentication-services/_static/image24.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-177">[![](external-authentication-services/_static/image24.png "Click to Expand the Image")](external-authentication-services/_static/image23.png)</span></span>
7. <span data-ttu-id="d6639-178">Po wprowadzeniu nazwy użytkownika i kliknięciu **Zarejestruj** przycisku aplikacji sieci web zostanie wyświetlona domyślna **strony głównej** dla Twojego konta serwisu Facebook:</span><span class="sxs-lookup"><span data-stu-id="d6639-178">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Facebook account:</span></span>

    <span data-ttu-id="d6639-179">[![](external-authentication-services/_static/image26.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-179">[![](external-authentication-services/_static/image26.png "Click to Expand the Image")](external-authentication-services/_static/image25.png)</span></span>

<a id="GOOGLE"></a>
## <a name="enabling-google-authentication"></a><span data-ttu-id="d6639-180">Włączanie uwierzytelniania serwisu Google</span><span class="sxs-lookup"><span data-stu-id="d6639-180">Enabling Google Authentication</span></span>

<span data-ttu-id="d6639-181">Za pomocą Google uwierzytelniania, musisz utworzyć konto dewelopera Google, a projekt będzie wymagać Identyfikatora aplikacji i klucza tajnego z usługi Google aby funkcjonować.</span><span class="sxs-lookup"><span data-stu-id="d6639-181">Using Google authentication requires you to create a Google developer account, and your project will require an application ID and secret key from Google in order to function.</span></span> <span data-ttu-id="d6639-182">Aby uzyskać informacje o tworzeniu konta dewelopera Google i uzyskania Twojej aplikacji, identyfikator i klucz tajny, zobacz [ https://developers.google.com ](https://developers.google.com).</span><span class="sxs-lookup"><span data-stu-id="d6639-182">For information about creating a Google developer account and obtaining your application ID and secret key, see [https://developers.google.com](https://developers.google.com).</span></span>

<span data-ttu-id="d6639-183">Aby włączyć uwierzytelnianie serwisu Google dla aplikacji sieci web, użyj następujących kroków:</span><span class="sxs-lookup"><span data-stu-id="d6639-183">To enable Google authentication for your web application, use the following steps:</span></span>

1. <span data-ttu-id="d6639-184">Gdy projekt jest otwarty w programie Visual Studio 2017, otwórz *Startup.Auth.cs* pliku.</span><span class="sxs-lookup"><span data-stu-id="d6639-184">When your project is open in Visual Studio 2017, open the *Startup.Auth.cs* file.</span></span>

2. <span data-ttu-id="d6639-185">Zlokalizuj sekcję uwierzytelniania Google kodu:</span><span class="sxs-lookup"><span data-stu-id="d6639-185">Locate the Google authentication section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample4.cs)]
3. <span data-ttu-id="d6639-186">Usuń &quot; // &quot; znaków, usuń znaczniki komentarza wyróżnione wiersze kodu, a następnie dodaj swojego Identyfikatora aplikacji i klucz tajny.</span><span class="sxs-lookup"><span data-stu-id="d6639-186">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your application ID and secret key.</span></span> <span data-ttu-id="d6639-187">Po dodaniu tych parametrów można ponownie skompilować projekt:</span><span class="sxs-lookup"><span data-stu-id="d6639-187">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample5.cs)]
4. <span data-ttu-id="d6639-188">Po naciśnięciu klawisza F5, aby otworzyć aplikację sieci web w przeglądarce sieci web, zobaczysz, że Google został zdefiniowany jako usługi uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="d6639-188">When you press F5 to open your web application in your web browser, you will see that Google has been defined as an external authentication service:</span></span>

    <span data-ttu-id="d6639-189">[![](external-authentication-services/_static/image75.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image75.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-189">[![](external-authentication-services/_static/image75.png "Click to Expand the Image")](external-authentication-services/_static/image75.png)</span></span>
5. <span data-ttu-id="d6639-190">Po kliknięciu **Google** przycisku przeglądarki nastąpi przekierowanie do strony logowania Google:</span><span class="sxs-lookup"><span data-stu-id="d6639-190">When you click the **Google** button, your browser will be redirected to the Google login page:</span></span>

    <span data-ttu-id="d6639-191">[![](external-authentication-services/_static/image32.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-191">[![](external-authentication-services/_static/image32.png "Click to Expand the Image")](external-authentication-services/_static/image31.png)</span></span>
6. <span data-ttu-id="d6639-192">Po wprowadzeniu poświadczeń Google i kliknięciu **Zaloguj**, Google zostanie wyświetlony monit, aby sprawdzić, czy aplikacja sieci web ma uprawnienia dostępu do konta Google:</span><span class="sxs-lookup"><span data-stu-id="d6639-192">After you enter your Google credentials and click **Sign in**, Google will prompt you to verify that your web application has permissions to access your Google account:</span></span>

    <span data-ttu-id="d6639-193">[![](external-authentication-services/_static/image34.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-193">[![](external-authentication-services/_static/image34.png "Click to Expand the Image")](external-authentication-services/_static/image33.png)</span></span>
7. <span data-ttu-id="d6639-194">Po kliknięciu **Akceptuj**, nastąpi przekierowanie przeglądarki sieci web do aplikacji sieci web, która wyświetli monit o **nazwy użytkownika** , którą chcesz skojarzyć ze swoim kontem Google:</span><span class="sxs-lookup"><span data-stu-id="d6639-194">When you click **Accept**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Google account:</span></span>

    <span data-ttu-id="d6639-195">[![](external-authentication-services/_static/image36.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-195">[![](external-authentication-services/_static/image36.png "Click to Expand the Image")](external-authentication-services/_static/image35.png)</span></span>
8. <span data-ttu-id="d6639-196">Po wprowadzeniu nazwy użytkownika i kliknięciu **Zarejestruj** przycisku aplikacji sieci web zostanie wyświetlona domyślna **strony głównej** dla swojego konta Google:</span><span class="sxs-lookup"><span data-stu-id="d6639-196">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Google account:</span></span>

    <span data-ttu-id="d6639-197">[![](external-authentication-services/_static/image38.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-197">[![](external-authentication-services/_static/image38.png "Click to Expand the Image")](external-authentication-services/_static/image37.png)</span></span>

<a id="MICROSOFT"></a>
## <a name="enabling-microsoft-authentication"></a><span data-ttu-id="d6639-198">Włączanie uwierzytelniania firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="d6639-198">Enabling Microsoft Authentication</span></span>

<span data-ttu-id="d6639-199">Uwierzytelnianie firmy Microsoft wymaga utworzenia konta dewelopera i aby funkcjonować wymaga Identyfikatora klienta oraz klucz tajny klienta.</span><span class="sxs-lookup"><span data-stu-id="d6639-199">Microsoft authentication requires you to create a developer account, and it requires a client ID and client secret in order to function.</span></span> <span data-ttu-id="d6639-200">Aby uzyskać informacje o tworzeniu konta dewelopera Microsoft i uzyskiwanie swojego Identyfikatora klienta i klucz tajny klienta, zobacz [ https://go.microsoft.com/fwlink/?LinkID=144070 ](https://go.microsoft.com/fwlink/?LinkID=144070).</span><span class="sxs-lookup"><span data-stu-id="d6639-200">For information about creating a Microsoft developer account and obtaining your client ID and client secret, see [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070).</span></span>

<span data-ttu-id="d6639-201">Po uzyskaniu usługi konsumenta oraz klucz tajny klienta, wykonaj następujące kroki, aby włączyć uwierzytelnianie firmy Microsoft dla aplikacji sieci web:</span><span class="sxs-lookup"><span data-stu-id="d6639-201">Once you have obtained your consumer key and consumer secret, use the following steps to enable Microsoft authentication for your web application:</span></span>

1. <span data-ttu-id="d6639-202">Gdy projekt jest otwarty w programie Visual Studio 2017, otwórz *Startup.Auth.cs* pliku.</span><span class="sxs-lookup"><span data-stu-id="d6639-202">When your project is open in Visual Studio 2017, open the *Startup.Auth.cs* file.</span></span>

2. <span data-ttu-id="d6639-203">Zlokalizuj sekcję uwierzytelniania firmy Microsoft kodu:</span><span class="sxs-lookup"><span data-stu-id="d6639-203">Locate the Microsoft authentication section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample6.cs)]
3. <span data-ttu-id="d6639-204">Usuń &quot; // &quot; znaków, usuń znaczniki komentarza wyróżnione wiersze kodu, a następnie dodaj swój identyfikator klienta i klucz tajny klienta.</span><span class="sxs-lookup"><span data-stu-id="d6639-204">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your client ID and client secret.</span></span> <span data-ttu-id="d6639-205">Po dodaniu tych parametrów można ponownie skompilować projekt:</span><span class="sxs-lookup"><span data-stu-id="d6639-205">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample7.cs)]
4. <span data-ttu-id="d6639-206">Po naciśnięciu klawisza F5, aby otworzyć aplikację sieci web w przeglądarce sieci web, zobaczysz, że Microsoft został zdefiniowany jako usługi uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="d6639-206">When you press F5 to open your web application in your web browser, you will see that Microsoft has been defined as an external authentication service:</span></span>

    <span data-ttu-id="d6639-207">[![](external-authentication-services/_static/image42.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-207">[![](external-authentication-services/_static/image42.png "Click to Expand the Image")](external-authentication-services/_static/image41.png)</span></span>
5. <span data-ttu-id="d6639-208">Po kliknięciu **Microsoft** przycisku przeglądarki nastąpi przekierowanie do strony logowania firmy Microsoft:</span><span class="sxs-lookup"><span data-stu-id="d6639-208">When you click the **Microsoft** button, your browser will be redirected to the Microsoft login page:</span></span>

    <span data-ttu-id="d6639-209">[![](external-authentication-services/_static/image44.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-209">[![](external-authentication-services/_static/image44.png "Click to Expand the Image")](external-authentication-services/_static/image43.png)</span></span>
6. <span data-ttu-id="d6639-210">Po wprowadzeniu poświadczeń firmy Microsoft i kliknij przycisk **Zaloguj**, zostanie wyświetlony monit, aby sprawdzić, czy aplikacja sieci web ma uprawnienia dostępu do Twojego konta Microsoft:</span><span class="sxs-lookup"><span data-stu-id="d6639-210">After you enter your Microsoft credentials and click **Sign in**, you will be prompted to verify that your web application has permissions to access your Microsoft account:</span></span>

    <span data-ttu-id="d6639-211">[![](external-authentication-services/_static/image46.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-211">[![](external-authentication-services/_static/image46.png "Click to Expand the Image")](external-authentication-services/_static/image45.png)</span></span>
7. <span data-ttu-id="d6639-212">Po kliknięciu **tak**, nastąpi przekierowanie przeglądarki sieci web do aplikacji sieci web, która wyświetli monit o **nazwy użytkownika** , którą chcesz skojarzyć z kontem Microsoft:</span><span class="sxs-lookup"><span data-stu-id="d6639-212">When you click **Yes**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Microsoft account:</span></span>

    <span data-ttu-id="d6639-213">[![](external-authentication-services/_static/image48.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-213">[![](external-authentication-services/_static/image48.png "Click to Expand the Image")](external-authentication-services/_static/image47.png)</span></span>
8. <span data-ttu-id="d6639-214">Po wprowadzeniu nazwy użytkownika i kliknięciu **Zarejestruj** przycisku aplikacji sieci web zostanie wyświetlona domyślna **strona główna** do swojego konta Microsoft:</span><span class="sxs-lookup"><span data-stu-id="d6639-214">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Microsoft account:</span></span>

    <span data-ttu-id="d6639-215">[![](external-authentication-services/_static/image50.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-215">[![](external-authentication-services/_static/image50.png "Click to Expand the Image")](external-authentication-services/_static/image49.png)</span></span>

<a id="TWITTER"></a>
## <a name="enabling-twitter-authentication"></a><span data-ttu-id="d6639-216">Włączanie uwierzytelniania usługi Twitter</span><span class="sxs-lookup"><span data-stu-id="d6639-216">Enabling Twitter Authentication</span></span>

<span data-ttu-id="d6639-217">W usłudze Twitter uwierzytelniania, musisz utworzyć konto dewelopera i aby funkcjonować wymaga klucza klienta i klucz tajny klienta.</span><span class="sxs-lookup"><span data-stu-id="d6639-217">Twitter authentication requires you to create a developer account, and it requires a consumer key and consumer secret in order to function.</span></span> <span data-ttu-id="d6639-218">Aby uzyskać informacje o tworzeniu konta dla deweloperów w usłudze Twitter i uzyskiwanie Twojego klucza klienta i klucz tajny klienta, zobacz [ https://go.microsoft.com/fwlink/?LinkID=252166 ](https://go.microsoft.com/fwlink/?LinkID=252166).</span><span class="sxs-lookup"><span data-stu-id="d6639-218">For information about creating a Twitter developer account and obtaining your consumer key and consumer secret, see [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span></span>

<span data-ttu-id="d6639-219">Po uzyskaniu usługi konsumenta oraz klucz tajny klienta, wykonaj następujące kroki, aby włączyć uwierzytelnianie usługi Twitter dla aplikacji sieci web:</span><span class="sxs-lookup"><span data-stu-id="d6639-219">Once you have obtained your consumer key and consumer secret, use the following steps to enable Twitter authentication for your web application:</span></span>

1. <span data-ttu-id="d6639-220">Gdy projekt jest otwarty w programie Visual Studio 2017, otwórz *Startup.Auth.cs* pliku.</span><span class="sxs-lookup"><span data-stu-id="d6639-220">When your project is open in Visual Studio 2017, open the *Startup.Auth.cs* file.</span></span>

2. <span data-ttu-id="d6639-221">Zlokalizuj sekcję uwierzytelniania usługi Twitter kodu:</span><span class="sxs-lookup"><span data-stu-id="d6639-221">Locate the Twitter authentication section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample8.cs)]
3. <span data-ttu-id="d6639-222">Usuń &quot; // &quot; znaków usuń znaczniki komentarza wyróżnione wiersze kodu, a następnie dodaj klucz klienta i klucz tajny klienta.</span><span class="sxs-lookup"><span data-stu-id="d6639-222">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your consumer key and consumer secret.</span></span> <span data-ttu-id="d6639-223">Po dodaniu tych parametrów można ponownie skompilować projekt:</span><span class="sxs-lookup"><span data-stu-id="d6639-223">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample9.cs)]
4. <span data-ttu-id="d6639-224">Po naciśnięciu klawisza F5, aby otworzyć aplikację sieci web w przeglądarce sieci web, zobaczysz, że Twitter został zdefiniowany jako usługi uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="d6639-224">When you press F5 to open your web application in your web browser, you will see that Twitter has been defined as an external authentication service:</span></span>

    <span data-ttu-id="d6639-225">[![](external-authentication-services/_static/image54.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image53.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-225">[![](external-authentication-services/_static/image54.png "Click to Expand the Image")](external-authentication-services/_static/image53.png)</span></span>
5. <span data-ttu-id="d6639-226">Po kliknięciu **Twitter** przycisku przeglądarki nastąpi przekierowanie do strony logowania usługi Twitter:</span><span class="sxs-lookup"><span data-stu-id="d6639-226">When you click the **Twitter** button, your browser will be redirected to the Twitter login page:</span></span>

    <span data-ttu-id="d6639-227">[![](external-authentication-services/_static/image56.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-227">[![](external-authentication-services/_static/image56.png "Click to Expand the Image")](external-authentication-services/_static/image55.png)</span></span>
6. <span data-ttu-id="d6639-228">Po wprowadź swoje poświadczenia usługi Twitter i kliknij przycisk **Autoryzuj aplikację**, przeglądarki sieci web zostanie przekierowany ponownie do aplikacji sieci web, która wyświetli monit o **nazwa_użytkownika** , którą chcesz skojarzyć z Twoje konto w usłudze Twitter:</span><span class="sxs-lookup"><span data-stu-id="d6639-228">After you enter your Twitter credentials and click **Authorize app**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Twitter account:</span></span>

    <span data-ttu-id="d6639-229">[![](external-authentication-services/_static/image58.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-229">[![](external-authentication-services/_static/image58.png "Click to Expand the Image")](external-authentication-services/_static/image57.png)</span></span>
7. <span data-ttu-id="d6639-230">Po wprowadzeniu nazwy użytkownika i kliknięciu **Zarejestruj** przycisku aplikacji sieci web zostanie wyświetlona domyślna **strony głównej** dla konta usługi Twitter:</span><span class="sxs-lookup"><span data-stu-id="d6639-230">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Twitter account:</span></span>

    <span data-ttu-id="d6639-231">[![](external-authentication-services/_static/image60.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image59.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-231">[![](external-authentication-services/_static/image60.png "Click to Expand the Image")](external-authentication-services/_static/image59.png)</span></span>

<a id="MOREINFO"></a>
## <a name="additional-information"></a><span data-ttu-id="d6639-232">Dodatkowe informacje</span><span class="sxs-lookup"><span data-stu-id="d6639-232">Additional Information</span></span>

<span data-ttu-id="d6639-233">Aby uzyskać dodatkowe informacje na temat tworzenia aplikacji, które używają protokołu OAuth i OpenID zobacz następujące adresy URL:</span><span class="sxs-lookup"><span data-stu-id="d6639-233">For additional information about creating applications that use OAuth and OpenID, see the following URLs:</span></span>

- [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166)
- [https://go.microsoft.com/fwlink/?LinkID=243995](https://go.microsoft.com/fwlink/?LinkID=243995)

<a id="COMBINE"></a>
### <a name="combining-external-authentication-services"></a><span data-ttu-id="d6639-234">Łączenie zewnętrznych usług uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="d6639-234">Combining External Authentication Services</span></span>

<span data-ttu-id="d6639-235">Aby uzyskać większą elastyczność można zdefiniować wiele usług uwierzytelniania zewnętrznego, w tym samym czasie — dzięki temu usługi sieci web do użytkowników aplikacji użyć konta z dowolnej z usług jest włączone uwierzytelnianie zewnętrzne:</span><span class="sxs-lookup"><span data-stu-id="d6639-235">For greater flexibility, you can define multiple external authentication services at the same time - this allows your web application's users to use an account from any of the enabled external authentication services:</span></span>

<span data-ttu-id="d6639-236">[![](external-authentication-services/_static/image62.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-236">[![](external-authentication-services/_static/image62.png "Click to Expand the Image")](external-authentication-services/_static/image61.png)</span></span>

<a id="FQDN"></a>
### <a name="configure-iis-express-to-use-a-fully-qualified-domain-name"></a><span data-ttu-id="d6639-237">Konfigurowanie usług IIS Express do użycia w pełni kwalifikowanej nazwy domeny</span><span class="sxs-lookup"><span data-stu-id="d6639-237">Configure IIS Express to use a fully qualified domain name</span></span>

<span data-ttu-id="d6639-238">Niektórzy dostawcy uwierzytelniania zewnętrznego nie obsługują testowanie aplikacji przy użyciu adresu protokołu HTTP, takich jak `http://localhost:port/`.</span><span class="sxs-lookup"><span data-stu-id="d6639-238">Some external authentication providers do not support testing your application by using an HTTP address like `http://localhost:port/`.</span></span> <span data-ttu-id="d6639-239">Aby obejść ten problem, można dodać mapowanie statyczne, które w pełni kwalifikowanej domeny nazwę (FQDN) Twojego pliku HOSTS i skonfigurować opcje projektu w programie Visual Studio 2017 na potrzeby testowania/debugowanie nazwę FQDN.</span><span class="sxs-lookup"><span data-stu-id="d6639-239">To work around this issue, you can add a static Fully Qualified Domain Name (FQDN) mapping to your HOSTS file and configure your project options in Visual Studio 2017 to use the FQDN for testing/debugging.</span></span> <span data-ttu-id="d6639-240">Aby to zrobić, wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="d6639-240">To do so, use the following steps:</span></span>

- <span data-ttu-id="d6639-241">Dodaj nazwę FQDN statyczne mapowania pliku hostów:</span><span class="sxs-lookup"><span data-stu-id="d6639-241">Add a static FQDN mapping your HOSTS file:</span></span>

  1. <span data-ttu-id="d6639-242">Otwórz wiersz polecenia z podwyższonym w Windows.</span><span class="sxs-lookup"><span data-stu-id="d6639-242">Open an elevated command prompt in Windows.</span></span>
  2. <span data-ttu-id="d6639-243">Wpisz następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="d6639-243">Type the following command:</span></span>

      <span data-ttu-id="d6639-244"><kbd>notepad %WinDir%\system32\drivers\etc\hosts</kbd></span><span class="sxs-lookup"><span data-stu-id="d6639-244"><kbd>notepad %WinDir%\system32\drivers\etc\hosts</kbd></span></span>
  3. <span data-ttu-id="d6639-245">Dodaj następujący wpis w pliku HOSTS:</span><span class="sxs-lookup"><span data-stu-id="d6639-245">Add an entry like the following to the HOSTS file:</span></span>

      <span data-ttu-id="d6639-246"><kbd>127.0.0.1 www.wingtiptoys.com</kbd></span><span class="sxs-lookup"><span data-stu-id="d6639-246"><kbd>127.0.0.1 www.wingtiptoys.com</kbd></span></span>
  4. <span data-ttu-id="d6639-247">Zapisz i zamknij plik HOSTS.</span><span class="sxs-lookup"><span data-stu-id="d6639-247">Save and close your HOSTS file.</span></span>

- <span data-ttu-id="d6639-248">Konfigurowanie projektu programu Visual Studio, aby użyć nazwy FQDN:</span><span class="sxs-lookup"><span data-stu-id="d6639-248">Configure your Visual Studio project to use the FQDN:</span></span>

  1. <span data-ttu-id="d6639-249">Gdy projekt jest otwarty w programie Visual Studio 2017, kliknij przycisk **projektu** menu, a następnie wybierz pozycję Właściwości projektu.</span><span class="sxs-lookup"><span data-stu-id="d6639-249">When your project is open in Visual Studio 2017, click the **Project** menu, and then select your project's properties.</span></span> <span data-ttu-id="d6639-250">Na przykład, możesz wybrać **właściwości WebApplication1**.</span><span class="sxs-lookup"><span data-stu-id="d6639-250">For example, you might select **WebApplication1 Properties**.</span></span>
  2. <span data-ttu-id="d6639-251">Wybierz **Web** kartę.</span><span class="sxs-lookup"><span data-stu-id="d6639-251">Select the **Web** tab.</span></span>
  3. <span data-ttu-id="d6639-252">Wprowadź nazwę FQDN dla <strong>projektu adres Url</strong>.</span><span class="sxs-lookup"><span data-stu-id="d6639-252">Enter your FQDN for the <strong>Project Url</strong>.</span></span> <span data-ttu-id="d6639-253">Na przykład wprowadzisz <kbd> <http://www.wingtiptoys.com> </kbd> jeśli było mapowania nazwy FQDN, który został dodany do Twojego pliku HOSTS.</span><span class="sxs-lookup"><span data-stu-id="d6639-253">For example, you would enter <kbd><http://www.wingtiptoys.com></kbd> if that was the FQDN mapping that you added to your HOSTS file.</span></span>

- <span data-ttu-id="d6639-254">Konfigurowanie usług IIS Express do używania nazwy FQDN dla twojej aplikacji:</span><span class="sxs-lookup"><span data-stu-id="d6639-254">Configure IIS Express to use the FQDN for your application:</span></span>

    1. <span data-ttu-id="d6639-255">Otwórz wiersz polecenia z podwyższonym w Windows.</span><span class="sxs-lookup"><span data-stu-id="d6639-255">Open an elevated command prompt in Windows.</span></span>
    2. <span data-ttu-id="d6639-256">Wpisz następujące polecenie, aby zmienić do folderu usługi IIS Express:</span><span class="sxs-lookup"><span data-stu-id="d6639-256">Type the following command to change to your IIS Express folder:</span></span>

        <span data-ttu-id="d6639-257"><kbd>cd /d &quot;%ProgramFiles%\IIS Express&quot;</kbd></span><span class="sxs-lookup"><span data-stu-id="d6639-257"><kbd>cd /d &quot;%ProgramFiles%\IIS Express&quot;</kbd></span></span>
    3. <span data-ttu-id="d6639-258">Wpisz następujące polecenie, aby dodać nazwę FQDN do aplikacji:</span><span class="sxs-lookup"><span data-stu-id="d6639-258">Type the following command to add the FQDN to your application:</span></span>

        <span data-ttu-id="d6639-259"><kbd>appcmd.exe set config-section:system.applicationHost/sites / +&quot;[name = "WebApplication1"] .bindings. [ Protokół = "http" bindingInformation = "\*:80:www.wingtiptoys.com']&quot; /commit:apphost</kbd></span><span class="sxs-lookup"><span data-stu-id="d6639-259"><kbd>appcmd.exe set config -section:system.applicationHost/sites /+&quot;[name='WebApplication1'].bindings.[protocol='http',bindingInformation='\*:80:www.wingtiptoys.com']&quot; /commit:apphost</kbd></span></span>

  <span data-ttu-id="d6639-260">Gdzie **WebApplication1** jest nazwą projektu i **bindingInformation** zawiera numer portu i nazwy FQDN, które chcesz użyć na potrzeby testów.</span><span class="sxs-lookup"><span data-stu-id="d6639-260">Where **WebApplication1** is the name of your project and **bindingInformation** contains the port number and FQDN that you want to use for your testing.</span></span>

<a id="OBTAIN"></a>
### <a name="how-to-obtain-your-application-settings-for-microsoft-authentication"></a><span data-ttu-id="d6639-261">Jak uzyskać ustawienia aplikacji dla uwierzytelniania firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="d6639-261">How to Obtain your Application Settings for Microsoft Authentication</span></span>

<span data-ttu-id="d6639-262">Łączenie aplikacji w usłudze Windows Live na usługę Microsoft Authentication jest prostym procesem.</span><span class="sxs-lookup"><span data-stu-id="d6639-262">Linking an application to Windows Live for Microsoft Authentication is a simple process.</span></span> <span data-ttu-id="d6639-263">Jeśli aplikacja w usłudze Windows Live nie jest już połączone, można użyć następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="d6639-263">If you have not already linked an application to Windows Live, you can use the following steps:</span></span>

1. <span data-ttu-id="d6639-264">Przejdź do [ https://go.microsoft.com/fwlink/?LinkID=144070 ](https://go.microsoft.com/fwlink/?LinkID=144070) i wprowadź nazwę konta Microsoft i hasło po wyświetleniu monitu, a następnie kliknij przycisk **Zaloguj**:</span><span class="sxs-lookup"><span data-stu-id="d6639-264">Browse to [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070) and enter your Microsoft account name and password when prompted, then click **Sign in**:</span></span>

   <!--  [![](external-authentication-services/_static/image64.png "Click to Expand the Image")](external-authentication-services/_static/image63.png) -->
2. <span data-ttu-id="d6639-265">Wybierz **Dodaj aplikację** i wprowadź nazwę aplikacji po wyświetleniu monitu, a następnie kliknij przycisk **Utwórz**:</span><span class="sxs-lookup"><span data-stu-id="d6639-265">Select **Add an app** and enter the name of your application when prompted, and then click **Create**:</span></span>

    <span data-ttu-id="d6639-266">[![](external-authentication-services/_static/image79.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image79.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-266">[![](external-authentication-services/_static/image79.png "Click to Expand the Image")](external-authentication-services/_static/image79.png)</span></span>
3. <span data-ttu-id="d6639-267">Wybierz swoją aplikację w obszarze **nazwa** i zostanie wyświetlona jego strona właściwości aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d6639-267">Select your app under **Name** and its application properties page appears.</span></span>

4. <span data-ttu-id="d6639-268">Wprowadź domenę przekierowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d6639-268">Enter the redirect domain for your application.</span></span> <span data-ttu-id="d6639-269">Kopiuj **identyfikator aplikacji** i w obszarze **wpisów tajnych aplikacji**, wybierz opcję **wygenerować hasło**.</span><span class="sxs-lookup"><span data-stu-id="d6639-269">Copy the **Application ID** and, under **Application Secrets**, select **Generate Password**.</span></span> <span data-ttu-id="d6639-270">Skopiuj hasło, które pojawia się.</span><span class="sxs-lookup"><span data-stu-id="d6639-270">Copy the password that appears.</span></span> <span data-ttu-id="d6639-271">Identyfikator aplikacji i hasło są swojego Identyfikatora klienta i klucz tajny klienta.</span><span class="sxs-lookup"><span data-stu-id="d6639-271">The application ID and password are your client ID and client secret.</span></span> <span data-ttu-id="d6639-272">Wybierz **Ok** i następnie **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="d6639-272">Select **Ok** and then **Save**.</span></span>

    <span data-ttu-id="d6639-273">[![](external-authentication-services/_static/image77.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image77.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-273">[![](external-authentication-services/_static/image77.png "Click to Expand the Image")](external-authentication-services/_static/image77.png)</span></span>

<a id="DISABLE"></a>
### <a name="optional-disable-local-registration"></a><span data-ttu-id="d6639-274">Opcjonalne: Wyłącz lokalne rejestracji</span><span class="sxs-lookup"><span data-stu-id="d6639-274">Optional: Disable Local Registration</span></span>

<span data-ttu-id="d6639-275">Bieżącą funkcjonalność lokalnego rejestracji programu ASP.NET nie uniemożliwia tworzenie elementu członkowskiego kont; automatyczne programom (robotom) na przykład za pomocą zapobiegania bot i sprawdzanie poprawności technologii takich jak [CAPTCHA](../../../web-pages/overview/security/16-adding-security-and-membership.md).</span><span class="sxs-lookup"><span data-stu-id="d6639-275">The current ASP.NET local registration functionality does not prevent automated programs (bots) from creating member accounts; for example, by using a bot-prevention and validation technology like [CAPTCHA](../../../web-pages/overview/security/16-adding-security-and-membership.md).</span></span> <span data-ttu-id="d6639-276">W związku z tym należy usunąć łącze formularza i rejestracji lokalny identyfikator logowania na stronie logowania.</span><span class="sxs-lookup"><span data-stu-id="d6639-276">Because of this, you should remove the local login form and registration link on the login page.</span></span> <span data-ttu-id="d6639-277">Aby to zrobić, otwórz  *\_Login.cshtml* strony w projekcie, a następnie przekształcić w komentarz wiersze dla panelu logowania lokalnego i link do rejestracji.</span><span class="sxs-lookup"><span data-stu-id="d6639-277">To do so, open the *\_Login.cshtml* page in your project, and then comment out the lines for the local login panel and the registration link.</span></span> <span data-ttu-id="d6639-278">Wynikowy strony powinien wyglądać jak w następującym przykładzie kodu:</span><span class="sxs-lookup"><span data-stu-id="d6639-278">The resulting page should look like the following code sample:</span></span>

[!code-html[Main](external-authentication-services/samples/sample10.html)]

<span data-ttu-id="d6639-279">Po wyłączeniu panelu logowania lokalnego i link do rejestracji, strona logowania będą wyświetlane tylko dostawców uwierzytelniania zewnętrznego, które mają włączone:</span><span class="sxs-lookup"><span data-stu-id="d6639-279">Once the local login panel and the registration link have been disabled, your login page will only display the external authentication providers that you have enabled:</span></span>

<span data-ttu-id="d6639-280">[![](external-authentication-services/_static/image70.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image69.png)</span><span class="sxs-lookup"><span data-stu-id="d6639-280">[![](external-authentication-services/_static/image70.png "Click to Expand the Image")](external-authentication-services/_static/image69.png)</span></span>
