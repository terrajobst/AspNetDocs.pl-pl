---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
title: Logowanie jednokrotne (tworzenie rzeczywistych aplikacji w chmurze dzięki platformie Azure) | Dokumentacja firmy Microsoft
author: MikeWasson
description: Tworzenie rzeczywistych aplikacji w chmurze za pomocą platformy Azure Książka elektroniczna jest oparta na prezentacji, opracowane przez Scotta Guthrie. Wyjaśniono 13 wzorców i praktyk, które może on...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: 7d82d5e9-0619-4f22-9e03-32a6d52940a5
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
msc.type: authoredcontent
ms.openlocfilehash: da1136e085776c63886b6ac25533521fa1479d4f
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/09/2019
ms.locfileid: "59406291"
---
# <a name="single-sign-on-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="7951b-104">Logowanie jednokrotne (tworzenie rzeczywistych aplikacji w chmurze dzięki platformie Azure)</span><span class="sxs-lookup"><span data-stu-id="7951b-104">Single Sign-On (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="7951b-105">przez [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="7951b-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="7951b-106">[Pobierz go naprawić projektu](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) lub [Pobierz książkę elektroniczną](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="7951b-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="7951b-107">**Tworzenie rzeczywistych aplikacji w chmurze dzięki platformie Azure** Książka elektroniczna jest oparta na prezentacji opracowany przez Scotta Guthrie.</span><span class="sxs-lookup"><span data-stu-id="7951b-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="7951b-108">Wyjaśniono 13 wzorców i praktyk, które mogą pomóc Ci odnieść sukces, tworzenie aplikacji sieci web w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7951b-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="7951b-109">Aby uzyskać informacji o książce elektronicznej, zobacz [pierwszy rozdział](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="7951b-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="7951b-110">Istnieje wiele problemów z zabezpieczeniami zastanowić się, gdy tworzysz aplikację w chmurze, ale w tej serii samouczków skupimy się na co najmniej jeden: logowanie jednokrotne.</span><span class="sxs-lookup"><span data-stu-id="7951b-110">There are many security issues to think about when you're developing a cloud app, but for this series we'll focus on just one: single sign-on.</span></span> <span data-ttu-id="7951b-111">Pytanie, na które ludzie często pytają, to: "Czy jestem przede wszystkim tworzenia aplikacji dla pracowników firmy; jak obsługiwać te aplikacje w chmurze i włączyć je do korzystania z tego samego modelu zabezpieczeń, która Moje pracowników znasz i użyj w środowisku lokalnym, jeśli są one uruchamiane aplikacje, są hostowane wewnątrz zapory?"</span><span class="sxs-lookup"><span data-stu-id="7951b-111">A question people often ask is this: "I'm primarily building apps for the employees of my company; how do I host these apps in the cloud and still enable them to use the same security model that my employees know and use in the on-premises environment when they're running apps that are hosted inside the firewall?"</span></span> <span data-ttu-id="7951b-112">Jednym ze sposobów, możemy włączyć ten scenariusz jest nazywany usługi Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="7951b-112">One of the ways we enable this scenario is called Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="7951b-113">Usługa Azure AD umożliwia udostępnienia enterprise line of business (LOB) aplikacji w Internecie i umożliwia udostępnienie tych aplikacji swoim partnerom.</span><span class="sxs-lookup"><span data-stu-id="7951b-113">Azure AD enables you to make enterprise line-of-business (LOB) apps available over the Internet, and it enables you to make these apps available to business partners as well.</span></span>

## <a name="introduction-to-azure-ad"></a><span data-ttu-id="7951b-114">Wprowadzenie do usługi Azure AD</span><span class="sxs-lookup"><span data-stu-id="7951b-114">Introduction to Azure AD</span></span>

<span data-ttu-id="7951b-115">[Usługa Azure AD](https://docs.microsoft.com/azure/active-directory/) zapewnia [usługi Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7951b-115">[Azure AD](https://docs.microsoft.com/azure/active-directory/) provides [Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) in the cloud.</span></span> <span data-ttu-id="7951b-116">Najważniejsze funkcje obejmują następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="7951b-116">Key features include the following:</span></span>

- <span data-ttu-id="7951b-117">Integruje się z usługą Active Directory w środowisku lokalnym.</span><span class="sxs-lookup"><span data-stu-id="7951b-117">It integrates with on-premises Active Directory.</span></span>
- <span data-ttu-id="7951b-118">Umożliwia logowanie jednokrotne z aplikacjami.</span><span class="sxs-lookup"><span data-stu-id="7951b-118">It enables single sign-on with your apps.</span></span>
- <span data-ttu-id="7951b-119">Obsługuje on otwartych standardów, takich jak [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation), i [OAuth 2.0](http://oauth.net/2/).</span><span class="sxs-lookup"><span data-stu-id="7951b-119">It supports open standards such as [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation), and [OAuth 2.0](http://oauth.net/2/).</span></span>
- <span data-ttu-id="7951b-120">Obsługuje ona Enterprise [interfejsu API REST programu Graph](https://msdn.microsoft.com/library/hh974476.aspx).</span><span class="sxs-lookup"><span data-stu-id="7951b-120">It supports Enterprise [Graph REST API](https://msdn.microsoft.com/library/hh974476.aspx).</span></span>

<span data-ttu-id="7951b-121">Załóżmy, że istnieje w lokalnym środowisku usługi Active Directory systemu Windows Server, która umożliwia pracownikom zalogować się do aplikacji intranetowych:</span><span class="sxs-lookup"><span data-stu-id="7951b-121">Suppose you have an on-premises Windows Server Active Directory environment that you use to enable employees to sign on to Intranet apps:</span></span>

![](single-sign-on/_static/image1.png)

<span data-ttu-id="7951b-122">Usługa Azure AD umożliwia wykonywanie jest Utwórz katalog w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7951b-122">What Azure AD enables you to do is create a directory in the cloud.</span></span> <span data-ttu-id="7951b-123">Jest bezpłatną funkcją i są łatwe do skonfigurowania.</span><span class="sxs-lookup"><span data-stu-id="7951b-123">It's a free feature and easy to set up.</span></span>

<span data-ttu-id="7951b-124">Może być całkowicie niezależna od swojej lokalnej usługi Active Directory; Możesz umieścić każdy użytkownik ma w nim i uwierzytelniaj je w aplikacjach internetowych.</span><span class="sxs-lookup"><span data-stu-id="7951b-124">It can be entirely independent from your on-premises Active Directory; you can put anyone you want in it and authenticate them in Internet apps.</span></span>

![Windows Azure Active Directory](single-sign-on/_static/image2.png)

<span data-ttu-id="7951b-126">Możesz też zintegrować przy użyciu lokalnej usługi AD.</span><span class="sxs-lookup"><span data-stu-id="7951b-126">Or you can integrate it with your on-premises AD.</span></span>

![Usługi AD i integracji WAAD](single-sign-on/_static/image3.png)

<span data-ttu-id="7951b-128">Teraz wszyscy pracownicy, którzy mogą uwierzytelniać się w środowisku lokalnym może także uwierzytelnić się za pośrednictwem Internetu — bez konieczności otwierania zapory lub wdrażanie nowych serwerów w centrum danych.</span><span class="sxs-lookup"><span data-stu-id="7951b-128">Now all the employees who can authenticate on-premises can also authenticate over the Internet – without you having to open up a firewall or deploy any new servers in your data center.</span></span> <span data-ttu-id="7951b-129">Można nadal korzystać z wszystkich istniejącego środowiska usługi Active Directory, który znasz i użyj już dziś, aby nadać usługi logowania jednokrotnego aplikacji wewnętrznych na możliwości.</span><span class="sxs-lookup"><span data-stu-id="7951b-129">You can continue to leverage all the existing Active Directory environment that you know and use today to give your internal apps single-sign on capability.</span></span>

<span data-ttu-id="7951b-130">Po dokonaniu to połączenie między AD i Azure AD, można również włączyć aplikacji sieci web i urządzeń przenośnych do uwierzytelnienia pracowników w chmurze i można włączyć aplikacji innych firm, takich jak aplikacje usługi Office 365 i SalesForce.com, Google, aby zaakceptować Twoje poświadczenia pracowników.</span><span class="sxs-lookup"><span data-stu-id="7951b-130">Once you've made this connection between AD and Azure AD, you can also enable your web apps and your mobile devices to authenticate your employees in the cloud, and you can enable third-party apps, such as Office 365, SalesForce.com, or Google apps, to accept your employees' credentials.</span></span> <span data-ttu-id="7951b-131">Jeśli używasz usługi Office 365, możesz już skonfigurowano Cię z usługą Azure AD, ponieważ usługi Office 365 używa usługi Azure AD do uwierzytelniania i autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="7951b-131">If you're using Office 365, you're already set up with Azure AD because Office 365 uses Azure AD for authentication and authorization.</span></span>

![aplikacje firm 3](single-sign-on/_static/image4.png)

<span data-ttu-id="7951b-133">Zaletą tego podejścia jest ilekroć organizacji dodaje lub usuwa użytkownika, lub użytkownik zmieni hasło, użyj tego samego procesu używanego obecnie w środowisku w środowisku lokalnym.</span><span class="sxs-lookup"><span data-stu-id="7951b-133">The beauty of this approach is that any time your organization adds or deletes a user, or a user changes a password, you use the same process that you use today in your on-premises environment.</span></span> <span data-ttu-id="7951b-134">Wszystkie z lokalnej usługi AD zmiany są automatycznie propagowane do środowiska chmury.</span><span class="sxs-lookup"><span data-stu-id="7951b-134">All of your on-premises AD changes are automatically propagated to the cloud environment.</span></span>

<span data-ttu-id="7951b-135">Jeśli firma korzysta z lub przechodzenia do usługi Office 365, dobra wiadomość jest fakt, że masz skonfigurowane automatycznie, ponieważ usługi Office 365 używa usługi Azure AD do uwierzytelniania z usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7951b-135">If your company is using or moving to Office 365, the good news is that you'll have Azure AD set up automatically because Office 365 uses Azure AD for authentication.</span></span> <span data-ttu-id="7951b-136">Aby można było łatwo używać w swoich własnych aplikacji tego samego uwierzytelniania, która korzysta z usługi Office 365.</span><span class="sxs-lookup"><span data-stu-id="7951b-136">So you can easily use in your own apps the same authentication that Office 365 uses.</span></span>

## <a name="set-up-an-azure-ad-tenant"></a><span data-ttu-id="7951b-137">Konfigurowanie dzierżawę usługi Azure AD</span><span class="sxs-lookup"><span data-stu-id="7951b-137">Set up an Azure AD tenant</span></span>

<span data-ttu-id="7951b-138">katalog usługi Azure AD jest nazywany moduł usługi Azure AD [dzierżawy](https://technet.microsoft.com/library/jj573650.aspx), i konfigurowania dzierżawy jest całkiem proste.</span><span class="sxs-lookup"><span data-stu-id="7951b-138">an Azure AD directory is called an Azure AD [tenant](https://technet.microsoft.com/library/jj573650.aspx), and setting up a tenant is pretty easy.</span></span> <span data-ttu-id="7951b-139">Pokażemy ci jak jest wykonywane w portalu zarządzania systemu Azure w celu zilustrowania koncepcji podanych, ale oczywiście podobnie jak inne funkcje portalu możesz także zrobić go za pomocą skryptu lub interfejsu API zarządzania.</span><span class="sxs-lookup"><span data-stu-id="7951b-139">We'll show you how it's done in the Azure Management Portal in order to illustrate the concepts, but of course like the other portal functions you can also do it by using a script or management API.</span></span>

<span data-ttu-id="7951b-140">W portalu zarządzania, kliknij kartę usługi Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7951b-140">In the management portal click the Active Directory tab.</span></span>

![WAAD w portalu](single-sign-on/_static/image5.png)

<span data-ttu-id="7951b-142">Automatycznie ma jedną dzierżawę usługi Azure AD dla konta platformy Azure i możesz kliknąć pozycję **Dodaj** znajdujący się u dołu strony Aby utworzyć dodatkowe katalogi.</span><span class="sxs-lookup"><span data-stu-id="7951b-142">You automatically have one Azure AD tenant for your Azure account, and you can click the **Add** button at the bottom of the page to create additional directories.</span></span> <span data-ttu-id="7951b-143">Możesz chcieć jedno dla środowiska testowego i jedno dla środowiska produkcyjnego, na przykład.</span><span class="sxs-lookup"><span data-stu-id="7951b-143">You might want one for a test environment and one for production, for example.</span></span> <span data-ttu-id="7951b-144">Należy dobrze przemyśleć co nazwa nowego katalogu.</span><span class="sxs-lookup"><span data-stu-id="7951b-144">Think carefully about what you name a new directory.</span></span> <span data-ttu-id="7951b-145">Jeśli używasz nazwę katalogu, a następnie użyć swoją nazwę ponownie dla jednego z użytkowników, które mogą być mylące.</span><span class="sxs-lookup"><span data-stu-id="7951b-145">If you use your name for the directory and then you use your name again for one of the users, that can be confusing.</span></span>

![Dodaj katalog](single-sign-on/_static/image6.png)

<span data-ttu-id="7951b-147">Portal udostępnia pełną obsługę tworzenia, usuwania i zarządzanie użytkownikami, w tym środowisku.</span><span class="sxs-lookup"><span data-stu-id="7951b-147">The portal has full support for creating, deleting, and managing users within this environment.</span></span> <span data-ttu-id="7951b-148">Na przykład, aby dodać użytkownika przejdź do **użytkowników** kartę, a następnie kliknij przycisk **Dodaj użytkownika** przycisku.</span><span class="sxs-lookup"><span data-stu-id="7951b-148">For example, to add a user go to the **Users** tab and click the **Add User** button.</span></span>

![Przycisk Dodaj użytkownika](single-sign-on/_static/image7.png)

![Dodaj okno dialogowe użytkownik](single-sign-on/_static/image8.png)

<span data-ttu-id="7951b-151">Można utworzyć nowego użytkownika, który istnieje tylko w tym katalogu lub zarejestrowaniem Account Microsoft jako użytkownika w tym katalogu lub Zarejestruj się lub użytkownik z innego katalogu usługi Azure AD jako użytkownik w tym katalogu.</span><span class="sxs-lookup"><span data-stu-id="7951b-151">You can create a new user who exists only in this directory, or you can register a Microsoft Account as a user in this directory, or register or a user from another Azure AD directory as a user in this directory.</span></span> <span data-ttu-id="7951b-152">(W rzeczywistych katalogu, domyślna domena jest ContosoTest.onmicrosoft.com.</span><span class="sxs-lookup"><span data-stu-id="7951b-152">(In a real directory, the default domain would be ContosoTest.onmicrosoft.com.</span></span> <span data-ttu-id="7951b-153">Umożliwia także domeny wybranej przez użytkownika, np. contoso.com.)</span><span class="sxs-lookup"><span data-stu-id="7951b-153">You can also use a domain of your own choosing, like contoso.com.)</span></span>

![Typy użytkownika](single-sign-on/_static/image9.png)

![Dodaj okno dialogowe użytkownik](single-sign-on/_static/image10.png)

<span data-ttu-id="7951b-156">Można przypisać użytkownika do roli.</span><span class="sxs-lookup"><span data-stu-id="7951b-156">You can assign the user to a role.</span></span>

![Profil użytkownika](single-sign-on/_static/image11.png)

<span data-ttu-id="7951b-158">A konto zostanie utworzone hasło tymczasowe.</span><span class="sxs-lookup"><span data-stu-id="7951b-158">And the account is created with a temporary password.</span></span>

![Hasło tymczasowe](single-sign-on/_static/image12.png)

<span data-ttu-id="7951b-160">Użytkownicy, tworzysz w ten sposób natychmiast zalogować się do aplikacji sieci web za pomocą tego katalogu w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7951b-160">The users you create this way can immediately log in to your web apps using this cloud directory.</span></span>

<span data-ttu-id="7951b-161">Co to jest bardzo przydatne na potrzeby logowania jednokrotnego dla firm, jednak jest **integracji katalogu** karty:</span><span class="sxs-lookup"><span data-stu-id="7951b-161">What's great for enterprise single sign-on, though, is the **Directory Integration** tab:</span></span>

![Karta Integracja katalogu](single-sign-on/_static/image13.png)

<span data-ttu-id="7951b-163">Po włączeniu Integracja katalogu i [Pobierz narzędzie](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), można zsynchronizować tego katalogu w chmurze przy użyciu istniejącej lokalnej usługi Active Directory, już używasz wewnątrz organizacji.</span><span class="sxs-lookup"><span data-stu-id="7951b-163">If you enable directory integration, and [download a tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), you can sync this cloud directory with your existing on-premises Active Directory that you're already using inside your organization.</span></span> <span data-ttu-id="7951b-164">Następnie wszystkich użytkowników, przechowywane w katalogu pojawią się tego katalogu w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7951b-164">Then all of the users stored in your directory will show up in this cloud directory.</span></span> <span data-ttu-id="7951b-165">Aplikacje w chmurze może teraz uwierzytelniać wszystkich pracowników za pomocą istniejących poświadczeń usługi Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7951b-165">Your cloud apps can now authenticate all of your employees using their existing Active Directory credentials.</span></span> <span data-ttu-id="7951b-166">I wszystko, co to jest bezpłatne — narzędzia do synchronizacji i samej usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7951b-166">And all this is free – both the sync tool and Azure AD itself.</span></span>

<span data-ttu-id="7951b-167">To narzędzie jest Kreator, który jest łatwy w użyciu, jak widać na te zrzuty ekranu.</span><span class="sxs-lookup"><span data-stu-id="7951b-167">The tool is a wizard that is easy to use, as you can see from these screen shots.</span></span> <span data-ttu-id="7951b-168">Nie są pełne instrukcje, przykładowe zawierająca podstawowy proces.</span><span class="sxs-lookup"><span data-stu-id="7951b-168">These are not complete instructions, just an example showing you the basic process.</span></span> <span data-ttu-id="7951b-169">Aby uzyskać szczegółowe informacje jak-to-it, skorzystaj z łączy w [zasobów](#resources) sekcji na końcu rozdziale.</span><span class="sxs-lookup"><span data-stu-id="7951b-169">For more detailed how-to-do-it information, see the links in the [Resources](#resources) section at the end of the chapter.</span></span>

![Kreator konfiguracji narzędzia synchronizacji WAAD](single-sign-on/_static/image14.png)

<span data-ttu-id="7951b-171">Kliknij przycisk **dalej**, a następnie wprowadź swoje poświadczenia usługi Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7951b-171">Click **Next**, and then enter your Azure Active Directory credentials.</span></span>

![Kreator konfiguracji narzędzia synchronizacji WAAD](single-sign-on/_static/image15.png)

<span data-ttu-id="7951b-173">Kliknij przycisk **dalej**, a następnie wprowadź lokalne poświadczenia usługi AD.</span><span class="sxs-lookup"><span data-stu-id="7951b-173">Click **Next**, and then enter your on-premises AD credentials.</span></span>

![Kreator konfiguracji narzędzia synchronizacji WAAD](single-sign-on/_static/image16.png)

<span data-ttu-id="7951b-175">Kliknij przycisk **dalej**, a następnie wskaż, jeśli chcesz Przechowywanie skrótów haseł w usłudze AD w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7951b-175">Click **Next**, and then indicate if you want to store a hash of your AD passwords in the cloud.</span></span>

![Kreator konfiguracji narzędzia synchronizacji WAAD](single-sign-on/_static/image17.png)

<span data-ttu-id="7951b-177">Wartość skrótu hasła, które mogą być przechowywane w chmurze to jednokierunkowe skróty; bieżące hasła nigdy nie są przechowywane w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7951b-177">The password hash that you can store in the cloud is a one-way hash; actual passwords are never stored in Azure AD.</span></span> <span data-ttu-id="7951b-178">Jeśli zdecydujesz się na przechowywanie skrótów w chmurze, musisz użyć [Active Directory Federation Services](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span><span class="sxs-lookup"><span data-stu-id="7951b-178">If you decide against storing hashes in the cloud, you'll have to use [Active Directory Federation Services](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span></span> <span data-ttu-id="7951b-179">Dostępne są także [inne czynniki do rozważenia podczas wybierania, czy należy użyć usług AD FS](https://technet.microsoft.com/library/jj573653.aspx).</span><span class="sxs-lookup"><span data-stu-id="7951b-179">There are also [other factors to consider when choosing whether or not to use ADFS](https://technet.microsoft.com/library/jj573653.aspx).</span></span> <span data-ttu-id="7951b-180">Opcja usług AD FS wymaga kilku dodatkowych czynności konfiguracyjnych.</span><span class="sxs-lookup"><span data-stu-id="7951b-180">The ADFS option requires a few additional configuration steps.</span></span>

<span data-ttu-id="7951b-181">Jeśli zdecydujesz się przechowywać skrótów w chmurze, wszystko będzie gotowe i rozpoczyna synchronizację katalogów, po kliknięciu **dalej**.</span><span class="sxs-lookup"><span data-stu-id="7951b-181">If you choose to store hashes in the cloud, you're done, and the tool starts synchronizing directories when you click **Next**.</span></span>

![Kreator konfiguracji narzędzia synchronizacji WAAD](single-sign-on/_static/image18.png)

<span data-ttu-id="7951b-183">I w ciągu kilku minut wszystko będzie gotowe.</span><span class="sxs-lookup"><span data-stu-id="7951b-183">And in a few minutes you're done.</span></span>

![Kreator konfiguracji narzędzia synchronizacji WAAD](single-sign-on/_static/image19.png)

<span data-ttu-id="7951b-185">Musisz uruchomić na jednym kontrolerze domeny w organizacji, w systemie Windows 2003 lub nowszy.</span><span class="sxs-lookup"><span data-stu-id="7951b-185">You only have to run this on one domain controller in the organization, on Windows 2003 or higher.</span></span> <span data-ttu-id="7951b-186">I to bez konieczności ponownego uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="7951b-186">And no need to reboot.</span></span> <span data-ttu-id="7951b-187">Gdy wszystko będzie gotowe, wszyscy użytkownicy znajdują się w chmurze i mogą wykonywać logowanie jednokrotne z sieci web lub aplikacji mobilnej, za pomocą protokołu SAML, OAuth i WS-Fed.</span><span class="sxs-lookup"><span data-stu-id="7951b-187">When you're done, all of your users are in the cloud and you can do single sign-on from any web or mobile application, using SAML, OAuth, or WS-Fed.</span></span>

<span data-ttu-id="7951b-188">Czasami firma Microsoft pytanie o jak bezpieczne jest — Microsoft używa go dla ich własnych poufnych danych biznesowych?</span><span class="sxs-lookup"><span data-stu-id="7951b-188">Sometimes we get asked about how secure this is – does Microsoft use it for their own sensitive business data?</span></span> <span data-ttu-id="7951b-189">I tak, jaką robimy.</span><span class="sxs-lookup"><span data-stu-id="7951b-189">And the answer is yes we do.</span></span> <span data-ttu-id="7951b-190">Na przykład, jeśli przejdziesz do wewnętrznej witryny SharePoint firmy Microsoft w [ https://microsoft.sharepoint.com/ ](https://microsoft.sharepoint.com/), zostanie wyświetlony monit, aby zalogować się.</span><span class="sxs-lookup"><span data-stu-id="7951b-190">For example, if you go to the internal Microsoft SharePoint site at [https://microsoft.sharepoint.com/](https://microsoft.sharepoint.com/), you get prompted to log in.</span></span>

![Logowanie w usłudze Office 365](single-sign-on/_static/image20.png)

<span data-ttu-id="7951b-192">Microsoft włączył usług AD FS, więc po wprowadzeniu Identyfikatora firmy Microsoft, możesz pobrać przekierowanie do strony logowania usług AD FS.</span><span class="sxs-lookup"><span data-stu-id="7951b-192">Microsoft has enabled ADFS, so when you enter a Microsoft ID, you get redirected to an ADFS log-in page.</span></span>

![Logowania usług AD FS](single-sign-on/_static/image21.png)

<span data-ttu-id="7951b-194">I po wprowadzeniu poświadczeń przechowywanych na koncie Microsoft AD wewnętrznego, masz dostęp do tej aplikacji wewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="7951b-194">And once you enter credentials stored in an internal Microsoft AD account, you have access to this internal application.</span></span>

![Witryna MS SharePoint](single-sign-on/_static/image22.png)

<span data-ttu-id="7951b-196">Używamy serwera logowania usługi AD, przede wszystkim, ponieważ Musieliśmy usług AD FS, skonfigurować usługę Azure AD stały się dostępne, ale proces logowania przechodzi katalog usługi Azure AD w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7951b-196">We're using an AD sign-in server mainly because we already had ADFS set up before Azure AD became available, but the log-in process is going through an Azure AD directory in the cloud.</span></span> <span data-ttu-id="7951b-197">Firma Microsoft może umieścić naszych ważnych dokumentów, kontroli źródła, plików zarządzania wydajnością, raporty dotyczące sprzedaży i więcej w chmurze, a następnie za pomocą tego dokładnie tego samego rozwiązania je zabezpieczyć.</span><span class="sxs-lookup"><span data-stu-id="7951b-197">We put our important documents, source control, performance management files, sales reports, and more, in the cloud and are using this exact same solution to secure them.</span></span>

## <a name="create-an-aspnet-app-that-uses-azure-ad-for-single-sign-on"></a><span data-ttu-id="7951b-198">Tworzenie aplikacji platformy ASP.NET używająca usługi Azure AD na potrzeby logowania jednokrotnego</span><span class="sxs-lookup"><span data-stu-id="7951b-198">Create an ASP.NET app that uses Azure AD for single sign-on</span></span>

<span data-ttu-id="7951b-199">Program Visual Studio sprawia, że bardzo łatwo jest tworzyć aplikację, która używa usługi Azure AD na potrzeby logowania jednokrotnego, jak widać na kilka zrzutów ekranu.</span><span class="sxs-lookup"><span data-stu-id="7951b-199">Visual Studio makes it really easy to create an app that uses Azure AD for single sign-on, as you can see from a few screen shots.</span></span>

<span data-ttu-id="7951b-200">Podczas tworzenia nowej aplikacji platformy ASP.NET MVC i formularzy sieci Web, domyślną metodą uwierzytelniania jest tożsamości ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7951b-200">When you create a new ASP.NET application, either MVC or Web Forms, the default authentication method is ASP.NET Identity.</span></span> <span data-ttu-id="7951b-201">Aby zmienić do usługi Azure AD, możesz kliknąć przycisk **Zmień uwierzytelnianie** przycisku.</span><span class="sxs-lookup"><span data-stu-id="7951b-201">To change that to Azure AD, you click a **Change Authentication** button.</span></span>

![Zmień uwierzytelnianie](single-sign-on/_static/image23.png)

<span data-ttu-id="7951b-203">Wybierz konta organizacyjne, wprowadź nazwę domeny, a następnie wybierz logowanie jednokrotne.</span><span class="sxs-lookup"><span data-stu-id="7951b-203">Select Organizational Accounts, enter your domain name, and then select Single Sign On.</span></span>

![Konfigurowanie okna dialogowego uwierzytelniania](single-sign-on/_static/image24.png)

<span data-ttu-id="7951b-205">Można również nadać odczytu aplikacji lub uprawnienia dla katalogu danych odczytu i zapisu.</span><span class="sxs-lookup"><span data-stu-id="7951b-205">You can also give the app read or read/write permission for directory data.</span></span> <span data-ttu-id="7951b-206">Jeśli to zrobisz, można użyć [interfejsu API REST usługi Azure Graph](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) aby wyszukać użytkowników, numer telefonu, Dowiedz się, jeśli są one w pakiecie office, kiedy się logowali się ostatnio na itp.</span><span class="sxs-lookup"><span data-stu-id="7951b-206">If you do that, it can use the [Azure Graph REST API](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) to look up users' phone number, find out if they're in the office, when they last logged on, etc.</span></span>

<span data-ttu-id="7951b-207">To wszystko, co należy zrobić — Visual Studio Wyświetla prośbę o poświadczenia administratora dla dzierżawy usługi Azure AD, a następnie skonfiguruje projekt i dzierżawy usługi Azure AD dla nowej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7951b-207">That's all you have to do - Visual Studio asks for the credentials for an administrator for your Azure AD tenant, and then it configures both your project and your Azure AD tenant for the new application.</span></span>

<span data-ttu-id="7951b-208">Kiedy uruchamiasz projekt, zostanie wyświetlona strona logowania, a następnie możesz zalogować się przy użyciu poświadczeń użytkownika katalogu usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7951b-208">When you run the project, you'll see a sign-in page, and you can sign in with credentials of a user in your Azure AD directory.</span></span>

![Logowanie konta organizacji](single-sign-on/_static/image25.png)

![Zalogowany](single-sign-on/_static/image26.png)

<span data-ttu-id="7951b-211">Podczas wdrażania aplikacji na platformie Azure, musisz wykonać wystarczy wybierz **Włączanie uwierzytelniania organizacyjnego** pole wyboru, a następnie ponownie program Visual Studio zajmuje się całą konfigurację za Ciebie.</span><span class="sxs-lookup"><span data-stu-id="7951b-211">When you deploy the app to Azure, all you have to do is select an **Enable Organizational Authentication** check box, and once again Visual Studio takes care of all the configuration for you.</span></span>

![Publikowanie w sieci Web](single-sign-on/_static/image27.png)

<span data-ttu-id="7951b-213">Te zrzuty ekranu pochodzi z kompletny samouczek krok po kroku, który pokazuje, jak utworzyć aplikację, która korzysta z uwierzytelniania usługi Azure AD: [Tworzenie aplikacji ASP.NET w usłudze Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span><span class="sxs-lookup"><span data-stu-id="7951b-213">These screen shots come from a complete step-by-step tutorial that shows how to build an app that uses Azure AD authentication: [Developing ASP.NET Apps with Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span></span>

## <a name="summary"></a><span data-ttu-id="7951b-214">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="7951b-214">Summary</span></span>

<span data-ttu-id="7951b-215">W tym rozdziale pokazano, że usługi Azure Active Directory, program Visual Studio i platformy ASP.NET, ułatwiają konfigurowanie logowania jednokrotnego w aplikacjach internetowych dla użytkowników w organizacji.</span><span class="sxs-lookup"><span data-stu-id="7951b-215">In this chapter you saw that Azure Active Directory, Visual Studio, and ASP.NET, make it easy to set up single sign-on in Internet applications for your organization's users.</span></span> <span data-ttu-id="7951b-216">Użytkownicy zalogować się aplikacje internetowe przy użyciu tych samych poświadczeń, których używają do logowania się na korzystanie z usługi Active Directory w sieci wewnętrznej.</span><span class="sxs-lookup"><span data-stu-id="7951b-216">Your users can sign on in Internet apps using the same credentials they use to sign on using Active Directory in your internal network.</span></span>

<span data-ttu-id="7951b-217">[Następny rozdział](data-storage-options.md) porównaniem opcji magazynowania danych dostępnych dla aplikacji w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7951b-217">The [next chapter](data-storage-options.md) looks at the data storage options available for a cloud app.</span></span>

<a id="resources"></a>
## <a name="resources"></a><span data-ttu-id="7951b-218">Zasoby</span><span class="sxs-lookup"><span data-stu-id="7951b-218">Resources</span></span>

<span data-ttu-id="7951b-219">Aby uzyskać więcej informacji, zobacz następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="7951b-219">For more information, see the following resources:</span></span>

- <span data-ttu-id="7951b-220">[Dokumentacja usługi Azure Active Directory](https://docs.microsoft.com/azure/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="7951b-220">[Azure Active Directory Documentation](https://docs.microsoft.com/azure/active-directory/).</span></span> <span data-ttu-id="7951b-221">Strona Portal dokumentacji usługi Azure AD w witrynie w witrynie windowsazure.com.</span><span class="sxs-lookup"><span data-stu-id="7951b-221">Portal page for Azure AD documentation on the windowsazure.com site.</span></span> <span data-ttu-id="7951b-222">Samouczki krok po kroku, zobacz **programowanie** sekcji.</span><span class="sxs-lookup"><span data-stu-id="7951b-222">For step by step tutorials, see the **Develop** section.</span></span>
- <span data-ttu-id="7951b-223">[Azure Multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/).</span><span class="sxs-lookup"><span data-stu-id="7951b-223">[Azure Multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/).</span></span> <span data-ttu-id="7951b-224">Strona portalu dokumentację dotyczącą usługi uwierzytelnianie wieloskładnikowe na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="7951b-224">Portal page for documentation about multi-factor authentication in Azure.</span></span>
- <span data-ttu-id="7951b-225">[Opcje uwierzytelniania konto organizacyjne](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span><span class="sxs-lookup"><span data-stu-id="7951b-225">[Organizational account authentication options](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span></span> <span data-ttu-id="7951b-226">Wyjaśnienie opcje uwierzytelniania usługi Azure AD, w oknie dialogowym Nowy projekt programu Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="7951b-226">Explanation of the Azure AD authentication options in the Visual Studio 2013 new-project dialog.</span></span>
- <span data-ttu-id="7951b-227">[Microsoft Patterns and Practices - federacyjne wzorzec tożsamości](https://msdn.microsoft.com/library/dn589790.aspx).</span><span class="sxs-lookup"><span data-stu-id="7951b-227">[Microsoft Patterns and Practices - Federated Identity Pattern](https://msdn.microsoft.com/library/dn589790.aspx).</span></span>
- <span data-ttu-id="7951b-228">[Porady: Zainstaluj narzędzie Azure Active Directory Sync](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span><span class="sxs-lookup"><span data-stu-id="7951b-228">[HowTo: Install the Azure Active Directory Sync Tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span></span>
- <span data-ttu-id="7951b-229">[Active Directory Federation Services 2.0 Content Map](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span><span class="sxs-lookup"><span data-stu-id="7951b-229">[Active Directory Federation Services 2.0 Content Map](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span></span> <span data-ttu-id="7951b-230">Zawiera łącza do dokumentacji usług AD FS 2.0.</span><span class="sxs-lookup"><span data-stu-id="7951b-230">Links to documentation about ADFS 2.0.</span></span>
- <span data-ttu-id="7951b-231">[Autoryzacja oparta na rolach i na podstawie listy ACL w aplikacji Windows Azure AD](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span><span class="sxs-lookup"><span data-stu-id="7951b-231">[Role-Based and ACL-Based Authorization in a Windows Azure AD Application](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span></span> <span data-ttu-id="7951b-232">Przykładowa aplikacja.</span><span class="sxs-lookup"><span data-stu-id="7951b-232">Sample application.</span></span>
- <span data-ttu-id="7951b-233">[Blog usługi Azure Active Directory interfejsu API programu Graph](https://blogs.msdn.com/b/aadgraphteam/).</span><span class="sxs-lookup"><span data-stu-id="7951b-233">[Azure Active Directory Graph API blog](https://blogs.msdn.com/b/aadgraphteam/).</span></span>
- <span data-ttu-id="7951b-234">[Kontrola dostępu w modelu BYOD i Integracja katalogu w hybrydowej infrastruktury tożsamości](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span><span class="sxs-lookup"><span data-stu-id="7951b-234">[Access Control in BYOD and Directory Integration in a Hybrid Identity Infrastructure](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span></span> <span data-ttu-id="7951b-235">Tech Ed 2014 sesji wideo przez Gayana Bagdasaryan.</span><span class="sxs-lookup"><span data-stu-id="7951b-235">Tech Ed 2014 session video by Gayana Bagdasaryan.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="7951b-236">[Poprzednie](web-development-best-practices.md)
> [dalej](data-storage-options.md)</span><span class="sxs-lookup"><span data-stu-id="7951b-236">[Previous](web-development-best-practices.md)
[Next](data-storage-options.md)</span></span>
