---
uid: aspnet/overview/owin-and-katana/an-overview-of-project-katana
title: Omówienie projektu Katana | Dokumentacja firmy Microsoft
author: howarddierking
description: Środowiska ASP.NET Framework została wokół ponad dziesięć lat, a platformę włączył rozwoju niezliczonych witryn sieci Web i usług. Jako aplikacji sieci Web...
ms.author: riande
ms.date: 08/30/2013
ms.assetid: 0ee21741-c1bf-4025-a9b0-24580cae24bc
msc.legacyurl: /aspnet/overview/owin-and-katana/an-overview-of-project-katana
msc.type: authoredcontent
ms.openlocfilehash: 72f70faa151007558ecbb270143ecd5b37c2134d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/17/2019
ms.locfileid: "59392576"
---
# <a name="an-overview-of-project-katana"></a><span data-ttu-id="c933b-104">Omówienie projektu Katana</span><span class="sxs-lookup"><span data-stu-id="c933b-104">An Overview of Project Katana</span></span>

<span data-ttu-id="c933b-105">przez [Howard Dierking](https://github.com/howarddierking)</span><span class="sxs-lookup"><span data-stu-id="c933b-105">by [Howard Dierking](https://github.com/howarddierking)</span></span>

> <span data-ttu-id="c933b-106">Środowiska ASP.NET Framework została wokół ponad dziesięć lat, a platformę włączył rozwoju niezliczonych witryn sieci Web i usług.</span><span class="sxs-lookup"><span data-stu-id="c933b-106">The ASP.NET Framework has been around for over ten years, and the platform has enabled the development of countless Web sites and services.</span></span> <span data-ttu-id="c933b-107">Jak usprawniły strategie programowania aplikacji sieci Web, struktura została może podlegać ewolucji w kroku przy użyciu technologii, takich jak ASP.NET MVC i Web API platformy ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-107">As Web application development strategies have evolved, the framework has been able to evolve in step with technologies like ASP.NET MVC and ASP.NET Web API.</span></span> <span data-ttu-id="c933b-108">Jak opracowywanie aplikacji sieci Web ma ewolucyjny następnego kroku w świecie chmury obliczeniowej, projekt [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) zawiera podstawowy zestaw składników do aplikacji ASP.NET, co pozwala na elastyczne, przenośne, lekkie i zapewnić lepszą wydajność — innymi słowy, projektów [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) chmury optymalizuje aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-108">As Web application development takes its next evolutionary step into the world of cloud computing, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) provides the underlying set of components to ASP.NET applications, enabling them to be flexible, portable, lightweight, and provide better performance – put another way, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) cloud optimizes your ASP.NET applications.</span></span>


## <a name="why-katana--why-now"></a><span data-ttu-id="c933b-109">Dlaczego Katana — Dlaczego teraz?</span><span class="sxs-lookup"><span data-stu-id="c933b-109">Why Katana – Why Now?</span></span>

 <span data-ttu-id="c933b-110">Niezależnie od tego, czy jest jeden Omawiając framework lub przez użytkownika końcowego produktu dla deweloperów, ważne jest zrozumienie podstawowych zresztą tworzenia produktu — i części, która obejmuje znajomość produktu została utworzona dla.</span><span class="sxs-lookup"><span data-stu-id="c933b-110">Regardless whether one is discussing a developer framework or end-user product, it's important to understand the underlying motivations for creating the product – and part of that includes knowing who the product was created for.</span></span> <span data-ttu-id="c933b-111">ASP.NET został pierwotnie utworzony za pomocą dwóch klientów na uwadze.</span><span class="sxs-lookup"><span data-stu-id="c933b-111">ASP.NET was originally created with two customers in mind.</span></span>   
  
<span data-ttu-id="c933b-112">**Pierwszej grupy klientów była programistów classic ASP.**</span><span class="sxs-lookup"><span data-stu-id="c933b-112">**The first group of customers was classic ASP developers.**</span></span> <span data-ttu-id="c933b-113">W tym czasie ASP była jednym z podstawowe technologie do tworzenia dynamicznych, opartych na danych witryn sieci Web i aplikacje, łącząc znaczniki i skrypt po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="c933b-113">At the time, ASP was one of the primary technologies for creating dynamic, data-driven Web sites and applications by interweaving markup and server-side script.</span></span> <span data-ttu-id="c933b-114">Środowisko uruchomieniowe ASP dostarczony skrypt po stronie serwera za pomocą zestawu obiektów, które wyodrębnione podstawowych aspektów podstawowego protokołu HTTP i serwera sieci Web pod warunkiem dostęp do dodatkowych usług zarządzania stanem folderu takich sesji i aplikacji w pamięci podręcznej itp. Gdy jest to wydajne, klasyczne aplikacje ASP stało się wezwanie do zarządzania jako zwiększył się rozmiar i złożoność.</span><span class="sxs-lookup"><span data-stu-id="c933b-114">The ASP runtime supplied server-side script with a set of objects that abstracted core aspects of the underlying HTTP protocol and Web server and provided access to additional services such session and application state management, cache, etc. While powerful, classic ASP applications became a challenge to manage as they grew in size and complexity.</span></span> <span data-ttu-id="c933b-115">Jest to głównie ze względu na brak struktury w skryptów środowiska, w połączeniu z powielania kodu wynikające z z przeplotem kodu i znaczników.</span><span class="sxs-lookup"><span data-stu-id="c933b-115">This was largely due to the lack of structure found in scripting environments coupled with the duplication of code resulting from the interleaving of code and markup.</span></span> <span data-ttu-id="c933b-116">Aby można było, możesz wykorzystać zalety klasyczne środowisko ASP jednocześnie spełnia wymagania, niektóre jej wyzwania, ASP.NET skorzystała z organizacji kodu, dostarczone przez języki zorientowane obiektowo, programu .NET Framework, zachowując przy tym również model programowania po stronie serwera do której klasyczne środowisko ASP deweloperów miał wzrosła przyzwyczajeni.</span><span class="sxs-lookup"><span data-stu-id="c933b-116">In order to capitalize on the strengths of classic ASP while addressing some of its challenges, ASP.NET took advantage of the code organization provided by the object-oriented languages of the .NET Framework while also preserving the server-side programming model to which classic ASP developers had grown accustomed.</span></span>

<span data-ttu-id="c933b-117">**Druga grupa klientów docelowych dla platformy ASP.NET został deweloperzy aplikacji biznesowych Windows.**</span><span class="sxs-lookup"><span data-stu-id="c933b-117">**The second group of target customers for ASP.NET was Windows business application developers.**</span></span> <span data-ttu-id="c933b-118">W odróżnieniu od klasycznego ASP deweloperów, którzy są przyzwyczajeni do pisania kodu znaczników HTML i kod można wygenerować więcej kod znaczników HTML, WinForms deweloperów (np. deweloperzy VB6 poprzedzających) zostały przyzwyczajeni do środowiska czasu projektowania, które uwzględnione kanwy i bogatego zestawu użytkownika Formanty interfejsu.</span><span class="sxs-lookup"><span data-stu-id="c933b-118">Unlike classic ASP developers, who were accustomed to writing HTML markup and the code to generate more HTML markup, WinForms developers (like the VB6 developers before them) were accustomed to a design time experience that included a canvas and a rich set of user interface controls.</span></span> <span data-ttu-id="c933b-119">Pierwsza wersja ASP.NET — znany także jako "Formularzy sieci Web" udostępniane podobne środowiska czasu projektowania wraz z modelem zdarzenia po stronie serwera dla składników interfejsu użytkownika oraz zestaw funkcji infrastruktury (na przykład ViewState) Utwórz sprawne środowisko deweloperskie między klientem i programowanie po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="c933b-119">The first version of ASP.NET – also known as "Web Forms" provided a similar design time experience along with a server-side event model for user interface components and a set of infrastructure features (such as ViewState) to create a seamless developer experience between client and server side programming.</span></span> <span data-ttu-id="c933b-120">Formularze sieci Web hid skutecznie charakter bezstanowe sieci Web w ramach modelu stanowych zdarzeń, który został znane deweloperom WinForms.</span><span class="sxs-lookup"><span data-stu-id="c933b-120">Web Forms effectively hid the Web's stateless nature under a stateful event model that was familiar to WinForms developers.</span></span>

### <a name="challenges-raised-by-the-historical-model"></a><span data-ttu-id="c933b-121">Problemy zgłoszone przez modelu historycznym</span><span class="sxs-lookup"><span data-stu-id="c933b-121">Challenges Raised by the Historical Model</span></span>

<span data-ttu-id="c933b-122">**Wynikiem był dojrzała, bogate runtime i model programowania dla deweloperów.**</span><span class="sxs-lookup"><span data-stu-id="c933b-122">**The net result was a mature, feature-rich runtime and developer programming model.**</span></span> <span data-ttu-id="c933b-123">Korzystając z niego bogactwo funkcji dołączone kilka godne uwagi problemy.</span><span class="sxs-lookup"><span data-stu-id="c933b-123">However, with that feature-richness came a couple notable challenges.</span></span> <span data-ttu-id="c933b-124">Po pierwsze, struktura została **monolityczne**, przy użyciu jednostek logicznie różnych funkcji są ściśle powiązane z tego samego zestawu System.Web.dll (na przykład obiekty podstawowe HTTP przy użyciu środowiska formularzy sieci Web).</span><span class="sxs-lookup"><span data-stu-id="c933b-124">Firstly, the framework was **monolithic**, with logically disparate units of functionality being tightly coupled in the same System.Web.dll assembly (for example, the core HTTP objects with the Web forms framework).</span></span> <span data-ttu-id="c933b-125">Po drugie, ASP.NET został dołączony jako część większych .NET Framework, co oznaczało, że **okresami pomiędzy wydaniami został rzędu kilku latach.**</span><span class="sxs-lookup"><span data-stu-id="c933b-125">Secondly, ASP.NET was included as a part of the larger .NET Framework, which meant that the **time between releases was on the order of years.**</span></span> <span data-ttu-id="c933b-126">To wprowadzone trudne dla zmieniającego się wszystkie zmiany w szybko rozwijających się programowania dla sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-126">This made it difficult for ASP.NET to keep pace with all of the changes happening in rapidly evolving Web development.</span></span> <span data-ttu-id="c933b-127">Na koniec System.Web.dll, sama zostało połączone kilka różnych sposobów określonych opcji hostingu w sieci Web: Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="c933b-127">Finally, System.Web.dll itself was coupled in a few different ways to a specific Web hosting option: Internet Information Services (IIS).</span></span>

### <a name="evolutionary-steps-aspnet-mvc-and-aspnet-web-api"></a><span data-ttu-id="c933b-128">Ewolucyjny kroki: Interfejs API platformy ASP.NET MVC i sieci Web platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c933b-128">Evolutionary steps: ASP.NET MVC and ASP.NET Web API</span></span>

<span data-ttu-id="c933b-129">I wiele zmian działo przy projektowaniu aplikacji internetowych.</span><span class="sxs-lookup"><span data-stu-id="c933b-129">And lots of change was happening in Web development!</span></span> <span data-ttu-id="c933b-130">Aplikacje sieci Web zostały coraz bardziej opracowywane jako serię małe, skupia się składniki, a nie w dużych środowisk.</span><span class="sxs-lookup"><span data-stu-id="c933b-130">Web applications were increasingly being developed as a series of small, focused components rather than large frameworks.</span></span> <span data-ttu-id="c933b-131">Liczba składników, a także częstotliwość, z której zostały wydane zwiększał z szybkością coraz szybciej.</span><span class="sxs-lookup"><span data-stu-id="c933b-131">The number of components as well as the frequency with which they were released was increasing at an ever faster rate.</span></span> <span data-ttu-id="c933b-132">Stało się jasne, że zachowanie tempie z sieci Web wymaga struktur, które można pobrać mniejsze, oddzielne i bardziej ukierunkowaną zamiast większych i bardziej bogate, w związku z tym **zespół ASP.NET trwało kilka ewolucyjny kroki, aby włączyć platformę ASP.NET jako rodzina podłączane składników sieci Web, a nie pojedynczego framework**.</span><span class="sxs-lookup"><span data-stu-id="c933b-132">It was clear that keeping pace with the Web would require frameworks to get smaller, decoupled and more focused rather than larger and more feature-rich, therefore the **ASP.NET team took several evolutionary steps to enable ASP.NET as a family of pluggable Web components rather than a single framework**.</span></span>

<span data-ttu-id="c933b-133">Jeden z początku zmiany był wzrost popularności dobrze znanych model-view-controller (MVC) wzorca projektowego dzięki struktur projektowania sieci Web, takich jak Ruby on Rails.</span><span class="sxs-lookup"><span data-stu-id="c933b-133">One of the early changes was the rise in popularity of the well-known model-view-controller (MVC) design pattern thanks to Web development frameworks like Ruby on Rails.</span></span> <span data-ttu-id="c933b-134">Ten styl tworzenia aplikacji sieci Web udostępniła Deweloper większą kontrolę nad znacznikami swojej aplikacji, zachowując przy tym nadal rozdzielenie znaczników i logiki biznesowej, którego była jedna początkowej punktów sprzedaży dla platformy ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-134">This style of building Web applications gave the developer greater control over her application's markup while still preserving the separation of markup and business logic, which was one of the initial selling points for ASP.NET.</span></span> <span data-ttu-id="c933b-135">Aby spełnić wymagania tego stylu programowania aplikacji sieci Web, Microsoft miał okazję do samej pozycji lepiej w przyszłości przez **tworzenie platformy ASP.NET MVC poza pasmem** (i nie uwzględniać go w programie .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="c933b-135">To meet the demand for this style of Web application development, Microsoft took the opportunity to position itself better for the future by **developing ASP.NET MVC out of band** (and not including it in the .NET Framework).</span></span> <span data-ttu-id="c933b-136">ASP.NET MVC została wydana jako niezależne do pobrania.</span><span class="sxs-lookup"><span data-stu-id="c933b-136">ASP.NET MVC was released as an independent download.</span></span> <span data-ttu-id="c933b-137">Zespół inżynierów to zapewniła elastyczność, której do dostarczenia aktualizacji znacznie częściej niż był wcześniej możliwe.</span><span class="sxs-lookup"><span data-stu-id="c933b-137">This gave the engineering team the flexibility to deliver updates much more frequently than had been previously possible.</span></span>

<span data-ttu-id="c933b-138">Inną główną shift podczas tworzenia aplikacji sieci Web został shift z dynamicznych, generowane przez serwer strony sieci Web, aby statyczne znaczników początkowej za pomocą dynamicznego części strony wygenerowany na podstawie skryptu po stronie klienta podczas komunikacji **przy użyciu interfejsów API sieci Web zaplecza za pośrednictwem Wysyłanie żądań AJAX**.</span><span class="sxs-lookup"><span data-stu-id="c933b-138">Another major shift in Web application development was the shift from dynamic, server-generated Web pages to static initial markup with dynamic sections of the page generated from client-side script communicating **with backend Web APIs through AJAX requests**.</span></span> <span data-ttu-id="c933b-139">Tej architektury shift pomogła napędzania rośnie interfejsów API sieci Web i rozwoju struktury ASP.NET Web API.</span><span class="sxs-lookup"><span data-stu-id="c933b-139">This architectural shift helped propel the rise of Web APIs, and the development of the ASP.NET Web API framework.</span></span> <span data-ttu-id="c933b-140">Jak w przypadku platformy ASP.NET MVC w wersji interfejsu API sieci Web platformy ASP.NET pod warunkiem możliwość dalszego jako bardziej modularna struktura rozwój platformy ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-140">As in the case of ASP.NET MVC, the release of ASP.NET Web API provided another opportunity to evolve ASP.NET further as a more modular framework.</span></span> <span data-ttu-id="c933b-141">Zespół inżynierów skorzystała szansy sprzedaży i **wbudowany interfejs API sieci Web platformy ASP.NET, tak, aby miał on żadnych zależności na żadnym z typów framework core znalezionych w System.Web.dll**.</span><span class="sxs-lookup"><span data-stu-id="c933b-141">The engineering team took advantage of the opportunity and **built ASP.NET Web API such that it had no dependencies on any of the core framework types found in System.Web.dll**.</span></span> <span data-ttu-id="c933b-142">Ta opcja włączona dwie rzeczy: najpierw oznaczało to, że interfejs API sieci Web platformy ASP.NET można rozwijać w sposób całkowicie niezależna (i nadal można szybko iterować, ponieważ jest dostarczane za pośrednictwem pakietu NuGet).</span><span class="sxs-lookup"><span data-stu-id="c933b-142">This enabled two things: first, it meant that ASP.NET Web API could evolve in a completely self-contained manner (and it could continue to iterate quickly because it is delivered via NuGet).</span></span> <span data-ttu-id="c933b-143">Po drugie ponieważ nie wystąpiły żadne zależności zewnętrzne System.Web.dll, a w związku z tym, bez zależności w usługach IIS, ASP.NET Web API uwzględnione możliwość uruchamiania w niestandardowego hosta (na przykład aplikacji konsoli, usługa Windows, itp.)</span><span class="sxs-lookup"><span data-stu-id="c933b-143">Second, because there were no external dependencies to System.Web.dll, and therefore, no dependencies to IIS, ASP.NET Web API included the capability to run in a custom host (for example, a console application, Windows service, etc.)</span></span>

### <a name="the-future-a-nimble-framework"></a><span data-ttu-id="c933b-144">Przyszłość: Elastyczna platforma</span><span class="sxs-lookup"><span data-stu-id="c933b-144">The Future: A Nimble Framework</span></span>

<span data-ttu-id="c933b-145">Oddzielenie składników framework od siebie nawzajem, a następnie zwalniając je, dla narzędzia NuGet, struktur, można teraz **iteracji bardziej niezależnie i szybciej**.</span><span class="sxs-lookup"><span data-stu-id="c933b-145">By decoupling framework components from one another and then releasing them on NuGet, frameworks could now **iterate more independently and more quickly**.</span></span> <span data-ttu-id="c933b-146">Ponadto zaawansowane funkcje i elastyczność możliwości samodzielnie hostingu internetowego interfejsu API okazały się bardzo atrakcyjne dla deweloperów, którzy chcieli **hosta małe, lekkie** dla swoich usług.</span><span class="sxs-lookup"><span data-stu-id="c933b-146">Additionally, the power and flexibility of Web API's self-hosting capability proved very attractive to developers who wanted a **small, lightweight host** for their services.</span></span> <span data-ttu-id="c933b-147">Było tak atrakcyjnym, w rzeczywistości oznacza innych struktur chce również tej funkcji i udostępniane nowe wezwanie, że każdego szablonu został uruchomiony w swoim własnym procesie hosta na własny adres podstawowy, a także wymagane do zarządzania (uruchomiona, zatrzymana, itp.) niezależnie od siebie.</span><span class="sxs-lookup"><span data-stu-id="c933b-147">It proved so attractive, in fact, that other frameworks also wanted this capability, and this surfaced a new challenge in that each framework ran in its own host process on its own base address and needed to be managed (started, stopped, etc.) independently.</span></span> <span data-ttu-id="c933b-148">Nowoczesnych aplikacji sieci Web zazwyczaj obsługuje dostarczanie plików statycznych, generowania strony dynamicznej, interfejs API sieci Web i więcej ostatnio rzeczywistym-jednorazowe/powiadomień wypychanych.</span><span class="sxs-lookup"><span data-stu-id="c933b-148">A modern Web application generally supports static file serving, dynamic page generation, Web API, and more recently real-time/push notifications.</span></span> <span data-ttu-id="c933b-149">Oczekiwano, że każda z tych usług powinien być uruchamiania i zarządzać w sposób niezależny nie po prostu realistyczne.</span><span class="sxs-lookup"><span data-stu-id="c933b-149">Expecting that each of these services should be run and managed independently was simply not realistic.</span></span>

<span data-ttu-id="c933b-150">Co było wymagane był pojedynczego abstrakcji hostingu, będzie włączyć deweloperów do tworzenia aplikacji z wielu różnych składników i platform, a następnie uruchom tę aplikację na hoście pomocnicze.</span><span class="sxs-lookup"><span data-stu-id="c933b-150">What was needed was a single hosting abstraction that would enable a developer to compose an application from a variety of different components and frameworks, and then run that application on a supporting host.</span></span>

## <a name="the-open-web-interface-for-net-owin"></a><span data-ttu-id="c933b-151">Interfejsu Open Web dla platformy .NET (OWIN)</span><span class="sxs-lookup"><span data-stu-id="c933b-151">The Open Web Interface for .NET (OWIN)</span></span>

 <span data-ttu-id="c933b-152">ZAINSPIROWANE korzyści osiągnięte przez [stojak](http://rack.github.io/) we Wspólnocie dopisków fonetycznych kilku członków społeczności platformy .NET ustalono utworzyć abstrakcję między serwerami sieci Web i składników struktury.</span><span class="sxs-lookup"><span data-stu-id="c933b-152">Inspired by the benefits achieved by [Rack](http://rack.github.io/) in the Ruby community, several members of the .NET community set out to create an abstraction between Web servers and framework components.</span></span> <span data-ttu-id="c933b-153">Dwa cele projektu do pozyskiwania OWIN były był prosty i zajęło możliwych najmniejszą liczbą zależności na inne typy framework.</span><span class="sxs-lookup"><span data-stu-id="c933b-153">Two design goals for the OWIN abstraction were that it was simple and that it took the fewest possible dependencies on other framework types.</span></span> <span data-ttu-id="c933b-154">Te dwa cele zapewnić:</span><span class="sxs-lookup"><span data-stu-id="c933b-154">These two goals help ensure:</span></span>

- <span data-ttu-id="c933b-155">Nowe składniki można łatwiej opracowane i używane.</span><span class="sxs-lookup"><span data-stu-id="c933b-155">New components could be more easily developed and consumed.</span></span>
- <span data-ttu-id="c933b-156">Aplikacje można łatwiej przenoszone między hostami i potencjalnie całego operacyjnych platform systemów.</span><span class="sxs-lookup"><span data-stu-id="c933b-156">Applications could be more easily ported between hosts and potentially entire platforms/operating systems.</span></span>

<span data-ttu-id="c933b-157">Wynikowy abstrakcji składa się z dwóch podstawowych elementów.</span><span class="sxs-lookup"><span data-stu-id="c933b-157">The resulting abstraction consists of two core elements.</span></span> <span data-ttu-id="c933b-158">Pierwszy jest słownik środowiska.</span><span class="sxs-lookup"><span data-stu-id="c933b-158">The first is the environment dictionary.</span></span> <span data-ttu-id="c933b-159">Ta struktura danych jest odpowiedzialny za przechowywanie wszystkich niezbędnych do przetwarzania żądania HTTP i odpowiedzi, a także wszelkie stanie odpowiedniego serwera stanu.</span><span class="sxs-lookup"><span data-stu-id="c933b-159">This data structure is responsible for storing all of the state necessary for processing an HTTP request and response, as well as any relevant server state.</span></span> <span data-ttu-id="c933b-160">Słownik środowiska jest zdefiniowana w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="c933b-160">The environment dictionary is defined as follows:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample1.cmd)]

<span data-ttu-id="c933b-161">Zgodny z OWIN serwer sieci Web jest odpowiedzialny za wypełnianie słownik środowiska z danymi, takie jak strumienie treści i kolekcje nagłówków żądań HTTP i odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="c933b-161">An OWIN-compatible Web server is responsible for populating the environment dictionary with data such as the body streams and header collections for an HTTP request and response.</span></span> <span data-ttu-id="c933b-162">Następnie jest odpowiedzialny za składników aplikacji lub framework, aby wypełnić lub zaktualizuj słownik za pomocą dodatkowych wartości i zapisać w strumieniu treści odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="c933b-162">It is then the responsibility of the application or framework components to populate or update the dictionary with additional values and write to the response body stream.</span></span>

<span data-ttu-id="c933b-163">Oprócz określenia typu słownik środowiska, specyfikacja OWIN definiuje listę podstawowych słownik par kluczy i wartości.</span><span class="sxs-lookup"><span data-stu-id="c933b-163">In addition to specifying the type for the environment dictionary, the OWIN specification defines a list of core dictionary key value pairs.</span></span> <span data-ttu-id="c933b-164">Na przykład w poniższej tabeli przedstawiono klucze słownikowe wymagane dla żądania HTTP:</span><span class="sxs-lookup"><span data-stu-id="c933b-164">For example, the following table shows the required dictionary keys for an HTTP request:</span></span>

| <span data-ttu-id="c933b-165">Nazwa klucza</span><span class="sxs-lookup"><span data-stu-id="c933b-165">Key Name</span></span> | <span data-ttu-id="c933b-166">Wartość Opis</span><span class="sxs-lookup"><span data-stu-id="c933b-166">Value Description</span></span> |
| --- | --- |
| `"owin.RequestBody"` | <span data-ttu-id="c933b-167">Stream z treści żądania, jeśli istnieje.</span><span class="sxs-lookup"><span data-stu-id="c933b-167">A Stream with the request body, if any.</span></span> <span data-ttu-id="c933b-168">Stream.Null może służyć jako symbol zastępczy, jeśli nie treści żądania.</span><span class="sxs-lookup"><span data-stu-id="c933b-168">Stream.Null MAY be used as a placeholder if there is no request body.</span></span> <span data-ttu-id="c933b-169">Zobacz [treść żądania](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span><span class="sxs-lookup"><span data-stu-id="c933b-169">See [Request Body](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span></span> |
| `"owin.RequestHeaders"` | <span data-ttu-id="c933b-170">`IDictionary<string, string[]>` Nagłówków żądania.</span><span class="sxs-lookup"><span data-stu-id="c933b-170">An `IDictionary<string, string[]>` of request headers.</span></span> <span data-ttu-id="c933b-171">Zobacz [nagłówki](http://owin.org/html/owin.html#3-3-headers).</span><span class="sxs-lookup"><span data-stu-id="c933b-171">See [Headers](http://owin.org/html/owin.html#3-3-headers).</span></span> |
| `"owin.RequestMethod"` | <span data-ttu-id="c933b-172">A `string` zawierający metoda żądania HTTP żądania (np. `"GET"`, `"POST"`).</span><span class="sxs-lookup"><span data-stu-id="c933b-172">A `string` containing the HTTP request method of the request (e.g., `"GET"`, `"POST"`).</span></span> |
| `"owin.RequestPath"` | <span data-ttu-id="c933b-173">A `string` zawierającą ścieżkę żądania.</span><span class="sxs-lookup"><span data-stu-id="c933b-173">A `string` containing the request path.</span></span> <span data-ttu-id="c933b-174">Ścieżka musi być określona względem "root" delegata aplikacji; zobacz [ścieżki](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="c933b-174">The path MUST be relative to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestPathBase"` | <span data-ttu-id="c933b-175">A `string` zawierająca część ścieżki żądania odpowiadający "root" delegata aplikacji; zobacz [ścieżki](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="c933b-175">A `string` containing the portion of the request path corresponding to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestProtocol"` | <span data-ttu-id="c933b-176">A `string` zawierającą nazwę protokołu i wersji (np. `"HTTP/1.0"` lub `"HTTP/1.1"`).</span><span class="sxs-lookup"><span data-stu-id="c933b-176">A `string` containing the protocol name and version (e.g. `"HTTP/1.0"` or `"HTTP/1.1"`).</span></span> |
| `"owin.RequestQueryString"` | <span data-ttu-id="c933b-177">A `string` zawierająca składnik ciągu zapytania żądania HTTP identyfikatora URI, znaczeniem bez "?" (np. `"foo=bar&baz=quux"`).</span><span class="sxs-lookup"><span data-stu-id="c933b-177">A `string` containing the query string component of the HTTP request URI, without the leading "?" (e.g., `"foo=bar&baz=quux"`).</span></span> <span data-ttu-id="c933b-178">Wartość może być ciągiem pustym.</span><span class="sxs-lookup"><span data-stu-id="c933b-178">The value may be an empty string.</span></span> |
| `"owin.RequestScheme"` | <span data-ttu-id="c933b-179">A `string` zawierającego schemat identyfikatora URI użyta dla żądania (np. `"http"`, `"https"`); zobacz [schemat identyfikatora URI](http://owin.org/html/owin.html#5-1-uri-scheme).</span><span class="sxs-lookup"><span data-stu-id="c933b-179">A `string` containing the URI scheme used for the request (e.g., `"http"`, `"https"`); see [URI Scheme](http://owin.org/html/owin.html#5-1-uri-scheme).</span></span> |

<span data-ttu-id="c933b-180">Drugi element klucza OWIN jest delegat aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c933b-180">The second key element of OWIN is the application delegate.</span></span> <span data-ttu-id="c933b-181">Jest to sygnatura funkcji, która służy jako podstawowy interfejs między wszystkimi składnikami w aplikacji OWIN.</span><span class="sxs-lookup"><span data-stu-id="c933b-181">This is a function signature which serves as the primary interface between all components in an OWIN application.</span></span> <span data-ttu-id="c933b-182">Definicja delegata aplikacji jest następujący:</span><span class="sxs-lookup"><span data-stu-id="c933b-182">The definition for the application delegate is as follows:</span></span>

`Func<IDictionary<string, object>, Task>;`

<span data-ttu-id="c933b-183">Delegat aplikacji jest następnie po prostu implementację typu delegata Func, gdzie funkcja akceptuje słownik środowiska jako dane wejściowe i zwraca zadanie.</span><span class="sxs-lookup"><span data-stu-id="c933b-183">The application delegate then is simply an implementation of the Func delegate type where the function accepts the environment dictionary as input and returns a Task.</span></span> <span data-ttu-id="c933b-184">Ten projekt ma kilka skutki dla deweloperów:</span><span class="sxs-lookup"><span data-stu-id="c933b-184">This design has several implications for developers:</span></span>

- <span data-ttu-id="c933b-185">Istnieje bardzo mała liczba zależności dotyczące typu wymagane w celu zapisu składniki OWIN.</span><span class="sxs-lookup"><span data-stu-id="c933b-185">There are a very small number of type dependencies required in order to write OWIN components.</span></span> <span data-ttu-id="c933b-186">To znacznie zwiększa dostępność OWIN dla deweloperów.</span><span class="sxs-lookup"><span data-stu-id="c933b-186">This greatly increases the accessibility of OWIN to developers.</span></span>
- <span data-ttu-id="c933b-187">Asynchroniczne projektu umożliwia abstrakcji to efektywne z jego obsługa zasobów obliczeniowych, szczególnie w kolejnych operacjach intensywnie korzystających z operacji We/Wy.</span><span class="sxs-lookup"><span data-stu-id="c933b-187">The asynchronous design enables the abstraction to be efficient with its handling of computing resources, particularly in more I/O intensive operations.</span></span>
- <span data-ttu-id="c933b-188">Ponieważ delegata aplikacji jest pojedynczej Atomowej jednostki wykonywania, a ponieważ słownik środowiska jest przenoszone jako parametr w delegacie, składniki OWIN można łatwo łączyć ze sobą, aby utworzyć złożone HTTP potoków przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="c933b-188">Because the application delegate is an atomic unit of execution and because the environment dictionary is carried as a parameter on the delegate, OWIN components can be easily chained together to create complex HTTP processing pipelines.</span></span>

<span data-ttu-id="c933b-189">Z perspektywy wdrożenia OWIN jest specyfikacją ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span><span class="sxs-lookup"><span data-stu-id="c933b-189">From an implementation perspective, OWIN is a specification ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span></span> <span data-ttu-id="c933b-190">Jego celem jest nie należy go dalej struktury sieci Web, ale raczej specyfikacja sposobu interakcji struktury sieci Web i serwery sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c933b-190">Its goal is not to be the next Web framework, but rather a specification for how Web frameworks and Web servers interact.</span></span>

<span data-ttu-id="c933b-191">Jeśli po zbadaniu [OWIN](http://owin.org/) lub [Katana](https://github.com/aspnet/AspNetKatana/wiki), należy również zauważyć [pakietu Owin NuGet](http://nuget.org/packages/Owin) i Owin.dll.</span><span class="sxs-lookup"><span data-stu-id="c933b-191">If you've investigated [OWIN](http://owin.org/) or [Katana](https://github.com/aspnet/AspNetKatana/wiki), you may also have noticed the [Owin NuGet package](http://nuget.org/packages/Owin) and Owin.dll.</span></span> <span data-ttu-id="c933b-192">Ta biblioteka zawiera jeden interfejs [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), który rozmieszczony i kodyfikuje sekwencja uruchamiania opisanego w [sekcji 4](http://owin.org/html/owin.html#4-application-startup) specyfikacji OWIN.</span><span class="sxs-lookup"><span data-stu-id="c933b-192">This library contains a single interface, [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), which formalizes and codifies the startup sequence described in [section 4](http://owin.org/html/owin.html#4-application-startup) of the OWIN specification.</span></span> <span data-ttu-id="c933b-193">Chociaż nie jest wymagane do kompilowania serwerów OWIN [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interfejs zapewnia punkt odniesienia konkretnych i jest on używany przez Katana składników projektów.</span><span class="sxs-lookup"><span data-stu-id="c933b-193">While not required in order to build OWIN servers, the [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interface provides a concrete reference point, and it is used by the Katana project components.</span></span>

## <a name="project-katana"></a><span data-ttu-id="c933b-194">Project Katana</span><span class="sxs-lookup"><span data-stu-id="c933b-194">Project Katana</span></span>

<span data-ttu-id="c933b-195">Natomiast zarówno [OWIN](http://owin.org/html/owin.html) specyfikacji i *Owin.dll* należące do społeczności i społeczności, uruchom wysiłków "open source", [Katana](https://github.com/aspnet/AspNetKatana/wiki) projektu reprezentuje zestaw OWIN składniki, które podczas nadal open source są wbudowane i wydane przez firmę Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c933b-195">Whereas both the [OWIN](http://owin.org/html/owin.html) specification and *Owin.dll* are community owned and community run open source efforts, the [Katana](https://github.com/aspnet/AspNetKatana/wiki) project represents the set of OWIN components that, while still open source, are built and released by Microsoft.</span></span> <span data-ttu-id="c933b-196">Te składniki obejmują zarówno składników infrastruktury, takich jak hostów i serwerów, jak i funkcjonalności składników, takich jak składniki uwierzytelniania i powiązania z platform takich jak [SignalR](../../../signalr/index.md) i [sieci Web platformy ASP.NET Interfejs API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span><span class="sxs-lookup"><span data-stu-id="c933b-196">These components include both infrastructure components, such as hosts and servers, as well as functional components, such as authentication components and bindings to frameworks such as [SignalR](../../../signalr/index.md) and [ASP.NET Web API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span></span> <span data-ttu-id="c933b-197">Projekt zawiera następujące trzy cele wysokiego poziomu:</span><span class="sxs-lookup"><span data-stu-id="c933b-197">The project has the following three high level goals:</span></span> 

- <span data-ttu-id="c933b-198">**Przenośne** — składniki powinny mieć możliwość łatwego zamieniony na nowe składniki po ich udostępnieniu.</span><span class="sxs-lookup"><span data-stu-id="c933b-198">**Portable** – Components should be able to be easily substituted for new components as they become available.</span></span> <span data-ttu-id="c933b-199">Dotyczy to wszystkich typów składników platformy do serwera i hosta.</span><span class="sxs-lookup"><span data-stu-id="c933b-199">This includes all types of components, from the framework to the server and host.</span></span> <span data-ttu-id="c933b-200">Implikacje ten cel jest, czy innej struktury bezproblemowo można uruchomić na serwerach Microsoft, natomiast struktur firmy Microsoft mogą potencjalnie uruchamiane na hostach i serwerów stron trzecich.</span><span class="sxs-lookup"><span data-stu-id="c933b-200">The implication of this goal is that third party frameworks can seamlessly run on Microsoft servers while Microsoft frameworks can potentially run on third party servers and hosts.</span></span>
- <span data-ttu-id="c933b-201">**Modułowy/elastyczne**— w przeciwieństwie do wielu struktur, które obejmują wiele funkcji, które są domyślnie włączone, Katana składników projektu powinna być niewielkiego i skupionego projektu, dając kontrolę do deweloperów aplikacji w określeniu, które składniki, aby Używanie w swojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c933b-201">**Modular/flexible**– Unlike many frameworks which include a myriad of features that are turned on by default, Katana project components should be small and focused, giving control over to the application developer in determining which components to use in her application.</span></span>
- <span data-ttu-id="c933b-202">**Uproszczona i wydajne/skalowalnych** — poprzez rozbijanie tradycyjnych pojęcie struktury na zestaw małych, skupia się składniki, które są dodawane jawnie przez dewelopera aplikacji powstałą aplikację Katana może zużywać mniej przetwarzania danych zasoby, a w rezultacie obsługiwać większe obciążenie niż przy użyciu innych typów serwerów i struktur.</span><span class="sxs-lookup"><span data-stu-id="c933b-202">**Lightweight/performant/scalable** – By breaking the traditional notion of a framework into a set of small, focused components which are added explicitly by the application developer, a resulting Katana application can consume fewer computing resources, and as a result, handle more load, than with other types of servers and frameworks.</span></span> <span data-ttu-id="c933b-203">Jak wymagań aplikacji wymagają większej liczby funkcji z podstawowej infrastruktury, te mogą być dodawane do potoku OWIN, ale powinny zostać wyraźnej decyzji przez dewelopera aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c933b-203">As the requirements of the application demand more features from the underlying infrastructure, those can be added to the OWIN pipeline, but that should be an explicit decision on the part of the application developer.</span></span> <span data-ttu-id="c933b-204">Ponadto zastąpienia niższym poziomie składników oznacza, że po ich udostępnieniu nowych serwerów o wysokiej wydajności można bezproblemowo można wprowadzone, aby poprawić wydajność aplikacji OWIN bez przerywania tych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c933b-204">Additionally, the substitutability of lower level components means that as they become available, new high performance servers can seamlessly be introduced to improve the performance of OWIN applications without breaking those applications.</span></span>

## <a name="getting-started-with-katana-components"></a><span data-ttu-id="c933b-205">Wprowadzenie do biblioteki Katana składników</span><span class="sxs-lookup"><span data-stu-id="c933b-205">Getting Started with Katana Components</span></span>

<span data-ttu-id="c933b-206">Po raz pierwszy wprowadzona, jeden z aspektów [Node.js](http://nodejs.org/) umożliwiająca natychmiast narysowane uwagi osób został prostotę, za pomocą którego można jeden tworzenie i uruchamianie serwera sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c933b-206">When it was first introduced, one aspect of the [Node.js](http://nodejs.org/) framework that immediately drew people's attention was the simplicity with which one could author and run a Web server.</span></span> <span data-ttu-id="c933b-207">Jeśli cele Katana zostały sformułowane w świetle właściwości [Node.js](http://nodejs.org/), jeden może je Sumuj według informujący o tym, czy Katana oferuje wiele korzyści zapewnianych przez [Node.js](http://nodejs.org/) (i środowisk, takich jak go) bez wymuszania dla deweloperów, aby zgłosić wszystko, czego wie o projektowaniu aplikacji sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-207">If Katana goals were framed in light of [Node.js](http://nodejs.org/), one might summarize them by saying that Katana brings many of the benefits of [Node.js](http://nodejs.org/) (and frameworks like it) without forcing the developer to throw out everything she knows about developing ASP.NET Web applications.</span></span> <span data-ttu-id="c933b-208">Dla tej instrukcji pomieścić true, wprowadzenie do projektu Katana powinien być równie prosty w charakterze [Node.js](http://nodejs.org/).</span><span class="sxs-lookup"><span data-stu-id="c933b-208">For this statement to hold true, getting started with the Katana project should be equally simple in nature to [Node.js](http://nodejs.org/).</span></span>

## <a name="creating-hello-world"></a><span data-ttu-id="c933b-209">Tworzenie "Hello World!"</span><span class="sxs-lookup"><span data-stu-id="c933b-209">Creating "Hello World!"</span></span>

<span data-ttu-id="c933b-210">Jeden znacząca różnica między scalaniem rozwoju języka JavaScript i platformy .NET jest obecność (lub brak) kompilatora.</span><span class="sxs-lookup"><span data-stu-id="c933b-210">One notable difference between JavaScript and .NET development is the presence (or absence) of a compiler.</span></span> <span data-ttu-id="c933b-211">W efekcie punkt początkowy dla prostego serwera Katana jest projekt programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c933b-211">As such, the starting point for a simple Katana server is a Visual Studio project.</span></span> <span data-ttu-id="c933b-212">Jednak firma Microsoft można uruchomić za pomocą najbardziej minimalny typach projektów: pusta aplikacja sieci Web platformy ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-212">However, we can start with the most minimal of project types: the Empty ASP.NET Web Application.</span></span>

[![](an-overview-of-project-katana/_static/image1.png)](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb)

<span data-ttu-id="c933b-213">Następnie zostanie zainstalowany [Microsoft.Owin.Host.SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) pakiet NuGet do projektu.</span><span class="sxs-lookup"><span data-stu-id="c933b-213">Next, we will install the [Microsoft.Owin.Host.SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) NuGet package into the project.</span></span> <span data-ttu-id="c933b-214">Ten pakiet zawiera serwer OWIN, który jest uruchamiany w Potok żądań ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-214">This package provides an OWIN server that runs in the ASP.NET request pipeline.</span></span> <span data-ttu-id="c933b-215">Znajduje się na [galerii pakietów NuGet](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) i można je zainstalować przy użyciu konsoli Menedżera pakietów lub okno Menedżera pakietów programu Visual Studio za pomocą następującego polecenia:</span><span class="sxs-lookup"><span data-stu-id="c933b-215">It can be found on the [NuGet gallery](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) and can be installed using either the Visual Studio package manager dialog or the package manager console with the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample2.cmd)]

<span data-ttu-id="c933b-216">Instalowanie `Microsoft.Owin.Host.SystemWeb` pakiet zainstaluje kilka dodatkowych pakietów jako zależności.</span><span class="sxs-lookup"><span data-stu-id="c933b-216">Installing the `Microsoft.Owin.Host.SystemWeb` package will install a few additional packages as dependencies.</span></span> <span data-ttu-id="c933b-217">Jedną z tych zależności jest `Microsoft.Owin`, bibliotekę, która zawiera kilka pomocnicze typy i metody do tworzenia aplikacji OWIN.</span><span class="sxs-lookup"><span data-stu-id="c933b-217">One of those dependencies is `Microsoft.Owin`, a library which provides several helper types and methods for developing OWIN applications.</span></span> <span data-ttu-id="c933b-218">Możemy użyć tych typów, można szybko zapisać następującego serwera "hello world".</span><span class="sxs-lookup"><span data-stu-id="c933b-218">We can use those types to quickly write the following "hello world" server.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample3.cs)]

<span data-ttu-id="c933b-219">To bardzo prosty serwer sieci Web, mogą być uruchamiane przy użyciu programu Visual Studio **F5** polecenia i zapewnia pełną obsługę debugowania.</span><span class="sxs-lookup"><span data-stu-id="c933b-219">This very simple Web server can now be run using Visual Studio's **F5** command and includes full support for debugging.</span></span>

## <a name="switching-hosts"></a><span data-ttu-id="c933b-220">Przełączanie hostów</span><span class="sxs-lookup"><span data-stu-id="c933b-220">Switching hosts</span></span>

<span data-ttu-id="c933b-221">Domyślnie w poprzednim przykładzie "hello world" jest uruchamiane w potoku żądania programu ASP.NET używa System.Web w kontekście usług IIS.</span><span class="sxs-lookup"><span data-stu-id="c933b-221">By default, the previous "hello world" example runs in the ASP.NET request pipeline, which uses System.Web in the context of IIS.</span></span> <span data-ttu-id="c933b-222">To samodzielnie dodać ogromne korzyści, ponieważ dzięki temu możemy korzystać z elastyczności i możliwości tworzenia potoku OWIN za pomocą funkcji zarządzania i ogólną dojrzałości usług IIS.</span><span class="sxs-lookup"><span data-stu-id="c933b-222">This can by itself add tremendous value as it enables us to benefit from the flexibility and composability of an OWIN pipeline with the management capabilities and overall maturity of IIS.</span></span> <span data-ttu-id="c933b-223">Jednak może być przypadkach korzyści udostępniane przez usługi IIS nie są wymagane i pragnienie jest mniejsze, uproszczone hosta.</span><span class="sxs-lookup"><span data-stu-id="c933b-223">However, there may be cases where the benefits provided by IIS are not required and the desire is for a smaller, more lightweight host.</span></span> <span data-ttu-id="c933b-224">Co jest potrzebne, następnie, aby uruchomić nasz prosty serwer sieci Web poza usług IIS i System.Web?</span><span class="sxs-lookup"><span data-stu-id="c933b-224">What is needed, then, to run our simple Web server outside of IIS and System.Web?</span></span>

<span data-ttu-id="c933b-225">Aby zilustrować celem przenośności, przejście z hosta serwera sieci Web do hosta wiersza polecenia wymaga po prostu dodając nowe zależności serwera i hosta do folderu wyjściowego projektu, a następnie uruchomić hosta.</span><span class="sxs-lookup"><span data-stu-id="c933b-225">To illustrate the portability goal, moving from a Web-server host to a command line host requires simply adding the new server and host dependencies to project's output folder and then starting the host.</span></span> <span data-ttu-id="c933b-226">W tym przykładzie będziemy hostować naszych serwera sieci Web, na hoście Katana o nazwie `OwinHost.exe` i będzie korzystać z serwera na podstawie Katana HttpListener.</span><span class="sxs-lookup"><span data-stu-id="c933b-226">In this example, we'll host our Web server in a Katana host called `OwinHost.exe` and will use the Katana HttpListener-based server.</span></span> <span data-ttu-id="c933b-227">Podobnie do innych składników Katana te będzie można uzyskać z pakietu NuGet, używając następującego polecenia:</span><span class="sxs-lookup"><span data-stu-id="c933b-227">Similarly to the other Katana components, these will be acquired from NuGet using the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample4.cmd)]

<span data-ttu-id="c933b-228">W wierszu polecenia, firma Microsoft następnie przejdź do folderu głównego projektu i po prostu uruchomić `OwinHost.exe` (który został zainstalowany w folderze narzędzi jego odpowiedniego pakietu NuGet).</span><span class="sxs-lookup"><span data-stu-id="c933b-228">From the command line, we can then navigate to the project root folder and simply run the `OwinHost.exe` (which was installed in the tools folder of its respective NuGet package).</span></span> <span data-ttu-id="c933b-229">Domyślnie `OwinHost.exe` jest skonfigurowany do wyszukiwania serwera opartego na HttpListener i dlatego dodatkowa konfiguracja nie jest potrzebna.</span><span class="sxs-lookup"><span data-stu-id="c933b-229">By default, `OwinHost.exe` is configured to look for the HttpListener-based server and so no additional configuration is needed.</span></span> <span data-ttu-id="c933b-230">Przechodząc w przeglądarce sieci Web w taki sposób, aby `http://localhost:5000/` przedstawiono aplikację teraz uruchomione za pośrednictwem konsoli.</span><span class="sxs-lookup"><span data-stu-id="c933b-230">Navigating in a Web browser to `http://localhost:5000/` shows the application now running through the console.</span></span>

![](an-overview-of-project-katana/_static/image2.png)

## <a name="katana-architecture"></a><span data-ttu-id="c933b-231">Architektura Katana</span><span class="sxs-lookup"><span data-stu-id="c933b-231">Katana Architecture</span></span>

 <span data-ttu-id="c933b-232">Architektura składników Katana dzieli aplikację na cztery warstwy logiczne, jak przedstawiono poniżej: *hosta, server, oprogramowanie pośredniczące,* i *aplikacji*.</span><span class="sxs-lookup"><span data-stu-id="c933b-232">The Katana component architecture divides an application into four logical layers, as depicted below: *host, server, middleware,* and *application*.</span></span> <span data-ttu-id="c933b-233">Architektura składników jest uwzględniona w taki sposób, że implementacji tych warstw można łatwo zastąpić, w wielu przypadkach, bez konieczności ponownej kompilacji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c933b-233">The component architecture is factored in such a way that implementations of these layers can be easily substituted, in many cases, without requiring recompilation of the application.</span></span>   

![](an-overview-of-project-katana/_static/image3.png)

## <a name="host"></a><span data-ttu-id="c933b-234">Host</span><span class="sxs-lookup"><span data-stu-id="c933b-234">Host</span></span>

 <span data-ttu-id="c933b-235">Host jest odpowiedzialny za:</span><span class="sxs-lookup"><span data-stu-id="c933b-235">The host is responsible for:</span></span>

- <span data-ttu-id="c933b-236">Zarządzanie bazowego procesu.</span><span class="sxs-lookup"><span data-stu-id="c933b-236">Managing the underlying process.</span></span>
- <span data-ttu-id="c933b-237">Organizowanie przepływów pracy, które powoduje wybór serwera oraz do budowy potoku OWIN za pośrednictwem żądań, które będą obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="c933b-237">Orchestrating the workflow that results in the selection of a server and the construction of an OWIN pipeline through which requests will be handled.</span></span>

  <span data-ttu-id="c933b-238">Obecnie istnieją 3 podstawowe opcje hostingu aplikacji opartych na Katana:</span><span class="sxs-lookup"><span data-stu-id="c933b-238">At present, there are 3 primary hosting options for Katana-based applications:</span></span>  
  
<span data-ttu-id="c933b-239">**IIS/ASP.NET**: Przy użyciu standardowych typów HttpModule i HttpHandler, uruchomić potoki OWIN w usługach IIS jako część przepływu żądania programu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-239">**IIS/ASP.NET**: Using the standard HttpModule and HttpHandler types, OWIN pipelines can run on IIS as a part of an ASP.NET request flow.</span></span> <span data-ttu-id="c933b-240">Obsługa hostingu platformy ASP.NET jest włączona, instalując pakiet Microsoft.AspNet.Host.SystemWeb NuGet do projektu aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c933b-240">ASP.NET hosting support is enabled by installing the Microsoft.AspNet.Host.SystemWeb NuGet package into a Web application project.</span></span> <span data-ttu-id="c933b-241">Ponadto ponieważ programu IIS działa jako zarówno hosta, jak i serwera, w tym pakiecie NuGet, co oznacza, że przy użyciu SystemWeb host, Projektant nie może zastąpić implementację alternatywny serwer jest conflated rozróżnienie hosta/serwera OWIN.</span><span class="sxs-lookup"><span data-stu-id="c933b-241">Additionally, because IIS acts as both a host and a server, the OWIN server/host distinction is conflated in this NuGet package, meaning that if using the SystemWeb host, a developer cannot substitute an alternate server implementation.</span></span>  
  
<span data-ttu-id="c933b-242">**Niestandardowy Host**: Katana składników pakietu umożliwia dewelopera do hostowania aplikacji w jej własny niestandardowy proces, czy to aplikacja konsoli, usługa Windows itp. Ta funkcja jest podobny do samodzielnego hostowania możliwości udostępniane przez interfejs API sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c933b-242">**Custom Host**: The Katana component suite gives a developer the ability to host applications in her own custom process, whether that is a console application, Windows service, etc. This capability looks similar to the self-host capability provided by Web API.</span></span> <span data-ttu-id="c933b-243">Poniższy przykład przedstawia niestandardowego hosta kodu internetowego interfejsu API:</span><span class="sxs-lookup"><span data-stu-id="c933b-243">The following example shows a custom host of Web API code:</span></span>  

[!code-csharp[Main](an-overview-of-project-katana/samples/sample5.cs)]

<span data-ttu-id="c933b-244">Konfiguracja hosta samodzielnego aplikacji Katana jest podobne:</span><span class="sxs-lookup"><span data-stu-id="c933b-244">The self-host setup for a Katana application is similar:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample6.cs)]

<span data-ttu-id="c933b-245">Jeden znacząca różnica między scalaniem interfejsu API sieci Web i Katana przykłady hosta samodzielnego jest brak przykład hosta samodzielnego Katana kodu konfiguracji interfejsu API sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c933b-245">One notable difference between the Web API and Katana self-host examples is that the Web API configuration code is missing from the Katana self-host example.</span></span> <span data-ttu-id="c933b-246">Aby włączyć mobilność i możliwości tworzenia, Katana oddziela kod, który uruchamia serwer z kodu, który konfiguruje potok przetwarzania żądania.</span><span class="sxs-lookup"><span data-stu-id="c933b-246">In order to enable both portability and composability, Katana separates the code that starts the server from the code that configures the request processing pipeline.</span></span> <span data-ttu-id="c933b-247">Kod, który umożliwia skonfigurowanie interfejsu API sieci Web, a następnie jest zawarty w klasie startu, a ponadto jest określony jako parametr typu w WebApplication.Start.</span><span class="sxs-lookup"><span data-stu-id="c933b-247">The code that configures Web API, then is contained in the class Startup, which is additionally specified as the type parameter in WebApplication.Start.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample7.cs)]

<span data-ttu-id="c933b-248">Klasa początkowa zostanie omówiona bardziej szczegółowo w dalszej części tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="c933b-248">The startup class will be discussed in greater detail later in the article.</span></span> <span data-ttu-id="c933b-249">Jednak kod wymaganą do uruchomienia Katana, proces hosta samodzielnego przypomina właśnie kod, który być może korzystasz już dziś w aplikacjach hosta samodzielnego ASP.NET Web API.</span><span class="sxs-lookup"><span data-stu-id="c933b-249">However, the code required to start a Katana self-host process looks strikingly similar to the code that you may be using today in ASP.NET Web API self-host applications.</span></span>

<span data-ttu-id="c933b-250">**OwinHost.exe**: Niektóre spowoduje chcesz napisać niestandardowy proces do uruchamiania aplikacji sieci Katana Web, wolisz się wiele można po prostu uruchomić plik wykonywalny, wstępnie skompilowane, który można uruchomić serwera i uruchamianie ich aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c933b-250">**OwinHost.exe**: While some will want to write a custom process to run Katana Web applications, many would prefer to simply launch a pre-built executable that can start a server and run their application.</span></span> <span data-ttu-id="c933b-251">W przypadku tego scenariusza zawiera zestaw komponentów Katana `OwinHost.exe`.</span><span class="sxs-lookup"><span data-stu-id="c933b-251">For this scenario, the Katana component suite includes `OwinHost.exe`.</span></span> <span data-ttu-id="c933b-252">Gdy uruchamiać z poziomu katalogu głównego projektu, tego pliku wykonywalnego uruchomić serwer (HttpListener serwer używany domyślnie) i używać konwencji znajdowania i uruchamiania klasy Autostart użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c933b-252">When run from within a project's root directory, this executable will start a server (it uses the HttpListener server by default) and use conventions to find and run the user's startup class.</span></span> <span data-ttu-id="c933b-253">Aby uzyskać większą kontrolę plik wykonywalny oferuje pewną liczbę parametrów wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="c933b-253">For more granular control, the executable provides a number of additional command line parameters.</span></span>

![](an-overview-of-project-katana/_static/image4.png)

## <a name="server"></a><span data-ttu-id="c933b-254">Serwer</span><span class="sxs-lookup"><span data-stu-id="c933b-254">Server</span></span>

 <span data-ttu-id="c933b-255">Gdy host jest odpowiedzialny za uruchamianie i utrzymywanie proces, w którym jest uruchomiona aplikacja, odpowiedzialność za serwer jest otworzyć gniazda sieci, nasłuchiwanie żądań oraz wysyłać je za pośrednictwem potoku OWIN składniki określony przez użytkownika (jak może być już zauważyć, że ten potok jest określona w klasie uruchamiania Deweloper aplikacji).</span><span class="sxs-lookup"><span data-stu-id="c933b-255">While the host is responsible for starting and maintaining process within which the application runs, the responsibility of the server is to open a network socket, listen for requests, and send them through the pipeline of OWIN components specified by the user (as you may have already noticed, this pipeline is specified in the application developer's Startup class).</span></span> <span data-ttu-id="c933b-256">Obecnie projektu Katana obejmuje dwie implementacje serwera:</span><span class="sxs-lookup"><span data-stu-id="c933b-256">Currently, the Katana project includes two server implementations:</span></span> 

- <span data-ttu-id="c933b-257">**Microsoft.Owin.Host.SystemWeb**: Jak wcześniej wspomniano, usługi IIS w połączeniu z aktów potoku platformy ASP.NET jako zarówno hosta, jak i serwera.</span><span class="sxs-lookup"><span data-stu-id="c933b-257">**Microsoft.Owin.Host.SystemWeb**: As previously mentioned, IIS in concert with the ASP.NET pipeline acts as both a host and a server.</span></span> <span data-ttu-id="c933b-258">W związku z tym wybierając to opcja hostingu, usługi IIS zarządza uwagi na poziomie hosta, takie jak proces aktywacji i nasłuchuje żądań HTTP.</span><span class="sxs-lookup"><span data-stu-id="c933b-258">Therefore, when choosing this hosting option, IIS both manages host-level concerns such as process activation and listens for HTTP requests.</span></span> <span data-ttu-id="c933b-259">Dla aplikacji sieci Web platformy ASP.NET następnie wysyła żądania do potoku ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c933b-259">For ASP.NET Web applications, it then sends the requests into the ASP.NET pipeline.</span></span> <span data-ttu-id="c933b-260">Host Katana SystemWeb rejestruje ASP.NET HttpModule i HttpHandler Przechwytywanie żądań, jak długo będą przepływać za pośrednictwem potoku HTTP i wysyłać je za pośrednictwem potoku OWIN określonych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c933b-260">The Katana SystemWeb host registers an ASP.NET HttpModule and HttpHandler to intercept requests as they flow through the HTTP pipeline and send them through the user-specified OWIN pipeline.</span></span>
- <span data-ttu-id="c933b-261">**Microsoft.Owin.Host.HttpListener**: Jak jego nazwa wskazuje, ten serwer Katana używa klasy HttpListener .NET Framework otworzyć gniazda do wysyłania żądań do potoku OWIN określony dla deweloperów.</span><span class="sxs-lookup"><span data-stu-id="c933b-261">**Microsoft.Owin.Host.HttpListener**: As its name indicates, this Katana server uses the .NET Framework's HttpListener class to open a socket and send requests into a developer-specified OWIN pipeline.</span></span> <span data-ttu-id="c933b-262">Ta funkcja jest obecnie domyślny wybór serwera dla hosta samodzielnego Katana w interfejsu API i OwinHost.exe.</span><span class="sxs-lookup"><span data-stu-id="c933b-262">This is currently the default server selection for both the Katana self-host API and OwinHost.exe.</span></span>

## <a name="middlewareframework"></a><span data-ttu-id="c933b-263">Oprogramowanie pośredniczące/platformy</span><span class="sxs-lookup"><span data-stu-id="c933b-263">Middleware/framework</span></span>

 <span data-ttu-id="c933b-264">Jak wspomniano wcześniej gdy serwer zaakceptuje żądanie od klienta, jest odpowiedzialny za przekazanie jej za pośrednictwem potoku OWIN składników, które są określone przez kod startowy dla deweloperów.</span><span class="sxs-lookup"><span data-stu-id="c933b-264">As previously mentioned, when the server accepts a request from a client, it is responsible for passing it through a pipeline of OWIN components, which are specified by the developer's startup code.</span></span> <span data-ttu-id="c933b-265">Te składniki potoku są nazywane oprogramowania pośredniczącego.</span><span class="sxs-lookup"><span data-stu-id="c933b-265">These pipeline components are known as middleware.</span></span>  
 <span data-ttu-id="c933b-266">Na poziomie wykraczającego poza podstawowe składnik oprogramowania pośredniczącego OWIN po prostu musi zaimplementować delegata aplikacji OWIN, tak aby był możliwy do wywołania.</span><span class="sxs-lookup"><span data-stu-id="c933b-266">At a very basic level, an OWIN middleware component simply needs to implement the OWIN application delegate so that it is callable.</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample8.cmd)]

<span data-ttu-id="c933b-267">Jednak aby uprościć rozwój i kompozycji składników oprogramowania pośredniczącego, Katana obsługuje aspekty konwencje i typy pomocnika dla składników oprogramowania pośredniczącego.</span><span class="sxs-lookup"><span data-stu-id="c933b-267">However, in order to simplify the development and composition of middleware components, Katana supports a handful of conventions and helper types for middleware components.</span></span> <span data-ttu-id="c933b-268">Najczęściej z nich jest `OwinMiddleware` klasy.</span><span class="sxs-lookup"><span data-stu-id="c933b-268">The most common of these is the `OwinMiddleware` class.</span></span> <span data-ttu-id="c933b-269">Składnik oprogramowania pośredniczącego niestandardowe utworzone przy użyciu tej klasy będzie wyglądać podobnie do poniższej:</span><span class="sxs-lookup"><span data-stu-id="c933b-269">A custom middleware component built using this class would look similar to the following:</span></span> 

[!code-csharp[Main](an-overview-of-project-katana/samples/sample9.cs)]

 <span data-ttu-id="c933b-270">Ta klasa jest pochodną `OwinMiddleware`, implementuje konstruktora, który akceptuje wystąpienie następne oprogramowanie pośredniczące w potoku jako jeden z argumentów, a następnie przekazuje go do konstruktora podstawowego.</span><span class="sxs-lookup"><span data-stu-id="c933b-270">This class derives from `OwinMiddleware`, implements a constructor that accepts an instance of the next middleware in the pipeline as one of its arguments, and then passes it to the base constructor.</span></span> <span data-ttu-id="c933b-271">Dodatkowe argumenty używane do konfiguracji oprogramowania pośredniczącego są również deklarowane jako parametry konstruktora, po następnym parametr oprogramowania pośredniczącego.</span><span class="sxs-lookup"><span data-stu-id="c933b-271">Additional arguments used to configure the middleware are also declared as constructor parameters after the next middleware parameter.</span></span>   
  
<span data-ttu-id="c933b-272">W czasie wykonywania, oprogramowanie pośredniczące jest wykonywane za pośrednictwem zastąpione `Invoke` metody.</span><span class="sxs-lookup"><span data-stu-id="c933b-272">At runtime, the middleware is executed via the overridden `Invoke` method.</span></span> <span data-ttu-id="c933b-273">Ta metoda przyjmuje pojedynczy argument typu `OwinContext`.</span><span class="sxs-lookup"><span data-stu-id="c933b-273">This method takes a single argument of type `OwinContext`.</span></span> <span data-ttu-id="c933b-274">Ten obiekt kontekstu jest dostarczany przez `Microsoft.Owin` pakietu NuGet opisany wcześniej i udostępnia silnie typizowane słownika żądania, odpowiedzi i środowisku, wraz z kilku typów dodatkowej pomocy.</span><span class="sxs-lookup"><span data-stu-id="c933b-274">This context object is provided by the `Microsoft.Owin` NuGet package described earlier and provides strongly-typed access to the request, response and environment dictionary, along with a few additional helper types.</span></span>   
  
<span data-ttu-id="c933b-275">Klasa oprogramowania pośredniczącego mogą być łatwo dodawane do potoku OWIN w kodzie uruchamiania aplikacji w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="c933b-275">The middleware class can be easily added to the OWIN pipeline in the application startup code as follows:</span></span>   

[!code-csharp[Main](an-overview-of-project-katana/samples/sample10.cs)]

<span data-ttu-id="c933b-276">Ponieważ infrastruktura Katana po prostu tworzy potok składników oprogramowania pośredniczącego OWIN i składniki po prostu musi obsługiwać delegata aplikacji do wzięcia udziału w potoku, składników oprogramowania pośredniczącego można dostosować w zakresie rozwiązania od prostego rejestratory do całego środowiska, takie jak ASP.NET, w przypadku interfejsu API sieci Web lub [SignalR](../../../signalr/index.md).</span><span class="sxs-lookup"><span data-stu-id="c933b-276">Because the Katana infrastructure simply builds up a pipeline of OWIN middleware components, and because the components simply need to support the application delegate to participate in the pipeline, middleware components can range in complexity from simple loggers to entire frameworks like ASP.NET, Web API, or [SignalR](../../../signalr/index.md).</span></span> <span data-ttu-id="c933b-277">Dodawanie interfejsu API sieci Web platformy ASP.NET do potoku OWIN poprzedniego wymaga na przykład, dodając następujący kod startowy:</span><span class="sxs-lookup"><span data-stu-id="c933b-277">For example, adding ASP.NET Web API to the previous OWIN pipeline requires adding the following startup code:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample11.cs)]

<span data-ttu-id="c933b-278">Infrastruktura Katana utworzy potoku składników oprogramowania pośredniczącego w kolejności, w jakiej zostały dodane do obiektu elementu IAppBuilder tej metody konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="c933b-278">The Katana infrastructure will build the pipeline of middleware components based on the order in which they were added to the IAppBuilder object in the Configuration method.</span></span> <span data-ttu-id="c933b-279">Następnie, w tym przykładzie LoggerMiddleware może obsłużyć wszystkie żądania, które będą działać przez potok, niezależnie od tego, jak ostatecznie te żądania są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="c933b-279">In our example, then, LoggerMiddleware can handle all requests that flow through the pipeline, regardless of how those requests are ultimately handled.</span></span> <span data-ttu-id="c933b-280">To pozwala na zaawansowane scenariusze, w którym składnik oprogramowania pośredniczącego (np. Składnik uwierzytelniania) może przetwarzać żądania dla potoku, który zawiera wiele składników i struktury (np. interfejsu API sieci Web platformy ASP.NET SignalR i serwera plików statycznych).</span><span class="sxs-lookup"><span data-stu-id="c933b-280">This enables powerful scenarios where a middleware component (e.g. an authentication component) can process requests for a pipeline that includes multiple components and frameworks (e.g. ASP.NET Web API, SignalR, and a static file server).</span></span>
 
## <a name="applications"></a><span data-ttu-id="c933b-281">Aplikacje</span><span class="sxs-lookup"><span data-stu-id="c933b-281">Applications</span></span>

<span data-ttu-id="c933b-282">Zgodnie z opisami w poprzednich przykładach, OWIN i Katana projektu powinna nie można traktować jako nowy model programowania aplikacji, ale raczej jako abstrakcję oddzielenie modeli programowania aplikacji i platform z serwera i infrastruktury hostingu.</span><span class="sxs-lookup"><span data-stu-id="c933b-282">As illustrated by the previous examples, OWIN and the Katana project should not be thought of as a new application programming model, but rather as an abstraction to decouple application programming models and frameworks from server and hosting infrastructure.</span></span> <span data-ttu-id="c933b-283">Na przykład podczas tworzenia aplikacji interfejsu API sieci Web, developer framework będzie używać interfejsu API sieci Web platformy ASP.NET framework, niezależnie od tego, czy aplikacja będzie działać w potoku OWIN za pomocą składników z projektu Katana.</span><span class="sxs-lookup"><span data-stu-id="c933b-283">For example, when building Web API applications, the developer framework will continue to use the ASP.NET Web API framework, irrespective of whether or not the application runs in an OWIN pipeline using components from the Katana project.</span></span> <span data-ttu-id="c933b-284">Jednym miejscu, gdzie kodu związanego z OWIN będą widoczne dla deweloperów aplikacji będzie kodu uruchamiania aplikacji, których Deweloper Redaguj potoku OWIN.</span><span class="sxs-lookup"><span data-stu-id="c933b-284">The one place where OWIN-related code will be visible to the application developer will be the application startup code, where the developer composes the OWIN pipeline.</span></span> <span data-ttu-id="c933b-285">Kod startowy dewelopera zarejestruje serię instrukcji UseXx, zazwyczaj jedną dla poszczególnych składników oprogramowania pośredniczącego, który będzie przetwarzał żądania przychodzące.</span><span class="sxs-lookup"><span data-stu-id="c933b-285">In the startup code, the developer will register a series of UseXx statements, generally one for each middleware component that will process incoming requests.</span></span> <span data-ttu-id="c933b-286">To środowisko będzie mieć taki sam skutek jak rejestrowanie modułów HTTP w bieżącym środowisku System.Web.</span><span class="sxs-lookup"><span data-stu-id="c933b-286">This experience will have the same effect as registering HTTP modules in the current System.Web world.</span></span> <span data-ttu-id="c933b-287">Zazwyczaj większych framework oprogramowanie pośredniczące, takich jak Web API platformy ASP.NET lub [SignalR](../../../signalr/index.md) zostanie zarejestrowany na końcu potoku.</span><span class="sxs-lookup"><span data-stu-id="c933b-287">Typically, a larger framework middleware, such as ASP.NET Web API or [SignalR](../../../signalr/index.md) will be registered at the end of the pipeline.</span></span> <span data-ttu-id="c933b-288">Kompleksowych składników oprogramowania pośredniczącego, takie jak te dla uwierzytelniania lub buforowania, zazwyczaj są rejestrowane w kierunku początku potoku tak, aby ich będzie przetwarzać żądania dla wszystkich platform i składniki zarejestrowane później w potoku.</span><span class="sxs-lookup"><span data-stu-id="c933b-288">Cross-cutting middleware components, such as those for authentication or caching, are generally registered towards the beginning of the pipeline so that they will process requests for all of the frameworks and components registered later in the pipeline.</span></span> <span data-ttu-id="c933b-289">Rozdzielanie składników oprogramowania pośredniczącego z sobą i z podstawowych składników infrastruktury włącza składniki podlegać ewolucji w różnych ilościach, przy jednoczesnym zapewnieniu, że cały system jest trwała.</span><span class="sxs-lookup"><span data-stu-id="c933b-289">This separation of the middleware components from each other and from the underlying infrastructure components enables the components to evolve at different velocities while ensuring that the overall system remains stable.</span></span>

## <a name="components--nuget-packages"></a><span data-ttu-id="c933b-290">Składniki — pakietów NuGet</span><span class="sxs-lookup"><span data-stu-id="c933b-290">Components – NuGet Packages</span></span>

<span data-ttu-id="c933b-291">Podobnie jak wiele bieżących bibliotek i struktur Katana składników projektów są dostarczane jako zestaw pakietów NuGet.</span><span class="sxs-lookup"><span data-stu-id="c933b-291">Like many current libraries and frameworks, the Katana project components are delivered as a set of NuGet packages.</span></span> <span data-ttu-id="c933b-292">Mającą się ukazać wersję 2.0 wykres zależności pakietu Katana wygląda następująco.</span><span class="sxs-lookup"><span data-stu-id="c933b-292">For the upcoming version 2.0, the Katana package dependency graph looks as follows.</span></span> <span data-ttu-id="c933b-293">(Kliknij obraz większym widoku).</span><span class="sxs-lookup"><span data-stu-id="c933b-293">(Click on image for larger view.)</span></span>

[![](an-overview-of-project-katana/_static/image6.png)](an-overview-of-project-katana/_static/image5.png)

<span data-ttu-id="c933b-294">Prawie każdy pakiet w projekcie Katana zależy, bezpośrednio lub pośrednio, pakietów Owin.</span><span class="sxs-lookup"><span data-stu-id="c933b-294">Nearly every package in the Katana project depends, directly or indirectly, on the Owin package.</span></span> <span data-ttu-id="c933b-295">Być może pamiętasz, czy to jest pakiet, który zawiera interfejs IAppBuilder, który udostępnia konkretną implementację sekwencja uruchamiania aplikacji, które są opisane w sekcji 4 specyfikacji OWIN.</span><span class="sxs-lookup"><span data-stu-id="c933b-295">You may remember that this is the package that contains the IAppBuilder interface, which provides a concrete implementation of the application startup sequence described in section 4 of the OWIN specification.</span></span> <span data-ttu-id="c933b-296">Ponadto wiele pakietów zależą od Microsoft.Owin, który zawiera zestaw typów pomocnika do pracy z żądania i odpowiedzi HTTP.</span><span class="sxs-lookup"><span data-stu-id="c933b-296">Additionally, many of the packages depend on Microsoft.Owin, which provides a set of helper types for working with HTTP requests and responses.</span></span> <span data-ttu-id="c933b-297">W pozostałej części pakietu mogą być klasyfikowane jako hostingu pakietów infrastruktury (serwerów lub hostów) lub oprogramowania pośredniczącego.</span><span class="sxs-lookup"><span data-stu-id="c933b-297">The remainder of the package can be classified as either hosting infrastructure packages (servers or hosts) or middleware.</span></span> <span data-ttu-id="c933b-298">Pakiety i zależności, które są zewnętrzne w stosunku do projektu Katana są wyświetlane w kolorze pomarańczowym.</span><span class="sxs-lookup"><span data-stu-id="c933b-298">Packages and dependencies that are external to the Katana project are displayed in orange.</span></span>

<span data-ttu-id="c933b-299">Infrastruktury hostingu dla wersji biblioteki Katana 2.0 obejmuje zarówno SystemWeb i serwerami z systemem HttpListener, pakiet OwinHost do uruchamiania aplikacji OWIN za pomocą OwinHost.exe i pakiet Microsoft.Owin.Hosting dla hostingu samodzielnego aplikacji OWIN w niestandardowy host (np. aplikację konsolową, usługa Windows itp.)</span><span class="sxs-lookup"><span data-stu-id="c933b-299">The hosting infrastructure for Katana 2.0 includes both the SystemWeb and HttpListener-based servers, the OwinHost package for running OWIN applications using OwinHost.exe, and the Microsoft.Owin.Hosting package for self-hosting OWIN applications in a custom host (e.g. console application, Windows service, etc.)</span></span>

<span data-ttu-id="c933b-300">2.0 biblioteki Katana składników oprogramowania pośredniczącego przede wszystkim koncentrują się na zapewnieniu inną metodę uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="c933b-300">For Katana 2.0, the middleware components are primarily focused on providing different means of authentication.</span></span> <span data-ttu-id="c933b-301">Jeden składnik dodatkowe oprogramowanie pośredniczące dla diagnostyki zostanie podany, która umożliwia obsługę rozpoczęcia i błędu strony.</span><span class="sxs-lookup"><span data-stu-id="c933b-301">One additional middleware component for diagnostics is provided, which enables support for a start and error page.</span></span> <span data-ttu-id="c933b-302">Wraz z rozwojem w dziedzinie abstrakcji hostingu OWIN ekosystem składników oprogramowania pośredniczącego, oba te opracowany przez firmę Microsoft i innych firm również rośnie liczba.</span><span class="sxs-lookup"><span data-stu-id="c933b-302">As OWIN grows into the de facto hosting abstraction, the ecosystem of middleware components, both those developed by Microsoft and third parties, will also grow in number.</span></span>

## <a name="conclusion"></a><span data-ttu-id="c933b-303">Wniosek</span><span class="sxs-lookup"><span data-stu-id="c933b-303">Conclusion</span></span>

 <span data-ttu-id="c933b-304">Od jego początku celem projektu Katana nie był do tworzenia i tym samym wymusić deweloperów, aby dowiedzieć się kolejny struktury sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c933b-304">From its beginning, the Katana project's goal has not been to create and thereby force developers to learn yet another Web framework.</span></span> <span data-ttu-id="c933b-305">Zamiast celem została utworzyć abstrakcję, aby zaoferować deweloperom aplikacji sieci Web platformy .NET większy wybór, niż było wcześniej możliwe.</span><span class="sxs-lookup"><span data-stu-id="c933b-305">Rather, the goal has been to create an abstraction to give .NET Web application developers more choice than has previously been possible.</span></span> <span data-ttu-id="c933b-306">Przez podzielenie warstwy logiczne typowe stosu aplikacji sieci Web na zestaw składników wymienne, projektu Katana umożliwia składników w całym stosie, aby poprawić w według stawki ma sens dla tych składników.</span><span class="sxs-lookup"><span data-stu-id="c933b-306">By breaking up the logical layers of a typical Web application stack into a set of replaceable components, the Katana project enables components throughout the stack to improve at whatever rate makes sense for those components.</span></span> <span data-ttu-id="c933b-307">Tworząc wszystkie składniki wokół proste abstrakcji OWIN, Katana umożliwia platformy i aplikacji korzystających z nich będzie działał na wielu różnych serwery i hosty.</span><span class="sxs-lookup"><span data-stu-id="c933b-307">By building all components around the simple OWIN abstraction, Katana enables frameworks and the applications built on top of them to be portable across a variety of different servers and hosts.</span></span> <span data-ttu-id="c933b-308">Umieszczając Deweloper w formancie stosu, Katana gwarantuje, że deweloper sprawia, że wybór ultimate o jak uproszczone lub jak bogate powinny być jej stosu sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c933b-308">By putting the developer in control of the stack, Katana ensures that the developer makes the ultimate choice about how lightweight or how feature-rich her Web stack should be.</span></span>  
  

## <a name="for-more-information-about-katana"></a><span data-ttu-id="c933b-309">Aby uzyskać więcej informacji na temat Katana</span><span class="sxs-lookup"><span data-stu-id="c933b-309">For more information about Katana</span></span>

- <span data-ttu-id="c933b-310">Projektu Katana w usłudze GitHub: [ https://github.com/aspnet/AspNetKatana/ ](https://github.com/aspnet/AspNetKatana/).</span><span class="sxs-lookup"><span data-stu-id="c933b-310">The Katana project on GitHub: [https://github.com/aspnet/AspNetKatana/](https://github.com/aspnet/AspNetKatana/).</span></span>
- <span data-ttu-id="c933b-311">Wideo: [Projekt Katana — OWIN dla platformy ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), przez Howard Dierking.</span><span class="sxs-lookup"><span data-stu-id="c933b-311">Video: [The Katana Project - OWIN for ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), by Howard Dierking.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="c933b-312">Potwierdzanie</span><span class="sxs-lookup"><span data-stu-id="c933b-312">Acknowledgements</span></span>

- <span data-ttu-id="c933b-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [ @RickAndMSFT ](http://twitter.com/RickAndMSFT) ) Rick jest starszym pisarzem programowania dla firmy Microsoft, koncentrując się na platformie Azure i MVC.</span><span class="sxs-lookup"><span data-stu-id="c933b-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [@RickAndMSFT](http://twitter.com/RickAndMSFT) ) Rick is a senior programming writer for Microsoft focusing on Azure and MVC.</span></span>
- <span data-ttu-id="c933b-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [ @shanselman ](https://twitter.com/shanselman) )</span><span class="sxs-lookup"><span data-stu-id="c933b-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [@shanselman](https://twitter.com/shanselman) )</span></span>
- <span data-ttu-id="c933b-315">[Jan Galloway'em](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [ @jongalloway ](https://twitter.com/jongalloway) )</span><span class="sxs-lookup"><span data-stu-id="c933b-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [@jongalloway](https://twitter.com/jongalloway) )</span></span>
