---
uid: web-pages/overview/getting-started/11-adding-email-to-your-web-site
title: Wysyłanie wiadomości E-mail z witryny ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: W tym rozdziale wyjaśniono, jak wysłać zautomatyzowaną wiadomość e-mail z witryny sieci Web.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: fc49bcb9-f1a9-4048-8c3f-b60951853200
msc.legacyurl: /web-pages/overview/getting-started/11-adding-email-to-your-web-site
msc.type: authoredcontent
ms.openlocfilehash: 23e9717329525fb5a0ed505c9dc94505d4f9dbbe
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78634716"
---
# <a name="sending-email-from-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="49ce5-103">Wysyłanie wiadomości E-mail z witryny ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="49ce5-103">Sending Email from an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="49ce5-104">Autor [FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="49ce5-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="49ce5-105">W tym artykule wyjaśniono, jak wysłać wiadomość e-mail z witryny internetowej w przypadku używania stron sieci Web ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="49ce5-105">This article explains how to send an email message from a website when you use ASP.NET Web Pages (Razor).</span></span>
> 
> <span data-ttu-id="49ce5-106">Zawartość:</span><span class="sxs-lookup"><span data-stu-id="49ce5-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="49ce5-107">Jak wysłać wiadomość e-mail z witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="49ce5-107">How to send an email message from your website.</span></span>
> - <span data-ttu-id="49ce5-108">Jak dołączyć plik do wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-108">How to attach a file to an email message.</span></span>
> 
> <span data-ttu-id="49ce5-109">Jest to funkcja ASP.NET wprowadzona w artykule:</span><span class="sxs-lookup"><span data-stu-id="49ce5-109">This is the ASP.NET feature introduced in the article:</span></span>
> 
> - <span data-ttu-id="49ce5-110">Pomocnik `WebMail`.</span><span class="sxs-lookup"><span data-stu-id="49ce5-110">The `WebMail` helper.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="49ce5-111">Wersje oprogramowania używane w samouczku</span><span class="sxs-lookup"><span data-stu-id="49ce5-111">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="49ce5-112">ASP.NET strony sieci Web (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="49ce5-112">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="49ce5-113">Ten samouczek działa również z ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="49ce5-113">This tutorial also works with ASP.NET Web Pages 2.</span></span>

<a id="Sending_Email_Messages"></a>
## <a name="sending-email-messages-from-your-website"></a><span data-ttu-id="49ce5-114">Wysyłanie wiadomości E-mail z witryny sieci Web</span><span class="sxs-lookup"><span data-stu-id="49ce5-114">Sending Email Messages from Your Website</span></span>

<span data-ttu-id="49ce5-115">Istnieje wiele powodów, dla których może być konieczne wysłanie wiadomości e-mail z witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="49ce5-115">There are all sorts of reasons why you might need to send email from your website.</span></span> <span data-ttu-id="49ce5-116">Użytkownik może wysyłać wiadomości potwierdzające do użytkowników lub wysyłać do siebie powiadomienia (na przykład o zarejestrowaniu nowego użytkownika). Pomocnik `WebMail` ułatwia wysyłanie wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-116">You might send confirmation messages to users, or you might send notifications to yourself (for example, that a new user has registered.) The `WebMail` helper makes it easy for you to send email.</span></span>

<span data-ttu-id="49ce5-117">Aby korzystać z pomocnika `WebMail`, musisz mieć dostęp do serwera SMTP.</span><span class="sxs-lookup"><span data-stu-id="49ce5-117">To use the `WebMail` helper, you have to have access to an SMTP server.</span></span> <span data-ttu-id="49ce5-118">(Protokół SMTP ma *Simple Mail Transfer Protocol*.) Serwer SMTP jest serwerem poczty e-mail, który przesyła dalej komunikaty do serwera &#8212; odbiorcy, jest to wychodząca Strona poczty e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-118">(SMTP stands for *Simple Mail Transfer Protocol*.) An SMTP server is an email server that only forwards messages to the recipient's server &#8212; it's the outbound side of email.</span></span> <span data-ttu-id="49ce5-119">Jeśli używasz dostawcy hostingu dla witryny sieci Web, prawdopodobnie skonfigurujesz go za pomocą poczty e-mail i poinformujemy o tym, co to jest nazwa serwera SMTP.</span><span class="sxs-lookup"><span data-stu-id="49ce5-119">If you use a hosting provider for your website, they probably set you up with email and they can tell you what your SMTP server name is.</span></span> <span data-ttu-id="49ce5-120">Jeśli pracujesz w sieci firmowej, administrator lub dział IT zazwyczaj mogą uzyskać informacje o serwerze SMTP, którego można użyć.</span><span class="sxs-lookup"><span data-stu-id="49ce5-120">If you're working inside a corporate network, an administrator or your IT department can usually give you the information about an SMTP server that you can use.</span></span> <span data-ttu-id="49ce5-121">Jeśli pracujesz w domu, możesz nawet sprawdzić za pomocą zwykłego dostawcy poczty e-mail, który będzie mógł poinformować o nazwie serwera SMTP.</span><span class="sxs-lookup"><span data-stu-id="49ce5-121">If you're working at home, you might even be able to test using your ordinary email provider, who can tell you the name of their SMTP server.</span></span> <span data-ttu-id="49ce5-122">Zazwyczaj potrzebne są:</span><span class="sxs-lookup"><span data-stu-id="49ce5-122">You typically need:</span></span>

- <span data-ttu-id="49ce5-123">Nazwa serwera SMTP.</span><span class="sxs-lookup"><span data-stu-id="49ce5-123">The name of the SMTP server.</span></span>
- <span data-ttu-id="49ce5-124">Numer portu.</span><span class="sxs-lookup"><span data-stu-id="49ce5-124">The port number.</span></span> <span data-ttu-id="49ce5-125">To prawie zawsze 25.</span><span class="sxs-lookup"><span data-stu-id="49ce5-125">This is almost always 25.</span></span> <span data-ttu-id="49ce5-126">Jednak usługodawca internetowy może wymagać użycia portu 587.</span><span class="sxs-lookup"><span data-stu-id="49ce5-126">However, your ISP may require you to use port 587.</span></span> <span data-ttu-id="49ce5-127">Jeśli używasz protokołu SSL (Secure Sockets Layer) do obsługi poczty e-mail, może być potrzebny inny port.</span><span class="sxs-lookup"><span data-stu-id="49ce5-127">If you are using secure sockets layer (SSL) for email, you might need a different port.</span></span> <span data-ttu-id="49ce5-128">Skontaktuj się z dostawcą poczty e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-128">Check with your email provider.</span></span>
- <span data-ttu-id="49ce5-129">Poświadczenia (nazwa użytkownika, hasło).</span><span class="sxs-lookup"><span data-stu-id="49ce5-129">Credentials (user name, password).</span></span>

<span data-ttu-id="49ce5-130">W tej procedurze utworzysz dwie strony.</span><span class="sxs-lookup"><span data-stu-id="49ce5-130">In this procedure, you create two pages.</span></span> <span data-ttu-id="49ce5-131">Pierwsza strona zawiera formularz, który umożliwia użytkownikom wprowadzanie opisu, tak jakby był wypełniany w formularzu technicznym.</span><span class="sxs-lookup"><span data-stu-id="49ce5-131">The first page has a form that lets users enter a description, as if they were filling in a technical-support form.</span></span> <span data-ttu-id="49ce5-132">Na pierwszej stronie przesyłane są informacje do drugiej strony.</span><span class="sxs-lookup"><span data-stu-id="49ce5-132">The first page submits its information to a second page.</span></span> <span data-ttu-id="49ce5-133">Na drugiej stronie kod wyodrębnia informacje o użytkowniku i wysyła wiadomość e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-133">In the second page, code extracts the user's information and sends an email message.</span></span> <span data-ttu-id="49ce5-134">Zostanie również wyświetlony komunikat potwierdzający, że został odebrany raport o problemach.</span><span class="sxs-lookup"><span data-stu-id="49ce5-134">It also displays a message confirming that the problem report has been received.</span></span>

![Image](11-adding-email-to-your-web-site/_static/image1.jpg)

> [!NOTE]
> <span data-ttu-id="49ce5-136">Aby zachować ten przykład prosty, kod inicjuje `WebMail` pomocnika bezpośrednio na stronie, w której jest używana.</span><span class="sxs-lookup"><span data-stu-id="49ce5-136">To keep this example simple, the code initializes the `WebMail` helper right in the page where you use it.</span></span> <span data-ttu-id="49ce5-137">Jednak w przypadku rzeczywistych witryn sieci Web lepiej jest umieścić kod inicjujący podobny do tego w pliku globalnym, aby zainicjować pomocnika `WebMail` dla wszystkich plików w witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="49ce5-137">However, for real websites, it's a better idea to put initialization code like this in a global file, so that you initialize the `WebMail` helper for all files in your website.</span></span> <span data-ttu-id="49ce5-138">Aby uzyskać więcej informacji, zobacz [Dostosowywanie zachowania całej witryny dla stron sieci Web ASP.NET](https://go.microsoft.com/fwlink/?LinkId=202906#Setting_Values_For_Helpers).</span><span class="sxs-lookup"><span data-stu-id="49ce5-138">For more information, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906#Setting_Values_For_Helpers).</span></span>

1. <span data-ttu-id="49ce5-139">Utwórz nową witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="49ce5-139">Create a new website.</span></span>
2. <span data-ttu-id="49ce5-140">Dodaj nową stronę o nazwie *EmailRequest. cshtml* i Dodaj następujące znaczniki:</span><span class="sxs-lookup"><span data-stu-id="49ce5-140">Add a new page named *EmailRequest.cshtml* and add the following markup:</span></span> 

    [!code-html[Main](11-adding-email-to-your-web-site/samples/sample1.html)]

    <span data-ttu-id="49ce5-141">Zwróć uwagę, że atrybut `action` elementu form został ustawiony na *ProcessRequest. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="49ce5-141">Notice that the `action` attribute of the form element has been set to *ProcessRequest.cshtml*.</span></span> <span data-ttu-id="49ce5-142">Oznacza to, że formularz zostanie przesłany do tej strony zamiast z powrotem do bieżącej strony.</span><span class="sxs-lookup"><span data-stu-id="49ce5-142">This means that the form will be submitted to that page instead of back to the current page.</span></span>
3. <span data-ttu-id="49ce5-143">Dodaj nową stronę o nazwie *ProcessRequest. cshtml* do witryny sieci Web i Dodaj następujący kod i znacznik:</span><span class="sxs-lookup"><span data-stu-id="49ce5-143">Add a new page named *ProcessRequest.cshtml* to the website and add the following code and markup:</span></span>   

    [!code-cshtml[Main](11-adding-email-to-your-web-site/samples/sample2.cshtml)]

    <span data-ttu-id="49ce5-144">W kodzie otrzymujesz wartości pól formularza, które zostały przesłane do strony.</span><span class="sxs-lookup"><span data-stu-id="49ce5-144">In the code, you get the values of the form fields that were submitted to the page.</span></span> <span data-ttu-id="49ce5-145">Następnie należy wywołać metodę `Send` pomocnika `WebMail`, aby utworzyć i wysłać wiadomość e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-145">You then call the `WebMail` helper's `Send` method to create and send the email message.</span></span> <span data-ttu-id="49ce5-146">W takim przypadku wartości, które mają być używane, składają się z tekstu połączonego z wartościami, które zostały przesłane z formularza.</span><span class="sxs-lookup"><span data-stu-id="49ce5-146">In this case, the values to use are made up of text that you concatenate with the values that were submitted from the form.</span></span>

    <span data-ttu-id="49ce5-147">Kod tej strony znajduje się w bloku `try/catch`.</span><span class="sxs-lookup"><span data-stu-id="49ce5-147">The code for this page is inside a `try/catch` block.</span></span> <span data-ttu-id="49ce5-148">Jeśli z jakiegoś powodu próba wysłania wiadomości e-mail nie działa (na przykład ustawienia nie są prawidłowe), kod w bloku `catch` jest uruchamiany i ustawia zmienną `errorMessage` na błąd, który wystąpił.</span><span class="sxs-lookup"><span data-stu-id="49ce5-148">If for any reason the attempt to send an email doesn't work (for example, the settings aren't right), the code in the `catch` block runs and sets the `errorMessage` variable to the error that has occurred.</span></span> <span data-ttu-id="49ce5-149">(Aby uzyskać więcej informacji na temat bloków `try/catch` lub tagu `<text>`, zobacz [wprowadzenie do ASP.NET stron sieci Web przy użyciu składni Razor](https://go.microsoft.com/fwlink/?LinkID=251587#ID_HandlingErrors)).</span><span class="sxs-lookup"><span data-stu-id="49ce5-149">(For more information about `try/catch` blocks or the `<text>` tag, see [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkID=251587#ID_HandlingErrors).)</span></span>

    <span data-ttu-id="49ce5-150">W treści strony, jeśli zmienna `errorMessage` jest pusta (wartość domyślna), użytkownik zobaczy komunikat informujący o wysłaniu wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-150">In the body of the page, if the `errorMessage` variable is empty (the default), the user sees a message that the email message has been sent.</span></span> <span data-ttu-id="49ce5-151">Jeśli zmienna `errorMessage` ma wartość true, użytkownik zobaczy komunikat, że wystąpił problem podczas wysyłania komunikatu.</span><span class="sxs-lookup"><span data-stu-id="49ce5-151">If the `errorMessage` variable is set to true, the user sees a message that there's been a problem sending the message.</span></span>

    <span data-ttu-id="49ce5-152">Zwróć uwagę, że w części strony, na której jest wyświetlany komunikat o błędzie, istnieje dodatkowy test: `if(debuggingFlag)`.</span><span class="sxs-lookup"><span data-stu-id="49ce5-152">Notice that in the portion of the page that displays an error message, there's an additional test: `if(debuggingFlag)`.</span></span> <span data-ttu-id="49ce5-153">Jest to zmienna, którą można ustawić na wartość true, jeśli masz problemy z wysyłaniem poczty e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-153">This is a variable that you can set to true if you're having trouble sending email.</span></span> <span data-ttu-id="49ce5-154">Gdy `debuggingFlag` ma wartość true, a jeśli wystąpi problem z wysłaniem wiadomości e-mail, zostanie wyświetlony dodatkowy komunikat o błędzie z informacjami o tym, co ASP.NET zgłosiła podczas próby wysłania wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-154">When `debuggingFlag` is true, and if there's a problem sending email, an additional error message is displayed that shows whatever ASP.NET has reported when it tried to send the email message.</span></span> <span data-ttu-id="49ce5-155">Ostrzeżenie uczciwe, chociaż: komunikaty o błędach, które ASP.NETą raporty, gdy nie można wysłać wiadomości e-mail mogą być ogólne.</span><span class="sxs-lookup"><span data-stu-id="49ce5-155">Fair warning, though: the error messages that ASP.NET reports when it can't send an email message can be generic.</span></span> <span data-ttu-id="49ce5-156">Na przykład jeśli ASP.NET nie może skontaktować się z serwerem SMTP (na przykład z powodu błędu w nazwie serwera), błąd jest `Failure sending mail`.</span><span class="sxs-lookup"><span data-stu-id="49ce5-156">For example, if ASP.NET can't contact the SMTP server (for example, because you made an error in the server name), the error is `Failure sending mail`.</span></span>

    > [!NOTE] 
    > 
    > <span data-ttu-id="49ce5-157">**Ważne** Po otrzymaniu komunikatu o błędzie z obiektu wyjątku (`ex` w kodzie *) nie należy rutynowo* przekazywać tego komunikatu do użytkowników.</span><span class="sxs-lookup"><span data-stu-id="49ce5-157">**Important** When you get an error message from an exception object (`ex` in the code), do *not* routinely pass that message through to users.</span></span> <span data-ttu-id="49ce5-158">Obiekty wyjątków często zawierają informacje, które nie powinny być widoczne dla użytkowników i które mogą nawet stanowić lukę w zabezpieczeniach.</span><span class="sxs-lookup"><span data-stu-id="49ce5-158">Exception objects often include information that users should not see and that can even be a security vulnerability.</span></span> <span data-ttu-id="49ce5-159">Dlatego ten kod zawiera zmienną `debuggingFlag`, która jest używana jako przełącznik do wyświetlania komunikatu o błędzie i dlaczego zmienna domyślnie ma wartość false.</span><span class="sxs-lookup"><span data-stu-id="49ce5-159">That's why this code includes the variable `debuggingFlag` that's used as a switch to display the error message, and why the variable by default is set to false.</span></span> <span data-ttu-id="49ce5-160">Należy ustawić tę zmienną na true (i w związku z tym wyświetlić komunikat o błędzie) *tylko* wtedy, gdy występuje problem z wysyłaniem poczty e-mail i należy debugować.</span><span class="sxs-lookup"><span data-stu-id="49ce5-160">You should set that variable to true (and therefore display the error message) *only* if you're having a problem with sending email and you need to debug.</span></span> <span data-ttu-id="49ce5-161">Po usunięciu wszelkich problemów Ustaw `debuggingFlag` z powrotem na wartość false.</span><span class="sxs-lookup"><span data-stu-id="49ce5-161">Once you have fixed any problems, set `debuggingFlag` back to false.</span></span>

    <span data-ttu-id="49ce5-162">Zmodyfikuj następujące ustawienia związane z pocztą e-mail w kodzie:</span><span class="sxs-lookup"><span data-stu-id="49ce5-162">Modify the following email related settings in the code:</span></span>

   - <span data-ttu-id="49ce5-163">Ustaw `your-SMTP-host` na nazwę serwera SMTP, do którego masz dostęp.</span><span class="sxs-lookup"><span data-stu-id="49ce5-163">Set `your-SMTP-host` to the name of the SMTP server that you have access to.</span></span>
   - <span data-ttu-id="49ce5-164">Ustaw `your-user-name-here` na nazwę użytkownika dla konta serwera SMTP.</span><span class="sxs-lookup"><span data-stu-id="49ce5-164">Set `your-user-name-here` to the user name for your SMTP server account.</span></span>
   - <span data-ttu-id="49ce5-165">Ustaw `your-account-password` na hasło dla konta serwera SMTP.</span><span class="sxs-lookup"><span data-stu-id="49ce5-165">Set `your-account-password` to the password for your SMTP server account.</span></span>
   - <span data-ttu-id="49ce5-166">Ustaw `your-email-address-here` na własny adres e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-166">Set `your-email-address-here` to your own email address.</span></span> <span data-ttu-id="49ce5-167">Jest to adres e-mail, z którego wiadomość jest wysyłana.</span><span class="sxs-lookup"><span data-stu-id="49ce5-167">This is the email address that the message is sent from.</span></span> <span data-ttu-id="49ce5-168">(Niektórzy dostawcy poczty e-mail nie umożliwiają określania innego adresu `From` i będą używać nazwy użytkownika jako adresu `From`).</span><span class="sxs-lookup"><span data-stu-id="49ce5-168">(Some email providers don't let you specify a different `From` address and will use your user name as the `From` address.)</span></span>

     > [!TIP] 
     > 
     > <a id="configuring_email_settings"></a>
     > ### <a name="configuring-email-settings"></a><span data-ttu-id="49ce5-169">Konfigurowanie ustawień poczty E-mail</span><span class="sxs-lookup"><span data-stu-id="49ce5-169">Configuring Email Settings</span></span>
     > 
     > <span data-ttu-id="49ce5-170">Może być wyzwaniem czasami, aby upewnić się, że masz odpowiednie ustawienia dla serwera SMTP, numeru portu i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="49ce5-170">It can be a challenge sometimes to make sure you have the right settings for the SMTP server, port number, and so on.</span></span> <span data-ttu-id="49ce5-171">Oto kilka porad:</span><span class="sxs-lookup"><span data-stu-id="49ce5-171">Here are a few tips:</span></span>
     > 
     > - <span data-ttu-id="49ce5-172">Nazwa serwera SMTP często jest taka sama jak `smtp.provider.com` lub `smtp.provider.net`.</span><span class="sxs-lookup"><span data-stu-id="49ce5-172">The SMTP server name is often something like `smtp.provider.com` or `smtp.provider.net`.</span></span> <span data-ttu-id="49ce5-173">Jednak w przypadku opublikowania lokacji w ramach dostawcy hostingu nazwa serwera SMTP może być `localhost`.</span><span class="sxs-lookup"><span data-stu-id="49ce5-173">However, if you publish your site to a hosting provider, the SMTP server name at that point might be `localhost`.</span></span> <span data-ttu-id="49ce5-174">Jest to spowodowane tym, że po opublikowaniu i uruchomieniu lokacji na serwerze dostawcy serwer poczty e-mail może być lokalnym z perspektywy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="49ce5-174">This is because after you've published and your site is running on the provider's server, the email server might be local from the perspective of your application.</span></span> <span data-ttu-id="49ce5-175">Ta zmiana nazw serwerów może oznaczać konieczność zmiany nazwy serwera SMTP w ramach procesu publikowania.</span><span class="sxs-lookup"><span data-stu-id="49ce5-175">This change in server names might mean you have to change the SMTP server name as part of your publishing process.</span></span>
     > - <span data-ttu-id="49ce5-176">Numer portu to zwykle 25.</span><span class="sxs-lookup"><span data-stu-id="49ce5-176">The port number is usually 25.</span></span> <span data-ttu-id="49ce5-177">Jednak niektórzy dostawcy wymagają użycia portu 587 lub innego portu.</span><span class="sxs-lookup"><span data-stu-id="49ce5-177">However, some providers require you to use port 587 or some other port.</span></span>
     > - <span data-ttu-id="49ce5-178">Upewnij się, że używasz odpowiednich poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="49ce5-178">Make sure that you use the right credentials.</span></span> <span data-ttu-id="49ce5-179">Jeśli witryna została opublikowana w ramach dostawcy hostingu, Użyj poświadczeń, które zostały wskazane przez dostawcę jako wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-179">If you've published your site to a hosting provider, use the credentials that the provider has specifically indicated are for email.</span></span> <span data-ttu-id="49ce5-180">Mogą się one różnić od poświadczeń używanych do publikowania.</span><span class="sxs-lookup"><span data-stu-id="49ce5-180">These might be different from the credentials you use to publish.</span></span>
     > - <span data-ttu-id="49ce5-181">Czasami nie potrzebujesz poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="49ce5-181">Sometimes you don't need credentials at all.</span></span> <span data-ttu-id="49ce5-182">W przypadku wysyłania wiadomości e-mail przy użyciu osobistego usługodawcy internetowego Twój dostawca poczty e-mail może już znać Twoje poświadczenia.</span><span class="sxs-lookup"><span data-stu-id="49ce5-182">If you're sending email using your personal ISP, your email provider might already know your credentials.</span></span> <span data-ttu-id="49ce5-183">Po opublikowaniu programu może być konieczne użycie innych poświadczeń niż podczas testowania na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="49ce5-183">After you publish, you might need to use different credentials than when you test on your local computer.</span></span>
     > - <span data-ttu-id="49ce5-184">Jeśli Twój dostawca poczty e-mail używa szyfrowania, musisz ustawić `WebMail.EnableSsl`, aby `true`.</span><span class="sxs-lookup"><span data-stu-id="49ce5-184">If your email provider uses encryption, you have to set `WebMail.EnableSsl` to `true`.</span></span>
4. <span data-ttu-id="49ce5-185">Uruchom stronę *EmailRequest. cshtml* w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="49ce5-185">Run the *EmailRequest.cshtml* page in a browser.</span></span> <span data-ttu-id="49ce5-186">(Upewnij się, że strona została wybrana w obszarze roboczym **pliki** przed jej uruchomieniem).</span><span class="sxs-lookup"><span data-stu-id="49ce5-186">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
5. <span data-ttu-id="49ce5-187">Wprowadź nazwę i opis problemu, a następnie kliknij przycisk **Prześlij** .</span><span class="sxs-lookup"><span data-stu-id="49ce5-187">Enter your name and a problem description, and then click the **Submit** button.</span></span> <span data-ttu-id="49ce5-188">Nastąpi przekierowanie do strony *ProcessRequest. cshtml* , która potwierdzi komunikat, a następnie wyśle wiadomość e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-188">You're redirected to the *ProcessRequest.cshtml* page, which confirms your message and which sends you an email message.</span></span> 

    ![Image](11-adding-email-to-your-web-site/_static/image2.jpg)

<a id="Sending_a_File"></a>
## <a name="sending-a-file-using-email"></a><span data-ttu-id="49ce5-190">Wysyłanie pliku przy użyciu poczty E-mail</span><span class="sxs-lookup"><span data-stu-id="49ce5-190">Sending a File Using Email</span></span>

<span data-ttu-id="49ce5-191">Możesz również wysyłać pliki dołączone do wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-191">You can also send files that are attached to email messages.</span></span> <span data-ttu-id="49ce5-192">W tej procedurze utworzysz plik tekstowy i dwie strony HTML.</span><span class="sxs-lookup"><span data-stu-id="49ce5-192">In this procedure, you create a text file and two HTML pages.</span></span> <span data-ttu-id="49ce5-193">Plik tekstowy będzie używany jako załącznik wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-193">You'll use the text file as an email attachment.</span></span>

1. <span data-ttu-id="49ce5-194">W witrynie sieci Web Dodaj nowy plik tekstowy i nadaj mu nazwę plik *. txt*.</span><span class="sxs-lookup"><span data-stu-id="49ce5-194">In the website, add a new text file and name it *MyFile.txt*.</span></span>
2. <span data-ttu-id="49ce5-195">Skopiuj poniższy tekst i wklej go w pliku:</span><span class="sxs-lookup"><span data-stu-id="49ce5-195">Copy the following text and paste it in the file:</span></span> 

    `Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.`
3. <span data-ttu-id="49ce5-196">Utwórz stronę o nazwie *SendFile. cshtml* i Dodaj następujące znaczniki:</span><span class="sxs-lookup"><span data-stu-id="49ce5-196">Create a page named *SendFile.cshtml* and add the following markup:</span></span> 

    [!code-html[Main](11-adding-email-to-your-web-site/samples/sample3.html)]
4. <span data-ttu-id="49ce5-197">Utwórz stronę o nazwie *ProcessFile. cshtml* i Dodaj następujące znaczniki:</span><span class="sxs-lookup"><span data-stu-id="49ce5-197">Create a page named *ProcessFile.cshtml* and add the following markup:</span></span> 

    [!code-cshtml[Main](11-adding-email-to-your-web-site/samples/sample4.cshtml)]
5. <span data-ttu-id="49ce5-198">Zmodyfikuj następujące ustawienia związane z pocztą e-mail w kodzie z przykładu:</span><span class="sxs-lookup"><span data-stu-id="49ce5-198">Modify the following email related settings in the code from the example:</span></span>

    - <span data-ttu-id="49ce5-199">Ustaw `your-SMTP-host` na nazwę serwera SMTP, do którego masz dostęp.</span><span class="sxs-lookup"><span data-stu-id="49ce5-199">Set `your-SMTP-host` to the name of an SMTP server that you have access to.</span></span>
    - <span data-ttu-id="49ce5-200">Ustaw `your-user-name-here` na nazwę użytkownika dla konta serwera SMTP.</span><span class="sxs-lookup"><span data-stu-id="49ce5-200">Set `your-user-name-here` to the user name for your SMTP server account.</span></span>
    - <span data-ttu-id="49ce5-201">Ustaw `your-email-address-here` na własny adres e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-201">Set `your-email-address-here` to your own email address.</span></span> <span data-ttu-id="49ce5-202">Jest to adres e-mail, z którego wiadomość jest wysyłana.</span><span class="sxs-lookup"><span data-stu-id="49ce5-202">This is the email address that the message is sent from.</span></span>
    - <span data-ttu-id="49ce5-203">Ustaw `your-account-password` na hasło dla konta serwera SMTP.</span><span class="sxs-lookup"><span data-stu-id="49ce5-203">Set `your-account-password` to the password for your SMTP server account.</span></span>
    - <span data-ttu-id="49ce5-204">Ustaw `target-email-address-here` na własny adres e-mail.</span><span class="sxs-lookup"><span data-stu-id="49ce5-204">Set `target-email-address-here` to your own email address.</span></span> <span data-ttu-id="49ce5-205">(Tak jak wcześniej, zazwyczaj wysyłamy wiadomość e-mail do kogoś innego, ale w celu testowania można wysłać ją do siebie).</span><span class="sxs-lookup"><span data-stu-id="49ce5-205">(As before, you'd normally send an email to someone else, but for testing, you can send it to yourself.)</span></span>
6. <span data-ttu-id="49ce5-206">Uruchom stronę *SendFile. cshtml* w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="49ce5-206">Run the *SendFile.cshtml* page in a browser.</span></span>
7. <span data-ttu-id="49ce5-207">Wprowadź swoje imię i nazwisko, wiersz tematu oraz nazwę pliku tekstowego do dołączenia (*plik. txt*).</span><span class="sxs-lookup"><span data-stu-id="49ce5-207">Enter your name, a subject line, and the name of the text file to attach (*MyFile.txt*).</span></span>
8. <span data-ttu-id="49ce5-208">Kliknij przycisk `Submit`.</span><span class="sxs-lookup"><span data-stu-id="49ce5-208">Click the `Submit` button.</span></span> <span data-ttu-id="49ce5-209">Jak wcześniej, nastąpi przekierowanie do strony *ProcessFile. cshtml* , która potwierdzi komunikat, a następnie wysyła wiadomość e-mail z dołączonym plikiem.</span><span class="sxs-lookup"><span data-stu-id="49ce5-209">As before, you're redirected to the *ProcessFile.cshtml* page, which confirms your message and which sends you an email message with the attached file.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="49ce5-210">Dodatkowe materiały</span><span class="sxs-lookup"><span data-stu-id="49ce5-210">Additional Resources</span></span>

- [<span data-ttu-id="49ce5-211">Przewodnik rozwiązywania problemów ze wzorcem ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="49ce5-211">ASP.NET Web Pages (Razor) Troubleshooting Guide</span></span>](https://go.microsoft.com/fwlink/?LinkId=253001)
- [<span data-ttu-id="49ce5-212">Simple Mail Transfer Protocol</span><span class="sxs-lookup"><span data-stu-id="49ce5-212">Simple Mail Transfer Protocol</span></span>](https://msdn.microsoft.com/library/aa480435.aspx)
- [<span data-ttu-id="49ce5-213">Dostosowywanie zachowania całej witryny dla stron sieci Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="49ce5-213">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
