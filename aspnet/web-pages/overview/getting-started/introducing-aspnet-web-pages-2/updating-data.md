---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
title: Wprowadzenie do składnika ASP.NET Web Pages — aktualizowanie danych bazy danych | Dokumentacja firmy Microsoft
author: Rick-Anderson
description: W tym samouczku dowiesz się, jak zaktualizować wpis (Zmień) istniejącej bazy danych, korzystając z ASP.NET Web Pages (Razor). Przyjęto założenie, że zostały wykonane serii th...
ms.author: riande
ms.date: 01/02/2018
ms.assetid: ac86ec9c-6b69-485b-b9e0-8b9127b13e6b
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
msc.type: authoredcontent
ms.openlocfilehash: 4542ad3ac3e321629bb4de3cd4df12c22ff6cb20
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/09/2019
ms.locfileid: "59414624"
---
# <a name="introducing-aspnet-web-pages---updating-database-data"></a><span data-ttu-id="00d2a-104">Wprowadzenie do wzorca ASP.NET Web Pages — aktualizowanie danych bazy danych</span><span class="sxs-lookup"><span data-stu-id="00d2a-104">Introducing ASP.NET Web Pages - Updating Database Data</span></span>

<span data-ttu-id="00d2a-105">przez [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="00d2a-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="00d2a-106">W tym samouczku dowiesz się, jak zaktualizować wpis (Zmień) istniejącej bazy danych, korzystając z ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="00d2a-106">This tutorial shows you how to update (change) an existing database entry when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="00d2a-107">Przyjęto założenie, że zostały wykonane serii za pośrednictwem [wprowadzanie danych przez przy użyciu formularzy przy użyciu stron ASP.NET Web Pages](entering-data.md).</span><span class="sxs-lookup"><span data-stu-id="00d2a-107">It assumes you have completed the series through [Entering Data by Using Forms Using ASP.NET Web Pages](entering-data.md).</span></span>
> 
> <span data-ttu-id="00d2a-108">Zawartość:</span><span class="sxs-lookup"><span data-stu-id="00d2a-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="00d2a-109">Jak wybrać rekord `WebGrid` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="00d2a-109">How to select an individual record in the `WebGrid` helper.</span></span>
> - <span data-ttu-id="00d2a-110">Jak odczytać pojedynczy rekord z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-110">How to read a single record from a database.</span></span>
> - <span data-ttu-id="00d2a-111">Sposób wstępnego ładowania formularza z wartościami z rekordu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-111">How to preload a form with values from the database record.</span></span>
> - <span data-ttu-id="00d2a-112">Jak zaktualizować istniejący rekord w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-112">How to update an existing record in a database.</span></span>
> - <span data-ttu-id="00d2a-113">Sposób przechowywania informacji na stronie bez wyświetlania go.</span><span class="sxs-lookup"><span data-stu-id="00d2a-113">How to store information in the page without displaying it.</span></span>
> - <span data-ttu-id="00d2a-114">Sposób przechowywania informacji przy użyciu ukrytego pola.</span><span class="sxs-lookup"><span data-stu-id="00d2a-114">How to use a hidden field to store information.</span></span>
>   
> 
> <span data-ttu-id="00d2a-115">Funkcje/technologie omówione:</span><span class="sxs-lookup"><span data-stu-id="00d2a-115">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="00d2a-116">`WebGrid` Pomocnika.</span><span class="sxs-lookup"><span data-stu-id="00d2a-116">The `WebGrid` helper.</span></span>
> - <span data-ttu-id="00d2a-117">SQL `Update` polecenia.</span><span class="sxs-lookup"><span data-stu-id="00d2a-117">The SQL `Update` command.</span></span>
> - <span data-ttu-id="00d2a-118">`Database.Execute` Metody.</span><span class="sxs-lookup"><span data-stu-id="00d2a-118">The `Database.Execute` method.</span></span>
> - <span data-ttu-id="00d2a-119">Ukryte pola (`<input type="hidden">`).</span><span class="sxs-lookup"><span data-stu-id="00d2a-119">Hidden fields (`<input type="hidden">`).</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="00d2a-120">Jakie będziesz tworzyć</span><span class="sxs-lookup"><span data-stu-id="00d2a-120">What You'll Build</span></span>

<span data-ttu-id="00d2a-121">W poprzednim samouczku przedstawiono sposób dodawania rekord do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-121">In the previous tutorial, you learned how to add a record to a database.</span></span> <span data-ttu-id="00d2a-122">Tutaj dowiesz się, jak wyświetlania rekordu do edycji.</span><span class="sxs-lookup"><span data-stu-id="00d2a-122">Here, you'll learn how to display a record for editing.</span></span> <span data-ttu-id="00d2a-123">W *filmy* stronie będą aktualizowane `WebGrid` pomocnika, tak że wyświetla **Edytuj** łącze obok każdego filmu:</span><span class="sxs-lookup"><span data-stu-id="00d2a-123">In the *Movies* page, you'll update the `WebGrid` helper so that it displays an **Edit** link next to each movie:</span></span>

![WebGrid wyświetlania, w tym link "Edytuj", dla każdego filmu](updating-data/_static/image1.png)

<span data-ttu-id="00d2a-125">Po kliknięciu **Edytuj** łącza, spowoduje to przejście do innej strony, której informacje film jest już w postaci:</span><span class="sxs-lookup"><span data-stu-id="00d2a-125">When you click the **Edit** link, it takes you to a different page, where the movie information is already in a form:</span></span>

![Edytuj stronę Film przedstawiający film, aby go edytować](updating-data/_static/image2.png)

<span data-ttu-id="00d2a-127">Możesz zmienić wartości.</span><span class="sxs-lookup"><span data-stu-id="00d2a-127">You can change any of the values.</span></span> <span data-ttu-id="00d2a-128">Po przesłaniu zmian kodu na stronie aktualizuje bazę danych i umożliwia powrót do listy filmów.</span><span class="sxs-lookup"><span data-stu-id="00d2a-128">When you submit the changes, the code in the page updates the database and takes you back to the movie listing.</span></span>

<span data-ttu-id="00d2a-129">Ta część procesu działa prawie dokładnie tak, jak *AddMovie.cshtml* strony utworzonego w poprzednim samouczku tak wiele części tego samouczka nie będą niczym nowym.</span><span class="sxs-lookup"><span data-stu-id="00d2a-129">This part of the process works almost exactly like the *AddMovie.cshtml* page you created in the previous tutorial, so much of this tutorial will be familiar.</span></span>

<span data-ttu-id="00d2a-130">Istnieje kilka sposobów, które można zaimplementować sposobem edytowania filmu indywidualnych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-130">There are several ways you could implement a way to edit an individual movie.</span></span> <span data-ttu-id="00d2a-131">To podejście pokazano została wybrana, ponieważ jest łatwe do wdrożenia i łatwe do zrozumienia.</span><span class="sxs-lookup"><span data-stu-id="00d2a-131">The approach shown was chosen because it's easy to implement and easy to understand.</span></span>

## <a name="adding-an-edit-link-to-the-movie-listing"></a><span data-ttu-id="00d2a-132">Dodanie Link edycji do listy filmu</span><span class="sxs-lookup"><span data-stu-id="00d2a-132">Adding an Edit Link to the Movie Listing</span></span>

<span data-ttu-id="00d2a-133">Aby rozpocząć, zaktualizujesz *filmy* stronie, dzięki czemu każdy film również lista zawiera **Edytuj** łącza.</span><span class="sxs-lookup"><span data-stu-id="00d2a-133">To begin, you'll update the *Movies* page so that each movie listing also contains an **Edit** link.</span></span>

<span data-ttu-id="00d2a-134">Otwórz *Movies.cshtml* pliku.</span><span class="sxs-lookup"><span data-stu-id="00d2a-134">Open the *Movies.cshtml* file.</span></span>

<span data-ttu-id="00d2a-135">W treści strony Zmień `WebGrid` znaczników przez dodanie kolumny.</span><span class="sxs-lookup"><span data-stu-id="00d2a-135">In the body of the page, change the `WebGrid` markup by adding a column.</span></span> <span data-ttu-id="00d2a-136">Oto znaczniki zmodyfikowane:</span><span class="sxs-lookup"><span data-stu-id="00d2a-136">Here's the modified markup:</span></span>

[!code-html[Main](updating-data/samples/sample1.html?highlight=6)]

<span data-ttu-id="00d2a-137">Nowa kolumna jest to:</span><span class="sxs-lookup"><span data-stu-id="00d2a-137">The new column is this one:</span></span>

[!code-html[Main](updating-data/samples/sample2.html)]

<span data-ttu-id="00d2a-138">Punkt w tej kolumnie jest wyświetlany link (`<a>` elementu) którego tekst jest wyświetlany komunikat "Edytuj".</span><span class="sxs-lookup"><span data-stu-id="00d2a-138">The point of this column is to show a link (`<a>` element) whose text says "Edit".</span></span> <span data-ttu-id="00d2a-139">Interesuje nas polega na utworzeniu łącza, który wygląda podobnie do poniższego, po uruchomieniu na stronie, z `id` wartość dla każdego filmu różnią się od:</span><span class="sxs-lookup"><span data-stu-id="00d2a-139">What we're after is to create a link that looks like the following when the page runs, with the `id` value different for each movie:</span></span>

[!code-css[Main](updating-data/samples/sample3.css)]

<span data-ttu-id="00d2a-140">Ten link spowoduje wywołanie stronę o nazwie *EditMovie*, i zostaną przetworzone w ciągu zapytania `?id=7` do tej strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-140">This link will invoke a page named *EditMovie*, and it will pass the query string `?id=7` to that page.</span></span>

<span data-ttu-id="00d2a-141">Składnia służąca do nowej kolumny, która może wyglądać nieco złożone, ale to tylko w przypadku, dlatego umieszcza je ze sobą kilku elementów.</span><span class="sxs-lookup"><span data-stu-id="00d2a-141">The syntax for the new column might look a bit complex, but that's only because it puts together several elements.</span></span> <span data-ttu-id="00d2a-142">Każdego pojedynczego elementu jest bardzo proste.</span><span class="sxs-lookup"><span data-stu-id="00d2a-142">Each individual element is straightforward.</span></span> <span data-ttu-id="00d2a-143">Jeśli możesz skoncentrować się na tylko `<a>` elementu, zobacz ten kod znaczników:</span><span class="sxs-lookup"><span data-stu-id="00d2a-143">If you concentrate on just the `<a>` element, you see this markup:</span></span>

[!code-html[Main](updating-data/samples/sample4.html)]

<span data-ttu-id="00d2a-144">Podstawowe informacje dotyczące sposobu działania siatki: Siatka wyświetla wiersze, jeden dla każdego rekordu bazy danych i wyświetla kolumny dla każdego pola w rekordzie bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-144">Some background about how the grid works: the grid displays rows, one for each database record, and it displays columns for each field in the database record.</span></span> <span data-ttu-id="00d2a-145">Podczas każdego wiersza siatki jest budowany, `item` obiekt zawiera rekord bazy danych (element) dla tego wiersza.</span><span class="sxs-lookup"><span data-stu-id="00d2a-145">While each grid row is being constructed, the `item` object contains the database record (item) for that row.</span></span> <span data-ttu-id="00d2a-146">Taki układ zapewnia sposób w kodzie można pobrać danych dla tego wiersza.</span><span class="sxs-lookup"><span data-stu-id="00d2a-146">This arrangement gives you a way in code to get at the data for that row.</span></span> <span data-ttu-id="00d2a-147">Jest to, co widzicie tutaj: wyrażenie `item.ID` otrzymuje wartość Identyfikatora elementu bieżącej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-147">That's what you see here: the expression `item.ID` is getting the ID value of the current database item.</span></span> <span data-ttu-id="00d2a-148">Można uzyskać wartości bazy danych (tytuł, gatunku lub rok) tak samo za pomocą `item.Title`, `item.Genre`, lub `item.Year`.</span><span class="sxs-lookup"><span data-stu-id="00d2a-148">You could get any of the database values (title, genre, or year) the same way by using `item.Title`, `item.Genre`, or `item.Year`.</span></span>

<span data-ttu-id="00d2a-149">Wyrażenie `"~/EditMovie?id=@item.ID` łączy część zakodowanych docelowy adres URL (`~/EditMovie?id=`) z tym identyfikatorem dynamicznie pochodnych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-149">The expression `"~/EditMovie?id=@item.ID` combines the hard-coded part of the target URL (`~/EditMovie?id=`) with this dynamically derived ID.</span></span> <span data-ttu-id="00d2a-150">(Wystąpił `~` operatora w poprzednim samouczku; jest operator programu ASP.NET, który reprezentuje bieżący katalog główny witryny sieci Web.)</span><span class="sxs-lookup"><span data-stu-id="00d2a-150">(You saw the `~` operator in the previous tutorial; it's an ASP.NET operator that represents the current website root.)</span></span>

<span data-ttu-id="00d2a-151">Wynik jest, że ta część znaczników w kolumnie po prostu tworzy podobny do niej następujące znaczniki w czasie wykonywania:</span><span class="sxs-lookup"><span data-stu-id="00d2a-151">The result is that this part of the markup in the column simply produces something like the following markup at run time:</span></span>

[!code-xml[Main](updating-data/samples/sample5.xml)]

<span data-ttu-id="00d2a-152">Oczywiście rzeczywistej wartości `id` będą inne dla każdego wiersza.</span><span class="sxs-lookup"><span data-stu-id="00d2a-152">Naturally, the actual value of `id` will be different for each row.</span></span>

## <a name="creating-a-custom-display-for-a-grid-column"></a><span data-ttu-id="00d2a-153">Tworzenie niestandardowego wyświetlania kolumny siatki</span><span class="sxs-lookup"><span data-stu-id="00d2a-153">Creating a Custom Display for a Grid Column</span></span>

<span data-ttu-id="00d2a-154">Teraz z powrotem do kolumny siatki.</span><span class="sxs-lookup"><span data-stu-id="00d2a-154">Now back to the grid column.</span></span> <span data-ttu-id="00d2a-155">Trzy kolumny pierwotnie było w siatce wyświetlane tylko wartości danych (tytuł, gatunku i roku).</span><span class="sxs-lookup"><span data-stu-id="00d2a-155">The three columns you originally had in the grid displayed only data values (title, genre, and year).</span></span> <span data-ttu-id="00d2a-156">Na tym ekranie jest określony, przekazując nazwę kolumny bazy danych &mdash; na przykład `grid.Column("Title")`.</span><span class="sxs-lookup"><span data-stu-id="00d2a-156">You specified this display by passing the name of the database column &mdash; for example, `grid.Column("Title")`.</span></span>

<span data-ttu-id="00d2a-157">Ta nowa **Edytuj** różni się kolumnie łącze.</span><span class="sxs-lookup"><span data-stu-id="00d2a-157">This new **Edit** link column is different.</span></span> <span data-ttu-id="00d2a-158">Zamiast określania nazwy kolumny, przechodząc `format` parametru.</span><span class="sxs-lookup"><span data-stu-id="00d2a-158">Instead of specifying a column name, you're passing a `format` parameter.</span></span> <span data-ttu-id="00d2a-159">Ten parametr umożliwia definiowanie znaczników, `WebGrid` pomocnika spowoduje, że wraz z `item` wartości do wyświetlenia danych kolumny jako pogrubiony lub zielonym lub w formacie tego.</span><span class="sxs-lookup"><span data-stu-id="00d2a-159">This parameter lets you define markup that the `WebGrid` helper will render along with the `item` value to display the column data as bold or green or in whatever format that you want.</span></span> <span data-ttu-id="00d2a-160">Na przykład jeśli chce się tytuł pogrubionych, można utworzyć kolumnę, tak jak ten przykład:</span><span class="sxs-lookup"><span data-stu-id="00d2a-160">For example, if you wanted the title to appear bold, you could create a column like this example:</span></span>

[!code-html[Main](updating-data/samples/sample6.html)]

<span data-ttu-id="00d2a-161">(Różne `@` znaki widoczne w `format` właściwość oznaczyć przejścia między kodzie znaczników oraz wartość kodu.)</span><span class="sxs-lookup"><span data-stu-id="00d2a-161">(The various `@` characters you see in the `format` property mark the transition between markup and a code value.)</span></span>

<span data-ttu-id="00d2a-162">Po wiedzieć o `format` właściwości, łatwiej jest zrozumieć, jak nowe **Edytuj** Podsumowując kolumnie łącze:</span><span class="sxs-lookup"><span data-stu-id="00d2a-162">Once you know about the `format` property, it's easier to understand how the new **Edit** link column is put together:</span></span>

[!code-html[Main](updating-data/samples/sample7.html)]

<span data-ttu-id="00d2a-163">Kolumna zawiera *tylko* z kodu znaczników, który renderuje łącze, oraz pewne informacje (ID), są wyodrębniane z rekordu bazy danych dla wiersza.</span><span class="sxs-lookup"><span data-stu-id="00d2a-163">The column consists *only* of the markup that renders the link, plus some information (the ID) that's extracted from the database record for the row.</span></span>

> [!TIP]
> 
> **<span data-ttu-id="00d2a-164">Nazwane parametry i parametry pozycyjne dla metody</span><span class="sxs-lookup"><span data-stu-id="00d2a-164">Named Parameters and Positional Parameters for a Method</span></span>**
> 
> <span data-ttu-id="00d2a-165">Wiele razy podczas już wywołuje metodę i przekazania parametrów do niego, można po prostu wymieniono wartości parametrów, oddzielonych przecinkami.</span><span class="sxs-lookup"><span data-stu-id="00d2a-165">Many times when you've called a method and passed parameters to it, you've simply listed the parameter values separated by commas.</span></span> <span data-ttu-id="00d2a-166">Poniżej przedstawiono kilka przykładów:</span><span class="sxs-lookup"><span data-stu-id="00d2a-166">Here are a couple of examples:</span></span>
> 
> `db.Execute(insertCommand, title, genre, year)`
> 
> `Validation.RequireField("title", "You must enter a title")`
> 
> <span data-ttu-id="00d2a-167">Firma Microsoft nie wspomnieć o ten problem, gdy najpierw widoczny ten kod, ale w każdym przypadku jest przekazywanie parametrów do metod w określonej kolejności &mdash; , kolejność, w której parametry są zdefiniowane w tej metodzie.</span><span class="sxs-lookup"><span data-stu-id="00d2a-167">We didn't mention the issue when you first saw this code, but in each case, you're passing parameters to the methods in a specific order &mdash; namely, the order in which the parameters are defined in that method.</span></span> <span data-ttu-id="00d2a-168">Aby uzyskać `db.Execute` i `Validation.RequireFields`, jeśli mieszana kolejność wartości, należy przekazać, otrzyma komunikat o błędzie po uruchomieniu na stronie lub co najmniej kilku dziwne wyników.</span><span class="sxs-lookup"><span data-stu-id="00d2a-168">For `db.Execute` and `Validation.RequireFields`, if you mixed up the order of the values you pass, you'd get an error message when the page runs, or at least some strange results.</span></span> <span data-ttu-id="00d2a-169">Wyraźnie widać trzeba znać kolejności do przekazania parametrów w.</span><span class="sxs-lookup"><span data-stu-id="00d2a-169">Clearly, you have to know the order to pass the parameters in.</span></span> <span data-ttu-id="00d2a-170">(W programie WebMatrix, IntelliSense mogą pomóc nauczyć się ustalenie nazwa, typ i kolejność parametrów.)</span><span class="sxs-lookup"><span data-stu-id="00d2a-170">(In WebMatrix, IntelliSense can help you learn figure out the name, type, and order of the parameters.)</span></span>
> 
> <span data-ttu-id="00d2a-171">Jako alternatywę do przekazywania wartości w kolejności, można użyć *nazwanych parametrów*.</span><span class="sxs-lookup"><span data-stu-id="00d2a-171">As an alternative to passing values in order, you can use *named parameters*.</span></span> <span data-ttu-id="00d2a-172">(Przekazywanie parametrów w kolejności jest znany jako przy użyciu *parametry pozycyjne*.) Dla nazwanych parametrów jawnie dołączysz nazwę parametru podczas przekazywania jego wartość.</span><span class="sxs-lookup"><span data-stu-id="00d2a-172">(Passing parameters in order is known as using *positional parameters*.) For named parameters, you explicitly include the name of the parameter when passing its value.</span></span> <span data-ttu-id="00d2a-173">Wykorzystano nazwanych parametrów już kilka razy w tych samouczkach.</span><span class="sxs-lookup"><span data-stu-id="00d2a-173">You've used named parameters already a number of times in these tutorials.</span></span> <span data-ttu-id="00d2a-174">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="00d2a-174">For example:</span></span>
> 
> [!code-csharp[Main](updating-data/samples/sample8.cs)]
> 
> <span data-ttu-id="00d2a-175">and</span><span class="sxs-lookup"><span data-stu-id="00d2a-175">and</span></span>
> 
> [!code-css[Main](updating-data/samples/sample9.css)]
> 
> <span data-ttu-id="00d2a-176">Nazwane parametry są przydatne w kilku przypadkach, szczególnie w przypadku, gdy metoda pobiera wiele parametrów.</span><span class="sxs-lookup"><span data-stu-id="00d2a-176">Named parameters are handy for a couple of situations, especially when a method takes many parameters.</span></span> <span data-ttu-id="00d2a-177">Jeden jest, gdy chcesz przekazać tylko jeden lub dwa parametry, ale wartości, które mają być przekazane nie znajdują się wśród pierwszej pozycji na liście parametrów.</span><span class="sxs-lookup"><span data-stu-id="00d2a-177">One is when you want to pass only one or two parameters, but the values you want to pass are not among the first positions in the parameter list.</span></span> <span data-ttu-id="00d2a-178">Inny sytuacja jest, jeśli chcesz kod był bardziej czytelny, przekazując parametry w kolejności najodpowiedniejszy dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="00d2a-178">Another situation is when you want to make your code more readable by passing the parameters in the order that makes the most sense to you.</span></span>
> 
> <span data-ttu-id="00d2a-179">Oczywiście Aby użyć parametrów nazwanych, trzeba znać nazwy parametrów.</span><span class="sxs-lookup"><span data-stu-id="00d2a-179">Obviously, to use named parameters, you have to know the names of the parameters.</span></span> <span data-ttu-id="00d2a-180">Funkcja IntelliSense programu WebMatrix można *Pokaż* nazwy, ale nie można obecnie wypełnieniu je dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="00d2a-180">WebMatrix IntelliSense can *show* you the names, but it cannot currently fill them in for you.</span></span>


## <a name="creating-the-edit-page"></a><span data-ttu-id="00d2a-181">Tworzenie strony edycji</span><span class="sxs-lookup"><span data-stu-id="00d2a-181">Creating the Edit Page</span></span>

<span data-ttu-id="00d2a-182">Teraz możesz utworzyć *EditMovie* strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-182">Now you can create the *EditMovie* page.</span></span> <span data-ttu-id="00d2a-183">Gdy użytkownik kliknie **Edytuj** łącza, są one będzie umieszczane na tej stronie.</span><span class="sxs-lookup"><span data-stu-id="00d2a-183">When users click the **Edit** link, they'll end up on this page.</span></span>

<span data-ttu-id="00d2a-184">Utwórz stronę o nazwie *EditMovie.cshtml* i Zamień, co znajduje się w pliku następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="00d2a-184">Create a page named *EditMovie.cshtml* and replace what's in the file with the following markup:</span></span>

[!code-cshtml[Main](updating-data/samples/sample10.cshtml)]

<span data-ttu-id="00d2a-185">Ta znaczników i kodu jest podobne do posiadane przez Ciebie *AddMovie* strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-185">This markup and code is similar to what you have in the *AddMovie* page.</span></span> <span data-ttu-id="00d2a-186">Istnieje niewielka różnica w tekst dla przycisku Prześlij.</span><span class="sxs-lookup"><span data-stu-id="00d2a-186">There's a small difference in the text for the submit button.</span></span> <span data-ttu-id="00d2a-187">Podobnie jak w przypadku *AddMovie* stronie znajduje się `Html.ValidationSummary` wywołania, które będą wyświetlane błędy sprawdzania poprawności, jeśli istnieją.</span><span class="sxs-lookup"><span data-stu-id="00d2a-187">As with the *AddMovie* page, there's an `Html.ValidationSummary` call that will display validation errors if there are any.</span></span> <span data-ttu-id="00d2a-188">Teraz możemy teraz pomijając wywołania `Validation.Message`na to, że błędy będą wyświetlane w podsumowania weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="00d2a-188">This time we're leaving out calls to `Validation.Message`, since errors will be displayed in the validation summary.</span></span> <span data-ttu-id="00d2a-189">Jak wspomniano w poprzednim samouczku, można użyć podsumowania weryfikacji i komunikaty o błędach poszczególnych w różnych kombinacjach.</span><span class="sxs-lookup"><span data-stu-id="00d2a-189">As noted in the previous tutorial, you can use the validation summary and the individual error messages in various combinations.</span></span>

<span data-ttu-id="00d2a-190">Ponownie Zauważ, że `method` atrybutu `<form>` element jest ustawiony na wartość `post`.</span><span class="sxs-lookup"><span data-stu-id="00d2a-190">Notice again that the `method` attribute of the `<form>` element is set to `post`.</span></span> <span data-ttu-id="00d2a-191">Podobnie jak w przypadku *AddMovie.cshtml* strony, ta strona sprawia, że zmiany do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-191">As with the *AddMovie.cshtml* page, this page makes changes to the database.</span></span> <span data-ttu-id="00d2a-192">W związku z tym, należy wykonać ten formularz `POST` operacji.</span><span class="sxs-lookup"><span data-stu-id="00d2a-192">Therefore, this form should perform a `POST` operation.</span></span> <span data-ttu-id="00d2a-193">(Aby uzyskać więcej informacji o różnicach między `GET` i `POST` operacji, zobacz [GET, POST i bezpieczeństwa zlecenie HTTP](form-basics.md#GET,_POST,_and_HTTP_Verb_Safety) paska bocznego w tym samouczku w formularzach HTML.)</span><span class="sxs-lookup"><span data-stu-id="00d2a-193">(For more about the difference between `GET` and `POST` operations, see the [GET, POST, and HTTP Verb Safety](form-basics.md#GET,_POST,_and_HTTP_Verb_Safety) sidebar in the tutorial on HTML forms.)</span></span>

<span data-ttu-id="00d2a-194">Jak przedstawiono wcześniej samouczka `value` atrybuty pola tekstowe są ustawiane za pomocą kodu Razor w celu wstępnego załadowania ich.</span><span class="sxs-lookup"><span data-stu-id="00d2a-194">As you saw in an earlier tutorial, the `value` attributes of the text boxes are being set with Razor code in order to preload them.</span></span> <span data-ttu-id="00d2a-195">Tym razem jednak używasz zmiennych, takich jak `title` i `genre` dla tego zadania, zamiast `Request.Form["title"]`:</span><span class="sxs-lookup"><span data-stu-id="00d2a-195">This time, though, you're using variables like `title` and `genre` for that task instead of `Request.Form["title"]`:</span></span>

`<input type="text" name="title" value="@title" />`

<span data-ttu-id="00d2a-196">Jak wcześniej, ten kod znaczników będzie wstępnego ładowania wartości pola tekstowe z wartościami filmu.</span><span class="sxs-lookup"><span data-stu-id="00d2a-196">As before, this markup will preload the text box values with the movie values.</span></span> <span data-ttu-id="00d2a-197">Zostaną wyświetlone za chwilę, dlaczego warto używać zmiennych w tej chwili zamiast `Request` obiektu.</span><span class="sxs-lookup"><span data-stu-id="00d2a-197">You'll see in a moment why it's handy to use variables this time instead of using the `Request` object.</span></span>

<span data-ttu-id="00d2a-198">Istnieje również `<input type="hidden">` elementu na tej stronie.</span><span class="sxs-lookup"><span data-stu-id="00d2a-198">There's also a `<input type="hidden">` element on this page.</span></span> <span data-ttu-id="00d2a-199">Ten element przechowuje identyfikator filmu bez uwidaczniania tego na stronie.</span><span class="sxs-lookup"><span data-stu-id="00d2a-199">This element stores the movie ID without making it visible on the page.</span></span> <span data-ttu-id="00d2a-200">Identyfikator jest początkowo przekazane do strony, przy użyciu wartości ciągu zapytania (`?id=7` lub podobne w adresie URL).</span><span class="sxs-lookup"><span data-stu-id="00d2a-200">The ID is initially passed to the page by using a query string value (`?id=7` or similar in the URL).</span></span> <span data-ttu-id="00d2a-201">Ustawiając wartość Identyfikatora w ukrytym polu, możesz sprawdzić, czy jest dostępna po przesłaniu formularza, nawet jeśli nie masz już dostęp do oryginalnego adresu URL strony została wywołana z.</span><span class="sxs-lookup"><span data-stu-id="00d2a-201">By putting the ID value into a hidden field, you can make sure that it's available when the form is submitted, even if you no longer have access to the original URL that the page was invoked with.</span></span>

<span data-ttu-id="00d2a-202">W odróżnieniu od *AddMovie* stronie kod *EditMovie* strona ma dwie odrębne funkcje.</span><span class="sxs-lookup"><span data-stu-id="00d2a-202">Unlike the *AddMovie* page, the code for the *EditMovie* page has two distinct functions.</span></span> <span data-ttu-id="00d2a-203">Pierwsza funkcja jest fakt, że ta strona jest wyświetlana po raz pierwszy (i *tylko* następnie), ten kod pobiera identyfikator film z ciągu zapytania.</span><span class="sxs-lookup"><span data-stu-id="00d2a-203">The first function is that when the page is displayed for the first time (and *only* then), the code gets the movie ID from the query string.</span></span> <span data-ttu-id="00d2a-204">Kod, a następnie używa Identyfikatora do odczytu odpowiedniego filmu z bazy danych i wyświetlania (wstępnego ładowania) go w polach tekstowych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-204">The code then uses the ID to read the corresponding movie out of the database and display (preload) it in the text boxes.</span></span>

<span data-ttu-id="00d2a-205">Druga funkcja jest to, że gdy użytkownik kliknie **Prześlij zmiany** przycisku, kod musi odczytać wartości pól tekstowych i sprawdzić ich poprawność.</span><span class="sxs-lookup"><span data-stu-id="00d2a-205">The second function is that when the user clicks the **Submit Changes** button, the code has to read the values of the text boxes and validate them.</span></span> <span data-ttu-id="00d2a-206">Kod musi zaktualizować element bazy danych z nowymi wartościami.</span><span class="sxs-lookup"><span data-stu-id="00d2a-206">The code also has to update the database item with the new values.</span></span> <span data-ttu-id="00d2a-207">Ta technika jest podobne do dodawania rekord, jak przedstawiono w *AddMovie*.</span><span class="sxs-lookup"><span data-stu-id="00d2a-207">This technique is similar to adding a record, as you saw in *AddMovie*.</span></span>

## <a name="adding-code-to-read-a-single-movie"></a><span data-ttu-id="00d2a-208">Dodawanie kodu do odczytu pojedynczego filmu</span><span class="sxs-lookup"><span data-stu-id="00d2a-208">Adding Code to Read a Single Movie</span></span>

<span data-ttu-id="00d2a-209">Aby wykonać pierwszej funkcji, Dodaj następujący kod na górze strony:</span><span class="sxs-lookup"><span data-stu-id="00d2a-209">To perform the first function, add this code to the top of the page:</span></span>

[!code-cshtml[Main](updating-data/samples/sample11.cshtml)]

<span data-ttu-id="00d2a-210">Większość ten kod znajduje się wewnątrz bloku, który rozpoczyna się `if(!IsPost)`.</span><span class="sxs-lookup"><span data-stu-id="00d2a-210">Most of this code is inside a block that starts `if(!IsPost)`.</span></span> <span data-ttu-id="00d2a-211">`!` Operatora "not" oznacza tak oznacza wyrażenie *Jeśli to żądanie nie jest przesyłanie wpis*, czyli pośredni sposób powiedzenie *Jeśli to żądanie po raz pierwszy, uruchamianą na tej stronie*.</span><span class="sxs-lookup"><span data-stu-id="00d2a-211">The `!` operator means "not," so the expression means *if this request is not a post submission*, which is an indirect way of saying *if this request is the first time that this page has been run*.</span></span> <span data-ttu-id="00d2a-212">Jak wspomniano wcześniej, należy uruchomić ten kod *tylko* przy pierwszym uruchomieniu strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-212">As noted earlier, this code should run *only* the first time the page runs.</span></span> <span data-ttu-id="00d2a-213">Jeśli nie należy wpisać kod w `if(!IsPost)`, będzie uruchamiany za każdym razem strona, zostanie wywołana, czy po raz pierwszy, lub w odpowiedzi na przycisku kliknij.</span><span class="sxs-lookup"><span data-stu-id="00d2a-213">If you didn't enclose the code in `if(!IsPost)`, it would run every time the page is invoked, whether the first time or in response to a button click.</span></span>

<span data-ttu-id="00d2a-214">Należy zauważyć, że kod zawiera `else` blokowania w tej chwili.</span><span class="sxs-lookup"><span data-stu-id="00d2a-214">Notice that the code includes an `else` block this time.</span></span> <span data-ttu-id="00d2a-215">Jak już mówiliśmy, kiedy wdrożyliśmy `if` bloków, czasami chcesz uruchomić alternatywnego kodu, jeśli warunek testujesz nie dotyczy.</span><span class="sxs-lookup"><span data-stu-id="00d2a-215">As we said when we introduced `if` blocks, sometimes you want to run alternative code if the condition you're testing isn't true.</span></span> <span data-ttu-id="00d2a-216">To przypadek, w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="00d2a-216">That's the case here.</span></span> <span data-ttu-id="00d2a-217">Jeśli warunek zostanie spełniony (to znaczy, jeśli identyfikator przekazane do strony jest ok), można odczytać wiersza bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-217">If the condition passes (that is, if the ID passed to the page is ok), you read a row from the database.</span></span> <span data-ttu-id="00d2a-218">Jednakże, jeśli warunek nie zakończy się pomyślnie, `else` uruchamia blok i kod ustawia komunikat o błędzie.</span><span class="sxs-lookup"><span data-stu-id="00d2a-218">However, if the condition doesn't pass, the `else` block runs and the code sets an error message.</span></span>

## <a name="validating-a-value-passed-to-the-page"></a><span data-ttu-id="00d2a-219">Sprawdzanie poprawności wartości przekazane do strony</span><span class="sxs-lookup"><span data-stu-id="00d2a-219">Validating a Value Passed to the Page</span></span>

<span data-ttu-id="00d2a-220">Kod używa `Request.QueryString["id"]` można pobrać Identyfikatora, który jest przekazywany do strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-220">The code uses `Request.QueryString["id"]` to get the ID that's passed to the page.</span></span> <span data-ttu-id="00d2a-221">Kod sprawdza, czy wartość faktycznie została przekazana dla identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="00d2a-221">The code makes sure that a value was actually passed for the ID.</span></span> <span data-ttu-id="00d2a-222">Jeśli wartość nie został przekazany, kod ustawia błąd sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="00d2a-222">If no value was passed, the code sets a validation error.</span></span>

<span data-ttu-id="00d2a-223">Ten kod zawiera inny sposób, aby zweryfikować informacje.</span><span class="sxs-lookup"><span data-stu-id="00d2a-223">This code shows a different way to validate information.</span></span> <span data-ttu-id="00d2a-224">W poprzednim samouczku doświadczenie w pracy z `Validation` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="00d2a-224">In the previous tutorial, you worked with the `Validation` helper.</span></span> <span data-ttu-id="00d2a-225">Zarejestrowany pola, aby zweryfikować i ASP.NET czy sprawdzanie poprawności i automatycznie wyświetlane błędy przy użyciu `Html.ValidationMessage` i `Html.ValidationSummary`.</span><span class="sxs-lookup"><span data-stu-id="00d2a-225">You registered fields to validate, and ASP.NET automatically did the validation and displayed errors by using `Html.ValidationMessage` and `Html.ValidationSummary`.</span></span> <span data-ttu-id="00d2a-226">W tym przypadku jednak użytkownik jest nie tak naprawdę Walidacja danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="00d2a-226">In this case, however, you're not really validating user input.</span></span> <span data-ttu-id="00d2a-227">Zamiast tego jest sprawdzanie poprawności wartość, która została przekazana do strony z innego miejsca.</span><span class="sxs-lookup"><span data-stu-id="00d2a-227">Instead, you're validating a value that was passed to the page from elsewhere.</span></span> <span data-ttu-id="00d2a-228">`Validation` Pomocnika nie zrobił to.</span><span class="sxs-lookup"><span data-stu-id="00d2a-228">The `Validation` helper doesn't do that for you.</span></span>

<span data-ttu-id="00d2a-229">W związku z tym, możesz sprawdzić wartość samodzielnie, testując go `if(!Request.QueryString["ID"].IsEmpty()`).</span><span class="sxs-lookup"><span data-stu-id="00d2a-229">Therefore, you check the value yourself, by testing it with `if(!Request.QueryString["ID"].IsEmpty()`).</span></span> <span data-ttu-id="00d2a-230">Jeśli występuje problem, można wyświetlić błąd, używając `Html.ValidationSummary`, tak jak w przypadku `Validation` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="00d2a-230">If there's a problem, you can display the error by using `Html.ValidationSummary`, as you did with the `Validation` helper.</span></span> <span data-ttu-id="00d2a-231">Aby to zrobić, należy wywołać `Validation.AddFormError` i przekaż go komunikat do wyświetlenia.</span><span class="sxs-lookup"><span data-stu-id="00d2a-231">To do that, you call `Validation.AddFormError` and pass it a message to display.</span></span> `Validation.AddFormError` <span data-ttu-id="00d2a-232">to wbudowana metoda, która pozwala zdefiniować niestandardowe komunikaty, które łączyć się przy użyciu systemu sprawdzania poprawności, które już znasz z.</span><span class="sxs-lookup"><span data-stu-id="00d2a-232">is a built-in method that lets you define custom messages that tie in with the validation system you're already familiar with.</span></span> <span data-ttu-id="00d2a-233">(Później w tym samouczku omówimy sposób wprowadzania ten proces sprawdzania poprawności nieco bardziej niezawodne.)</span><span class="sxs-lookup"><span data-stu-id="00d2a-233">(Later in this tutorial we'll talk about how to make this validation process a little more robust.)</span></span>

<span data-ttu-id="00d2a-234">Po upewnieniu się, że istnieje identyfikator filmu, kod odczytuje bazę danych, Wyszukiwanie elementu pojedynczej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-234">After making sure that there's an ID for the movie, the code reads the database, looking for only a single database item.</span></span> <span data-ttu-id="00d2a-235">(Prawdopodobnie zauważenia ogólny wzorzec operacji bazy danych: otworzyć bazy danych, Zdefiniuj instrukcję SQL i uruchamiania instrukcji.) Tym razem SQL `Select` wyciąg zawiera `WHERE ID = @0`.</span><span class="sxs-lookup"><span data-stu-id="00d2a-235">(You probably have noticed the general pattern for database operations: open the database, define a SQL statement, and run the statement.) This time, the SQL `Select` statement includes `WHERE ID = @0`.</span></span> <span data-ttu-id="00d2a-236">Identyfikator jest unikatowy, mogą być zwracane tylko jeden rekord.</span><span class="sxs-lookup"><span data-stu-id="00d2a-236">Because the ID is unique, only one record can be returned.</span></span>

<span data-ttu-id="00d2a-237">Zapytanie jest wykonywane przy użyciu `db.QuerySingle` (nie `db.Query`, jak używane dla list filmu), a kod umieszcza wynik w `row` zmiennej.</span><span class="sxs-lookup"><span data-stu-id="00d2a-237">The query is performed by using `db.QuerySingle` (not `db.Query`, as you used for the movie listing), and the code puts the result into the `row` variable.</span></span> <span data-ttu-id="00d2a-238">Nazwa `row` dowolnej; zmienne możesz nazwać wszystko chcesz.</span><span class="sxs-lookup"><span data-stu-id="00d2a-238">The name `row` is arbitrary; you can name the variables anything you like.</span></span> <span data-ttu-id="00d2a-239">Zmienne zainicjowana na górze następnie są wypełnione Szczegóły filmu, aby te wartości mogą być wyświetlane w polach tekstowych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-239">The variables initialized at the top are then filled with the movie details so that these values can be displayed in the text boxes.</span></span>

## <a name="testing-the-edit-page-so-far"></a><span data-ttu-id="00d2a-240">Testowanie strony edycji (pory)</span><span class="sxs-lookup"><span data-stu-id="00d2a-240">Testing the Edit Page (So Far)</span></span>

<span data-ttu-id="00d2a-241">Jeśli chcesz przetestować stronę, uruchom *filmy* strony teraz, a następnie kliknij przycisk **Edytuj** łącze obok dowolnego filmu.</span><span class="sxs-lookup"><span data-stu-id="00d2a-241">If you'd like to test your page, run the *Movies* page now and click an **Edit** link next to any movie.</span></span> <span data-ttu-id="00d2a-242">Zobaczysz *EditMovie* strony ze szczegółami wypełnione dla filmu, wybrane:</span><span class="sxs-lookup"><span data-stu-id="00d2a-242">You'll see the *EditMovie* page with the details filled in for the movie you selected:</span></span>

![Edytuj stronę Film przedstawiający film, aby go edytować](updating-data/_static/image3.png)

<span data-ttu-id="00d2a-244">Zwróć uwagę, że adres URL strony podobny `?id=10` (lub inny numer).</span><span class="sxs-lookup"><span data-stu-id="00d2a-244">Notice that the URL of the page includes something like `?id=10` (or some other number).</span></span> <span data-ttu-id="00d2a-245">Do tej pory zostały przetestowane, **Edytuj** linki w *filmu* stronie pracy, czy strona jest odczytywania Identyfikatora z ciągu zapytania, i czy baza danych zapytanie o pobranie filmu pojedynczy rekord działa.</span><span class="sxs-lookup"><span data-stu-id="00d2a-245">So far you've tested that **Edit** links in the *Movie* page work, that your page is reading the ID from the query string, and that the database query to get a single movie record is working.</span></span>

<span data-ttu-id="00d2a-246">Można zmienić informacje o filmach, ale nic się nie dzieje po kliknięciu **Prześlij zmiany**.</span><span class="sxs-lookup"><span data-stu-id="00d2a-246">You can change the movie information, but nothing happens when you click **Submit Changes**.</span></span>

## <a name="adding-code-to-update-the-movie-with-the-users-changes"></a><span data-ttu-id="00d2a-247">Dodawanie kodu można zaktualizować film o zmiany wprowadzone przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="00d2a-247">Adding Code to Update the Movie with the User's Changes</span></span>

<span data-ttu-id="00d2a-248">W *EditMovie.cshtml* plików, do implementowania funkcji second (zapisywanie zmian), Dodaj następujący kod wewnątrz zamykającym nawiasem klamrowym `@` bloku.</span><span class="sxs-lookup"><span data-stu-id="00d2a-248">In the *EditMovie.cshtml* file, to implement the second function (saving changes), add the following code just inside the closing brace of the `@` block.</span></span> <span data-ttu-id="00d2a-249">(Jeśli nie masz pewności, dokładnie, gdzie umieścić kod, możesz obejrzeć [kompletny kod dla strony edytowania filmu](#Complete_Page_Listing_for_EditMovie) , pojawia się na końcu tego samouczka.)</span><span class="sxs-lookup"><span data-stu-id="00d2a-249">(If you're not sure exactly where to put the code, you can look at the [complete code listing for the Edit Movie page](#Complete_Page_Listing_for_EditMovie) that appears at the end of this tutorial.)</span></span>

[!code-csharp[Main](updating-data/samples/sample12.cs)]

<span data-ttu-id="00d2a-250">Ponownie, ten kod znaczników i kodu jest podobny do kodu w *AddMovie*.</span><span class="sxs-lookup"><span data-stu-id="00d2a-250">Again, this markup and code is similar to the code in *AddMovie*.</span></span> <span data-ttu-id="00d2a-251">Kod znajduje się w `if(IsPost)` zablokować, ponieważ ten kod zadziała tylko wtedy, gdy użytkownik kliknie **Prześlij zmiany** przycisk &mdash; oznacza to, gdy (i tylko wtedy, gdy) wysłał formularza.</span><span class="sxs-lookup"><span data-stu-id="00d2a-251">The code is in an `if(IsPost)` block, because this code runs only when the user clicks the **Submit Changes** button &mdash; that is, when (and only when) the form has been posted.</span></span> <span data-ttu-id="00d2a-252">W tym przypadku nie używasz testów, takich jak `if(IsPost && Validation.IsValid())`— czyli nie łączenia oba testy przy użyciu AND.</span><span class="sxs-lookup"><span data-stu-id="00d2a-252">In this case, you're not using a test like `if(IsPost && Validation.IsValid())`— that is, you're not combining both tests by using AND.</span></span> <span data-ttu-id="00d2a-253">Na tej stronie, należy najpierw ustalić, czy jest przesłanie formularza (`if(IsPost)`) i dopiero wtedy zarejestrować pola do sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="00d2a-253">In this page, you first determine whether there's a form submission (`if(IsPost)`), and only then register the fields for validation.</span></span> <span data-ttu-id="00d2a-254">Następnie będzie można przetestować wyniki weryfikacji (`if(Validation.IsValid()`).</span><span class="sxs-lookup"><span data-stu-id="00d2a-254">Then you can test the validation results (`if(Validation.IsValid()`).</span></span> <span data-ttu-id="00d2a-255">Przepływ są nieco inne niż w *AddMovie.cshtml* strony, ale efekt jest taki sam.</span><span class="sxs-lookup"><span data-stu-id="00d2a-255">The flow is slightly different than in the *AddMovie.cshtml* page, but the effect is the same.</span></span>

<span data-ttu-id="00d2a-256">Pobierz wartości pól tekstowych przy użyciu `Request.Form["title"]` i podobny kod dla siebie `<input>` elementów.</span><span class="sxs-lookup"><span data-stu-id="00d2a-256">You get the values of the text boxes by using `Request.Form["title"]` and similar code for the other `<input>` elements.</span></span> <span data-ttu-id="00d2a-257">Zwróć uwagę, w tym momencie kod pobiera identyfikator filmu poza pole ukryte (`<input type="hidden">`).</span><span class="sxs-lookup"><span data-stu-id="00d2a-257">Notice that this time, the code gets the movie ID out of the hidden field (`<input type="hidden">`).</span></span> <span data-ttu-id="00d2a-258">Jeśli strona został uruchomiony po raz pierwszy, kod stało się identyfikator z ciągu zapytania.</span><span class="sxs-lookup"><span data-stu-id="00d2a-258">When the page ran the first time, the code got the ID out of the query string.</span></span> <span data-ttu-id="00d2a-259">Możesz pobrać wartości z ukryte pole, aby upewnić się, że otrzymujesz identyfikator filmu, który pierwotnie został wyświetlony w przypadku, gdy ciąg zapytania jakiś sposób został zmieniony od tego momentu.</span><span class="sxs-lookup"><span data-stu-id="00d2a-259">You get the value from the hidden field to make sure that you're getting the ID of the movie that was originally displayed, in case the query string was somehow altered since then.</span></span>

<span data-ttu-id="00d2a-260">Bardzo ważna różnica między *AddMovie* kod i ten kod jest w tym kodzie SQL `Update` instrukcji zamiast `Insert Into` instrukcji.</span><span class="sxs-lookup"><span data-stu-id="00d2a-260">The really important difference between the *AddMovie* code and this code is that in this code you use the SQL `Update` statement instead of the `Insert Into` statement.</span></span> <span data-ttu-id="00d2a-261">Poniższy przykład pokazuje składnię SQL `Update` instrukcji:</span><span class="sxs-lookup"><span data-stu-id="00d2a-261">The following example shows the syntax of the SQL `Update` statement:</span></span>

`UPDATE table SET col1="value", col2="value", col3="value" ... WHERE ID = value`

<span data-ttu-id="00d2a-262">Można określić wszystkie kolumny w dowolnej kolejności, a nie zawsze konieczne zaktualizowanie wszystkich kolumn podczas `Update` operacji.</span><span class="sxs-lookup"><span data-stu-id="00d2a-262">You can specify any columns in any order, and you don't necessarily have to update every column during an `Update` operation.</span></span> <span data-ttu-id="00d2a-263">(Nie można zaktualizować Identyfikatora, ponieważ, będzie obowiązywać Zapisz rekord jako nowy rekord i nie jest dozwolona dla `Update` operacji.)</span><span class="sxs-lookup"><span data-stu-id="00d2a-263">(You cannot update the ID itself, because that would in effect save the record as a new record, and that's not allowed for an `Update` operation.)</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="00d2a-264">**Ważne** `Where` klauzuli o identyfikatorze to bardzo ważne, ponieważ jest to, jak baza danych zna bazę danych, która rekordów, które chcesz zaktualizować.</span><span class="sxs-lookup"><span data-stu-id="00d2a-264">**Important** The `Where` clause with the ID is very important, because that's how the database knows which database record you want to update.</span></span> <span data-ttu-id="00d2a-265">Jeśli została przerwana `Where` klauzuli bazy danych będzie aktualizował *co* rekordów w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-265">If you left off the `Where` clause, the database would update *every* record in the database.</span></span> <span data-ttu-id="00d2a-266">W większości przypadków, które byłyby awarii.</span><span class="sxs-lookup"><span data-stu-id="00d2a-266">In most cases, that would be a disaster.</span></span>


<span data-ttu-id="00d2a-267">W kodzie wartości, aby zaktualizować są przekazywane do instrukcji SQL przy użyciu symboli zastępczych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-267">In the code, the values to update are passed to the SQL statement by using placeholders.</span></span> <span data-ttu-id="00d2a-268">Powtarzaj co już powiedzieliśmy przed: ze względów bezpieczeństwa *tylko* używać symbole zastępcze do przekazywania wartości do instrukcji SQL.</span><span class="sxs-lookup"><span data-stu-id="00d2a-268">To repeat what we've said before: for security reasons, *only* use placeholders to pass values to a SQL statement.</span></span>

<span data-ttu-id="00d2a-269">Po kod używa `db.Execute` do uruchomienia `Update` instrukcji, zostanie przekierowany do strony, gdzie można zobaczyć zmiany.</span><span class="sxs-lookup"><span data-stu-id="00d2a-269">After the code uses `db.Execute` to run the `Update` statement, it redirects back to the listing page, where you can see the changes.</span></span>

> [!TIP] 
> 
> **<span data-ttu-id="00d2a-270">Instrukcje SQL różnych, różnych metod</span><span class="sxs-lookup"><span data-stu-id="00d2a-270">Different SQL Statements, Different Methods</span></span>**
> 
> <span data-ttu-id="00d2a-271">Być może Zauważyłeś, można używać nieco inne metody do uruchamiania różnych instrukcji języka SQL.</span><span class="sxs-lookup"><span data-stu-id="00d2a-271">You might have noticed that you use slightly different methods to run different SQL statements.</span></span> <span data-ttu-id="00d2a-272">Aby uruchomić `Select` zapytanie to potencjalnie zwraca wiele rekordów, należy użyć `Query` metody.</span><span class="sxs-lookup"><span data-stu-id="00d2a-272">To run a `Select` query that potentially returns multiple records, you use the `Query` method.</span></span> <span data-ttu-id="00d2a-273">Aby uruchomić `Select` zapytanie, które znasz będzie zwracać tylko jeden element bazy danych, należy użyć `QuerySingle` metody.</span><span class="sxs-lookup"><span data-stu-id="00d2a-273">To run a `Select` query that you know will return only one database item, you use the `QuerySingle` method.</span></span> <span data-ttu-id="00d2a-274">Aby uruchamiać polecenia, wprowadzić zmiany, ale które nie zwracają elementy bazy danych, należy użyć `Execute` metody.</span><span class="sxs-lookup"><span data-stu-id="00d2a-274">To run commands that make changes but that don't return database items, you use the `Execute` method.</span></span>
> 
> <span data-ttu-id="00d2a-275">Musisz mieć różnych metod, ponieważ każda z nich zwraca różne wyniki, co już różnic między `Query` i `QuerySingle`.</span><span class="sxs-lookup"><span data-stu-id="00d2a-275">You have to have different methods because each of them returns different results, as you saw already in the difference between `Query` and `QuerySingle`.</span></span> <span data-ttu-id="00d2a-276">( `Execute` Metoda również faktycznie zwraca wartość &mdash; , liczba wierszy do bazy danych, które miały wpływ polecenia &mdash; , ale możesz już został zostanie zignorowany, do tej pory.)</span><span class="sxs-lookup"><span data-stu-id="00d2a-276">(The `Execute` method actually returns a value also &mdash; namely, the number of database rows that were affected by the command &mdash; but you've been ignoring that so far.)</span></span>
> 
> <span data-ttu-id="00d2a-277">Oczywiście `Query` metoda może zwracać tylko jeden wiersz bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-277">Of course, the `Query` method might return only one database row.</span></span> <span data-ttu-id="00d2a-278">Jednak ASP.NET zawsze traktuje wyniki `Query` metodę jako kolekcję.</span><span class="sxs-lookup"><span data-stu-id="00d2a-278">However, ASP.NET always treats the results of the `Query` method as a collection.</span></span> <span data-ttu-id="00d2a-279">Nawet jeśli metoda ta zwraca tylko jeden wiersz, należy wyodrębnić ten pojedynczy wiersz z kolekcji.</span><span class="sxs-lookup"><span data-stu-id="00d2a-279">Even if the method returns just one row, you have to extract that single row from the collection.</span></span> <span data-ttu-id="00d2a-280">W związku z tym, w sytuacjach, w którym możesz *znać* wrócisz tylko jeden wiersz, jest nieco bardziej wygodne do użycia `QuerySingle`.</span><span class="sxs-lookup"><span data-stu-id="00d2a-280">Therefore, in situations where you *know* you'll get back only one row, it's a bit more convenient to use `QuerySingle`.</span></span>
> 
> <span data-ttu-id="00d2a-281">Dostępnych jest kilka metod, które wykonują określone typy operacji bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-281">There are a few other methods that perform specific types of database operations.</span></span> <span data-ttu-id="00d2a-282">Możesz znaleźć listę metod bazy danych w [interfejsu API stron sieci Web platformy ASP.NET — dokumentacja szybkie](../../api-reference/asp-net-web-pages-api-reference.md#Data).</span><span class="sxs-lookup"><span data-stu-id="00d2a-282">You can find a listing of database methods in the [ASP.NET Web Pages API Quick Reference](../../api-reference/asp-net-web-pages-api-reference.md#Data).</span></span>


## <a name="making-validation-for-the-id-more-robust"></a><span data-ttu-id="00d2a-283">Tworzenie niezawodnych sprawdzania poprawności dla innych identyfikator</span><span class="sxs-lookup"><span data-stu-id="00d2a-283">Making Validation for the ID More Robust</span></span>

<span data-ttu-id="00d2a-284">Przy pierwszym uruchomieniu strony, można uzyskać identyfikator filmu od ciągu zapytania, aby przejść, Pobierz ten film z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-284">The first time that the page runs, you get the movie ID from the query string so that you can go get that movie from the database.</span></span> <span data-ttu-id="00d2a-285">Możesz upewnienie się, że faktycznie nie ma wartości przejść, sprawdź, czy przy użyciu tego kodu:</span><span class="sxs-lookup"><span data-stu-id="00d2a-285">You made sure that there actually was a value to go look for, which you did by using this code:</span></span>

[!code-csharp[Main](updating-data/samples/sample13.cs)]

<span data-ttu-id="00d2a-286">Ten kod może zostać użyty do upewnij się, że jeśli użytkownik otrzyma do *EditMovies* strony bez zaznaczania filmu w *filmy* strony, strony zostanie wyświetlony komunikat o błędzie przyjazny dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="00d2a-286">You used this code to make sure that if a user gets to the *EditMovies* page without first selecting a movie in the *Movies* page, the page would display a user-friendly error message.</span></span> <span data-ttu-id="00d2a-287">(W przeciwnym razie użytkownicy będą Zobacz błąd, który będzie prawdopodobnie tylko mylić ich).</span><span class="sxs-lookup"><span data-stu-id="00d2a-287">(Otherwise, users would see an error that would probably just confuse them.)</span></span>

<span data-ttu-id="00d2a-288">Jednak ta weryfikacja nie jest bardzo niezawodne.</span><span class="sxs-lookup"><span data-stu-id="00d2a-288">However, this validation isn't very robust.</span></span> <span data-ttu-id="00d2a-289">Strony może być również wywoływane w tych błędów:</span><span class="sxs-lookup"><span data-stu-id="00d2a-289">The page might also be invoked with these errors:</span></span>

- <span data-ttu-id="00d2a-290">Identyfikator nie jest liczbą.</span><span class="sxs-lookup"><span data-stu-id="00d2a-290">The ID isn't a number.</span></span> <span data-ttu-id="00d2a-291">Na przykład strony można wywoływanej przy użyciu adresu URL, takich jak `http://localhost:nnnnn/EditMovie?id=abc`.</span><span class="sxs-lookup"><span data-stu-id="00d2a-291">For example, the page could be invoked with a URL like `http://localhost:nnnnn/EditMovie?id=abc`.</span></span>
- <span data-ttu-id="00d2a-292">Identyfikator jest liczbą, ale odwołuje się do filmów, która nie istnieje (na przykład `http://localhost:nnnnn/EditMovie?id=100934`).</span><span class="sxs-lookup"><span data-stu-id="00d2a-292">The ID is a number, but it references a movie that doesn't exist (for example, `http://localhost:nnnnn/EditMovie?id=100934`).</span></span>

<span data-ttu-id="00d2a-293">Jeśli zastanawiasz się wyświetlić błędy, które wynikają z tych adresów URL, uruchom *filmy* strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-293">If you're curious to see the errors that result from these URLs, run the *Movies* page.</span></span> <span data-ttu-id="00d2a-294">Wybierz opcję film, aby edytować, a następnie zmień adres URL *EditMovie* strony do adresu URL, który zawiera alfabetyczne, identyfikator lub identyfikator filmu nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="00d2a-294">Select a movie to edit, and then change the URL of the *EditMovie* page to a URL that contains an alphabetic ID or the ID of a non-existent movie.</span></span>

<span data-ttu-id="00d2a-295">Dlatego co należy zrobić?</span><span class="sxs-lookup"><span data-stu-id="00d2a-295">So what should you do?</span></span> <span data-ttu-id="00d2a-296">Pierwszy poprawka jest upewnij się, że nie tylko jest identyfikator przekazywany do strony, ale że identyfikator jest liczbą całkowitą.</span><span class="sxs-lookup"><span data-stu-id="00d2a-296">The first fix is to make sure that not only is an ID passed to the page, but that the ID is an integer.</span></span> <span data-ttu-id="00d2a-297">Zmień kod dla `!IsPost` testu wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="00d2a-297">Change the code for the `!IsPost` test to look like this example:</span></span>

[!code-csharp[Main](updating-data/samples/sample14.cs)]

<span data-ttu-id="00d2a-298">Po dodaniu drugi warunek do `IsEmpty` testów, powiązanej z `&&` (operator logiczny oraz):</span><span class="sxs-lookup"><span data-stu-id="00d2a-298">You've added a second condition to the `IsEmpty` test, linked with `&&` (logical AND):</span></span>

[!code-csharp[Main](updating-data/samples/sample15.cs)]

<span data-ttu-id="00d2a-299">Być może pamiętasz z [wprowadzenie do programowania programu ASP.NET Web Pages](../introducing-razor-syntax-c.md) samouczek, w którym metod, takich jak `AsBool` `AsInt` konwertują ciąg znaków do innych typów danych.</span><span class="sxs-lookup"><span data-stu-id="00d2a-299">You might remember from the [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md) tutorial that methods like `AsBool` an `AsInt` convert a character string to some other data type.</span></span> <span data-ttu-id="00d2a-300">`IsInt` — Metoda (i inne, takie jak `IsBool` i `IsDateTime`) są podobne.</span><span class="sxs-lookup"><span data-stu-id="00d2a-300">The `IsInt` method (and others, like `IsBool` and `IsDateTime`) are similar.</span></span> <span data-ttu-id="00d2a-301">Jednak one tylko do celów testowych czy możesz *można* przekonwertować ciągu, bez rzeczywistego wykonania konwersji.</span><span class="sxs-lookup"><span data-stu-id="00d2a-301">However, they test only whether you *can* convert the string, without actually performing the conversion.</span></span> <span data-ttu-id="00d2a-302">Tutaj możesz jest zasadniczo informujący o tym *Jeśli można przekonwertować na liczbę całkowitą wartość ciągu zapytania...* .</span><span class="sxs-lookup"><span data-stu-id="00d2a-302">So here you're essentially saying *If the query string value can be converted to an integer ...*.</span></span>

<span data-ttu-id="00d2a-303">Potencjalny problem jest wyszukiwanie filmów, która nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="00d2a-303">The other potential problem is looking for a movie that doesn't exist.</span></span> <span data-ttu-id="00d2a-304">Kod, aby uzyskać filmu wygląda podobnie do tego kodu:</span><span class="sxs-lookup"><span data-stu-id="00d2a-304">The code to get a movie looks like this code:</span></span>

[!code-csharp[Main](updating-data/samples/sample16.cs)]

<span data-ttu-id="00d2a-305">W przypadku przekazania `movieId` wartość `QuerySingle` metody, która nie jest zgodny z rzeczywistych filmu, nic nie zostanie zwrócone i instrukcje, postępuj zgodnie z (na przykład `title=row.Title`) powodować błędy.</span><span class="sxs-lookup"><span data-stu-id="00d2a-305">If you pass a `movieId` value to the `QuerySingle` method that doesn't correspond to an actual movie, nothing is returned and the statements that follow (for example, `title=row.Title`) result in errors.</span></span>

<span data-ttu-id="00d2a-306">Ponownie istnieje łatwo to naprawić.</span><span class="sxs-lookup"><span data-stu-id="00d2a-306">Again there's an easy fix.</span></span> <span data-ttu-id="00d2a-307">Jeśli `db.QuerySingle` metody nie zwróciło żadnych wyników `row` zmienna będzie miała wartość null.</span><span class="sxs-lookup"><span data-stu-id="00d2a-307">If the `db.QuerySingle` method returns no results, the `row` variable will be null.</span></span> <span data-ttu-id="00d2a-308">Dzięki czemu można sprawdzić, czy `row` zmienna ma wartość null, przed podjęciem próby uzyskania wartości z niego.</span><span class="sxs-lookup"><span data-stu-id="00d2a-308">So you can check whether the `row` variable is null before you try to get values from it.</span></span> <span data-ttu-id="00d2a-309">Poniższy kod dodaje `if` bloku wokół instrukcji, które pobierają wartości z `row` obiektu:</span><span class="sxs-lookup"><span data-stu-id="00d2a-309">The following code adds an `if` block around the statements that get the values out of the `row` object:</span></span>

[!code-csharp[Main](updating-data/samples/sample17.cs)]

<span data-ttu-id="00d2a-310">Za pomocą tych dwóch dodatkowe testy weryfikacji strony staje się bardziej punktor dowodu.</span><span class="sxs-lookup"><span data-stu-id="00d2a-310">With these two additional validation tests, the page becomes more bullet-proof.</span></span> <span data-ttu-id="00d2a-311">Kompletny kod dla `!IsPost` gałęzi wygląda teraz następująco:</span><span class="sxs-lookup"><span data-stu-id="00d2a-311">The complete code for the `!IsPost` branch now looks like this example:</span></span>

[!code-csharp[Main](updating-data/samples/sample18.cs)]

<span data-ttu-id="00d2a-312">Możemy zauważyć, że raz, to zadanie jest dobrze wykorzystane do `else` bloku.</span><span class="sxs-lookup"><span data-stu-id="00d2a-312">We'll note once more that this task is a good use for an `else` block.</span></span> <span data-ttu-id="00d2a-313">Jeśli testy nie zakończy się pomyślnie, `else` bloki Ustaw komunikaty o błędach.</span><span class="sxs-lookup"><span data-stu-id="00d2a-313">If the tests don't pass, the `else` blocks set error messages.</span></span>

## <a name="adding-a-link-to-return-to-the-movies-page"></a><span data-ttu-id="00d2a-314">Dodanie Linku, aby wrócić do strony filmy</span><span class="sxs-lookup"><span data-stu-id="00d2a-314">Adding a Link to Return to the Movies Page</span></span>

<span data-ttu-id="00d2a-315">Szczegóły ostateczne i przydatne jest dodać link do *filmy* strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-315">A final and helpful detail is to add a link back to the *Movies* page.</span></span> <span data-ttu-id="00d2a-316">W zwykłych przepływu zdarzeń, użytkownicy zostaną uruchomione w *filmy* strony, a następnie kliknij przycisk **Edytuj** łącza.</span><span class="sxs-lookup"><span data-stu-id="00d2a-316">In the ordinary flow of events, users will start at the *Movies* page and click an **Edit** link.</span></span> <span data-ttu-id="00d2a-317">Które oferuje je *EditMovie* strony, w którym można edytować film i kliknij przycisk.</span><span class="sxs-lookup"><span data-stu-id="00d2a-317">That brings them to the *EditMovie* page, where they can edit the movie and click the button.</span></span> <span data-ttu-id="00d2a-318">Po kodzie przetwarza zmiany, zostanie przekierowany do *filmy* strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-318">After the code processes the change, it redirects back to the *Movies* page.</span></span>

<span data-ttu-id="00d2a-319">Jednak:</span><span class="sxs-lookup"><span data-stu-id="00d2a-319">However:</span></span>

- <span data-ttu-id="00d2a-320">Użytkownik może zrezygnować z wprowadzić zmiany.</span><span class="sxs-lookup"><span data-stu-id="00d2a-320">The user might decide not to change anything.</span></span>
- <span data-ttu-id="00d2a-321">Użytkownik może stają się coraz do tej strony, nie klikając pierwszy **Edytuj** łącze w *filmy* strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-321">The user might have gotten to this page without first clicking an **Edit** link in the *Movies* page.</span></span>

<span data-ttu-id="00d2a-322">W obu przypadkach chcesz ułatwić ich powrócić do listy głównego.</span><span class="sxs-lookup"><span data-stu-id="00d2a-322">Either way, you want to make it easy for them to return to the main listing.</span></span> <span data-ttu-id="00d2a-323">Go łatwo to naprawić &mdash; Dodaj następujący kod zaraz po zamykającym `</form>` tagu w znaczniku:</span><span class="sxs-lookup"><span data-stu-id="00d2a-323">It's an easy fix &mdash; add the following markup just after the closing `</form>` tag in the markup:</span></span>

[!code-html[Main](updating-data/samples/sample19.html)]

<span data-ttu-id="00d2a-324">Ten kod znaczników korzysta z tej samej składni dla `<a>` element, który w tym samouczku gdzie indziej.</span><span class="sxs-lookup"><span data-stu-id="00d2a-324">This markup uses the same syntax for an `<a>` element that you've seen elsewhere.</span></span> <span data-ttu-id="00d2a-325">Adres URL zawiera `~` oznacza "root witryny sieci Web".</span><span class="sxs-lookup"><span data-stu-id="00d2a-325">The URL includes `~` to mean "root of the website."</span></span>

## <a name="testing-the-movie-update-process"></a><span data-ttu-id="00d2a-326">Testowanie procesu aktualizacji filmu</span><span class="sxs-lookup"><span data-stu-id="00d2a-326">Testing the Movie Update Process</span></span>

<span data-ttu-id="00d2a-327">Teraz możesz przetestować.</span><span class="sxs-lookup"><span data-stu-id="00d2a-327">Now you can test.</span></span> <span data-ttu-id="00d2a-328">Uruchom *filmy* strony, a następnie kliknij przycisk **Edytuj** obok filmu.</span><span class="sxs-lookup"><span data-stu-id="00d2a-328">Run the *Movies* page, and click **Edit** next to a movie.</span></span> <span data-ttu-id="00d2a-329">Gdy *EditMovie* zostanie wyświetlona strona, wprowadzić zmiany do filmów i kliknij przycisk **Prześlij zmiany**.</span><span class="sxs-lookup"><span data-stu-id="00d2a-329">When the *EditMovie* page appears, make changes to the movie and click **Submit Changes**.</span></span> <span data-ttu-id="00d2a-330">Gdy zostanie wyświetlona na liście filmów, upewnij się, że zmiany są wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="00d2a-330">When the movie listing appears, make sure that your changes are shown.</span></span>

<span data-ttu-id="00d2a-331">Aby upewnić się, czy działa sprawdzania poprawności, kliknij przycisk **Edytuj** dla innego filmu.</span><span class="sxs-lookup"><span data-stu-id="00d2a-331">To make sure that validation is working, click **Edit** for another movie.</span></span> <span data-ttu-id="00d2a-332">Po przejściu do *EditMovie* strony, wyczyść **gatunku** pola (lub **roku** pola i / lub), a następnie spróbuj przesłać wprowadzone zmiany.</span><span class="sxs-lookup"><span data-stu-id="00d2a-332">When you get to the *EditMovie* page, clear the **Genre** field (or **Year** field, or both) and try to submit your changes.</span></span> <span data-ttu-id="00d2a-333">Zostanie wyświetlony błąd, jak można oczekiwać:</span><span class="sxs-lookup"><span data-stu-id="00d2a-333">You'll see an error, as you'd expect:</span></span>

![Edytuj stronę Film przedstawiający błędy sprawdzania poprawności](updating-data/_static/image4.png)

<span data-ttu-id="00d2a-335">Kliknij przycisk **powrócić do listy filmów** łącze, aby porzucić zmiany i powrócić do *filmy* strony.</span><span class="sxs-lookup"><span data-stu-id="00d2a-335">Click the **Return to movie listing** link to abandon your changes and return to the *Movies* page.</span></span>

## <a name="coming-up-next"></a><span data-ttu-id="00d2a-336">Pojawi się dalej</span><span class="sxs-lookup"><span data-stu-id="00d2a-336">Coming Up Next</span></span>

<span data-ttu-id="00d2a-337">W następnym samouczku pokazano, jak można usunąć rekordu filmu.</span><span class="sxs-lookup"><span data-stu-id="00d2a-337">In the next tutorial, you'll see how to delete a movie record.</span></span>

## <a name="complete-listing-for-movie-page-updated-with-edit-links"></a><span data-ttu-id="00d2a-338">Kompletna lista strony filmu (aktualizowane wraz z łączami do edycji)</span><span class="sxs-lookup"><span data-stu-id="00d2a-338">Complete Listing for Movie Page (Updated with Edit Links)</span></span>

[!code-cshtml[Main](updating-data/samples/sample20.cshtml)]

<a id="Complete_Page_Listing_for_EditMovie"></a>
## <a name="complete-page-listing-for-edit-movie-page"></a><span data-ttu-id="00d2a-339">Kompletna lista strony dla strony filmu edycji</span><span class="sxs-lookup"><span data-stu-id="00d2a-339">Complete Page Listing for Edit Movie Page</span></span>

[!code-cshtml[Main](updating-data/samples/sample21.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="00d2a-340">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="00d2a-340">Additional Resources</span></span>

- [<span data-ttu-id="00d2a-341">Wprowadzenie do programowania dla sieci Web platformy ASP.NET przy użyciu składni Razor</span><span class="sxs-lookup"><span data-stu-id="00d2a-341">Introduction to ASP.NET Web Programming by Using the Razor Syntax</span></span>](../../getting-started/introducing-razor-syntax-c.md)
- <span data-ttu-id="00d2a-342">[Instrukcja UPDATE SQL](http://www.w3schools.com/sql/sql_update.asp) witrynie W3Schools</span><span class="sxs-lookup"><span data-stu-id="00d2a-342">[SQL UPDATE Statement](http://www.w3schools.com/sql/sql_update.asp) on the W3Schools site</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="00d2a-343">[Poprzednie](entering-data.md)
> [dalej](deleting-data.md)</span><span class="sxs-lookup"><span data-stu-id="00d2a-343">[Previous](entering-data.md)
[Next](deleting-data.md)</span></span>
