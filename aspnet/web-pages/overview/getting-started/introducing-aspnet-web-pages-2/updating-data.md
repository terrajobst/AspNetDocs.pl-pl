---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
title: Wprowadzenie do stron sieci Web ASP.NET — aktualizowanie danych bazy danych | Microsoft Docs
author: Rick-Anderson
description: W tym samouczku pokazano, jak zaktualizować istniejący wpis bazy danych przy użyciu stron sieci Web ASP.NET (Razor). Przyjęto założenie, że seria została zakończona...
ms.author: riande
ms.date: 01/02/2018
ms.assetid: ac86ec9c-6b69-485b-b9e0-8b9127b13e6b
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
msc.type: authoredcontent
ms.openlocfilehash: 8f8bcfb7d9d2416a2699776cadbdaae8e12415ba
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78574229"
---
# <a name="introducing-aspnet-web-pages---updating-database-data"></a><span data-ttu-id="05bfb-104">Wprowadzenie do stron sieci Web ASP.NET — aktualizowanie danych bazy danych</span><span class="sxs-lookup"><span data-stu-id="05bfb-104">Introducing ASP.NET Web Pages - Updating Database Data</span></span>

<span data-ttu-id="05bfb-105">Autor [FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="05bfb-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="05bfb-106">W tym samouczku pokazano, jak zaktualizować istniejący wpis bazy danych przy użyciu stron sieci Web ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="05bfb-106">This tutorial shows you how to update (change) an existing database entry when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="05bfb-107">Przyjęto założenie, że przeprowadzono serię, [wprowadzając dane przy użyciu formularzy przy użyciu stron sieci Web ASP.NET](entering-data.md).</span><span class="sxs-lookup"><span data-stu-id="05bfb-107">It assumes you have completed the series through [Entering Data by Using Forms Using ASP.NET Web Pages](entering-data.md).</span></span>
> 
> <span data-ttu-id="05bfb-108">Zawartość:</span><span class="sxs-lookup"><span data-stu-id="05bfb-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="05bfb-109">Jak wybrać pojedynczy rekord w Pomocniku `WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-109">How to select an individual record in the `WebGrid` helper.</span></span>
> - <span data-ttu-id="05bfb-110">Sposób odczytywania pojedynczego rekordu z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-110">How to read a single record from a database.</span></span>
> - <span data-ttu-id="05bfb-111">Jak załadować formularz z wartościami z rekordu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-111">How to preload a form with values from the database record.</span></span>
> - <span data-ttu-id="05bfb-112">Jak zaktualizować istniejący rekord w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-112">How to update an existing record in a database.</span></span>
> - <span data-ttu-id="05bfb-113">Jak przechowywać informacje na stronie bez wyświetlania go.</span><span class="sxs-lookup"><span data-stu-id="05bfb-113">How to store information in the page without displaying it.</span></span>
> - <span data-ttu-id="05bfb-114">Jak używać ukrytego pola do przechowywania informacji.</span><span class="sxs-lookup"><span data-stu-id="05bfb-114">How to use a hidden field to store information.</span></span>
>   
> 
> <span data-ttu-id="05bfb-115">Omówione funkcje/technologie:</span><span class="sxs-lookup"><span data-stu-id="05bfb-115">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="05bfb-116">Pomocnik `WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-116">The `WebGrid` helper.</span></span>
> - <span data-ttu-id="05bfb-117">Polecenie SQL `Update`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-117">The SQL `Update` command.</span></span>
> - <span data-ttu-id="05bfb-118">Metoda `Database.Execute`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-118">The `Database.Execute` method.</span></span>
> - <span data-ttu-id="05bfb-119">Ukryte pola (`<input type="hidden">`).</span><span class="sxs-lookup"><span data-stu-id="05bfb-119">Hidden fields (`<input type="hidden">`).</span></span>

## <a name="what-youll-build"></a><span data-ttu-id="05bfb-120">Co będziesz kompilować</span><span class="sxs-lookup"><span data-stu-id="05bfb-120">What You'll Build</span></span>

<span data-ttu-id="05bfb-121">W poprzednim samouczku przedstawiono sposób dodawania rekordu do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-121">In the previous tutorial, you learned how to add a record to a database.</span></span> <span data-ttu-id="05bfb-122">Tutaj znajdziesz informacje na temat wyświetlania rekordu do edycji.</span><span class="sxs-lookup"><span data-stu-id="05bfb-122">Here, you'll learn how to display a record for editing.</span></span> <span data-ttu-id="05bfb-123">Na stronie *filmy* należy zaktualizować pomocnika `WebGrid` tak, aby wyświetlał link **Edytuj** obok każdego filmu:</span><span class="sxs-lookup"><span data-stu-id="05bfb-123">In the *Movies* page, you'll update the `WebGrid` helper so that it displays an **Edit** link next to each movie:</span></span>

![Wyświetlanie siatki WebGrid, w tym łącza "Edytuj" dla każdego filmu](updating-data/_static/image1.png)

<span data-ttu-id="05bfb-125">Kliknięcie linku **edycji** spowoduje przejście do innej strony, gdzie informacje o filmie są już w postaci:</span><span class="sxs-lookup"><span data-stu-id="05bfb-125">When you click the **Edit** link, it takes you to a different page, where the movie information is already in a form:</span></span>

![Edytuj stronę filmu przedstawiającą film do edycji](updating-data/_static/image2.png)

<span data-ttu-id="05bfb-127">Można zmienić dowolne wartości.</span><span class="sxs-lookup"><span data-stu-id="05bfb-127">You can change any of the values.</span></span> <span data-ttu-id="05bfb-128">Po przesłaniu zmian kod na stronie aktualizuje bazę danych i wraca do listy filmów.</span><span class="sxs-lookup"><span data-stu-id="05bfb-128">When you submit the changes, the code in the page updates the database and takes you back to the movie listing.</span></span>

<span data-ttu-id="05bfb-129">Ta część procesu działa niemal dokładnie tak, jak strona *addmovie. cshtml* utworzona w poprzednim samouczku, dlatego większość tego samouczka będzie znana.</span><span class="sxs-lookup"><span data-stu-id="05bfb-129">This part of the process works almost exactly like the *AddMovie.cshtml* page you created in the previous tutorial, so much of this tutorial will be familiar.</span></span>

<span data-ttu-id="05bfb-130">Istnieje kilka sposobów implementacji sposobu edytowania poszczególnych filmów.</span><span class="sxs-lookup"><span data-stu-id="05bfb-130">There are several ways you could implement a way to edit an individual movie.</span></span> <span data-ttu-id="05bfb-131">Pokazana metoda została wybrana, ponieważ jest łatwa do zaimplementowania i łatwego zrozumienia.</span><span class="sxs-lookup"><span data-stu-id="05bfb-131">The approach shown was chosen because it's easy to implement and easy to understand.</span></span>

## <a name="adding-an-edit-link-to-the-movie-listing"></a><span data-ttu-id="05bfb-132">Dodawanie linku edycji do listy filmów</span><span class="sxs-lookup"><span data-stu-id="05bfb-132">Adding an Edit Link to the Movie Listing</span></span>

<span data-ttu-id="05bfb-133">Aby rozpocząć, zaktualizujesz stronę *filmy* , tak aby każda lista filmów zawierała link **edycji** .</span><span class="sxs-lookup"><span data-stu-id="05bfb-133">To begin, you'll update the *Movies* page so that each movie listing also contains an **Edit** link.</span></span>

<span data-ttu-id="05bfb-134">Otwórz plik *Films. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="05bfb-134">Open the *Movies.cshtml* file.</span></span>

<span data-ttu-id="05bfb-135">W treści strony Zmień znacznik `WebGrid`, dodając kolumnę.</span><span class="sxs-lookup"><span data-stu-id="05bfb-135">In the body of the page, change the `WebGrid` markup by adding a column.</span></span> <span data-ttu-id="05bfb-136">Oto zmodyfikowano znaczniki:</span><span class="sxs-lookup"><span data-stu-id="05bfb-136">Here's the modified markup:</span></span>

[!code-html[Main](updating-data/samples/sample1.html?highlight=6)]

<span data-ttu-id="05bfb-137">Nowa kolumna to:</span><span class="sxs-lookup"><span data-stu-id="05bfb-137">The new column is this one:</span></span>

[!code-html[Main](updating-data/samples/sample2.html)]

<span data-ttu-id="05bfb-138">Punkt tej kolumny polega na wyświetleniu linku (`<a>` elementu), którego tekst mówi "Edit" (Edytuj).</span><span class="sxs-lookup"><span data-stu-id="05bfb-138">The point of this column is to show a link (`<a>` element) whose text says "Edit".</span></span> <span data-ttu-id="05bfb-139">To, co mamy, aby utworzyć link, który wygląda jak poniżej, gdy zostanie uruchomiona Strona, z wartością `id` inną dla każdego filmu:</span><span class="sxs-lookup"><span data-stu-id="05bfb-139">What we're after is to create a link that looks like the following when the page runs, with the `id` value different for each movie:</span></span>

[!code-css[Main](updating-data/samples/sample3.css)]

<span data-ttu-id="05bfb-140">Ten link spowoduje wywołanie strony o nazwie *EditMovie*i przekazanie `?id=7` ciągu zapytania do tej strony.</span><span class="sxs-lookup"><span data-stu-id="05bfb-140">This link will invoke a page named *EditMovie*, and it will pass the query string `?id=7` to that page.</span></span>

<span data-ttu-id="05bfb-141">Składnia nowej kolumny może wyglądać nieskomplikowaną, ale tylko dlatego, że jest ona połączona z kilkoma elementami.</span><span class="sxs-lookup"><span data-stu-id="05bfb-141">The syntax for the new column might look a bit complex, but that's only because it puts together several elements.</span></span> <span data-ttu-id="05bfb-142">Każdy pojedynczy element jest prosty.</span><span class="sxs-lookup"><span data-stu-id="05bfb-142">Each individual element is straightforward.</span></span> <span data-ttu-id="05bfb-143">Jeśli koncentrujesz się tylko na `<a>` elemencie, zobaczysz następujący znacznik:</span><span class="sxs-lookup"><span data-stu-id="05bfb-143">If you concentrate on just the `<a>` element, you see this markup:</span></span>

[!code-html[Main](updating-data/samples/sample4.html)]

<span data-ttu-id="05bfb-144">Niektóre tła dotyczące sposobu działania siatki: Siatka wyświetla wiersze, jeden dla każdego rekordu bazy danych i wyświetla kolumny dla każdego pola w rekordzie bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-144">Some background about how the grid works: the grid displays rows, one for each database record, and it displays columns for each field in the database record.</span></span> <span data-ttu-id="05bfb-145">Gdy jest konstruowany każdy wiersz siatki, obiekt `item` zawiera rekord bazy danych (element) dla tego wiersza.</span><span class="sxs-lookup"><span data-stu-id="05bfb-145">While each grid row is being constructed, the `item` object contains the database record (item) for that row.</span></span> <span data-ttu-id="05bfb-146">To rozmieszczenie umożliwia przejęcie kodu w celu uzyskania danych dla tego wiersza.</span><span class="sxs-lookup"><span data-stu-id="05bfb-146">This arrangement gives you a way in code to get at the data for that row.</span></span> <span data-ttu-id="05bfb-147">Oto co widzisz tutaj: wyrażenie `item.ID` Pobiera wartość identyfikatora bieżącego elementu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-147">That's what you see here: the expression `item.ID` is getting the ID value of the current database item.</span></span> <span data-ttu-id="05bfb-148">Możesz uzyskać dowolne wartości bazy danych (tytuł, gatunek lub rok) tak samo, jak przy użyciu `item.Title`, `item.Genre`lub `item.Year`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-148">You could get any of the database values (title, genre, or year) the same way by using `item.Title`, `item.Genre`, or `item.Year`.</span></span>

<span data-ttu-id="05bfb-149">Wyrażenie `"~/EditMovie?id=@item.ID` łączy trwale zakodowaną część docelowego adresu URL (`~/EditMovie?id=`) z tym dynamicznym IDENTYFIKATORem pochodnym.</span><span class="sxs-lookup"><span data-stu-id="05bfb-149">The expression `"~/EditMovie?id=@item.ID` combines the hard-coded part of the target URL (`~/EditMovie?id=`) with this dynamically derived ID.</span></span> <span data-ttu-id="05bfb-150">(W poprzednim samouczku wykorzystano operator `~`. jest to operator ASP.NET, który reprezentuje bieżący katalog główny witryny sieci Web).</span><span class="sxs-lookup"><span data-stu-id="05bfb-150">(You saw the `~` operator in the previous tutorial; it's an ASP.NET operator that represents the current website root.)</span></span>

<span data-ttu-id="05bfb-151">Wynikiem tego jest to, że ta część znaczników w kolumnie po prostu generuje coś podobnie jak w przypadku następujących znaczników w czasie wykonywania:</span><span class="sxs-lookup"><span data-stu-id="05bfb-151">The result is that this part of the markup in the column simply produces something like the following markup at run time:</span></span>

[!code-xml[Main](updating-data/samples/sample5.xml)]

<span data-ttu-id="05bfb-152">Naturalnie wartość `id` będzie różna dla każdego wiersza.</span><span class="sxs-lookup"><span data-stu-id="05bfb-152">Naturally, the actual value of `id` will be different for each row.</span></span>

## <a name="creating-a-custom-display-for-a-grid-column"></a><span data-ttu-id="05bfb-153">Tworzenie niestandardowego ekranu dla kolumny siatki</span><span class="sxs-lookup"><span data-stu-id="05bfb-153">Creating a Custom Display for a Grid Column</span></span>

<span data-ttu-id="05bfb-154">Wróć do kolumny siatka.</span><span class="sxs-lookup"><span data-stu-id="05bfb-154">Now back to the grid column.</span></span> <span data-ttu-id="05bfb-155">Trzy kolumny w siatce zawierały tylko wartości danych (tytuł, gatunek i rok).</span><span class="sxs-lookup"><span data-stu-id="05bfb-155">The three columns you originally had in the grid displayed only data values (title, genre, and year).</span></span> <span data-ttu-id="05bfb-156">Ten ekran został określony przez przekazanie nazwy kolumny bazy danych &mdash; na przykład `grid.Column("Title")`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-156">You specified this display by passing the name of the database column &mdash; for example, `grid.Column("Title")`.</span></span>

<span data-ttu-id="05bfb-157">Ta nowa kolumna łącza **edycji** jest inna.</span><span class="sxs-lookup"><span data-stu-id="05bfb-157">This new **Edit** link column is different.</span></span> <span data-ttu-id="05bfb-158">Zamiast określać nazwę kolumny, przekazujesz parametr `format`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-158">Instead of specifying a column name, you're passing a `format` parameter.</span></span> <span data-ttu-id="05bfb-159">Ten parametr umożliwia zdefiniowanie znaczników, które pomocnik `WebGrid` będzie renderowany wraz z wartością `item`, aby wyświetlić dane kolumny jako pogrubione lub zielone albo w dowolnym formacie, który chcesz.</span><span class="sxs-lookup"><span data-stu-id="05bfb-159">This parameter lets you define markup that the `WebGrid` helper will render along with the `item` value to display the column data as bold or green or in whatever format that you want.</span></span> <span data-ttu-id="05bfb-160">Jeśli na przykład tytuł ma być pogrubiony, można utworzyć kolumnę podobną do tego przykładu:</span><span class="sxs-lookup"><span data-stu-id="05bfb-160">For example, if you wanted the title to appear bold, you could create a column like this example:</span></span>

[!code-html[Main](updating-data/samples/sample6.html)]

<span data-ttu-id="05bfb-161">(Różne znaki `@` widoczne we właściwości `format` oznaczają przejście między adiustacją a wartością kodu).</span><span class="sxs-lookup"><span data-stu-id="05bfb-161">(The various `@` characters you see in the `format` property mark the transition between markup and a code value.)</span></span>

<span data-ttu-id="05bfb-162">Po uzyskaniu informacji o właściwości `format` łatwiej jest zrozumieć, w jaki sposób nowa kolumna **Edytuj** łącze:</span><span class="sxs-lookup"><span data-stu-id="05bfb-162">Once you know about the `format` property, it's easier to understand how the new **Edit** link column is put together:</span></span>

[!code-html[Main](updating-data/samples/sample7.html)]

<span data-ttu-id="05bfb-163">Kolumna zawiera *tylko* znaczniki, które renderuje łącze, oraz informacje (identyfikator) wyodrębnione z rekordu bazy danych dla wiersza.</span><span class="sxs-lookup"><span data-stu-id="05bfb-163">The column consists *only* of the markup that renders the link, plus some information (the ID) that's extracted from the database record for the row.</span></span>

> [!TIP]
> 
> <span data-ttu-id="05bfb-164">**Parametry nazwane i parametry pozycyjne dla metody**</span><span class="sxs-lookup"><span data-stu-id="05bfb-164">**Named Parameters and Positional Parameters for a Method**</span></span>
> 
> <span data-ttu-id="05bfb-165">Wiele razy, gdy wywołano metodę i przeszedł do niej parametry, zostały po prostu wyświetlone wartości parametrów oddzielone przecinkami.</span><span class="sxs-lookup"><span data-stu-id="05bfb-165">Many times when you've called a method and passed parameters to it, you've simply listed the parameter values separated by commas.</span></span> <span data-ttu-id="05bfb-166">Oto kilka przykładów:</span><span class="sxs-lookup"><span data-stu-id="05bfb-166">Here are a couple of examples:</span></span>
> 
> `db.Execute(insertCommand, title, genre, year)`
> 
> `Validation.RequireField("title", "You must enter a title")`
> 
> <span data-ttu-id="05bfb-167">Nie wspominamy problemu podczas pierwszego korzystania z tego kodu, ale w każdym przypadku przekazujesz parametry do metod w określonej kolejności &mdash; a mianowicie, kolejność, w której parametry są zdefiniowane w tej metodzie.</span><span class="sxs-lookup"><span data-stu-id="05bfb-167">We didn't mention the issue when you first saw this code, but in each case, you're passing parameters to the methods in a specific order &mdash; namely, the order in which the parameters are defined in that method.</span></span> <span data-ttu-id="05bfb-168">W przypadku `db.Execute` i `Validation.RequireFields`, jeśli połączysz kolejność przekazanych wartości, otrzymasz komunikat o błędzie podczas uruchamiania strony lub co najmniej niektóre dziwne wyniki.</span><span class="sxs-lookup"><span data-stu-id="05bfb-168">For `db.Execute` and `Validation.RequireFields`, if you mixed up the order of the values you pass, you'd get an error message when the page runs, or at least some strange results.</span></span> <span data-ttu-id="05bfb-169">Jasno trzeba znać kolejność przekazywania parametrów w.</span><span class="sxs-lookup"><span data-stu-id="05bfb-169">Clearly, you have to know the order to pass the parameters in.</span></span> <span data-ttu-id="05bfb-170">(W programie WebMatrix technologia IntelliSense może pomóc Ci w Poznaniu nazwy, typu i kolejności parametrów).</span><span class="sxs-lookup"><span data-stu-id="05bfb-170">(In WebMatrix, IntelliSense can help you learn figure out the name, type, and order of the parameters.)</span></span>
> 
> <span data-ttu-id="05bfb-171">Alternatywnie, aby przekazywać wartości w kolejności, można użyć *nazwanych parametrów*.</span><span class="sxs-lookup"><span data-stu-id="05bfb-171">As an alternative to passing values in order, you can use *named parameters*.</span></span> <span data-ttu-id="05bfb-172">(Przekazywanie parametrów w kolejności jest znane jako użycie *parametrów pozycyjnych*). W przypadku parametrów nazwanych jawnie dołączana jest nazwa parametru podczas przekazywania jego wartości.</span><span class="sxs-lookup"><span data-stu-id="05bfb-172">(Passing parameters in order is known as using *positional parameters*.) For named parameters, you explicitly include the name of the parameter when passing its value.</span></span> <span data-ttu-id="05bfb-173">W tych samouczkach użyto już parametrów nazwanych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-173">You've used named parameters already a number of times in these tutorials.</span></span> <span data-ttu-id="05bfb-174">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="05bfb-174">For example:</span></span>
> 
> [!code-csharp[Main](updating-data/samples/sample8.cs)]
> 
> <span data-ttu-id="05bfb-175">i</span><span class="sxs-lookup"><span data-stu-id="05bfb-175">and</span></span>
> 
> [!code-css[Main](updating-data/samples/sample9.css)]
> 
> <span data-ttu-id="05bfb-176">Parametry nazwane są przydatne w kilku sytuacjach, zwłaszcza w przypadku, gdy metoda przyjmuje wiele parametrów.</span><span class="sxs-lookup"><span data-stu-id="05bfb-176">Named parameters are handy for a couple of situations, especially when a method takes many parameters.</span></span> <span data-ttu-id="05bfb-177">Jeden jest, gdy chcesz przekazać tylko jeden lub dwa parametry, ale wartości, które mają zostać przekazane, nie należą do pierwszej pozycji na liście parametrów.</span><span class="sxs-lookup"><span data-stu-id="05bfb-177">One is when you want to pass only one or two parameters, but the values you want to pass are not among the first positions in the parameter list.</span></span> <span data-ttu-id="05bfb-178">Inna sytuacja polega na tym, że kod może być bardziej czytelny przez przekazanie parametrów w kolejności, która ma największe znaczenie.</span><span class="sxs-lookup"><span data-stu-id="05bfb-178">Another situation is when you want to make your code more readable by passing the parameters in the order that makes the most sense to you.</span></span>
> 
> <span data-ttu-id="05bfb-179">Oczywiście, aby używać parametrów nazwanych, należy znać nazwy parametrów.</span><span class="sxs-lookup"><span data-stu-id="05bfb-179">Obviously, to use named parameters, you have to know the names of the parameters.</span></span> <span data-ttu-id="05bfb-180">Funkcja IntelliSense w technologii WebMatrix może *wyświetlić* nazwy, ale nie może ich obecnie wypełnić.</span><span class="sxs-lookup"><span data-stu-id="05bfb-180">WebMatrix IntelliSense can *show* you the names, but it cannot currently fill them in for you.</span></span>

## <a name="creating-the-edit-page"></a><span data-ttu-id="05bfb-181">Tworzenie strony edytowania</span><span class="sxs-lookup"><span data-stu-id="05bfb-181">Creating the Edit Page</span></span>

<span data-ttu-id="05bfb-182">Teraz możesz utworzyć stronę *EditMovie* .</span><span class="sxs-lookup"><span data-stu-id="05bfb-182">Now you can create the *EditMovie* page.</span></span> <span data-ttu-id="05bfb-183">Po kliknięciu linku **edycji** użytkownicy będą mogli zakończyć na tej stronie.</span><span class="sxs-lookup"><span data-stu-id="05bfb-183">When users click the **Edit** link, they'll end up on this page.</span></span>

<span data-ttu-id="05bfb-184">Utwórz stronę o nazwie *EditMovie. cshtml* i Zastąp zawartość pliku następującym znacznikiem:</span><span class="sxs-lookup"><span data-stu-id="05bfb-184">Create a page named *EditMovie.cshtml* and replace what's in the file with the following markup:</span></span>

[!code-cshtml[Main](updating-data/samples/sample10.cshtml)]

<span data-ttu-id="05bfb-185">Znaczniki i kod są podobne do zawartości na stronie *addfilm* .</span><span class="sxs-lookup"><span data-stu-id="05bfb-185">This markup and code is similar to what you have in the *AddMovie* page.</span></span> <span data-ttu-id="05bfb-186">Tekst przycisku Prześlij jest niewielką różnicą.</span><span class="sxs-lookup"><span data-stu-id="05bfb-186">There's a small difference in the text for the submit button.</span></span> <span data-ttu-id="05bfb-187">Podobnie jak na stronie *addmovie* istnieje wywołanie `Html.ValidationSummary`, które spowoduje wyświetlenie błędów walidacji, jeśli istnieją.</span><span class="sxs-lookup"><span data-stu-id="05bfb-187">As with the *AddMovie* page, there's an `Html.ValidationSummary` call that will display validation errors if there are any.</span></span> <span data-ttu-id="05bfb-188">Tym razem trwa opuszczanie wywołań do `Validation.Message`, ponieważ błędy będą wyświetlane w podsumowaniu walidacji.</span><span class="sxs-lookup"><span data-stu-id="05bfb-188">This time we're leaving out calls to `Validation.Message`, since errors will be displayed in the validation summary.</span></span> <span data-ttu-id="05bfb-189">Jak wspomniano w poprzednim samouczku, można użyć podsumowania walidacji i poszczególnych komunikatów o błędach w różnych kombinacjach.</span><span class="sxs-lookup"><span data-stu-id="05bfb-189">As noted in the previous tutorial, you can use the validation summary and the individual error messages in various combinations.</span></span>

<span data-ttu-id="05bfb-190">Zwróć uwagę, że atrybut `method` elementu `<form>` jest ustawiony na `post`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-190">Notice again that the `method` attribute of the `<form>` element is set to `post`.</span></span> <span data-ttu-id="05bfb-191">Podobnie jak na stronie *addmovie. cshtml* , ta strona wprowadza zmiany w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-191">As with the *AddMovie.cshtml* page, this page makes changes to the database.</span></span> <span data-ttu-id="05bfb-192">W związku z tym formularz powinien wykonać operację `POST`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-192">Therefore, this form should perform a `POST` operation.</span></span> <span data-ttu-id="05bfb-193">(Aby uzyskać więcej informacji o różnicach między operacjami `GET` i `POST`, zobacz pasek boczny [bezpieczeństwa czasowników Get, post i http](form-basics.md#GET,_POST,_and_HTTP_Verb_Safety) w samouczku dotyczącym formularzy HTML.)</span><span class="sxs-lookup"><span data-stu-id="05bfb-193">(For more about the difference between `GET` and `POST` operations, see the [GET, POST, and HTTP Verb Safety](form-basics.md#GET,_POST,_and_HTTP_Verb_Safety) sidebar in the tutorial on HTML forms.)</span></span>

<span data-ttu-id="05bfb-194">Zgodnie z wcześniejszym samouczkiem `value` atrybuty pól tekstowych są ustawiane za pomocą kodu Razor w celu ich wstępnego załadowania.</span><span class="sxs-lookup"><span data-stu-id="05bfb-194">As you saw in an earlier tutorial, the `value` attributes of the text boxes are being set with Razor code in order to preload them.</span></span> <span data-ttu-id="05bfb-195">Tym razem używamy zmiennych, takich jak `title` i `genre` dla tego zadania zamiast `Request.Form["title"]`:</span><span class="sxs-lookup"><span data-stu-id="05bfb-195">This time, though, you're using variables like `title` and `genre` for that task instead of `Request.Form["title"]`:</span></span>

`<input type="text" name="title" value="@title" />`

<span data-ttu-id="05bfb-196">Tak jak wcześniej, ten znacznik spowoduje wstępne załadowanie wartości pola tekstowego przy użyciu wartości filmu.</span><span class="sxs-lookup"><span data-stu-id="05bfb-196">As before, this markup will preload the text box values with the movie values.</span></span> <span data-ttu-id="05bfb-197">Zobaczysz tutaj, dlaczego warto używać zmiennych tej godziny zamiast używać obiektu `Request`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-197">You'll see in a moment why it's handy to use variables this time instead of using the `Request` object.</span></span>

<span data-ttu-id="05bfb-198">Na tej stronie znajduje się również element `<input type="hidden">`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-198">There's also a `<input type="hidden">` element on this page.</span></span> <span data-ttu-id="05bfb-199">Ten element przechowuje identyfikator filmu bez udostępniania go na stronie.</span><span class="sxs-lookup"><span data-stu-id="05bfb-199">This element stores the movie ID without making it visible on the page.</span></span> <span data-ttu-id="05bfb-200">Identyfikator jest początkowo przekazywać do strony przy użyciu wartości ciągu zapytania (`?id=7` lub podobnej w adresie URL).</span><span class="sxs-lookup"><span data-stu-id="05bfb-200">The ID is initially passed to the page by using a query string value (`?id=7` or similar in the URL).</span></span> <span data-ttu-id="05bfb-201">Przez umieszczenie wartości identyfikatora w ukrytym polu, można upewnić się, że jest ona dostępna podczas przesyłania formularza, nawet jeśli nie masz już dostępu do oryginalnego adresu URL, z którym została wywołana strona.</span><span class="sxs-lookup"><span data-stu-id="05bfb-201">By putting the ID value into a hidden field, you can make sure that it's available when the form is submitted, even if you no longer have access to the original URL that the page was invoked with.</span></span>

<span data-ttu-id="05bfb-202">W przeciwieństwie do strony *addmovie* , kod dla strony *EditMovie* ma dwie odrębne funkcje.</span><span class="sxs-lookup"><span data-stu-id="05bfb-202">Unlike the *AddMovie* page, the code for the *EditMovie* page has two distinct functions.</span></span> <span data-ttu-id="05bfb-203">Pierwsza funkcja polega na tym, że gdy strona jest wyświetlana po raz pierwszy (i *tylko* wtedy), kod pobiera identyfikator filmu z ciągu zapytania.</span><span class="sxs-lookup"><span data-stu-id="05bfb-203">The first function is that when the page is displayed for the first time (and *only* then), the code gets the movie ID from the query string.</span></span> <span data-ttu-id="05bfb-204">Następnie kod używa identyfikatora w celu odczytania odpowiedniego filmu z bazy danych i wyświetlenia (wstępnego ładowania) w polach tekstowych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-204">The code then uses the ID to read the corresponding movie out of the database and display (preload) it in the text boxes.</span></span>

<span data-ttu-id="05bfb-205">Druga funkcja polega na tym, że gdy użytkownik kliknie przycisk **Prześlij zmiany** , kod musi odczytać wartości pól tekstowych i sprawdzić ich poprawność.</span><span class="sxs-lookup"><span data-stu-id="05bfb-205">The second function is that when the user clicks the **Submit Changes** button, the code has to read the values of the text boxes and validate them.</span></span> <span data-ttu-id="05bfb-206">Kod musi również zaktualizować element bazy danych o nowe wartości.</span><span class="sxs-lookup"><span data-stu-id="05bfb-206">The code also has to update the database item with the new values.</span></span> <span data-ttu-id="05bfb-207">Ta technika przypomina Dodawanie rekordu, jak pokazano w *addfilm*.</span><span class="sxs-lookup"><span data-stu-id="05bfb-207">This technique is similar to adding a record, as you saw in *AddMovie*.</span></span>

## <a name="adding-code-to-read-a-single-movie"></a><span data-ttu-id="05bfb-208">Dodawanie kodu w celu odczytania pojedynczego filmu</span><span class="sxs-lookup"><span data-stu-id="05bfb-208">Adding Code to Read a Single Movie</span></span>

<span data-ttu-id="05bfb-209">Aby wykonać pierwszą funkcję, Dodaj ten kod w górnej części strony:</span><span class="sxs-lookup"><span data-stu-id="05bfb-209">To perform the first function, add this code to the top of the page:</span></span>

[!code-cshtml[Main](updating-data/samples/sample11.cshtml)]

<span data-ttu-id="05bfb-210">Większość tego kodu znajduje się wewnątrz bloku, który zaczyna się `if(!IsPost)`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-210">Most of this code is inside a block that starts `if(!IsPost)`.</span></span> <span data-ttu-id="05bfb-211">Operator `!` oznacza "not", więc wyrażenie oznacza, że *to żądanie nie jest przesłaniem po* *raz pierwszy*, czyli pośrednim sposobem wymawiania tego żądania, gdy ta strona została uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="05bfb-211">The `!` operator means "not," so the expression means *if this request is not a post submission*, which is an indirect way of saying *if this request is the first time that this page has been run*.</span></span> <span data-ttu-id="05bfb-212">Jak wspomniano wcześniej, ten kod powinien być uruchamiany *tylko* podczas pierwszego uruchomienia strony.</span><span class="sxs-lookup"><span data-stu-id="05bfb-212">As noted earlier, this code should run *only* the first time the page runs.</span></span> <span data-ttu-id="05bfb-213">Jeśli kod nie został ujęty w `if(!IsPost)`, będzie uruchamiany za każdym razem, gdy zostanie wywołana Strona, niezależnie od tego, czy po raz pierwszy lub w odpowiedzi na kliknięcie przycisku.</span><span class="sxs-lookup"><span data-stu-id="05bfb-213">If you didn't enclose the code in `if(!IsPost)`, it would run every time the page is invoked, whether the first time or in response to a button click.</span></span>

<span data-ttu-id="05bfb-214">Należy zauważyć, że kod zawiera blok `else` tym razem.</span><span class="sxs-lookup"><span data-stu-id="05bfb-214">Notice that the code includes an `else` block this time.</span></span> <span data-ttu-id="05bfb-215">Jak wspomniano, gdy wprowadziliśmy `if` bloki, Czasami chcesz uruchomić alternatywny kod, jeśli testowany warunek nie jest spełniony.</span><span class="sxs-lookup"><span data-stu-id="05bfb-215">As we said when we introduced `if` blocks, sometimes you want to run alternative code if the condition you're testing isn't true.</span></span> <span data-ttu-id="05bfb-216">Dzieje się tak w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="05bfb-216">That's the case here.</span></span> <span data-ttu-id="05bfb-217">Jeśli warunek zostanie spełniony (oznacza to, że jeśli identyfikator przekazywany do strony jest prawidłowy), odczytasz wiersz z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-217">If the condition passes (that is, if the ID passed to the page is ok), you read a row from the database.</span></span> <span data-ttu-id="05bfb-218">Jeśli jednak warunek nie zostanie spełniony, zostanie uruchomiony blok `else` i kod ustawi komunikat o błędzie.</span><span class="sxs-lookup"><span data-stu-id="05bfb-218">However, if the condition doesn't pass, the `else` block runs and the code sets an error message.</span></span>

## <a name="validating-a-value-passed-to-the-page"></a><span data-ttu-id="05bfb-219">Sprawdzanie poprawności wartości przesłanej do strony</span><span class="sxs-lookup"><span data-stu-id="05bfb-219">Validating a Value Passed to the Page</span></span>

<span data-ttu-id="05bfb-220">Kod używa `Request.QueryString["id"]`, aby uzyskać identyfikator, który jest przesyłany do strony.</span><span class="sxs-lookup"><span data-stu-id="05bfb-220">The code uses `Request.QueryString["id"]` to get the ID that's passed to the page.</span></span> <span data-ttu-id="05bfb-221">Kod sprawdza, czy wartość jest faktycznie przenoszona dla tego identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="05bfb-221">The code makes sure that a value was actually passed for the ID.</span></span> <span data-ttu-id="05bfb-222">Jeśli nie przekazano żadnej wartości, kod ustawia błąd walidacji.</span><span class="sxs-lookup"><span data-stu-id="05bfb-222">If no value was passed, the code sets a validation error.</span></span>

<span data-ttu-id="05bfb-223">Ten kod przedstawia inny sposób sprawdzania poprawności informacji.</span><span class="sxs-lookup"><span data-stu-id="05bfb-223">This code shows a different way to validate information.</span></span> <span data-ttu-id="05bfb-224">W poprzednim samouczku pracowałeś z pomocnika `Validation`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-224">In the previous tutorial, you worked with the `Validation` helper.</span></span> <span data-ttu-id="05bfb-225">Zarejestrowano pola do walidacji, a ASP.NET automatycznie przeprowadził weryfikację i wyświetlane błędy przy użyciu `Html.ValidationMessage` i `Html.ValidationSummary`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-225">You registered fields to validate, and ASP.NET automatically did the validation and displayed errors by using `Html.ValidationMessage` and `Html.ValidationSummary`.</span></span> <span data-ttu-id="05bfb-226">W tym przypadku nie jest to jednak naprawdę Weryfikowanie danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="05bfb-226">In this case, however, you're not really validating user input.</span></span> <span data-ttu-id="05bfb-227">Zamiast tego jest sprawdzana wartość, która została przeniesiona na stronę z innego miejsca.</span><span class="sxs-lookup"><span data-stu-id="05bfb-227">Instead, you're validating a value that was passed to the page from elsewhere.</span></span> <span data-ttu-id="05bfb-228">Pomocnik `Validation` nie wykonuje tej czynności.</span><span class="sxs-lookup"><span data-stu-id="05bfb-228">The `Validation` helper doesn't do that for you.</span></span>

<span data-ttu-id="05bfb-229">W związku z tym sprawdzasz wartość samodzielnie, testując ją z `if(!Request.QueryString["ID"].IsEmpty()`).</span><span class="sxs-lookup"><span data-stu-id="05bfb-229">Therefore, you check the value yourself, by testing it with `if(!Request.QueryString["ID"].IsEmpty()`).</span></span> <span data-ttu-id="05bfb-230">Jeśli wystąpi problem, można wyświetlić błąd przy użyciu `Html.ValidationSummary`, jak w przypadku pomocnika `Validation`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-230">If there's a problem, you can display the error by using `Html.ValidationSummary`, as you did with the `Validation` helper.</span></span> <span data-ttu-id="05bfb-231">W tym celu należy wywołać `Validation.AddFormError` i przekazać mu komunikat do wyświetlenia.</span><span class="sxs-lookup"><span data-stu-id="05bfb-231">To do that, you call `Validation.AddFormError` and pass it a message to display.</span></span> <span data-ttu-id="05bfb-232">`Validation.AddFormError` to wbudowana Metoda, która umożliwia Definiowanie niestandardowych komunikatów, które są dostępne w systemie weryfikacji, które są już znane.</span><span class="sxs-lookup"><span data-stu-id="05bfb-232">`Validation.AddFormError` is a built-in method that lets you define custom messages that tie in with the validation system you're already familiar with.</span></span> <span data-ttu-id="05bfb-233">(W dalszej części tego samouczka dowiesz się, jak przeprowadzić proces weryfikacji nieco bardziej niezawodny).</span><span class="sxs-lookup"><span data-stu-id="05bfb-233">(Later in this tutorial we'll talk about how to make this validation process a little more robust.)</span></span>

<span data-ttu-id="05bfb-234">Po upewnieniu się, że istnieje identyfikator filmu, kod odczytuje bazę danych, szukając tylko pojedynczego elementu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-234">After making sure that there's an ID for the movie, the code reads the database, looking for only a single database item.</span></span> <span data-ttu-id="05bfb-235">(Prawdopodobnie zauważono ogólny wzorzec dla operacji bazy danych: Otwórz bazę danych, zdefiniuj instrukcję SQL i uruchom instrukcję). Tym razem instrukcja SQL `Select` zawiera `WHERE ID = @0`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-235">(You probably have noticed the general pattern for database operations: open the database, define a SQL statement, and run the statement.) This time, the SQL `Select` statement includes `WHERE ID = @0`.</span></span> <span data-ttu-id="05bfb-236">Ponieważ identyfikator jest unikatowy, można zwrócić tylko jeden rekord.</span><span class="sxs-lookup"><span data-stu-id="05bfb-236">Because the ID is unique, only one record can be returned.</span></span>

<span data-ttu-id="05bfb-237">Zapytanie jest wykonywane przy użyciu `db.QuerySingle` (nie `db.Query`, jak używane dla listy filmowej), a kod umieszcza wynik w zmiennej `row`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-237">The query is performed by using `db.QuerySingle` (not `db.Query`, as you used for the movie listing), and the code puts the result into the `row` variable.</span></span> <span data-ttu-id="05bfb-238">Nazwa `row` jest dowolnie. Możesz nadać nazwy zmiennym.</span><span class="sxs-lookup"><span data-stu-id="05bfb-238">The name `row` is arbitrary; you can name the variables anything you like.</span></span> <span data-ttu-id="05bfb-239">Zmienne zainicjowane u góry są wypełniane informacjami o filmie, dzięki czemu te wartości mogą być wyświetlane w polach tekstowych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-239">The variables initialized at the top are then filled with the movie details so that these values can be displayed in the text boxes.</span></span>

## <a name="testing-the-edit-page-so-far"></a><span data-ttu-id="05bfb-240">Testowanie strony edycji (do tej pory)</span><span class="sxs-lookup"><span data-stu-id="05bfb-240">Testing the Edit Page (So Far)</span></span>

<span data-ttu-id="05bfb-241">Jeśli chcesz przetestować stronę, Uruchom teraz stronę *filmów* i kliknij link **Edytuj** obok dowolnego filmu.</span><span class="sxs-lookup"><span data-stu-id="05bfb-241">If you'd like to test your page, run the *Movies* page now and click an **Edit** link next to any movie.</span></span> <span data-ttu-id="05bfb-242">Zostanie wyświetlona strona *EditMovie* z informacjami podanymi dla wybranego filmu:</span><span class="sxs-lookup"><span data-stu-id="05bfb-242">You'll see the *EditMovie* page with the details filled in for the movie you selected:</span></span>

![Edytuj stronę filmu przedstawiającą film do edycji](updating-data/_static/image3.png)

<span data-ttu-id="05bfb-244">Zwróć uwagę, że adres URL strony zawiera coś takiego jak `?id=10` (lub inną liczbę).</span><span class="sxs-lookup"><span data-stu-id="05bfb-244">Notice that the URL of the page includes something like `?id=10` (or some other number).</span></span> <span data-ttu-id="05bfb-245">Do tej pory sprawdzono, że linki **edycji** na stronie *filmu* działają, że strona odczytuje identyfikator z ciągu zapytania, a zapytanie bazy danych mające na celu uzyskanie pojedynczego rekordu filmu działa.</span><span class="sxs-lookup"><span data-stu-id="05bfb-245">So far you've tested that **Edit** links in the *Movie* page work, that your page is reading the ID from the query string, and that the database query to get a single movie record is working.</span></span>

<span data-ttu-id="05bfb-246">Możesz zmienić informacje o filmie, ale nic się nie dzieje po kliknięciu przycisku **Prześlij zmiany**.</span><span class="sxs-lookup"><span data-stu-id="05bfb-246">You can change the movie information, but nothing happens when you click **Submit Changes**.</span></span>

## <a name="adding-code-to-update-the-movie-with-the-users-changes"></a><span data-ttu-id="05bfb-247">Dodawanie kodu w celu zaktualizowania filmu ze zmianami użytkownika</span><span class="sxs-lookup"><span data-stu-id="05bfb-247">Adding Code to Update the Movie with the User's Changes</span></span>

<span data-ttu-id="05bfb-248">W pliku *EditMovie. cshtml* , aby zaimplementować drugą funkcję (zapisanie zmian), Dodaj następujący kod tuż wewnątrz zamykającego nawiasu klamrowego bloku `@`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-248">In the *EditMovie.cshtml* file, to implement the second function (saving changes), add the following code just inside the closing brace of the `@` block.</span></span> <span data-ttu-id="05bfb-249">(Jeśli nie masz pewności, gdzie należy umieścić kod, możesz zapoznać się z [pełną listą kodu dla strony Edytuj film](#Complete_Page_Listing_for_EditMovie) , która pojawia się na końcu tego samouczka).</span><span class="sxs-lookup"><span data-stu-id="05bfb-249">(If you're not sure exactly where to put the code, you can look at the [complete code listing for the Edit Movie page](#Complete_Page_Listing_for_EditMovie) that appears at the end of this tutorial.)</span></span>

[!code-csharp[Main](updating-data/samples/sample12.cs)]

<span data-ttu-id="05bfb-250">Ponownie znaczniki i kod są podobne do kodu w *addfilm*.</span><span class="sxs-lookup"><span data-stu-id="05bfb-250">Again, this markup and code is similar to the code in *AddMovie*.</span></span> <span data-ttu-id="05bfb-251">Kod znajduje się w bloku `if(IsPost)`, ponieważ ten kod jest uruchamiany tylko wtedy, gdy użytkownik kliknie przycisk **Prześlij zmiany** &mdash;, gdy (i tylko wtedy, gdy) formularz został opublikowany.</span><span class="sxs-lookup"><span data-stu-id="05bfb-251">The code is in an `if(IsPost)` block, because this code runs only when the user clicks the **Submit Changes** button &mdash; that is, when (and only when) the form has been posted.</span></span> <span data-ttu-id="05bfb-252">W tym przypadku nie używasz testu, takiego jak `if(IsPost && Validation.IsValid())`— to znaczy, że nie łączysz obu testów za pomocą i.</span><span class="sxs-lookup"><span data-stu-id="05bfb-252">In this case, you're not using a test like `if(IsPost && Validation.IsValid())`— that is, you're not combining both tests by using AND.</span></span> <span data-ttu-id="05bfb-253">Na tej stronie należy najpierw określić, czy jest przesyłany formularz (`if(IsPost)`), a następnie zarejestrować pola do walidacji.</span><span class="sxs-lookup"><span data-stu-id="05bfb-253">In this page, you first determine whether there's a form submission (`if(IsPost)`), and only then register the fields for validation.</span></span> <span data-ttu-id="05bfb-254">Następnie można testować wyniki walidacji (`if(Validation.IsValid()`).</span><span class="sxs-lookup"><span data-stu-id="05bfb-254">Then you can test the validation results (`if(Validation.IsValid()`).</span></span> <span data-ttu-id="05bfb-255">Przepływ jest nieco inny niż na stronie *addmovie. cshtml* , ale efekt jest taki sam.</span><span class="sxs-lookup"><span data-stu-id="05bfb-255">The flow is slightly different than in the *AddMovie.cshtml* page, but the effect is the same.</span></span>

<span data-ttu-id="05bfb-256">Wartości pól tekstowych są uzyskiwane przy użyciu `Request.Form["title"]` i podobnego kodu dla innych elementów `<input>`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-256">You get the values of the text boxes by using `Request.Form["title"]` and similar code for the other `<input>` elements.</span></span> <span data-ttu-id="05bfb-257">Zauważ, że w tym czasie kod pobiera identyfikator filmu z ukrytego pola (`<input type="hidden">`).</span><span class="sxs-lookup"><span data-stu-id="05bfb-257">Notice that this time, the code gets the movie ID out of the hidden field (`<input type="hidden">`).</span></span> <span data-ttu-id="05bfb-258">Gdy strona jest uruchamiana po raz pierwszy, kod uzyskał identyfikator z ciągu zapytania.</span><span class="sxs-lookup"><span data-stu-id="05bfb-258">When the page ran the first time, the code got the ID out of the query string.</span></span> <span data-ttu-id="05bfb-259">Otrzymujesz wartość z ukrytego pola, aby upewnić się, że otrzymujesz identyfikator filmu, który był pierwotnie wyświetlany, na wypadek gdyby ciąg zapytania był w jakiś sposób modyfikowany od momentu.</span><span class="sxs-lookup"><span data-stu-id="05bfb-259">You get the value from the hidden field to make sure that you're getting the ID of the movie that was originally displayed, in case the query string was somehow altered since then.</span></span>

<span data-ttu-id="05bfb-260">Istotna różnica między kodem *addmovie* a tym kodem polega na tym, że w tym kodzie używasz instrukcji SQL `Update`, a nie instrukcji `Insert Into`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-260">The really important difference between the *AddMovie* code and this code is that in this code you use the SQL `Update` statement instead of the `Insert Into` statement.</span></span> <span data-ttu-id="05bfb-261">W poniższym przykładzie przedstawiono składnię instrukcji SQL `Update`:</span><span class="sxs-lookup"><span data-stu-id="05bfb-261">The following example shows the syntax of the SQL `Update` statement:</span></span>

`UPDATE table SET col1="value", col2="value", col3="value" ... WHERE ID = value`

<span data-ttu-id="05bfb-262">Można określić dowolne kolumny w dowolnej kolejności i nie trzeba aktualizować każdej kolumny w trakcie operacji `Update`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-262">You can specify any columns in any order, and you don't necessarily have to update every column during an `Update` operation.</span></span> <span data-ttu-id="05bfb-263">(Nie można zaktualizować samego identyfikatora, ponieważ spowodowałoby to zapisanie rekordu jako nowego rekordu i niedozwolone dla operacji `Update`).</span><span class="sxs-lookup"><span data-stu-id="05bfb-263">(You cannot update the ID itself, because that would in effect save the record as a new record, and that's not allowed for an `Update` operation.)</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="05bfb-264">**Ważne** Klauzula `Where` o IDENTYFIKATORze jest bardzo ważna, ponieważ jest to sposób, w jaki baza danych wie, który rekord bazy danych ma zostać zaktualizowany.</span><span class="sxs-lookup"><span data-stu-id="05bfb-264">**Important** The `Where` clause with the ID is very important, because that's how the database knows which database record you want to update.</span></span> <span data-ttu-id="05bfb-265">Jeśli pozostawiłeś klauzulę `Where`, baza danych zaktualizuje *każdy* rekord w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-265">If you left off the `Where` clause, the database would update *every* record in the database.</span></span> <span data-ttu-id="05bfb-266">W większości przypadków jest to awaria.</span><span class="sxs-lookup"><span data-stu-id="05bfb-266">In most cases, that would be a disaster.</span></span>

<span data-ttu-id="05bfb-267">W kodzie wartości do zaktualizowania są przesyłane do instrukcji SQL przy użyciu symboli zastępczych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-267">In the code, the values to update are passed to the SQL statement by using placeholders.</span></span> <span data-ttu-id="05bfb-268">Aby powtórzyć powyższe czynności: ze względów bezpieczeństwa Użyj symboli zastępczych *tylko* do przekazania wartości do instrukcji SQL.</span><span class="sxs-lookup"><span data-stu-id="05bfb-268">To repeat what we've said before: for security reasons, *only* use placeholders to pass values to a SQL statement.</span></span>

<span data-ttu-id="05bfb-269">Gdy kod używa `db.Execute` do uruchomienia instrukcji `Update`, przekierowuje do strony z listą, gdzie można zobaczyć zmiany.</span><span class="sxs-lookup"><span data-stu-id="05bfb-269">After the code uses `db.Execute` to run the `Update` statement, it redirects back to the listing page, where you can see the changes.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="05bfb-270">**Różne instrukcje SQL, różne metody**</span><span class="sxs-lookup"><span data-stu-id="05bfb-270">**Different SQL Statements, Different Methods**</span></span>
> 
> <span data-ttu-id="05bfb-271">Być może zauważono, że używasz nieco różnych metod do uruchamiania różnych instrukcji SQL.</span><span class="sxs-lookup"><span data-stu-id="05bfb-271">You might have noticed that you use slightly different methods to run different SQL statements.</span></span> <span data-ttu-id="05bfb-272">Aby uruchomić kwerendę `Select`, która potencjalnie zwraca wiele rekordów, należy użyć metody `Query`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-272">To run a `Select` query that potentially returns multiple records, you use the `Query` method.</span></span> <span data-ttu-id="05bfb-273">Aby uruchomić zapytanie `Select`, które wie, że zwrócisz tylko jeden element bazy danych, należy użyć metody `QuerySingle`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-273">To run a `Select` query that you know will return only one database item, you use the `QuerySingle` method.</span></span> <span data-ttu-id="05bfb-274">Aby uruchomić polecenia, które wprowadzają zmiany, ale nie zwracają elementów bazy danych, należy użyć metody `Execute`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-274">To run commands that make changes but that don't return database items, you use the `Execute` method.</span></span>
> 
> <span data-ttu-id="05bfb-275">Musisz mieć różne metody, ponieważ każdy z nich zwraca różne wyniki, ponieważ wystąpiły już różnice między `Query` i `QuerySingle`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-275">You have to have different methods because each of them returns different results, as you saw already in the difference between `Query` and `QuerySingle`.</span></span> <span data-ttu-id="05bfb-276">(Metoda `Execute` faktycznie zwraca wartość, &mdash; mianowicie, liczbę wierszy bazy danych, na które miało wpływ polecenie &mdash; ale zostało to dotąd zignorowane.)</span><span class="sxs-lookup"><span data-stu-id="05bfb-276">(The `Execute` method actually returns a value also &mdash; namely, the number of database rows that were affected by the command &mdash; but you've been ignoring that so far.)</span></span>
> 
> <span data-ttu-id="05bfb-277">Oczywiście Metoda `Query` może zwrócić tylko jeden wiersz bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-277">Of course, the `Query` method might return only one database row.</span></span> <span data-ttu-id="05bfb-278">Jednak ASP.NET zawsze traktuje wyniki metody `Query` jako kolekcje.</span><span class="sxs-lookup"><span data-stu-id="05bfb-278">However, ASP.NET always treats the results of the `Query` method as a collection.</span></span> <span data-ttu-id="05bfb-279">Nawet jeśli metoda zwraca tylko jeden wiersz, należy wyodrębnić ten pojedynczy wiersz z kolekcji.</span><span class="sxs-lookup"><span data-stu-id="05bfb-279">Even if the method returns just one row, you have to extract that single row from the collection.</span></span> <span data-ttu-id="05bfb-280">Z tego względu, w sytuacjach, gdy *wiesz* , że będziesz otrzymywać tylko jeden wiersz, jest to nieco bardziej wygodne do użycia `QuerySingle`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-280">Therefore, in situations where you *know* you'll get back only one row, it's a bit more convenient to use `QuerySingle`.</span></span>
> 
> <span data-ttu-id="05bfb-281">Istnieje kilka innych metod wykonywania określonych typów operacji bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-281">There are a few other methods that perform specific types of database operations.</span></span> <span data-ttu-id="05bfb-282">Listę metod bazy danych można znaleźć w [szybkim Kompendium interfejsu API stron sieci Web ASP.NET](../../api-reference/asp-net-web-pages-api-reference.md#Data).</span><span class="sxs-lookup"><span data-stu-id="05bfb-282">You can find a listing of database methods in the [ASP.NET Web Pages API Quick Reference](../../api-reference/asp-net-web-pages-api-reference.md#Data).</span></span>

## <a name="making-validation-for-the-id-more-robust"></a><span data-ttu-id="05bfb-283">Sprawdzanie poprawności identyfikatora w sposób bardziej niezawodny</span><span class="sxs-lookup"><span data-stu-id="05bfb-283">Making Validation for the ID More Robust</span></span>

<span data-ttu-id="05bfb-284">Przy pierwszym uruchomieniu strony otrzymujesz identyfikator filmu z ciągu zapytania, aby można było pobrać ten film z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-284">The first time that the page runs, you get the movie ID from the query string so that you can go get that movie from the database.</span></span> <span data-ttu-id="05bfb-285">Upewnij się, że faktycznie była dostępna wartość, dla której wyszukiwany jest ten kod:</span><span class="sxs-lookup"><span data-stu-id="05bfb-285">You made sure that there actually was a value to go look for, which you did by using this code:</span></span>

[!code-csharp[Main](updating-data/samples/sample13.cs)]

<span data-ttu-id="05bfb-286">Ten kod został użyty do upewnienia się, że jeśli użytkownik przejdzie do strony *EditMovies* bez wcześniejszego wybrania filmu na stronie *filmy* , na stronie zostanie wyświetlony przyjazny dla użytkownika komunikat o błędzie.</span><span class="sxs-lookup"><span data-stu-id="05bfb-286">You used this code to make sure that if a user gets to the *EditMovies* page without first selecting a movie in the *Movies* page, the page would display a user-friendly error message.</span></span> <span data-ttu-id="05bfb-287">(W przeciwnym razie użytkownicy zobaczą komunikat o błędzie, który prawdopodobnie go zamylić).</span><span class="sxs-lookup"><span data-stu-id="05bfb-287">(Otherwise, users would see an error that would probably just confuse them.)</span></span>

<span data-ttu-id="05bfb-288">Jednak sprawdzanie poprawności nie jest bardzo niezawodne.</span><span class="sxs-lookup"><span data-stu-id="05bfb-288">However, this validation isn't very robust.</span></span> <span data-ttu-id="05bfb-289">Ta strona może być również wywoływana z następującymi błędami:</span><span class="sxs-lookup"><span data-stu-id="05bfb-289">The page might also be invoked with these errors:</span></span>

- <span data-ttu-id="05bfb-290">Identyfikator nie jest liczbą.</span><span class="sxs-lookup"><span data-stu-id="05bfb-290">The ID isn't a number.</span></span> <span data-ttu-id="05bfb-291">Na przykład strona może być wywoływana przy użyciu adresu URL, takiego jak `http://localhost:nnnnn/EditMovie?id=abc`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-291">For example, the page could be invoked with a URL like `http://localhost:nnnnn/EditMovie?id=abc`.</span></span>
- <span data-ttu-id="05bfb-292">Identyfikator jest liczbą, ale odwołuje się do filmu, który nie istnieje (na przykład `http://localhost:nnnnn/EditMovie?id=100934`).</span><span class="sxs-lookup"><span data-stu-id="05bfb-292">The ID is a number, but it references a movie that doesn't exist (for example, `http://localhost:nnnnn/EditMovie?id=100934`).</span></span>

<span data-ttu-id="05bfb-293">Jeśli chcesz wiedzieć się z błędami, które wynikają z tych adresów URL, Uruchom stronę *filmy* .</span><span class="sxs-lookup"><span data-stu-id="05bfb-293">If you're curious to see the errors that result from these URLs, run the *Movies* page.</span></span> <span data-ttu-id="05bfb-294">Wybierz film do edycji, a następnie Zmień adres URL strony *EditMovie* na adres URL, który zawiera identyfikator alfabetyczny lub identyfikator nieistniejącego filmu.</span><span class="sxs-lookup"><span data-stu-id="05bfb-294">Select a movie to edit, and then change the URL of the *EditMovie* page to a URL that contains an alphabetic ID or the ID of a non-existent movie.</span></span>

<span data-ttu-id="05bfb-295">Co należy zrobić?</span><span class="sxs-lookup"><span data-stu-id="05bfb-295">So what should you do?</span></span> <span data-ttu-id="05bfb-296">Pierwsza poprawka ma na celu upewnienie się, że nie tylko jest to identyfikator przesłany do strony, ale identyfikator jest liczbą całkowitą.</span><span class="sxs-lookup"><span data-stu-id="05bfb-296">The first fix is to make sure that not only is an ID passed to the page, but that the ID is an integer.</span></span> <span data-ttu-id="05bfb-297">Zmień kod dla testu `!IsPost` tak, aby wyglądał następująco:</span><span class="sxs-lookup"><span data-stu-id="05bfb-297">Change the code for the `!IsPost` test to look like this example:</span></span>

[!code-csharp[Main](updating-data/samples/sample14.cs)]

<span data-ttu-id="05bfb-298">Do testu `IsEmpty` został dodany drugi warunek połączony z `&&` (koniunkcja logiczna i):</span><span class="sxs-lookup"><span data-stu-id="05bfb-298">You've added a second condition to the `IsEmpty` test, linked with `&&` (logical AND):</span></span>

[!code-csharp[Main](updating-data/samples/sample15.cs)]

<span data-ttu-id="05bfb-299">Zapamiętaj, że możesz zapamiętać o samouczku [programowanie stron sieci Web ASP.NET](../introducing-razor-syntax-c.md) , które metody, takie jak `AsBool` `AsInt` konwersji ciągu znaków na inne typy danych.</span><span class="sxs-lookup"><span data-stu-id="05bfb-299">You might remember from the [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md) tutorial that methods like `AsBool` an `AsInt` convert a character string to some other data type.</span></span> <span data-ttu-id="05bfb-300">Metoda `IsInt` (i inne, takie jak `IsBool` i `IsDateTime`) są podobne.</span><span class="sxs-lookup"><span data-stu-id="05bfb-300">The `IsInt` method (and others, like `IsBool` and `IsDateTime`) are similar.</span></span> <span data-ttu-id="05bfb-301">Jednak testuje tylko, czy *można* przekonwertować ciąg, bez faktycznego wykonania konwersji.</span><span class="sxs-lookup"><span data-stu-id="05bfb-301">However, they test only whether you *can* convert the string, without actually performing the conversion.</span></span> <span data-ttu-id="05bfb-302">W tym miejscu mówiąc, *czy wartość ciągu zapytania może być konwertowana na liczbę całkowitą...*</span><span class="sxs-lookup"><span data-stu-id="05bfb-302">So here you're essentially saying *If the query string value can be converted to an integer ...*.</span></span>

<span data-ttu-id="05bfb-303">Innym potencjalnym problemem jest wyszukiwanie filmu, który nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="05bfb-303">The other potential problem is looking for a movie that doesn't exist.</span></span> <span data-ttu-id="05bfb-304">Kod do pobrania filmu wygląda podobnie do tego kodu:</span><span class="sxs-lookup"><span data-stu-id="05bfb-304">The code to get a movie looks like this code:</span></span>

[!code-csharp[Main](updating-data/samples/sample16.cs)]

<span data-ttu-id="05bfb-305">Jeśli przekażesz wartość `movieId` do metody `QuerySingle`, która nie odpowiada rzeczywistemu filmowi, nic nie zostanie zwrócone i instrukcje, które obserwują (na przykład `title=row.Title`) powodują błędy.</span><span class="sxs-lookup"><span data-stu-id="05bfb-305">If you pass a `movieId` value to the `QuerySingle` method that doesn't correspond to an actual movie, nothing is returned and the statements that follow (for example, `title=row.Title`) result in errors.</span></span>

<span data-ttu-id="05bfb-306">Ponownie jest prosta poprawka.</span><span class="sxs-lookup"><span data-stu-id="05bfb-306">Again there's an easy fix.</span></span> <span data-ttu-id="05bfb-307">Jeśli metoda `db.QuerySingle` nie zwróci żadnych wyników, zmienna `row` będzie równa null.</span><span class="sxs-lookup"><span data-stu-id="05bfb-307">If the `db.QuerySingle` method returns no results, the `row` variable will be null.</span></span> <span data-ttu-id="05bfb-308">Aby sprawdzić, czy zmienna `row` ma wartość null, przed podjęciem próby pobrania z niej wartości.</span><span class="sxs-lookup"><span data-stu-id="05bfb-308">So you can check whether the `row` variable is null before you try to get values from it.</span></span> <span data-ttu-id="05bfb-309">Poniższy kod dodaje blok `if` wokół instrukcji, które pobierają wartości z obiektu `row`:</span><span class="sxs-lookup"><span data-stu-id="05bfb-309">The following code adds an `if` block around the statements that get the values out of the `row` object:</span></span>

[!code-csharp[Main](updating-data/samples/sample17.cs)]

<span data-ttu-id="05bfb-310">Dzięki tym dwóm dodatkowym testom weryfikacyjnym strona otrzymuje więcej punktorów.</span><span class="sxs-lookup"><span data-stu-id="05bfb-310">With these two additional validation tests, the page becomes more bullet-proof.</span></span> <span data-ttu-id="05bfb-311">Pełen kod dla gałęzi `!IsPost` teraz wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="05bfb-311">The complete code for the `!IsPost` branch now looks like this example:</span></span>

[!code-csharp[Main](updating-data/samples/sample18.cs)]

<span data-ttu-id="05bfb-312">Zanotujemy, że to zadanie jest dobrym użyciem dla bloku `else`.</span><span class="sxs-lookup"><span data-stu-id="05bfb-312">We'll note once more that this task is a good use for an `else` block.</span></span> <span data-ttu-id="05bfb-313">Jeśli testy nie zachodzą, bloki `else` ustawiają komunikaty o błędach.</span><span class="sxs-lookup"><span data-stu-id="05bfb-313">If the tests don't pass, the `else` blocks set error messages.</span></span>

## <a name="adding-a-link-to-return-to-the-movies-page"></a><span data-ttu-id="05bfb-314">Dodawanie linku do powrotu do strony filmów</span><span class="sxs-lookup"><span data-stu-id="05bfb-314">Adding a Link to Return to the Movies Page</span></span>

<span data-ttu-id="05bfb-315">Ostateczne i przydatne szczegóły to dodanie łącza z powrotem do strony *filmów* .</span><span class="sxs-lookup"><span data-stu-id="05bfb-315">A final and helpful detail is to add a link back to the *Movies* page.</span></span> <span data-ttu-id="05bfb-316">W zwykłym przepływie zdarzeń użytkownicy uruchomili się na stronie *filmów* i klikają link **edycji** .</span><span class="sxs-lookup"><span data-stu-id="05bfb-316">In the ordinary flow of events, users will start at the *Movies* page and click an **Edit** link.</span></span> <span data-ttu-id="05bfb-317">Spowoduje to przełączenie ich do strony *EditMovie* , na której można edytować film, a następnie kliknąć przycisk.</span><span class="sxs-lookup"><span data-stu-id="05bfb-317">That brings them to the *EditMovie* page, where they can edit the movie and click the button.</span></span> <span data-ttu-id="05bfb-318">Gdy kod przetworzy zmianę, przekierowuje ponownie do strony *filmów* .</span><span class="sxs-lookup"><span data-stu-id="05bfb-318">After the code processes the change, it redirects back to the *Movies* page.</span></span>

<span data-ttu-id="05bfb-319">Ale</span><span class="sxs-lookup"><span data-stu-id="05bfb-319">However:</span></span>

- <span data-ttu-id="05bfb-320">Użytkownik może zrezygnować z zmian.</span><span class="sxs-lookup"><span data-stu-id="05bfb-320">The user might decide not to change anything.</span></span>
- <span data-ttu-id="05bfb-321">Użytkownik mógł uzyskać dostęp do tej strony bez uprzedniego kliknięcia linku **edycji** na stronie *filmów* .</span><span class="sxs-lookup"><span data-stu-id="05bfb-321">The user might have gotten to this page without first clicking an **Edit** link in the *Movies* page.</span></span>

<span data-ttu-id="05bfb-322">W obu przypadkach chcesz ułatwić użytkownikom powrót do listy głównej.</span><span class="sxs-lookup"><span data-stu-id="05bfb-322">Either way, you want to make it easy for them to return to the main listing.</span></span> <span data-ttu-id="05bfb-323">Jest to Łatwa poprawka &mdash; Dodaj następujące znaczniki tuż po tagu zamykającym `</form>` w znaczniku:</span><span class="sxs-lookup"><span data-stu-id="05bfb-323">It's an easy fix &mdash; add the following markup just after the closing `</form>` tag in the markup:</span></span>

[!code-html[Main](updating-data/samples/sample19.html)]

<span data-ttu-id="05bfb-324">Ten znacznik używa tej samej składni dla elementu `<a>`, który był widoczny w innym miejscu.</span><span class="sxs-lookup"><span data-stu-id="05bfb-324">This markup uses the same syntax for an `<a>` element that you've seen elsewhere.</span></span> <span data-ttu-id="05bfb-325">Adres URL zawiera `~` oznaczający "katalog główny witryny sieci Web".</span><span class="sxs-lookup"><span data-stu-id="05bfb-325">The URL includes `~` to mean "root of the website."</span></span>

## <a name="testing-the-movie-update-process"></a><span data-ttu-id="05bfb-326">Testowanie procesu aktualizacji filmu</span><span class="sxs-lookup"><span data-stu-id="05bfb-326">Testing the Movie Update Process</span></span>

<span data-ttu-id="05bfb-327">Teraz można testować.</span><span class="sxs-lookup"><span data-stu-id="05bfb-327">Now you can test.</span></span> <span data-ttu-id="05bfb-328">Uruchom stronę *filmy* , a następnie kliknij pozycję **Edytuj** obok filmu.</span><span class="sxs-lookup"><span data-stu-id="05bfb-328">Run the *Movies* page, and click **Edit** next to a movie.</span></span> <span data-ttu-id="05bfb-329">Gdy zostanie wyświetlona strona *EditMovie* , wprowadź zmiany w filmie i kliknij pozycję **Prześlij zmiany**.</span><span class="sxs-lookup"><span data-stu-id="05bfb-329">When the *EditMovie* page appears, make changes to the movie and click **Submit Changes**.</span></span> <span data-ttu-id="05bfb-330">Gdy zostanie wyświetlona lista filmów, upewnij się, że zmiany są wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="05bfb-330">When the movie listing appears, make sure that your changes are shown.</span></span>

<span data-ttu-id="05bfb-331">Aby upewnić się, że walidacja działa, kliknij pozycję **Edytuj** dla innego filmu.</span><span class="sxs-lookup"><span data-stu-id="05bfb-331">To make sure that validation is working, click **Edit** for another movie.</span></span> <span data-ttu-id="05bfb-332">Po przeniesieniu do strony *EditMovie* wyczyść pole **gatunek** (lub pole **rok** lub oba), a następnie spróbuj przesłać zmiany.</span><span class="sxs-lookup"><span data-stu-id="05bfb-332">When you get to the *EditMovie* page, clear the **Genre** field (or **Year** field, or both) and try to submit your changes.</span></span> <span data-ttu-id="05bfb-333">Zobaczysz błąd, zgodnie z oczekiwaniami:</span><span class="sxs-lookup"><span data-stu-id="05bfb-333">You'll see an error, as you'd expect:</span></span>

![Edytuj stronę filmu przedstawiającą błędy walidacji](updating-data/_static/image4.png)

<span data-ttu-id="05bfb-335">Kliknij link **Wróć do listy filmów** , aby porzucić zmiany i powrócić do strony *filmów* .</span><span class="sxs-lookup"><span data-stu-id="05bfb-335">Click the **Return to movie listing** link to abandon your changes and return to the *Movies* page.</span></span>

## <a name="coming-up-next"></a><span data-ttu-id="05bfb-336">Przyszłe przejście</span><span class="sxs-lookup"><span data-stu-id="05bfb-336">Coming Up Next</span></span>

<span data-ttu-id="05bfb-337">W następnym samouczku zobaczysz, jak usunąć rekord filmu.</span><span class="sxs-lookup"><span data-stu-id="05bfb-337">In the next tutorial, you'll see how to delete a movie record.</span></span>

## <a name="complete-listing-for-movie-page-updated-with-edit-links"></a><span data-ttu-id="05bfb-338">Ukończ listę dla strony filmu (Zaktualizowano za pomocą linków edycji)</span><span class="sxs-lookup"><span data-stu-id="05bfb-338">Complete Listing for Movie Page (Updated with Edit Links)</span></span>

[!code-cshtml[Main](updating-data/samples/sample20.cshtml)]

<a id="Complete_Page_Listing_for_EditMovie"></a>
## <a name="complete-page-listing-for-edit-movie-page"></a><span data-ttu-id="05bfb-339">Kompletna lista stron do edycji strony filmu</span><span class="sxs-lookup"><span data-stu-id="05bfb-339">Complete Page Listing for Edit Movie Page</span></span>

[!code-cshtml[Main](updating-data/samples/sample21.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="05bfb-340">Dodatkowe materiały</span><span class="sxs-lookup"><span data-stu-id="05bfb-340">Additional Resources</span></span>

- [<span data-ttu-id="05bfb-341">Wprowadzenie do programowania w ASP.NET sieci Web przy użyciu składni Razor</span><span class="sxs-lookup"><span data-stu-id="05bfb-341">Introduction to ASP.NET Web Programming by Using the Razor Syntax</span></span>](../../getting-started/introducing-razor-syntax-c.md)
- <span data-ttu-id="05bfb-342">[Instrukcja SQL Update](http://www.w3schools.com/sql/sql_update.asp) w witrynie w3schools</span><span class="sxs-lookup"><span data-stu-id="05bfb-342">[SQL UPDATE Statement](http://www.w3schools.com/sql/sql_update.asp) on the W3Schools site</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="05bfb-343">[Poprzednie](entering-data.md)
> [dalej](deleting-data.md)</span><span class="sxs-lookup"><span data-stu-id="05bfb-343">[Previous](entering-data.md)
[Next](deleting-data.md)</span></span>
