---
uid: web-pages/overview/ui-layouts-and-themes/4-working-with-forms
title: Praca z formularzami HTML w witrynach sieci Web Pages (Razor) platformy ASP.NET | Dokumentacja firmy Microsoft
author: Rick-Anderson
description: Formularz jest sekcja dokumentu HTML, gdzie umieścić kontrolki danych wejściowych użytkownika, takie jak pola tekstowe, pola wyboru, listy rozwijane i przyciski opcji. Używanie formularzy pytania "Wh"...
ms.author: riande
ms.date: 02/10/2014
ms.assetid: f3f4b8c8-e8f6-4474-ad94-69228a6c01ee
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/4-working-with-forms
msc.type: authoredcontent
ms.openlocfilehash: c7d4802063c8610a246afe67bd15eea429f7304a
ms.sourcegitcommit: dd0dc556a3d99a31d8fdbc763e9a2e53f3441b70
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/27/2019
ms.locfileid: "67410842"
---
# <a name="working-with-html-forms-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="d4a59-104">Praca z formularzami HTML w witrynach ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="d4a59-104">Working with HTML Forms in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="d4a59-105">przez [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="d4a59-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="d4a59-106">W tym artykule opisano sposób przetwarzania formularza HTML (za pomocą pola tekstowe i przyciski) podczas pracy w witrynie internetowej ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="d4a59-106">This article describes how to process an HTML form (with text boxes and buttons) when you are working in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="d4a59-107">**Zawartość:**</span><span class="sxs-lookup"><span data-stu-id="d4a59-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="d4a59-108">Jak utworzyć formularza HTML.</span><span class="sxs-lookup"><span data-stu-id="d4a59-108">How to create an HTML form.</span></span>
> - <span data-ttu-id="d4a59-109">Jak odczytać dane wejściowe użytkownika z formularza.</span><span class="sxs-lookup"><span data-stu-id="d4a59-109">How to read user input from the form.</span></span>
> - <span data-ttu-id="d4a59-110">Jak sprawdzić poprawność danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d4a59-110">How to validate user input.</span></span>
> - <span data-ttu-id="d4a59-111">Jak przywrócić wartości formularza po przesłaniu strony.</span><span class="sxs-lookup"><span data-stu-id="d4a59-111">How to restore form values after the page is submitted.</span></span>
> 
> <span data-ttu-id="d4a59-112">Poniżej przedstawiono ASP.NET programowania pojęciami opisanymi w artykule:</span><span class="sxs-lookup"><span data-stu-id="d4a59-112">These are the ASP.NET programming concepts introduced in the article:</span></span>
> 
> - <span data-ttu-id="d4a59-113">`Request` Obiektu.</span><span class="sxs-lookup"><span data-stu-id="d4a59-113">The `Request` object.</span></span>
> - <span data-ttu-id="d4a59-114">Walidacja danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="d4a59-114">Input validation.</span></span>
> - <span data-ttu-id="d4a59-115">Kodowanie HTML.</span><span class="sxs-lookup"><span data-stu-id="d4a59-115">HTML encoding.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="d4a59-116">Wersje oprogramowania używanego w tym samouczku</span><span class="sxs-lookup"><span data-stu-id="d4a59-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="d4a59-117">ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="d4a59-117">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="d4a59-118">W tym samouczku współpracuje również z wzorca ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="d4a59-118">This tutorial also works with ASP.NET Web Pages 2.</span></span>

## <a name="creating-a-simple-html-form"></a><span data-ttu-id="d4a59-119">Tworzenie prostego formularza HTML</span><span class="sxs-lookup"><span data-stu-id="d4a59-119">Creating a Simple HTML Form</span></span>

1. <span data-ttu-id="d4a59-120">Utwórz nową witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="d4a59-120">Create a new website.</span></span>
2. <span data-ttu-id="d4a59-121">W folderze głównym Utwórz stronę sieci web o nazwie *Form.cshtml* i wprowadź następujący kod:</span><span class="sxs-lookup"><span data-stu-id="d4a59-121">In the root folder, create a web page named *Form.cshtml* and enter the following markup:</span></span>

    [!code-html[Main](4-working-with-forms/samples/sample1.html)]
3. <span data-ttu-id="d4a59-122">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="d4a59-122">Launch the page in your browser.</span></span> <span data-ttu-id="d4a59-123">(W programie WebMatrix w **pliki** obszaru roboczego, kliknij prawym przyciskiem myszy plik, a następnie wybierz pozycję **Uruchom w przeglądarce**.) Prosty formularz z trzech pól wejściowych i **przesyłania** wyświetlany przycisk.</span><span class="sxs-lookup"><span data-stu-id="d4a59-123">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.) A simple form with three input fields and a **Submit** button is displayed.</span></span>

    ![Zrzut ekranu przedstawiający formularz zawierający trzy pola tekstowe.](4-working-with-forms/_static/image1.png)

    <span data-ttu-id="d4a59-125">Jeśli na tym etapie, możesz kliknąć pozycję **przesyłania** przycisk, nic się nie dzieje.</span><span class="sxs-lookup"><span data-stu-id="d4a59-125">At this point, if you click the **Submit** button, nothing happens.</span></span> <span data-ttu-id="d4a59-126">Aby formularz był przydatny, trzeba dodać kodu, który będzie uruchamiany na serwerze.</span><span class="sxs-lookup"><span data-stu-id="d4a59-126">To make the form useful, you have to add some code that will run on the server.</span></span>

## <a name="reading-user-input-from-the-form"></a><span data-ttu-id="d4a59-127">Odczytywanie danych wejściowych użytkownika z formularza</span><span class="sxs-lookup"><span data-stu-id="d4a59-127">Reading User Input from the Form</span></span>

<span data-ttu-id="d4a59-128">Aby przetwarzać formularza, należy dodać kod, który odczytuje wartości pól przesłane i wykonuje coś z nimi.</span><span class="sxs-lookup"><span data-stu-id="d4a59-128">To process the form, you add code that reads the submitted field values and does something with them.</span></span> <span data-ttu-id="d4a59-129">Ta procedura pokazuje, jak odczytać pól i wyświetlić dane wejściowe użytkownika na stronie.</span><span class="sxs-lookup"><span data-stu-id="d4a59-129">This procedure shows you how to read the fields and display the user input on the page.</span></span> <span data-ttu-id="d4a59-130">(W przypadku aplikacji produkcyjnej należy zwykle wykonać bardziej interesujących zadań z danymi wejściowymi użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d4a59-130">(In a production application, you generally do more interesting things with user input.</span></span> <span data-ttu-id="d4a59-131">Należy to zrobić w artykule na temat pracy z bazami danych.)</span><span class="sxs-lookup"><span data-stu-id="d4a59-131">You'll do that in the article about working with databases.)</span></span>

1. <span data-ttu-id="d4a59-132">W górnej części *Form.cshtml* pliku, wprowadź następujący kod:</span><span class="sxs-lookup"><span data-stu-id="d4a59-132">At the top of the *Form.cshtml* file, enter the following code:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample2.cshtml)]

    <span data-ttu-id="d4a59-133">Gdy użytkownik po raz pierwszy żąda strony, zostanie wyświetlony tylko pusty formularz.</span><span class="sxs-lookup"><span data-stu-id="d4a59-133">When the user first requests the page, only the empty form is displayed.</span></span> <span data-ttu-id="d4a59-134">(Który będzie można) użytkownik wypełnia formularz, a następnie klika przycisk **przesyłania**.</span><span class="sxs-lookup"><span data-stu-id="d4a59-134">The user (which will be you) fills in the form and then clicks **Submit**.</span></span> <span data-ttu-id="d4a59-135">Przesyła (ogłoszeń) danych wejściowych użytkownika do serwera.</span><span class="sxs-lookup"><span data-stu-id="d4a59-135">This submits (posts) the user input to the server.</span></span> <span data-ttu-id="d4a59-136">Domyślnie żądania prowadzi do tej samej strony (to znaczy, *Form.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="d4a59-136">By default, the request goes to the same page (namely, *Form.cshtml*).</span></span>

    <span data-ttu-id="d4a59-137">Po przesłaniu strony teraz wprowadzone wartości są wyświetlane nad formularza:</span><span class="sxs-lookup"><span data-stu-id="d4a59-137">When you submit the page this time, the values you entered are displayed just above the form:</span></span>

    ![Zrzut ekranu pokazujący wprowadzone wartości wyświetlane na stronie.](4-working-with-forms/_static/image2.png)

    <span data-ttu-id="d4a59-139">Spójrz na kod strony.</span><span class="sxs-lookup"><span data-stu-id="d4a59-139">Look at the code for the page.</span></span> <span data-ttu-id="d4a59-140">Należy najpierw użyć `IsPost` metodę pozwala ustalić, czy strona jest przesyłana &#8212; oznacza to, czy użytkownik kliknął element **przesyłania** przycisku.</span><span class="sxs-lookup"><span data-stu-id="d4a59-140">You first use the `IsPost` method to determine whether the page is being posted &#8212; that is, whether a user clicked the **Submit** button.</span></span> <span data-ttu-id="d4a59-141">Jeśli jest to udzielania `IsPost` zwraca wartość true.</span><span class="sxs-lookup"><span data-stu-id="d4a59-141">If this is a post, `IsPost` returns true.</span></span> <span data-ttu-id="d4a59-142">Jest to standardowy sposób stron ASP.NET Web Pages w celu ustalenia, czy pracujesz za pomocą początkowego żądania (żądanie GET) lub zwrotu (żądania POST).</span><span class="sxs-lookup"><span data-stu-id="d4a59-142">This is the standard way in ASP.NET Web Pages to determine whether you're working with an initial request (a GET request) or a postback (a POST request).</span></span> <span data-ttu-id="d4a59-143">(Aby uzyskać więcej informacji na temat GET i POST zobacz "Pobierz i POST oraz IsPost właściwość HTTP" paska bocznego w [wprowadzenie do platformy ASP.NET Web Pages programowania z użyciem składni Razor](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span><span class="sxs-lookup"><span data-stu-id="d4a59-143">(For more information about GET and POST, see the sidebar "HTTP GET and POST and the IsPost Property" in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span></span>

    <span data-ttu-id="d4a59-144">Następnie Pobierz wartości, które użytkownik wypełnione `Request.Form` obiektu i umieść je w zmiennych na później.</span><span class="sxs-lookup"><span data-stu-id="d4a59-144">Next, you get the values that the user filled in from the `Request.Form` object, and you put them in variables for later.</span></span> <span data-ttu-id="d4a59-145">`Request.Form` Obiekt zawiera wszystkie wartości, które zostały przesłane ze stroną, identyfikowanych według klucza.</span><span class="sxs-lookup"><span data-stu-id="d4a59-145">The `Request.Form` object contains all the values that were submitted with the page, each identified by a key.</span></span> <span data-ttu-id="d4a59-146">Klucz jest odpowiednikiem `name` atrybutu pola formularza, który chcesz odczytać.</span><span class="sxs-lookup"><span data-stu-id="d4a59-146">The key is the equivalent to the `name` attribute of the form field that you want to read.</span></span> <span data-ttu-id="d4a59-147">Na przykład, aby odczytać `companyname` pola (pole tekstowe), możesz użyć `Request.Form["companyname"]`.</span><span class="sxs-lookup"><span data-stu-id="d4a59-147">For example, to read the `companyname` field (text box), you use `Request.Form["companyname"]`.</span></span>

    <span data-ttu-id="d4a59-148">Wartości formularza są przechowywane w `Request.Form` obiektu jako ciągi.</span><span class="sxs-lookup"><span data-stu-id="d4a59-148">Form values are stored in the `Request.Form` object as strings.</span></span> <span data-ttu-id="d4a59-149">W związku z tym gdy trzeba pracować z wartością jako liczba lub wartość typu date lub innego typu, należy przekonwertować go z ciągu do tego typu.</span><span class="sxs-lookup"><span data-stu-id="d4a59-149">Therefore, when you have to work with a value as a number or a date or some other type, you have to convert it from a string to that type.</span></span> <span data-ttu-id="d4a59-150">W tym przykładzie `AsInt` metody `Request.Form` służy do konwertowania wartości pola pracowników, (który zawiera liczba pracowników) na liczbę całkowitą.</span><span class="sxs-lookup"><span data-stu-id="d4a59-150">In the example, the `AsInt` method of the `Request.Form` is used to convert the value of the employees field (which contains an employee count) to an integer.</span></span>
2. <span data-ttu-id="d4a59-151">Uruchom stronę w przeglądarce, wypełnij pola formularza, a następnie kliknij przycisk **przesyłania**.</span><span class="sxs-lookup"><span data-stu-id="d4a59-151">Launch the page in your browser, fill in the form fields, and click **Submit**.</span></span> <span data-ttu-id="d4a59-152">Zostanie wyświetlona strona wprowadzone wartości.</span><span class="sxs-lookup"><span data-stu-id="d4a59-152">The page displays the values you entered.</span></span>

> [!TIP] 
> 
> <a id="SB_HTMLEncoding"></a>
> ### <a name="html-encoding-for-appearance-and-security"></a><span data-ttu-id="d4a59-153">Kodowanie wygląd i zabezpieczeń w formacie HTML</span><span class="sxs-lookup"><span data-stu-id="d4a59-153">HTML Encoding for Appearance and Security</span></span>
> 
> <span data-ttu-id="d4a59-154">HTML ma specjalne zastosowań znaków, takich jak `<`, `>`, i `&`.</span><span class="sxs-lookup"><span data-stu-id="d4a59-154">HTML has special uses for characters like `<`, `>`, and `&`.</span></span> <span data-ttu-id="d4a59-155">Jeśli te znaki specjalne są wyświetlane, gdzie one nie oczekiwano, ich przeszukiwanie wyglądu i funkcjonalności na stronie sieci web.</span><span class="sxs-lookup"><span data-stu-id="d4a59-155">If these special characters appear where they're not expected, they can ruin the appearance and functionality of your web page.</span></span> <span data-ttu-id="d4a59-156">Na przykład przeglądarka interpretuje `<` znak (chyba że następuje spacja) jako początek elementu HTML, takie jak `<b>` lub `<input ...>`.</span><span class="sxs-lookup"><span data-stu-id="d4a59-156">For example, the browser interprets the `<` character (unless it's followed by a space) as the beginning of an HTML element, like `<b>` or `<input ...>`.</span></span> <span data-ttu-id="d4a59-157">Jeśli przeglądarka nie rozpoznaje element, po prostu odrzuca ciąg, który rozpoczyna się od `<` aż do napotkania coś, ponownie rozpoznaje.</span><span class="sxs-lookup"><span data-stu-id="d4a59-157">If the browser doesn't recognize the element, it simply discards the string that begins with `<` until it reaches something that it again recognizes.</span></span> <span data-ttu-id="d4a59-158">Oczywiście może to spowodować pewne renderowanie nieco dziwne, na stronie.</span><span class="sxs-lookup"><span data-stu-id="d4a59-158">Obviously, this can result in some weird rendering in the page.</span></span>
> 
> <span data-ttu-id="d4a59-159">Kodowanie HTML zastępuje następujących znaków zastrzeżonych z kodem, który przeglądarek, następuje interpretacja jako poprawne symboli.</span><span class="sxs-lookup"><span data-stu-id="d4a59-159">HTML encoding replaces these reserved characters with a code that browsers interpret as the correct symbol.</span></span> <span data-ttu-id="d4a59-160">Na przykład `<` jest zastępowany znaku `&lt;` i `>` jest zastępowany znaku `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="d4a59-160">For example, the `<` character is replaced with `&lt;` and the `>` character is replaced with `&gt;`.</span></span> <span data-ttu-id="d4a59-161">Przeglądarka renderuje te ciągi zastąpienie jako znaki, które mają być wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="d4a59-161">The browser renders these replacement strings as the characters that you want to see.</span></span>
> 
> <span data-ttu-id="d4a59-162">To dobry pomysł, do użycia w dowolnym momencie wyświetlić ciągów kodowania HTML (dane wejściowe), którą uzyskano przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d4a59-162">It's a good idea to use HTML encoding any time you display strings (input) that you got from a user.</span></span> <span data-ttu-id="d4a59-163">Jeśli nie, można pobrać strony sieci web do uruchamiania złośliwych skryptów lub czymś innym, obniża bezpieczeństwa witryny lub po prostu nie ma spróbować użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d4a59-163">If you don't, a user can try to get your web page to run a malicious script or do something else that compromises your site security or that's just not what you intend.</span></span> <span data-ttu-id="d4a59-164">(Jest to szczególnie ważne, jeśli akceptują dane wejściowe użytkownika, zapisz go w innym, a następnie Wyświetl później &#8212; na przykład, jako komentarz blog, recenzji użytkownika lub coś podobnego.)</span><span class="sxs-lookup"><span data-stu-id="d4a59-164">(This is particularly important if you take user input, store it someplace, and then display it later &#8212; for example, as a blog comment, user review, or something like that.)</span></span>
> 
> <span data-ttu-id="d4a59-165">Aby uniknąć tych problemów, ASP.NET Web Pages automatycznie koduje HTML dowolny tekst zawartości, dane wyjściowe w kodzie.</span><span class="sxs-lookup"><span data-stu-id="d4a59-165">To help prevent these problems, ASP.NET Web Pages automatically HTML-encodes any text content that you output from your code.</span></span> <span data-ttu-id="d4a59-166">Na przykład podczas wyświetlania zawartości zmiennej lub wyrażenia przy użyciu kodu, takich jak `@MyVar`, ASP.NET Web Pages automatycznie koduje dane wyjściowe.</span><span class="sxs-lookup"><span data-stu-id="d4a59-166">For example, when you display the content of a variable or an expression using code such as `@MyVar`, ASP.NET Web Pages automatically encodes the output.</span></span>

## <a name="validating-user-input"></a><span data-ttu-id="d4a59-167">Walidacja danych wejściowych użytkownika</span><span class="sxs-lookup"><span data-stu-id="d4a59-167">Validating User Input</span></span>

<span data-ttu-id="d4a59-168">Użytkownicy wykonują błędów.</span><span class="sxs-lookup"><span data-stu-id="d4a59-168">Users make mistakes.</span></span> <span data-ttu-id="d4a59-169">Możesz poprosić o wypełnienie pola, zapomną, lub możesz poprosić o wprowadź liczby pracowników i ich zamiast tego wpisz nazwę.</span><span class="sxs-lookup"><span data-stu-id="d4a59-169">You ask them to fill in a field, and they forget to, or you ask them to enter the number of employees and they type a name instead.</span></span> <span data-ttu-id="d4a59-170">Aby upewnić się, że formularza zostało wypełnione poprawnie przed rozpoczęciem przetwarzania, sprawdzanie poprawności danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d4a59-170">To make sure that a form has been filled in correctly before you process it, you validate the user's input.</span></span>

<span data-ttu-id="d4a59-171">Ta procedura pokazuje, jak można zweryfikować wszystkie trzy pola do upewnij się, że użytkownik nie jest puste je.</span><span class="sxs-lookup"><span data-stu-id="d4a59-171">This procedure shows how to validate all three form fields to make sure the user didn't leave them blank.</span></span> <span data-ttu-id="d4a59-172">Możesz sprawdzić, czy wartość liczby pracowników jest liczbą.</span><span class="sxs-lookup"><span data-stu-id="d4a59-172">You also check that the employee count value is a number.</span></span> <span data-ttu-id="d4a59-173">Jeśli występują błędy, zostanie zwrócony komunikat o błędzie komunikatu, informujący użytkownika, jakie wartości nie przeszły pomyślnie sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="d4a59-173">If there are errors, you'll display an error message that tells the user what values didn't pass validation.</span></span>

1. <span data-ttu-id="d4a59-174">W *Form.cshtml* pliku, Zamień pierwszy blok kodu poniższym kodem:</span><span class="sxs-lookup"><span data-stu-id="d4a59-174">In the *Form.cshtml* file, replace the first block of code with the following code:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample3.cshtml)]

    <span data-ttu-id="d4a59-175">Aby sprawdzić poprawność danych wejściowych użytkownika, należy użyć `Validation` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="d4a59-175">To validate user input, you use the `Validation` helper.</span></span> <span data-ttu-id="d4a59-176">Zarejestruj wymagane pola, wywołując `Validation.RequireField`.</span><span class="sxs-lookup"><span data-stu-id="d4a59-176">You register required fields by calling `Validation.RequireField`.</span></span> <span data-ttu-id="d4a59-177">Rejestrowanie innych typów weryfikacji przez wywołanie metody `Validation.Add` i określając pole do sprawdzania poprawności i Typ weryfikacji do wykonania.</span><span class="sxs-lookup"><span data-stu-id="d4a59-177">You register other types of validation by calling `Validation.Add` and specifying the field to validate and the type of validation to perform.</span></span>

    <span data-ttu-id="d4a59-178">Po uruchomieniu strony ASP.NET wykonuje wszystkie sprawdzania poprawności dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="d4a59-178">When the page runs, ASP.NET does all the validation for you.</span></span> <span data-ttu-id="d4a59-179">Sprawdź wyniki, wywołując `Validation.IsValid`, który zwraca wartość true, jeśli wszystkie elementy przekazane i wartość false, jeśli dowolne pole Weryfikacja nie powiodła się.</span><span class="sxs-lookup"><span data-stu-id="d4a59-179">You can check the results by calling `Validation.IsValid`, which returns true if everything passed and false if any field failed validation.</span></span> <span data-ttu-id="d4a59-180">Zazwyczaj należy wywołać `Validation.IsValid` przed wykonaniem jakiegokolwiek przetwarzania na dane wejściowe użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d4a59-180">Typically, you call `Validation.IsValid` before you perform any processing on the user input.</span></span>
2. <span data-ttu-id="d4a59-181">Aktualizacja `<body>` elementu przez dodanie trzech wywołań `Html.ValidationMessage` metoda następująco:</span><span class="sxs-lookup"><span data-stu-id="d4a59-181">Update the `<body>` element by adding three calls to the `Html.ValidationMessage` method, like this:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample4.cshtml?highlight=8,13,18)]

    <span data-ttu-id="d4a59-182">Aby wyświetlić komunikaty o błędach weryfikacji, można wywołać Html.`ValidationMessage`</span><span class="sxs-lookup"><span data-stu-id="d4a59-182">To display validation error messages, you can call Html.`ValidationMessage`</span></span> <span data-ttu-id="d4a59-183">i przekaż mu nazwę pola, które mają w komunikacie o.</span><span class="sxs-lookup"><span data-stu-id="d4a59-183">and pass it the name of the field that you want the message for.</span></span>
3. <span data-ttu-id="d4a59-184">Uruchom stronę.</span><span class="sxs-lookup"><span data-stu-id="d4a59-184">Run the page.</span></span> <span data-ttu-id="d4a59-185">Pozostaw pola puste, a następnie kliknij przycisk **przesyłania**.</span><span class="sxs-lookup"><span data-stu-id="d4a59-185">Leave the fields blank and click **Submit**.</span></span> <span data-ttu-id="d4a59-186">Możesz wyświetlić komunikaty o błędach.</span><span class="sxs-lookup"><span data-stu-id="d4a59-186">You see error messages.</span></span>

    ![Zrzut ekranu pokazujący komunikaty o błędach wyświetlane, jeśli dane wejściowe użytkownika nie przeszło weryfikacji.](4-working-with-forms/_static/image3.jpg)
4. <span data-ttu-id="d4a59-188">Dodaj parametry (na przykład "ABC") do **liczba pracowników** pola, a następnie kliknij przycisk **przesyłania** ponownie.</span><span class="sxs-lookup"><span data-stu-id="d4a59-188">Add a string (for example, "ABC") to the **Employee Count** field and click **Submit** again.</span></span> <span data-ttu-id="d4a59-189">Tym razem zostanie wyświetlony błąd, który wskazuje, że ten ciąg nie jest w odpowiednim formacie, to znaczy, liczbą całkowitą.</span><span class="sxs-lookup"><span data-stu-id="d4a59-189">This time you see an error that indicates that the string isn't in the right format, namely, an integer.</span></span>

    ![Zrzut ekranu pokazujący komunikaty o błędach wyświetlane, jeśli użytkownicy wprowadzają ciąg dla pola pracowników.](4-working-with-forms/_static/image4.jpg)

<span data-ttu-id="d4a59-191">Strony ASP.NET Web Pages zapewnia więcej opcji sprawdzania poprawności danych wejściowych użytkownika, w tym możliwość automatycznego wykonywania weryfikacji przy użyciu skryptu klientów tak, aby użytkownicy natychmiast otrzymać opinię w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="d4a59-191">ASP.NET Web Pages provides more options for validating user input, including the ability to automatically perform validation using client script, so that users get immediate feedback in the browser.</span></span> <span data-ttu-id="d4a59-192">Zobacz [dodatkowe zasoby](#Additional_Resources) później uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="d4a59-192">See the [Additional Resources](#Additional_Resources) section later for more information.</span></span>

## <a name="restoring-form-values-after-postbacks"></a><span data-ttu-id="d4a59-193">Przywracanie wartości formularza po ogłaszania zwrotnego</span><span class="sxs-lookup"><span data-stu-id="d4a59-193">Restoring Form Values After Postbacks</span></span>

<span data-ttu-id="d4a59-194">Gdy strona jest badany w poprzedniej sekcji, być może Zauważyłeś, jeśli masz błąd sprawdzania poprawności, wszystko, co wprowadzono (nie tylko. nieprawidłowe dane) został usunięty i musiał ponownie wprowadzić wartości wszystkich pól.</span><span class="sxs-lookup"><span data-stu-id="d4a59-194">When you tested the page in the previous section, you might have noticed that if you had a validation error, everything you entered (not just the invalid data) was gone, and you had to re-enter values for all the fields.</span></span> <span data-ttu-id="d4a59-195">Obrazuje to to ważny punkt: podczas przesyłania strony, przetwarzanie i renderowanie strony w ponownie strona jest ponownie utworzyć od podstaw.</span><span class="sxs-lookup"><span data-stu-id="d4a59-195">This illustrates an important point: when you submit a page, process it, and then render the page again, the page is re-created from scratch.</span></span> <span data-ttu-id="d4a59-196">Co oznacza to, że wszelkie wartości, które były na stronie przesłanego zostaną utracone.</span><span class="sxs-lookup"><span data-stu-id="d4a59-196">As you saw, this means that any values that were in the page when it was submitted are lost.</span></span>

<span data-ttu-id="d4a59-197">Można to naprawić, jednak.</span><span class="sxs-lookup"><span data-stu-id="d4a59-197">You can fix this easily, however.</span></span> <span data-ttu-id="d4a59-198">Masz dostęp do wartości, które zostały przesłane (w `Request.Form` obiektu, dzięki czemu możesz wpisać te wartości do pola formularza, gdy strona jest wyświetlana.</span><span class="sxs-lookup"><span data-stu-id="d4a59-198">You have access to the values that were submitted (in the `Request.Form` object, so you can fill those values back into the form fields when the page is rendered.</span></span>

1. <span data-ttu-id="d4a59-199">W *Form.cshtml* pliku, Zastąp `value` atrybuty `<input>` elementów za pomocą `value` atrybutu.:</span><span class="sxs-lookup"><span data-stu-id="d4a59-199">In the *Form.cshtml* file, replace the `value` attributes of the `<input>` elements using the `value` attribute.:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample5.cshtml?highlight=13,19,25)]

    <span data-ttu-id="d4a59-200">`value` Atrybutu `<input>` elementów został ustawiony na dynamicznie odczytać wartości pól z `Request.Form` obiektu.</span><span class="sxs-lookup"><span data-stu-id="d4a59-200">The `value` attribute of the `<input>` elements has been set to dynamically read the field value out of the `Request.Form` object.</span></span> <span data-ttu-id="d4a59-201">Przy pierwszym żądaniu strony wartości w `Request.Form` obiektu są puste.</span><span class="sxs-lookup"><span data-stu-id="d4a59-201">The first time that the page is requested, the values in the `Request.Form` object are all empty.</span></span> <span data-ttu-id="d4a59-202">Jest dobrym rozwiązaniem, ponieważ w ten sposób formularz jest pusty.</span><span class="sxs-lookup"><span data-stu-id="d4a59-202">This is fine, because that way the form is blank.</span></span>
2. <span data-ttu-id="d4a59-203">Uruchom stronę w przeglądarce, wypełnij pola formularza lub pozostawić je puste, a kliknij **przesyłania**.</span><span class="sxs-lookup"><span data-stu-id="d4a59-203">Launch the page in your browser, fill in the form fields or leave them blank, and click **Submit**.</span></span> <span data-ttu-id="d4a59-204">Zostanie wyświetlona strona, pokazujący przesyłane wartości.</span><span class="sxs-lookup"><span data-stu-id="d4a59-204">A page that shows the submitted values is displayed.</span></span>

    ![Formularze 5](4-working-with-forms/_static/image5.jpg)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="d4a59-206">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="d4a59-206">Additional Resources</span></span>

- [<span data-ttu-id="d4a59-207">1,001 sposobów uzyskania danych wejściowych od użytkowników w sieci Web</span><span class="sxs-lookup"><span data-stu-id="d4a59-207">1,001 Ways to Get Input from Web Users</span></span>](https://msdn.microsoft.com/library/ms971057.aspx)
- <span data-ttu-id="d4a59-208">[Za pomocą formularzy i przetwarzania danych wejściowych użytkownika](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span><span class="sxs-lookup"><span data-stu-id="d4a59-208">[Using Forms and Processing User Input](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span></span>
- [<span data-ttu-id="d4a59-209">Weryfikacja danych wejściowych użytkownika w witrynach ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="d4a59-209">Validating User Input in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=253002)
- <span data-ttu-id="d4a59-210">[Za pomocą automatycznego uzupełniania w formularzach HTML](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="d4a59-210">[Using AutoComplete in HTML Forms](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span></span>
