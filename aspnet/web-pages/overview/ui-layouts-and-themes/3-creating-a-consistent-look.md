---
uid: web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
title: Tworzenie spójnego układu w witrynach ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: Aby zwiększyć efektywność tworzenia stron sieci Web dla swojej witryny, możesz utworzyć bloki zawartości (takie jak nagłówki i stopki) w witrynie sieci Web, a ty c...
ms.author: riande
ms.date: 03/10/2014
ms.assetid: d7bd001b-6db2-4422-9b78-f3d08b743b00
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
msc.type: authoredcontent
ms.openlocfilehash: 3f63ce68ae4c13970ac0df196167ace0b22b592c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78627450"
---
# <a name="creating-a-consistent-layout-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="9373c-103">Tworzenie spójnego układu w witrynach ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="9373c-103">Creating a Consistent Layout in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="9373c-104">Autor [FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="9373c-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="9373c-105">W tym artykule wyjaśniono, jak można użyć stron układu w witrynie internetowej ASP.NET Web Pages (Razor) do tworzenia bloków zawartości (takich jak nagłówki i stopki) oraz do tworzenia spójnego wyglądu wszystkich stron w witrynie.</span><span class="sxs-lookup"><span data-stu-id="9373c-105">This article explains how you can use layout pages in an ASP.NET Web Pages (Razor) website to create reusable blocks of content (like headers and footers) and to create a consistent look for all the pages in the site.</span></span>
> 
> <span data-ttu-id="9373c-106">**Dowiesz się:**</span><span class="sxs-lookup"><span data-stu-id="9373c-106">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="9373c-107">Jak tworzyć bloki wielokrotnego użytku zawartości, takie jak nagłówki i stopki.</span><span class="sxs-lookup"><span data-stu-id="9373c-107">How to create reusable blocks of content like headers and footers.</span></span>
> - <span data-ttu-id="9373c-108">Jak utworzyć spójny wygląd wszystkich stron w witrynie przy użyciu układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-108">How to create a consistent look for all the pages in your site using a layout.</span></span>
> - <span data-ttu-id="9373c-109">Jak przekazać dane w czasie wykonywania do strony układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-109">How to pass data at run time to a layout page.</span></span>
> 
> <span data-ttu-id="9373c-110">Są to funkcje ASP.NET wprowadzone w artykule:</span><span class="sxs-lookup"><span data-stu-id="9373c-110">These are the ASP.NET features introduced in the article:</span></span>
> 
> - <span data-ttu-id="9373c-111">Bloki zawartości, które są plikami zawierającymi zawartość sformatowaną w formacie HTML do wstawienia na wielu stronach.</span><span class="sxs-lookup"><span data-stu-id="9373c-111">Content blocks, which are files that contain HTML-formatted content to be inserted in multiple pages.</span></span>
> - <span data-ttu-id="9373c-112">Strony układu, które są stronami zawierającymi zawartość sformatowaną w formacie HTML, które mogą być współużytkowane przez strony w witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="9373c-112">Layout pages, which are pages that contain HTML-formatted content that can be shared by pages on the website.</span></span>
> - <span data-ttu-id="9373c-113">Metody `RenderPage`, `RenderBody`i `RenderSection`, które informują ASP.NET, gdzie należy wstawiać elementy strony.</span><span class="sxs-lookup"><span data-stu-id="9373c-113">The `RenderPage`, `RenderBody`, and `RenderSection` methods, which tell ASP.NET where to insert page elements.</span></span>
> - <span data-ttu-id="9373c-114">Słownik `PageData`, który umożliwia udostępnianie danych między blokami zawartości i stronami układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-114">The `PageData` dictionary that lets you share data between content blocks and layout pages.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="9373c-115">Wersje oprogramowania używane w samouczku</span><span class="sxs-lookup"><span data-stu-id="9373c-115">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="9373c-116">ASP.NET strony sieci Web (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="9373c-116">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="9373c-117">Ten samouczek działa również z ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="9373c-117">This tutorial also works with ASP.NET Web Pages 2.</span></span>

## <a name="about-layout-pages"></a><span data-ttu-id="9373c-118">Strony układu — informacje</span><span class="sxs-lookup"><span data-stu-id="9373c-118">About Layout Pages</span></span>

<span data-ttu-id="9373c-119">Wiele witryn sieci Web zawiera zawartość, która jest wyświetlana na każdej stronie, na przykład nagłówek i stopka, lub pole informujące użytkowników, że są zalogowani.</span><span class="sxs-lookup"><span data-stu-id="9373c-119">Many websites have content that's displayed on every page, like a header and footer, or a box that tells users that they're logged in.</span></span> <span data-ttu-id="9373c-120">ASP.NET umożliwia utworzenie oddzielnego pliku z blokiem zawartości, który może zawierać tekst, znaczniki i kod, podobnie jak zwykła Strona sieci Web.</span><span class="sxs-lookup"><span data-stu-id="9373c-120">ASP.NET lets you create a separate file with a content block that can contain text, markup, and code, just like a regular web page.</span></span> <span data-ttu-id="9373c-121">Następnie można wstawić blok zawartości na innych stronach w witrynie, w których mają być wyświetlane informacje.</span><span class="sxs-lookup"><span data-stu-id="9373c-121">You can then insert the content block in other pages on the site where you want the information to appear.</span></span> <span data-ttu-id="9373c-122">Dzięki temu nie trzeba kopiować i wklejać tej samej zawartości na każdej stronie.</span><span class="sxs-lookup"><span data-stu-id="9373c-122">That way you don't have to copy and paste the same content into every page.</span></span> <span data-ttu-id="9373c-123">Tworzenie wspólnej zawartości, takiej jak to również ułatwia aktualizowanie lokacji.</span><span class="sxs-lookup"><span data-stu-id="9373c-123">Creating common content like this also makes it easier to update your site.</span></span> <span data-ttu-id="9373c-124">Jeśli trzeba zmienić zawartość, można po prostu zaktualizować pojedynczy plik, a zmiany zostaną odzwierciedlone wszędzie tam, gdzie zawartość została wstawiona.</span><span class="sxs-lookup"><span data-stu-id="9373c-124">If you need to change the content, you can just update a single file, and the changes are then reflected everywhere the content has been inserted.</span></span>

<span data-ttu-id="9373c-125">Na poniższym diagramie przedstawiono sposób działania bloków zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-125">The following diagram shows how content blocks work.</span></span> <span data-ttu-id="9373c-126">Gdy przeglądarka żąda strony z serwera sieci Web, ASP.NET wstawia bloki zawartości w punkcie, w którym Metoda `RenderPage` jest wywoływana na stronie głównej.</span><span class="sxs-lookup"><span data-stu-id="9373c-126">When a browser requests a page from the web server, ASP.NET inserts the content blocks at the point where the `RenderPage` method is called in the main page.</span></span> <span data-ttu-id="9373c-127">Strona ukończona (scalona) jest następnie wysyłana do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="9373c-127">The finished (merged) page is then sent to the browser.</span></span>

![Diagram koncepcyjny pokazujący, jak Metoda RenderPage wstawia przywoływaną stronę do bieżącej strony.](3-creating-a-consistent-look/_static/image1.jpg)

<span data-ttu-id="9373c-129">W tej procedurze utworzysz stronę odwołującą się do dwóch bloków zawartości (nagłówka i stopki), które znajdują się w oddzielnych plikach.</span><span class="sxs-lookup"><span data-stu-id="9373c-129">In this procedure, you'll create a page that references two content blocks (a header and a footer) that are located in separate files.</span></span> <span data-ttu-id="9373c-130">Tych samych bloków zawartości można używać na dowolnej stronie w witrynie.</span><span class="sxs-lookup"><span data-stu-id="9373c-130">You can use these same content blocks in any page in your site.</span></span> <span data-ttu-id="9373c-131">Gdy skończysz, zobaczysz stronę podobną do tej:</span><span class="sxs-lookup"><span data-stu-id="9373c-131">When you're done, you'll get a page like this:</span></span>

![Zrzut ekranu przedstawiający stronę w przeglądarce, która wynika z uruchamiania strony zawierającej wywołania metody RenderPage.](3-creating-a-consistent-look/_static/image2.png)

1. <span data-ttu-id="9373c-133">W folderze głównym witryny sieci Web Utwórz plik o nazwie *index. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9373c-133">In the root folder of your website, create a file named *Index.cshtml*.</span></span>
2. <span data-ttu-id="9373c-134">Zastąp istniejący znacznik następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-134">Replace the existing markup with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample1.html)]
3. <span data-ttu-id="9373c-135">W folderze głównym Utwórz folder o nazwie *Shared*.</span><span class="sxs-lookup"><span data-stu-id="9373c-135">In the root folder, create a folder named *Shared*.</span></span>

    > [!NOTE]
    > <span data-ttu-id="9373c-136">Typowym sposobem przechowywania plików udostępnianych między stronami sieci Web w folderze o nazwie *Shared*.</span><span class="sxs-lookup"><span data-stu-id="9373c-136">It's common practice to store files that are shared among web pages in a folder named *Shared*.</span></span>
4. <span data-ttu-id="9373c-137">W folderze *udostępnionym* Utwórz plik o nazwie *\_header. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9373c-137">In the *Shared* folder, create a file named *\_Header.cshtml*.</span></span>
5. <span data-ttu-id="9373c-138">Zastąp jakąkolwiek istniejącą zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-138">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample2.html)]

    <span data-ttu-id="9373c-139">Należy zauważyć, że nazwa pliku jest *\_header. cshtml*z podkreśleniem (\_) jako prefiks.</span><span class="sxs-lookup"><span data-stu-id="9373c-139">Notice that the file name is *\_Header.cshtml*, with an underscore (\_) as a prefix.</span></span> <span data-ttu-id="9373c-140">ASP.NET nie wyśle strony do przeglądarki, jeśli jej nazwa zaczyna się od znaku podkreślenia.</span><span class="sxs-lookup"><span data-stu-id="9373c-140">ASP.NET won't send a page to the browser if its name starts with an underscore.</span></span> <span data-ttu-id="9373c-141">Dzięki temu osoby nie żądają (przypadkowo lub w inny sposób) tych stron bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="9373c-141">This prevents people from requesting (inadvertently or otherwise) these pages directly.</span></span> <span data-ttu-id="9373c-142">Dobrym pomysłem jest użycie podkreślenia do nazwy stron, w których znajdują się w nich bloki zawartości, ponieważ nie chcesz, aby użytkownicy mogli zażądać tych stron &#8212; , które mogą być wstawiane do innych stron.</span><span class="sxs-lookup"><span data-stu-id="9373c-142">It's a good idea to use an underscore to name pages that have content blocks in them, because you don't really want users to be able to request these pages &#8212; they exist strictly to be inserted into other pages.</span></span>
6. <span data-ttu-id="9373c-143">W folderze *udostępnionym* Utwórz plik o nazwie *\_footer. cshtml* i Zastąp zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-143">In the *Shared* folder, create a file named *\_Footer.cshtml* and replace the content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample3.html)]
7. <span data-ttu-id="9373c-144">Na stronie *index. cshtml* Dodaj dwa wywołania metody `RenderPage`, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="9373c-144">In the *Index.cshtml* page, add two calls to the `RenderPage` method, as shown here:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample4.html)]

    <span data-ttu-id="9373c-145">Pokazuje, jak wstawić blok zawartości do strony sieci Web.</span><span class="sxs-lookup"><span data-stu-id="9373c-145">This shows how to insert a content block into a web page.</span></span> <span data-ttu-id="9373c-146">Należy wywołać metodę `RenderPage` i przekazać ją do nazwy pliku, którego zawartość ma zostać wstawiona w tym momencie.</span><span class="sxs-lookup"><span data-stu-id="9373c-146">You call the `RenderPage` method and pass it the name of the file whose contents you want to insert at that point.</span></span> <span data-ttu-id="9373c-147">W tym miejscu wstawiasz zawartość pliku *nagłówkowego\_. cshtml* i *\_plików stopki. cshtml* , który jest plikiem *index. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="9373c-147">Here, you're inserting the contents of the *\_Header.cshtml* and *\_Footer.cshtml* files into the *Index.cshtml* file.</span></span>
8. <span data-ttu-id="9373c-148">Uruchom stronę *index. cshtml* w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="9373c-148">Run the *Index.cshtml* page in a browser.</span></span> <span data-ttu-id="9373c-149">(W programie WebMatrix w obszarze roboczym **pliki** kliknij plik prawym przyciskiem myszy, a następnie wybierz polecenie **Uruchom w przeglądarce**).</span><span class="sxs-lookup"><span data-stu-id="9373c-149">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.)</span></span>
9. <span data-ttu-id="9373c-150">W przeglądarce Wyświetl źródło strony.</span><span class="sxs-lookup"><span data-stu-id="9373c-150">In the browser, view the page source.</span></span> <span data-ttu-id="9373c-151">(Na przykład w programie Internet Explorer kliknij prawym przyciskiem myszy stronę, a następnie kliknij pozycję **Wyświetl źródło**).</span><span class="sxs-lookup"><span data-stu-id="9373c-151">(For example, in Internet Explorer, right-click the page and then click **View Source**.)</span></span>

    <span data-ttu-id="9373c-152">Dzięki temu można zobaczyć adiustację strony sieci Web, która jest wysyłana do przeglądarki, która łączy znaczniki strony indeksu z blokami zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-152">This lets you see the web page markup that's sent to the browser, which combines the index page markup with the content blocks.</span></span> <span data-ttu-id="9373c-153">Poniższy przykład pokazuje Źródło strony, które jest renderowane dla *index. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9373c-153">The following example shows the page source that's rendered for *Index.cshtml*.</span></span> <span data-ttu-id="9373c-154">Wywołania `RenderPage`, które zostały wstawione do pliku *index. cshtml* , zostały zastąpione rzeczywistą zawartością plików nagłówkowych i stopek.</span><span class="sxs-lookup"><span data-stu-id="9373c-154">The calls to `RenderPage` that you inserted into *Index.cshtml* have been replaced with the actual contents of the header and footer files.</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample5.html)]

## <a name="creating-a-consistent-look-using-layout-pages"></a><span data-ttu-id="9373c-155">Tworzenie spójnego wyglądu przy użyciu stron układu</span><span class="sxs-lookup"><span data-stu-id="9373c-155">Creating a Consistent Look Using Layout Pages</span></span>

<span data-ttu-id="9373c-156">Do tej pory widzisz, że można łatwo dołączać tę samą zawartość na wielu stronach.</span><span class="sxs-lookup"><span data-stu-id="9373c-156">So far you've seen that it's easy to include the same content on multiple pages.</span></span> <span data-ttu-id="9373c-157">Bardziej strukturalną metodą tworzenia spójnego wyglądu witryny jest użycie stron układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-157">A more structured approach to creating a consistent look for a site is to use layout pages.</span></span> <span data-ttu-id="9373c-158">Strona układu definiuje strukturę strony sieci Web, ale nie zawiera żadnej rzeczywistej zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-158">A layout page defines the structure of a web page, but doesn't contain any actual content.</span></span> <span data-ttu-id="9373c-159">Po utworzeniu strony układu można utworzyć strony sieci Web zawierające zawartość, a następnie połączyć je ze stroną układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-159">After you've created a layout page, you can create web pages that contain the content and then link them to the layout page.</span></span> <span data-ttu-id="9373c-160">Po wyświetleniu tych stron zostaną one sformatowane zgodnie ze stroną układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-160">When these pages are displayed, they'll be formatted according to the layout page.</span></span> <span data-ttu-id="9373c-161">(W tym sensie Strona układu działa jako rodzaj szablonu dla zawartości zdefiniowanej na innych stronach).</span><span class="sxs-lookup"><span data-stu-id="9373c-161">(In this sense, a layout page acts as a kind of template for content that's defined in other pages.)</span></span>

<span data-ttu-id="9373c-162">Strona układu jest tak samo jak każda strona HTML, z tą różnicą, że zawiera wywołanie metody `RenderBody`.</span><span class="sxs-lookup"><span data-stu-id="9373c-162">The layout page is just like any HTML page, except that it contains a call to the `RenderBody` method.</span></span> <span data-ttu-id="9373c-163">Pozycja metody `RenderBody` na stronie układ określa, gdzie znajdują się informacje ze strony zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-163">The position of the `RenderBody` method in the layout page determines where the information from the content page will be included.</span></span>

<span data-ttu-id="9373c-164">Na poniższym diagramie przedstawiono sposób łączenia stron zawartości i stron układu w czasie wykonywania w celu utworzenia gotowej strony sieci Web.</span><span class="sxs-lookup"><span data-stu-id="9373c-164">The following diagram shows how content pages and layout pages are combined at run time to produce the finished web page.</span></span> <span data-ttu-id="9373c-165">Przeglądarka żąda strony zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-165">The browser requests a content page.</span></span> <span data-ttu-id="9373c-166">Strona zawartość zawiera kod, który określa stronę układu do użycia dla struktury strony.</span><span class="sxs-lookup"><span data-stu-id="9373c-166">The content page has code in it that specifies the layout page to use for the page's structure.</span></span> <span data-ttu-id="9373c-167">Na stronie układ zawartość jest wstawiana w punkcie, w którym wywoływana jest metoda `RenderBody`.</span><span class="sxs-lookup"><span data-stu-id="9373c-167">In the layout page, the content is inserted at the point where the `RenderBody` method is called.</span></span> <span data-ttu-id="9373c-168">Bloki zawartości można także wstawiać do strony układ, wywołując metodę `RenderPage`, tak jak w poprzedniej sekcji.</span><span class="sxs-lookup"><span data-stu-id="9373c-168">Content blocks can also be inserted into the layout page by calling the `RenderPage` method, the way you did in the previous section.</span></span> <span data-ttu-id="9373c-169">Gdy strona sieci Web zostanie ukończona, jest wysyłana do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="9373c-169">When the web page is complete, it's sent to the browser.</span></span>

![Zrzut ekranu przedstawiający stronę w przeglądarce, która wynika z uruchamiania strony zawierającej wywołania metody RenderBody.](3-creating-a-consistent-look/_static/image3.jpg)

<span data-ttu-id="9373c-171">Poniższa procedura pokazuje, jak utworzyć stronę układu i połączyć strony z zawartością.</span><span class="sxs-lookup"><span data-stu-id="9373c-171">The following procedure shows how to create a layout page and link content pages to it.</span></span>

1. <span data-ttu-id="9373c-172">W folderze *udostępnionym* witryny sieci Web Utwórz plik o nazwie *\_Layout1. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9373c-172">In the *Shared* folder of your website, create a file named *\_Layout1.cshtml*.</span></span>
2. <span data-ttu-id="9373c-173">Zastąp jakąkolwiek istniejącą zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-173">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample6.html)]

    <span data-ttu-id="9373c-174">Aby wstawić bloki zawartości, użyj metody `RenderPage` na stronie układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-174">You use the `RenderPage` method in a layout page to insert content blocks.</span></span> <span data-ttu-id="9373c-175">Strona układu może zawierać tylko jedno wywołanie metody `RenderBody`.</span><span class="sxs-lookup"><span data-stu-id="9373c-175">A layout page can contain only one call to the `RenderBody` method.</span></span>
3. <span data-ttu-id="9373c-176">W folderze *udostępnionym* Utwórz plik o nazwie *\_Header2. cshtml* i Zastąp każdą istniejącą zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-176">In the *Shared* folder, create a file named *\_Header2.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample7.html)]
4. <span data-ttu-id="9373c-177">W folderze głównym Utwórz nowy folder i nadaj mu nazwę *Style*.</span><span class="sxs-lookup"><span data-stu-id="9373c-177">In the root folder, create a new folder and name it *Styles*.</span></span>
5. <span data-ttu-id="9373c-178">W folderze *Style* Utwórz plik o nazwie *site. css* i Dodaj następujące definicje stylów:</span><span class="sxs-lookup"><span data-stu-id="9373c-178">In the *Styles* folder, create a file named *Site.css* and add the following style definitions:</span></span>

    [!code-css[Main](3-creating-a-consistent-look/samples/sample8.css)]

    <span data-ttu-id="9373c-179">Te definicje stylów są tutaj tylko pokazujące, w jaki sposób arkusze stylów mogą być używane ze stronami układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-179">These style definitions are here only to show how style sheets can be used with layout pages.</span></span> <span data-ttu-id="9373c-180">Jeśli chcesz, możesz zdefiniować własne style dla tych elementów.</span><span class="sxs-lookup"><span data-stu-id="9373c-180">If you want, you can define your own styles for these elements.</span></span>
6. <span data-ttu-id="9373c-181">W folderze głównym Utwórz plik o nazwie *Content1. cshtml* i Zastąp każdą istniejącą zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-181">In the root folder, create a file named *Content1.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample9.cshtml)]

    <span data-ttu-id="9373c-182">To jest strona, która będzie używać strony układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-182">This is a page that will use a layout page.</span></span> <span data-ttu-id="9373c-183">Blok kodu w górnej części strony wskazuje stronę układu, która ma być używana do formatowania tej zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-183">The code block at the top of the page indicates which layout page to use to format this content.</span></span>
7. <span data-ttu-id="9373c-184">Uruchom *Content1. cshtml* w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="9373c-184">Run *Content1.cshtml* in a browser.</span></span> <span data-ttu-id="9373c-185">Renderowane strony używa formatu i arkusza stylów zdefiniowanego w *\_Layout1. cshtml* i tekstu (zawartości) zdefiniowanego w *Content1. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9373c-185">The rendered page uses the format and style sheet defined in *\_Layout1.cshtml* and the text (content) defined in *Content1.cshtml*.</span></span>

    ![Image](3-creating-a-consistent-look/_static/image4.png)

    <span data-ttu-id="9373c-187">Możesz powtórzyć krok 6, aby utworzyć dodatkowe strony zawartości, które następnie mogą współużytkować tę samą stronę układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-187">You can repeat step 6 to create additional content pages that can then share the same layout page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="9373c-188">Możesz skonfigurować witrynę tak, aby można było automatycznie używać tej samej strony układu dla wszystkich stron zawartości w folderze.</span><span class="sxs-lookup"><span data-stu-id="9373c-188">You can set up your site so that you can automatically use the same layout page for all the content pages in a folder.</span></span> <span data-ttu-id="9373c-189">Aby uzyskać szczegółowe informacje, zobacz [Dostosowywanie zachowania całej witryny dla stron sieci Web ASP.NET](https://go.microsoft.com/fwlink/?LinkId=202906).</span><span class="sxs-lookup"><span data-stu-id="9373c-189">For details, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span></span>

## <a name="designing-layout-pages-that-have-multiple-content-sections"></a><span data-ttu-id="9373c-190">Projektowanie stron układu z wieloma sekcjami zawartości</span><span class="sxs-lookup"><span data-stu-id="9373c-190">Designing Layout Pages That Have Multiple Content Sections</span></span>

<span data-ttu-id="9373c-191">Strona zawartości może zawierać wiele sekcji, co jest przydatne, jeśli chcesz użyć układów mających wiele obszarów z wymienną zawartością.</span><span class="sxs-lookup"><span data-stu-id="9373c-191">A content page can have multiple sections, which is useful if you want to use layouts that have multiple areas with replaceable content.</span></span> <span data-ttu-id="9373c-192">Na stronie zawartość nadaj każdej sekcji unikatową nazwę.</span><span class="sxs-lookup"><span data-stu-id="9373c-192">In the content page, you give each section a unique name.</span></span> <span data-ttu-id="9373c-193">(Sekcja domyślna pozostaje nienazwana). Na stronie układ Dodaj metodę `RenderBody`, aby określić, gdzie powinna zostać wyświetlona sekcja nienazwana (domyślna).</span><span class="sxs-lookup"><span data-stu-id="9373c-193">(The default section is left unnamed.) In the layout page, you add a `RenderBody` method to specify where the unnamed (default) section should appear.</span></span> <span data-ttu-id="9373c-194">Następnie należy dodać oddzielne metody `RenderSection`, aby wyrenderować nazwane sekcje pojedynczo.</span><span class="sxs-lookup"><span data-stu-id="9373c-194">You then add separate `RenderSection` methods in order to render named sections individually.</span></span>

<span data-ttu-id="9373c-195">Na poniższym diagramie przedstawiono sposób, w jaki ASP.NET obsługuje zawartość, która jest dzielona na wiele sekcji.</span><span class="sxs-lookup"><span data-stu-id="9373c-195">The following diagram shows how ASP.NET handles content that's divided into multiple sections.</span></span> <span data-ttu-id="9373c-196">Każda nazwana sekcja jest zawarta w bloku sekcji na stronie zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-196">Each named section is contained in a section block in the content page.</span></span> <span data-ttu-id="9373c-197">(Są one nazwane `Header` i `List` w tym przykładzie). Struktura wstawia sekcję zawartości na stronę układ w punkcie, w którym wywoływana jest metoda `RenderSection`.</span><span class="sxs-lookup"><span data-stu-id="9373c-197">(They're named `Header` and `List` in the example.) The framework inserts content section into the layout page at the point where the `RenderSection` method is called.</span></span> <span data-ttu-id="9373c-198">Sekcja bez nazwy (domyślnie) jest wstawiana w punkcie, w którym wywoływana jest metoda `RenderBody`, jak pokazano wcześniej.</span><span class="sxs-lookup"><span data-stu-id="9373c-198">The unnamed (default) section is inserted at the point where the `RenderBody` method is called, as you saw earlier.</span></span>

![Diagram koncepcyjny przedstawiający sposób wstawiania przez metodę RenderSection odwołań do bieżącej strony.](3-creating-a-consistent-look/_static/image5.jpg)

<span data-ttu-id="9373c-200">Ta procedura pokazuje, jak utworzyć stronę zawartości z wieloma sekcjami zawartości i jak renderować ją przy użyciu strony układu, która obsługuje wiele sekcji zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-200">This procedure shows how to create a content page that has multiple content sections and how to render it using a layout page that supports multiple content sections.</span></span>

1. <span data-ttu-id="9373c-201">W folderze *udostępnionym* Utwórz plik o nazwie *\_Layout2. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9373c-201">In the *Shared* folder, create a file named *\_Layout2.cshtml*.</span></span>
2. <span data-ttu-id="9373c-202">Zastąp jakąkolwiek istniejącą zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-202">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample10.html)]

    <span data-ttu-id="9373c-203">Użyj metody `RenderSection`, aby renderować zarówno nagłówek, jak i listę.</span><span class="sxs-lookup"><span data-stu-id="9373c-203">You use the `RenderSection` method to render both the header and list sections.</span></span>
3. <span data-ttu-id="9373c-204">W folderze głównym Utwórz plik o nazwie *Content2. cshtml* i Zastąp każdą istniejącą zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-204">In the root folder, create a file named *Content2.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample11.cshtml)]

    <span data-ttu-id="9373c-205">Ta strona zawartości zawiera blok kodu w górnej części strony.</span><span class="sxs-lookup"><span data-stu-id="9373c-205">This content page contains a code block at the top of the page.</span></span> <span data-ttu-id="9373c-206">Każda nazwana sekcja jest zawarta w bloku sekcji.</span><span class="sxs-lookup"><span data-stu-id="9373c-206">Each named section is contained in a section block.</span></span> <span data-ttu-id="9373c-207">Pozostała część strony zawiera domyślną sekcję zawartości (bez nazwy).</span><span class="sxs-lookup"><span data-stu-id="9373c-207">The rest of the page contains the default (unnamed) content section.</span></span>
4. <span data-ttu-id="9373c-208">Uruchom *Content2. cshtml* w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="9373c-208">Run *Content2.cshtml* in a browser.</span></span>

    ![Zrzut ekranu przedstawiający stronę w przeglądarce, która wynika z uruchamiania strony zawierającej wywołania metody RenderSection.](3-creating-a-consistent-look/_static/image6.png)

## <a name="making-content-sections-optional"></a><span data-ttu-id="9373c-210">Wprowadzanie opcjonalnych sekcji zawartości</span><span class="sxs-lookup"><span data-stu-id="9373c-210">Making Content Sections Optional</span></span>

<span data-ttu-id="9373c-211">Zwykle sekcje, które tworzysz na stronie zawartości, muszą pasować do sekcji, które są zdefiniowane na stronie układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-211">Normally, the sections that you create in a content page have to match sections that are defined in the layout page.</span></span> <span data-ttu-id="9373c-212">Błędy można uzyskać w następujących przypadku:</span><span class="sxs-lookup"><span data-stu-id="9373c-212">You can get errors if any of the following occur:</span></span>

- <span data-ttu-id="9373c-213">Strona zawartość zawiera sekcję, która nie ma odpowiedniej sekcji na stronie układ.</span><span class="sxs-lookup"><span data-stu-id="9373c-213">The content page contains a section that has no corresponding section in the layout page.</span></span>
- <span data-ttu-id="9373c-214">Strona układu zawiera sekcję, dla której nie ma zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-214">The layout page contains a section for which there's no content.</span></span>
- <span data-ttu-id="9373c-215">Strona układu zawiera wywołania metod, które próbują renderować tę samą sekcję więcej niż raz.</span><span class="sxs-lookup"><span data-stu-id="9373c-215">The layout page includes method calls that try to render the same section more than once.</span></span>

<span data-ttu-id="9373c-216">Można jednak zastąpić to zachowanie dla nazwanej sekcji, deklarując sekcję jako opcjonalną na stronie układ.</span><span class="sxs-lookup"><span data-stu-id="9373c-216">However, you can override this behavior for a named section by declaring the section to be optional in the layout page.</span></span> <span data-ttu-id="9373c-217">Pozwala to definiować wiele stron zawartości, które mogą udostępniać stronę układu, ale mogą lub nie mieć zawartości dla określonej sekcji.</span><span class="sxs-lookup"><span data-stu-id="9373c-217">This lets you define multiple content pages that can share a layout page but that might or might not have content for a specific section.</span></span>

1. <span data-ttu-id="9373c-218">Otwórz *Content2. cshtml* i Usuń następującą sekcję:</span><span class="sxs-lookup"><span data-stu-id="9373c-218">Open *Content2.cshtml* and remove the following section:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample12.cshtml)]
2. <span data-ttu-id="9373c-219">Zapisz stronę, a następnie uruchom ją w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="9373c-219">Save the page and then run it in a browser.</span></span> <span data-ttu-id="9373c-220">Zostanie wyświetlony komunikat o błędzie, ponieważ strona zawartości nie udostępnia zawartości dla sekcji zdefiniowanej na stronie układ, a mianowicie sekcji nagłówek.</span><span class="sxs-lookup"><span data-stu-id="9373c-220">An error message is displayed, because the content page doesn't provide content for a section defined in the layout page, namely the header section.</span></span>

    ![Zrzut ekranu pokazujący błąd występujący w przypadku uruchomienia strony wywołującej metodę RenderSection, ale nie podano odpowiedniej sekcji.](3-creating-a-consistent-look/_static/image7.png)
3. <span data-ttu-id="9373c-222">W folderze *udostępnionym* otwórz stronę *\_Layout2. cshtml* i Zastąp następujący wiersz:</span><span class="sxs-lookup"><span data-stu-id="9373c-222">In the *Shared* folder, open the *\_Layout2.cshtml* page and replace this line:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample13.js)]

    <span data-ttu-id="9373c-223">przy użyciu następującego kodu:</span><span class="sxs-lookup"><span data-stu-id="9373c-223">with the following code:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample14.js)]

    <span data-ttu-id="9373c-224">Alternatywnie, można zastąpić poprzedni wiersz kodu następującym blokiem kodu, który tworzy te same wyniki:</span><span class="sxs-lookup"><span data-stu-id="9373c-224">As an alternative, you could replace the previous line of code with the following code block, which produces the same results:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample15.cshtml)]
4. <span data-ttu-id="9373c-225">Uruchom ponownie stronę *Content2. cshtml* w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="9373c-225">Run the *Content2.cshtml* page in a browser again.</span></span> <span data-ttu-id="9373c-226">(Jeśli nadal masz otwartą Tę stronę w przeglądarce, możesz ją po prostu odświeżyć). Ta strona jest wyświetlana bez błędów, mimo że nie ma nagłówka.</span><span class="sxs-lookup"><span data-stu-id="9373c-226">(If you still have this page open in the browser, you can just refresh it.) This time the page is displayed with no error, even though it has no header.</span></span>

## <a name="passing-data-to-layout-pages"></a><span data-ttu-id="9373c-227">Przekazywanie danych do stron układu</span><span class="sxs-lookup"><span data-stu-id="9373c-227">Passing Data to Layout Pages</span></span>

<span data-ttu-id="9373c-228">Na stronie zawartości należy określić dane, które należy odwołać na stronie układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-228">You might have data defined in the content page that you need to refer to in a layout page.</span></span> <span data-ttu-id="9373c-229">Jeśli tak, musisz przekazać dane ze strony zawartości do strony układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-229">If so, you need to pass the data from the content page to the layout page.</span></span> <span data-ttu-id="9373c-230">Na przykład może być konieczne wyświetlenie stanu logowania użytkownika lub wyświetlenie lub ukrycie obszarów zawartości na podstawie danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9373c-230">For example, you might want to display the login status of a user, or you might want to show or hide content areas based on user input.</span></span>

<span data-ttu-id="9373c-231">Aby przekazać dane ze strony zawartości do strony układu, można umieścić wartości we właściwości `PageData` na stronie zawartość.</span><span class="sxs-lookup"><span data-stu-id="9373c-231">To pass data from a content page to a layout page, you can put values into the `PageData` property of the content page.</span></span> <span data-ttu-id="9373c-232">Właściwość `PageData` jest kolekcją par nazwa/wartość, które zawierają dane, które mają być przekazywane między stronami.</span><span class="sxs-lookup"><span data-stu-id="9373c-232">The `PageData` property is a collection of name/value pairs that hold the data that you want to pass between pages.</span></span> <span data-ttu-id="9373c-233">Na stronie układ można odczytać wartości z właściwości `PageData`.</span><span class="sxs-lookup"><span data-stu-id="9373c-233">In the layout page, you can then read values out of the `PageData` property.</span></span>

<span data-ttu-id="9373c-234">Oto inny diagram.</span><span class="sxs-lookup"><span data-stu-id="9373c-234">Here's another diagram.</span></span> <span data-ttu-id="9373c-235">Ten element pokazuje, w jaki sposób ASP.NET może używać właściwości `PageData` do przekazywania wartości ze strony zawartości do strony układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-235">This one shows how ASP.NET can use the `PageData` property to pass values from a content page to the layout page.</span></span> <span data-ttu-id="9373c-236">Po rozpoczęciu tworzenia strony sieci Web ASP.NET tworzy kolekcję `PageData`.</span><span class="sxs-lookup"><span data-stu-id="9373c-236">When ASP.NET begins building the web page, it creates the `PageData` collection.</span></span> <span data-ttu-id="9373c-237">Na stronie zawartość można napisać kod, aby umieścić dane w kolekcji `PageData`.</span><span class="sxs-lookup"><span data-stu-id="9373c-237">In the content page, you write code to put data in the `PageData` collection.</span></span> <span data-ttu-id="9373c-238">Do wartości w kolekcji `PageData` mogą być również dostępne inne sekcje na stronie zawartość lub przez dodatkowe bloki zawartości.</span><span class="sxs-lookup"><span data-stu-id="9373c-238">Values in the `PageData` collection can also be accessed by other sections in the content page or by additional content blocks.</span></span>

![Diagram koncepcyjny pokazujący, jak strona zawartości może wypełnić słownik PageData i przekazać te informacje do strony układu.](3-creating-a-consistent-look/_static/image8.jpg)

<span data-ttu-id="9373c-240">Poniższa procedura pokazuje, jak przekazać dane ze strony zawartości do strony układu.</span><span class="sxs-lookup"><span data-stu-id="9373c-240">The following procedure shows how to pass data from a content page to a layout page.</span></span> <span data-ttu-id="9373c-241">Po uruchomieniu strony wyświetla przycisk, który umożliwia użytkownikowi ukrycie lub pokazanie listy zdefiniowanej na stronie układ.</span><span class="sxs-lookup"><span data-stu-id="9373c-241">When the page runs, it displays a button that lets the user hide or show a list that's defined in the layout page.</span></span> <span data-ttu-id="9373c-242">Gdy użytkownicy kliknieją przycisk, ustawia wartość PRAWDA/FAŁSZ (wartość logiczna) we właściwości `PageData`.</span><span class="sxs-lookup"><span data-stu-id="9373c-242">When users click the button, it sets a true/false (Boolean) value in the `PageData` property.</span></span> <span data-ttu-id="9373c-243">Strona układu odczytuje tę wartość, a jeśli jest fałszywa, ukrywa listę.</span><span class="sxs-lookup"><span data-stu-id="9373c-243">The layout page reads that value, and if it's false, hides the list.</span></span> <span data-ttu-id="9373c-244">Ta wartość jest również używana na stronie zawartość, aby określić, czy ma być wyświetlany przycisk **Ukryj listę** lub przycisk **Pokaż listę** .</span><span class="sxs-lookup"><span data-stu-id="9373c-244">The value is also used in the content page to determine whether to display the **Hide List** button or the **Show List** button.</span></span>

![Image](3-creating-a-consistent-look/_static/image9.jpg)

1. <span data-ttu-id="9373c-246">W folderze głównym Utwórz plik o nazwie *Content3. cshtml* i Zastąp każdą istniejącą zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-246">In the root folder, create a file named *Content3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample16.cshtml)]

    <span data-ttu-id="9373c-247">Kod przechowuje dwie fragmenty danych we właściwości &#8212; `PageData` tytuł strony sieci Web i wartość PRAWDA lub FAŁSZ, aby określić, czy ma zostać wyświetlona lista.</span><span class="sxs-lookup"><span data-stu-id="9373c-247">The code stores two pieces of data in the `PageData` property &#8212; the title of the web page and true or false to specify whether to display a list.</span></span>

    <span data-ttu-id="9373c-248">Zwróć uwagę, że ASP.NET umożliwia umieszczenie znacznika HTML na stronie warunkowo przy użyciu bloku kodu.</span><span class="sxs-lookup"><span data-stu-id="9373c-248">Notice that ASP.NET lets you put HTML markup into the page conditionally using a code block.</span></span> <span data-ttu-id="9373c-249">Na przykład blok `if/else` w treści strony określa, który formularz ma być wyświetlany w zależności od tego, czy `PageData["ShowList"]` jest ustawiona na wartość true.</span><span class="sxs-lookup"><span data-stu-id="9373c-249">For example, the `if/else` block in the body of the page determines which form to display depending on whether `PageData["ShowList"]` is set to true.</span></span>
2. <span data-ttu-id="9373c-250">W folderze *udostępnionym* Utwórz plik o nazwie *\_Layout3. cshtml* i Zastąp każdą istniejącą zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-250">In the *Shared* folder, create a file named *\_Layout3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample17.cshtml)]

    <span data-ttu-id="9373c-251">Strona układu zawiera wyrażenie w `<title>` elementu, który pobiera wartość tytułu z właściwości `PageData`.</span><span class="sxs-lookup"><span data-stu-id="9373c-251">The layout page includes an expression in the `<title>` element that gets the title value from the `PageData` property.</span></span> <span data-ttu-id="9373c-252">Używa również wartości `ShowList` właściwości `PageData`, aby określić, czy ma być wyświetlany blok zawartości listy.</span><span class="sxs-lookup"><span data-stu-id="9373c-252">It also uses the `ShowList` value of the `PageData` property to determine whether to display the list content block.</span></span>
3. <span data-ttu-id="9373c-253">W folderze *udostępnionym* Utwórz plik o nazwie *\_list. cshtml* i Zastąp każdą istniejącą zawartość następującym:</span><span class="sxs-lookup"><span data-stu-id="9373c-253">In the *Shared* folder, create a file named *\_List.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample18.html)]
4. <span data-ttu-id="9373c-254">Uruchom stronę *Content3. cshtml* w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="9373c-254">Run the *Content3.cshtml* page in a browser.</span></span> <span data-ttu-id="9373c-255">Zostanie wyświetlona strona z listą widoczną po lewej stronie i przycisk **Ukryj listę** u dołu.</span><span class="sxs-lookup"><span data-stu-id="9373c-255">The page is displayed with the list visible on the left side of the page and a **Hide List** button at the bottom.</span></span>

    ![Zrzut ekranu przedstawiający stronę zawierającą listę i przycisk "Ukryj listę".](3-creating-a-consistent-look/_static/image10.png)
5. <span data-ttu-id="9373c-257">Kliknij przycisk **Ukryj listę**.</span><span class="sxs-lookup"><span data-stu-id="9373c-257">Click **Hide List**.</span></span> <span data-ttu-id="9373c-258">Lista znika i przycisk zmieni się, aby **wyświetlić listę**.</span><span class="sxs-lookup"><span data-stu-id="9373c-258">The list disappears and the button changes to **Show List**.</span></span>

    ![Zrzut ekranu przedstawiający stronę, która nie zawiera listy i przycisku "Pokaż listę".](3-creating-a-consistent-look/_static/image11.png)
6. <span data-ttu-id="9373c-260">Kliknij przycisk **Pokaż listę** i ponownie Wyświetl listę.</span><span class="sxs-lookup"><span data-stu-id="9373c-260">Click the **Show List** button, and the list is displayed again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="9373c-261">Dodatkowe materiały</span><span class="sxs-lookup"><span data-stu-id="9373c-261">Additional Resources</span></span>

[<span data-ttu-id="9373c-262">Dostosowywanie zachowania całej witryny dla stron sieci Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="9373c-262">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
