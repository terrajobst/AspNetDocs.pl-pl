---
uid: web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
title: Tworzenie spójnego układu we wzorcu ASP.NET Web Pages (Razor) witryn | Dokumentacja firmy Microsoft
author: Rick-Anderson
description: Aby umożliwić bardziej efektywne tworzenie stron sieci web, można utworzyć wielokrotnego użytku bloki zawartości (na przykład nagłówków i stopek) dla witryny sieci Web, a użytkownik c...
ms.author: riande
ms.date: 03/10/2014
ms.assetid: d7bd001b-6db2-4422-9b78-f3d08b743b00
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
msc.type: authoredcontent
ms.openlocfilehash: 83aef41c0baaeca6a25e09b4ea797ce9ee963a85
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/01/2019
ms.locfileid: "57074021"
---
<a name="creating-a-consistent-layout-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="de296-103">Tworzenie spójnego układu w witrynach ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="de296-103">Creating a Consistent Layout in ASP.NET Web Pages (Razor) Sites</span></span>
====================
<span data-ttu-id="de296-104">przez [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="de296-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="de296-105">W tym artykule wyjaśniono, jak skorzystać układu stron w witrynie internetowej ASP.NET Web Pages (Razor) do tworzenia wielokrotnego użytku bloki zawartości (na przykład nagłówków i stopek) i tworzenie spójnego wyglądu dla wszystkich stron w witrynie.</span><span class="sxs-lookup"><span data-stu-id="de296-105">This article explains how you can use layout pages in an ASP.NET Web Pages (Razor) website to create reusable blocks of content (like headers and footers) and to create a consistent look for all the pages in the site.</span></span>
> 
> <span data-ttu-id="de296-106">**Zawartość:**</span><span class="sxs-lookup"><span data-stu-id="de296-106">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="de296-107">Jak utworzyć wielokrotnego użytku bloki zawartości, takich jak nagłówki i stopki.</span><span class="sxs-lookup"><span data-stu-id="de296-107">How to create reusable blocks of content like headers and footers.</span></span>
> - <span data-ttu-id="de296-108">Jak utworzyć spójnego wyglądu dla wszystkich stron w witrynie przy użyciu układu.</span><span class="sxs-lookup"><span data-stu-id="de296-108">How to create a consistent look for all the pages in your site using a layout.</span></span>
> - <span data-ttu-id="de296-109">Jak przekazać dane w czasie wykonywania do strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-109">How to pass data at run time to a layout page.</span></span>
> 
> <span data-ttu-id="de296-110">Poniżej przedstawiono funkcje platformy ASP.NET, wprowadzona w artykule:</span><span class="sxs-lookup"><span data-stu-id="de296-110">These are the ASP.NET features introduced in the article:</span></span>
> 
> - <span data-ttu-id="de296-111">Bloki zawartości, które są pliki zawierające zawartości w formacie HTML do wstawienia na wielu stronach.</span><span class="sxs-lookup"><span data-stu-id="de296-111">Content blocks, which are files that contain HTML-formatted content to be inserted in multiple pages.</span></span>
> - <span data-ttu-id="de296-112">Układ stron, które są strony zawierające zawartości w formacie HTML, który może być współużytkowany przez strony w witrynie internetowej.</span><span class="sxs-lookup"><span data-stu-id="de296-112">Layout pages, which are pages that contain HTML-formatted content that can be shared by pages on the website.</span></span>
> - <span data-ttu-id="de296-113">`RenderPage`, `RenderBody`, I `RenderSection` metod, które informują miejsca do wstawienia elementów strony ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="de296-113">The `RenderPage`, `RenderBody`, and `RenderSection` methods, which tell ASP.NET where to insert page elements.</span></span>
> - <span data-ttu-id="de296-114">`PageData` Słownika, która umożliwia udostępnianie danych między bloki zawartości i układu strony.</span><span class="sxs-lookup"><span data-stu-id="de296-114">The `PageData` dictionary that lets you share data between content blocks and layout pages.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="de296-115">Wersje oprogramowania używanego w tym samouczku</span><span class="sxs-lookup"><span data-stu-id="de296-115">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="de296-116">ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="de296-116">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="de296-117">W tym samouczku współpracuje również z wzorca ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="de296-117">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="about-layout-pages"></a><span data-ttu-id="de296-118">Układ strony — informacje</span><span class="sxs-lookup"><span data-stu-id="de296-118">About Layout Pages</span></span>

<span data-ttu-id="de296-119">Wiele witryn sieci Web ma zawartość, która jest wyświetlana na każdej stronie, takie jak nagłówek i stopka lub informacje dla użytkowników, że są one rejestrowane w pole.</span><span class="sxs-lookup"><span data-stu-id="de296-119">Many websites have content that's displayed on every page, like a header and footer, or a box that tells users that they're logged in.</span></span> <span data-ttu-id="de296-120">ASP.NET umożliwia utworzenie oddzielnego pliku z bloku zawartości, która może zawierać tekstu, znaczników i kodu, tak jak zwykły strony sieci web.</span><span class="sxs-lookup"><span data-stu-id="de296-120">ASP.NET lets you create a separate file with a content block that can contain text, markup, and code, just like a regular web page.</span></span> <span data-ttu-id="de296-121">Następnie można wstawić blok zawartości w innych stron w witrynie, w której chcesz umieścić informacje.</span><span class="sxs-lookup"><span data-stu-id="de296-121">You can then insert the content block in other pages on the site where you want the information to appear.</span></span> <span data-ttu-id="de296-122">Dzięki temu nie trzeba skopiować i wkleić tę samą zawartość do każdej strony.</span><span class="sxs-lookup"><span data-stu-id="de296-122">That way you don't have to copy and paste the same content into every page.</span></span> <span data-ttu-id="de296-123">Tworzenie typowych zawartości następująco również sprawia, że łatwiej zaktualizować lokację.</span><span class="sxs-lookup"><span data-stu-id="de296-123">Creating common content like this also makes it easier to update your site.</span></span> <span data-ttu-id="de296-124">Jeśli zachodzi potrzeba zmiany zawartości, można aktualizować tylko pojedynczy plik, a zmiany są stosowane wszędzie, gdzie został wstawiony zawartości.</span><span class="sxs-lookup"><span data-stu-id="de296-124">If you need to change the content, you can just update a single file, and the changes are then reflected everywhere the content has been inserted.</span></span>

<span data-ttu-id="de296-125">Na poniższym diagramie przedstawiono, jak zawartości blokuje pracy.</span><span class="sxs-lookup"><span data-stu-id="de296-125">The following diagram shows how content blocks work.</span></span> <span data-ttu-id="de296-126">Gdy przeglądarka zgłasza żądanie strony z serwera sieci web, ASP.NET wstawia bloki zawartości w punkcie gdzie `RenderPage` metoda jest wywoływana strony głównej.</span><span class="sxs-lookup"><span data-stu-id="de296-126">When a browser requests a page from the web server, ASP.NET inserts the content blocks at the point where the `RenderPage` method is called in the main page.</span></span> <span data-ttu-id="de296-127">Zakończono strony (scalonych) jest następnie wysyłany do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="de296-127">The finished (merged) page is then sent to the browser.</span></span>

![Diagram koncepcyjny przedstawiający, jak metoda RenderPage wstawia odwołania strony do bieżącej strony.](3-creating-a-consistent-look/_static/image1.jpg)

<span data-ttu-id="de296-129">W tej procedurze utworzysz stronę, która odwołuje się dwa bloki zawartości (nagłówek i stopka), które znajdują się w oddzielnych plikach.</span><span class="sxs-lookup"><span data-stu-id="de296-129">In this procedure, you'll create a page that references two content blocks (a header and a footer) that are located in separate files.</span></span> <span data-ttu-id="de296-130">Można użyć tych samych bloków zawartości w dowolnej stronie w witrynie.</span><span class="sxs-lookup"><span data-stu-id="de296-130">You can use these same content blocks in any page in your site.</span></span> <span data-ttu-id="de296-131">Gdy wszystko będzie gotowe, zostanie wyświetlona strona z informacją następująco:</span><span class="sxs-lookup"><span data-stu-id="de296-131">When you're done, you'll get a page like this:</span></span>

![Zrzut ekranu przedstawiający stronę w przeglądarce, która wynika z uruchomienie strony, która zawiera wywołania metody RenderPage.](3-creating-a-consistent-look/_static/image2.jpg)

1. <span data-ttu-id="de296-133">W folderze głównym witryny sieci Web, Utwórz plik o nazwie *Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="de296-133">In the root folder of your website, create a file named *Index.cshtml*.</span></span>
2. <span data-ttu-id="de296-134">Zastąp istniejący kod znaczników następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="de296-134">Replace the existing markup with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample1.html)]
3. <span data-ttu-id="de296-135">W folderze głównym Utwórz folder o nazwie *Shared*.</span><span class="sxs-lookup"><span data-stu-id="de296-135">In the root folder, create a folder named *Shared*.</span></span>

    > [!NOTE]
    > <span data-ttu-id="de296-136">Jest to powszechną praktyką do przechowywania plików, które są współużytkowane przez strony sieci web w folderze o nazwie *Shared*.</span><span class="sxs-lookup"><span data-stu-id="de296-136">It's common practice to store files that are shared among web pages in a folder named *Shared*.</span></span>
4. <span data-ttu-id="de296-137">W *Shared* folderze utwórz plik o nazwie  *\_Header.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="de296-137">In the *Shared* folder, create a file named *\_Header.cshtml*.</span></span>
5. <span data-ttu-id="de296-138">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="de296-138">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample2.html)]

    <span data-ttu-id="de296-139">Należy zauważyć, że nazwa pliku jest  *\_Header.cshtml*, od znaku podkreślenia (\_) jako prefiksu.</span><span class="sxs-lookup"><span data-stu-id="de296-139">Notice that the file name is *\_Header.cshtml*, with an underscore (\_) as a prefix.</span></span> <span data-ttu-id="de296-140">Program ASP.NET nie wyśle strony do przeglądarki, jeśli jej nazwa rozpoczyna się od znaku podkreślenia.</span><span class="sxs-lookup"><span data-stu-id="de296-140">ASP.NET won't send a page to the browser if its name starts with an underscore.</span></span> <span data-ttu-id="de296-141">Zapobiega to żądanie (przypadkowo lub w inny sposób) tych stron bezpośrednio osób.</span><span class="sxs-lookup"><span data-stu-id="de296-141">This prevents people from requesting (inadvertently or otherwise) these pages directly.</span></span> <span data-ttu-id="de296-142">To dobry pomysł, aby użyć podkreślenia do stron nazwy, które ma bloki zawartości, ponieważ nie chcesz tak naprawdę użytkownicy, aby móc żądać tych stron &#8212; istnieje wyłącznie do wstawienia do innych stron.</span><span class="sxs-lookup"><span data-stu-id="de296-142">It's a good idea to use an underscore to name pages that have content blocks in them, because you don't really want users to be able to request these pages &#8212; they exist strictly to be inserted into other pages.</span></span>
6. <span data-ttu-id="de296-143">W *Shared* folderze utwórz plik o nazwie  *\_Footer.cshtml* i Zastąp zawartość następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="de296-143">In the *Shared* folder, create a file named *\_Footer.cshtml* and replace the content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample3.html)]
7. <span data-ttu-id="de296-144">W *Index.cshtml* strony, należy dodać dwa wywołania `RenderPage` metody, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="de296-144">In the *Index.cshtml* page, add two calls to the `RenderPage` method, as shown here:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample4.html)]

    <span data-ttu-id="de296-145">To pokazuje, jak wstawić blok zawartości do strony sieci web.</span><span class="sxs-lookup"><span data-stu-id="de296-145">This shows how to insert a content block into a web page.</span></span> <span data-ttu-id="de296-146">Należy wywołać `RenderPage` metody i przekaż mu nazwę pliku, którego zawartość ma zostać wstawiony w tym momencie.</span><span class="sxs-lookup"><span data-stu-id="de296-146">You call the `RenderPage` method and pass it the name of the file whose contents you want to insert at that point.</span></span> <span data-ttu-id="de296-147">W tym miejscu wstawiasz zawartość  *\_Header.cshtml* i  *\_Footer.cshtml* pliki do *Index.cshtml* pliku.</span><span class="sxs-lookup"><span data-stu-id="de296-147">Here, you're inserting the contents of the *\_Header.cshtml* and *\_Footer.cshtml* files into the *Index.cshtml* file.</span></span>
8. <span data-ttu-id="de296-148">Uruchom *Index.cshtml* strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="de296-148">Run the *Index.cshtml* page in a browser.</span></span> <span data-ttu-id="de296-149">(W programie WebMatrix w **pliki** obszaru roboczego, kliknij prawym przyciskiem myszy plik, a następnie wybierz pozycję **Uruchom w przeglądarce**.)</span><span class="sxs-lookup"><span data-stu-id="de296-149">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.)</span></span>
9. <span data-ttu-id="de296-150">W przeglądarce Wyświetl źródło strony.</span><span class="sxs-lookup"><span data-stu-id="de296-150">In the browser, view the page source.</span></span> <span data-ttu-id="de296-151">(Na przykład w programie Internet Explorer, kliknij prawym przyciskiem myszy strony, a następnie kliknij przycisk **Wyświetl źródło**.)</span><span class="sxs-lookup"><span data-stu-id="de296-151">(For example, in Internet Explorer, right-click the page and then click **View Source**.)</span></span>

    <span data-ttu-id="de296-152">Dzięki temu możesz zobaczyć znaczników strony sieci web, które są wysyłane do przeglądarki, która łączy znaczników strony indeksu z bloki zawartości.</span><span class="sxs-lookup"><span data-stu-id="de296-152">This lets you see the web page markup that's sent to the browser, which combines the index page markup with the content blocks.</span></span> <span data-ttu-id="de296-153">W poniższym przykładzie przedstawiono źródła strony, który jest renderowany *Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="de296-153">The following example shows the page source that's rendered for *Index.cshtml*.</span></span> <span data-ttu-id="de296-154">Wywołania `RenderPage` wstawiony do *Index.cshtml* zostały zastąpione rzeczywistej zawartości pliki nagłówków i stopek.</span><span class="sxs-lookup"><span data-stu-id="de296-154">The calls to `RenderPage` that you inserted into *Index.cshtml* have been replaced with the actual contents of the header and footer files.</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample5.html)]

## <a name="creating-a-consistent-look-using-layout-pages"></a><span data-ttu-id="de296-155">Tworzenie spójnego wyglądu za pomocą strony układu</span><span class="sxs-lookup"><span data-stu-id="de296-155">Creating a Consistent Look Using Layout Pages</span></span>

<span data-ttu-id="de296-156">Do tej pory wiesz, że jest łatwy do uwzględnienia tej samej zawartości na wielu stronach.</span><span class="sxs-lookup"><span data-stu-id="de296-156">So far you've seen that it's easy to include the same content on multiple pages.</span></span> <span data-ttu-id="de296-157">Jest bardziej ustrukturyzowane podejście do tworzenia spójnego wyglądu witryny do użycia strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-157">A more structured approach to creating a consistent look for a site is to use layout pages.</span></span> <span data-ttu-id="de296-158">Strona układu definiuje strukturę strony sieci web, ale nie zawiera żadnych rzeczywistej zawartości.</span><span class="sxs-lookup"><span data-stu-id="de296-158">A layout page defines the structure of a web page, but doesn't contain any actual content.</span></span> <span data-ttu-id="de296-159">Po utworzeniu strony układu można utworzyć strony sieci web z zawartością, a następnie połączyć je do strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-159">After you've created a layout page, you can create web pages that contain the content and then link them to the layout page.</span></span> <span data-ttu-id="de296-160">Te strony będą wyświetlane, będzie można sformatować zgodnie ze strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-160">When these pages are displayed, they'll be formatted according to the layout page.</span></span> <span data-ttu-id="de296-161">(W tym sensie, strony układu działa jako to rodzaj szablonu dla zawartości, która jest zdefiniowana w innych stron.)</span><span class="sxs-lookup"><span data-stu-id="de296-161">(In this sense, a layout page acts as a kind of template for content that's defined in other pages.)</span></span>

<span data-ttu-id="de296-162">Strony układu jest podobne do dowolnej strony HTML, z tą różnicą, że zawiera on wywołanie `RenderBody` metody.</span><span class="sxs-lookup"><span data-stu-id="de296-162">The layout page is just like any HTML page, except that it contains a call to the `RenderBody` method.</span></span> <span data-ttu-id="de296-163">Pozycja `RenderBody` metody w stronę układu określa, gdzie informacji z poziomu strony zawartości zostaną dołączone.</span><span class="sxs-lookup"><span data-stu-id="de296-163">The position of the `RenderBody` method in the layout page determines where the information from the content page will be included.</span></span>

<span data-ttu-id="de296-164">Na poniższym diagramie przedstawiono sposób zawartości strony i układu strony są łączone w czasie wykonywania, aby utworzyć stronę sieci web zakończona.</span><span class="sxs-lookup"><span data-stu-id="de296-164">The following diagram shows how content pages and layout pages are combined at run time to produce the finished web page.</span></span> <span data-ttu-id="de296-165">Przeglądarka żąda zawartości strony.</span><span class="sxs-lookup"><span data-stu-id="de296-165">The browser requests a content page.</span></span> <span data-ttu-id="de296-166">Strona zawartości zawiera kod określający stronę układu dla strony struktury.</span><span class="sxs-lookup"><span data-stu-id="de296-166">The content page has code in it that specifies the layout page to use for the page's structure.</span></span> <span data-ttu-id="de296-167">Na stronie układu, zawartość jest wstawiany w punkcie, w którym `RenderBody` metoda jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="de296-167">In the layout page, the content is inserted at the point where the `RenderBody` method is called.</span></span> <span data-ttu-id="de296-168">Zawartość, blokuje również mogą być wstawiane do strony układu, wywołując `RenderPage` metody w taki sposób, jak w poprzedniej sekcji.</span><span class="sxs-lookup"><span data-stu-id="de296-168">Content blocks can also be inserted into the layout page by calling the `RenderPage` method, the way you did in the previous section.</span></span> <span data-ttu-id="de296-169">Po zakończeniu strony sieci web jest wysyłana do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="de296-169">When the web page is complete, it's sent to the browser.</span></span>

![Zrzut ekranu przedstawiający stronę w przeglądarce, która wynika z uruchomienie strony, która zawiera wywołania metody RenderBody.](3-creating-a-consistent-look/_static/image3.jpg)

<span data-ttu-id="de296-171">Poniższa procedura pokazuje, jak utworzyć układ stron zawartości strony i link do niego.</span><span class="sxs-lookup"><span data-stu-id="de296-171">The following procedure shows how to create a layout page and link content pages to it.</span></span>

1. <span data-ttu-id="de296-172">W *Shared* folderu witryny sieci Web, Utwórz plik o nazwie  *\_Layout1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="de296-172">In the *Shared* folder of your website, create a file named *\_Layout1.cshtml*.</span></span>
2. <span data-ttu-id="de296-173">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="de296-173">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample6.html)]

    <span data-ttu-id="de296-174">Możesz użyć `RenderPage` metody na stronie układu, aby wstawić bloki zawartości.</span><span class="sxs-lookup"><span data-stu-id="de296-174">You use the `RenderPage` method in a layout page to insert content blocks.</span></span> <span data-ttu-id="de296-175">Strona układu może zawierać tylko jedno wywołanie `RenderBody` metody.</span><span class="sxs-lookup"><span data-stu-id="de296-175">A layout page can contain only one call to the `RenderBody` method.</span></span>
3. <span data-ttu-id="de296-176">W *Shared* folderze utwórz plik o nazwie  *\_Header2.cshtml* i Zastąp istniejącą zawartość następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="de296-176">In the *Shared* folder, create a file named *\_Header2.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample7.html)]
4. <span data-ttu-id="de296-177">W folderze głównym, Utwórz nowy folder i nadaj mu nazwę *style*.</span><span class="sxs-lookup"><span data-stu-id="de296-177">In the root folder, create a new folder and name it *Styles*.</span></span>
5. <span data-ttu-id="de296-178">W *style* folderze utwórz plik o nazwie *Site.css* i dodaj następujące definicje styl:</span><span class="sxs-lookup"><span data-stu-id="de296-178">In the *Styles* folder, create a file named *Site.css* and add the following style definitions:</span></span>

    [!code-css[Main](3-creating-a-consistent-look/samples/sample8.css)]

    <span data-ttu-id="de296-179">Te definicje styl są tu tylko po to, aby pokazać, jak arkusze stylów można używać ze strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-179">These style definitions are here only to show how style sheets can be used with layout pages.</span></span> <span data-ttu-id="de296-180">Jeśli chcesz, można zdefiniować własne style dla tych elementów.</span><span class="sxs-lookup"><span data-stu-id="de296-180">If you want, you can define your own styles for these elements.</span></span>
6. <span data-ttu-id="de296-181">W folderze głównym, Utwórz plik o nazwie *Content1.cshtml* i Zastąp istniejącą zawartość następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="de296-181">In the root folder, create a file named *Content1.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample9.cshtml)]

    <span data-ttu-id="de296-182">Jest to strona, która będzie używać strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-182">This is a page that will use a layout page.</span></span> <span data-ttu-id="de296-183">Blok kodu, w górnej części strony wskazuje stronę układu, które będą formatowane tej zawartości.</span><span class="sxs-lookup"><span data-stu-id="de296-183">The code block at the top of the page indicates which layout page to use to format this content.</span></span>
7. <span data-ttu-id="de296-184">Uruchom *Content1.cshtml* w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="de296-184">Run *Content1.cshtml* in a browser.</span></span> <span data-ttu-id="de296-185">Renderowanej strony używa formatu i arkusz stylów zdefiniowany w  *\_Layout1.cshtml* i tekst (zawartość) zdefiniowany w *Content1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="de296-185">The rendered page uses the format and style sheet defined in *\_Layout1.cshtml* and the text (content) defined in *Content1.cshtml*.</span></span>

    ![[image]](3-creating-a-consistent-look/_static/image4.jpg)

    <span data-ttu-id="de296-187">Możesz powtórzyć krok 6, aby utworzyć dodatkowe strony zawartości, które będzie mogło współużytkować tę samą stronę układu.</span><span class="sxs-lookup"><span data-stu-id="de296-187">You can repeat step 6 to create additional content pages that can then share the same layout page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="de296-188">Można skonfigurować witryny, dzięki czemu można automatycznie używać tej samej stronie układ dla stron zawartości w folderze.</span><span class="sxs-lookup"><span data-stu-id="de296-188">You can set up your site so that you can automatically use the same layout page for all the content pages in a folder.</span></span> <span data-ttu-id="de296-189">Aby uzyskać więcej informacji, zobacz [Dostosowywanie zachowania dla całej witryny ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span><span class="sxs-lookup"><span data-stu-id="de296-189">For details, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span></span>

## <a name="designing-layout-pages-that-have-multiple-content-sections"></a><span data-ttu-id="de296-190">Projektowanie stron układu, które mają wiele sekcji zawartości</span><span class="sxs-lookup"><span data-stu-id="de296-190">Designing Layout Pages That Have Multiple Content Sections</span></span>

<span data-ttu-id="de296-191">Zawartość strony może mieć wiele sekcji, co jest przydatne, jeśli chcesz używać układów, które mają wiele obszarów z zawartością wymienne.</span><span class="sxs-lookup"><span data-stu-id="de296-191">A content page can have multiple sections, which is useful if you want to use layouts that have multiple areas with replaceable content.</span></span> <span data-ttu-id="de296-192">Na stronie zawartości Nadaj każdej sekcji unikatową nazwę.</span><span class="sxs-lookup"><span data-stu-id="de296-192">In the content page, you give each section a unique name.</span></span> <span data-ttu-id="de296-193">(Domyślnej sekcji zostanie pozostawiony bez nazwy.) Na stronie układu, możesz dodać `RenderBody` metodę, aby określić, gdzie powinna zostać wyświetlona sekcja bez nazwy (wartość domyślna).</span><span class="sxs-lookup"><span data-stu-id="de296-193">(The default section is left unnamed.) In the layout page, you add a `RenderBody` method to specify where the unnamed (default) section should appear.</span></span> <span data-ttu-id="de296-194">Następnie należy dodać oddzielny `RenderSection` metody w celu pojedynczo render nazwanej sekcji.</span><span class="sxs-lookup"><span data-stu-id="de296-194">You then add separate `RenderSection` methods in order to render named sections individually.</span></span>

<span data-ttu-id="de296-195">Na poniższym diagramie przedstawiono, jak ASP.NET obsługuje zawartość, która jest podzielona na sekcje.</span><span class="sxs-lookup"><span data-stu-id="de296-195">The following diagram shows how ASP.NET handles content that's divided into multiple sections.</span></span> <span data-ttu-id="de296-196">Każda sekcja o nazwie znajduje się w bloku sekcji na stronie zawartości.</span><span class="sxs-lookup"><span data-stu-id="de296-196">Each named section is contained in a section block in the content page.</span></span> <span data-ttu-id="de296-197">(Są one nazwane `Header` i `List` w przykładzie.) Struktura wstawia sekcji zawartość do strony układu w punkcie, w którym `RenderSection` metoda jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="de296-197">(They're named `Header` and `List` in the example.) The framework inserts content section into the layout page at the point where the `RenderSection` method is called.</span></span> <span data-ttu-id="de296-198">Sekcja bez nazwy (wartość domyślna) jest wstawiana w punkcie, w którym `RenderBody` metoda jest wywoływana, zgodnie z wcześniej.</span><span class="sxs-lookup"><span data-stu-id="de296-198">The unnamed (default) section is inserted at the point where the `RenderBody` method is called, as you saw earlier.</span></span>

![Diagram koncepcyjny przedstawiający, jak metoda RenderSection wstawia sekcje odwołania do bieżącej strony.](3-creating-a-consistent-look/_static/image5.jpg)

<span data-ttu-id="de296-200">Ta procedura pokazuje, jak utworzyć strony zawartości, która ma wiele sekcji zawartości i sposób renderowania za pomocą strony układu, która obsługuje wiele sekcji zawartości.</span><span class="sxs-lookup"><span data-stu-id="de296-200">This procedure shows how to create a content page that has multiple content sections and how to render it using a layout page that supports multiple content sections.</span></span>

1. <span data-ttu-id="de296-201">W *Shared* folderze utwórz plik o nazwie  *\_Layout2.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="de296-201">In the *Shared* folder, create a file named *\_Layout2.cshtml*.</span></span>
2. <span data-ttu-id="de296-202">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="de296-202">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample10.html)]

    <span data-ttu-id="de296-203">Możesz użyć `RenderSection` metody do renderowania sekcje nagłówka i listy.</span><span class="sxs-lookup"><span data-stu-id="de296-203">You use the `RenderSection` method to render both the header and list sections.</span></span>
3. <span data-ttu-id="de296-204">W folderze głównym, Utwórz plik o nazwie *Content2.cshtml* i Zastąp istniejącą zawartość następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="de296-204">In the root folder, create a file named *Content2.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample11.cshtml)]

    <span data-ttu-id="de296-205">Ta strona zawartości zawiera blok kodu, w górnej części strony.</span><span class="sxs-lookup"><span data-stu-id="de296-205">This content page contains a code block at the top of the page.</span></span> <span data-ttu-id="de296-206">Każda sekcja o nazwie znajduje się w bloku sekcji.</span><span class="sxs-lookup"><span data-stu-id="de296-206">Each named section is contained in a section block.</span></span> <span data-ttu-id="de296-207">Pozostałej części strony zawiera sekcja zawartość domyślna (bez nazwy).</span><span class="sxs-lookup"><span data-stu-id="de296-207">The rest of the page contains the default (unnamed) content section.</span></span>
4. <span data-ttu-id="de296-208">Uruchom *Content2.cshtml* w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="de296-208">Run *Content2.cshtml* in a browser.</span></span>

    ![Zrzut ekranu przedstawiający stronę w przeglądarce, która wynika z uruchomienie strony, która zawiera wywołania metody RenderSection.](3-creating-a-consistent-look/_static/image6.jpg)

## <a name="making-content-sections-optional"></a><span data-ttu-id="de296-210">Tworzenie opcjonalne sekcje zawartości</span><span class="sxs-lookup"><span data-stu-id="de296-210">Making Content Sections Optional</span></span>

<span data-ttu-id="de296-211">Zwykle sekcje, które tworzysz na stronie zawartości musi odpowiadać sekcje, które są zdefiniowane w stronę układu.</span><span class="sxs-lookup"><span data-stu-id="de296-211">Normally, the sections that you create in a content page have to match sections that are defined in the layout page.</span></span> <span data-ttu-id="de296-212">Mogą wystąpić błędy, ponieważ wystąpienia któregokolwiek z następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="de296-212">You can get errors if any of the following occur:</span></span>

- <span data-ttu-id="de296-213">Strona zawartości zawiera sekcja, która nie ma odpowiedniej sekcji na stronie układu.</span><span class="sxs-lookup"><span data-stu-id="de296-213">The content page contains a section that has no corresponding section in the layout page.</span></span>
- <span data-ttu-id="de296-214">Strona układu zawiera sekcja, dla których nie ma żadnej zawartości.</span><span class="sxs-lookup"><span data-stu-id="de296-214">The layout page contains a section for which there's no content.</span></span>
- <span data-ttu-id="de296-215">Strona układu zawiera wywołania metody, w których podejmowana jest próba renderowania tej samej sekcji w więcej niż jeden raz.</span><span class="sxs-lookup"><span data-stu-id="de296-215">The layout page includes method calls that try to render the same section more than once.</span></span>

<span data-ttu-id="de296-216">Jednak można zastąpić to zachowanie dla nazwanej sekcji przez zadeklarowanie sekcja ma być opcjonalne w stronę układu.</span><span class="sxs-lookup"><span data-stu-id="de296-216">However, you can override this behavior for a named section by declaring the section to be optional in the layout page.</span></span> <span data-ttu-id="de296-217">Dzięki temu można zdefiniować wiele stron zawartości mogą dzielić stronę układu, ale którzy mogą lub nie może mieć zawartości dla określonego obszaru.</span><span class="sxs-lookup"><span data-stu-id="de296-217">This lets you define multiple content pages that can share a layout page but that might or might not have content for a specific section.</span></span>

1. <span data-ttu-id="de296-218">Otwórz *Content2.cshtml* i usuń następującą sekcję:</span><span class="sxs-lookup"><span data-stu-id="de296-218">Open *Content2.cshtml* and remove the following section:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample12.cshtml)]
2. <span data-ttu-id="de296-219">Zapisz stronę, a następnie uruchom go w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="de296-219">Save the page and then run it in a browser.</span></span> <span data-ttu-id="de296-220">Wyświetlany jest komunikat o błędzie, ponieważ strony zawartości nie udostępnia zawartość sekcji zdefiniowana na stronie układu, a mianowicie sekcji nagłówka.</span><span class="sxs-lookup"><span data-stu-id="de296-220">An error message is displayed, because the content page doesn't provide content for a section defined in the layout page, namely the header section.</span></span>

    ![Zrzut ekranu pokazujący błąd występujący po uruchomieniu strony, która wywołuje metodę RenderSection, ale nie podano odpowiedniej sekcji.](3-creating-a-consistent-look/_static/image7.jpg)
3. <span data-ttu-id="de296-222">W *Shared* folder, otwórz  *\_Layout2.cshtml* strony, a następnie Zastąp ten wiersz:</span><span class="sxs-lookup"><span data-stu-id="de296-222">In the *Shared* folder, open the *\_Layout2.cshtml* page and replace this line:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample13.js)]

    <span data-ttu-id="de296-223">następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="de296-223">with the following code:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample14.js)]

    <span data-ttu-id="de296-224">Alternatywnie możesz Zastąp poprzedniego wiersza kodu, które poniższy blok kodu, który generuje te same wyniki:</span><span class="sxs-lookup"><span data-stu-id="de296-224">As an alternative, you could replace the previous line of code with the following code block, which produces the same results:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample15.cshtml)]
4. <span data-ttu-id="de296-225">Uruchom *Content2.cshtml* strony w przeglądarce ponownie.</span><span class="sxs-lookup"><span data-stu-id="de296-225">Run the *Content2.cshtml* page in a browser again.</span></span> <span data-ttu-id="de296-226">(Jeśli nadal masz tę stronę w przeglądarce, możesz po prostu odświeżyć go). Tym razem zostanie wyświetlona strona z żaden błąd nawet, jeśli go nie ma nagłówka.</span><span class="sxs-lookup"><span data-stu-id="de296-226">(If you still have this page open in the browser, you can just refresh it.) This time the page is displayed with no error, even though it has no header.</span></span>

## <a name="passing-data-to-layout-pages"></a><span data-ttu-id="de296-227">Przekazywanie danych do strony układu</span><span class="sxs-lookup"><span data-stu-id="de296-227">Passing Data to Layout Pages</span></span>

<span data-ttu-id="de296-228">Konieczne może być danymi zdefiniowanymi w strony zawartości, który należy do odwoływania się do strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-228">You might have data defined in the content page that you need to refer to in a layout page.</span></span> <span data-ttu-id="de296-229">Jeśli tak, należy przekazać dane ze strony zawartość do strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-229">If so, you need to pass the data from the content page to the layout page.</span></span> <span data-ttu-id="de296-230">Na przykład możesz chcieć wyświetlić stan logowania użytkownika lub możesz chcieć pokazać lub ukryć obszarów zawartości na podstawie danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="de296-230">For example, you might want to display the login status of a user, or you might want to show or hide content areas based on user input.</span></span>

<span data-ttu-id="de296-231">Aby przekazać dane ze strony zawartość do strony układ, można umieścić wartości `PageData` właściwości strony zawartość.</span><span class="sxs-lookup"><span data-stu-id="de296-231">To pass data from a content page to a layout page, you can put values into the `PageData` property of the content page.</span></span> <span data-ttu-id="de296-232">`PageData` Właściwości to zbiór par nazwa/wartość, w których przechowywane są dane, które mają być przekazywane między stronami.</span><span class="sxs-lookup"><span data-stu-id="de296-232">The `PageData` property is a collection of name/value pairs that hold the data that you want to pass between pages.</span></span> <span data-ttu-id="de296-233">Na stronie układu, można następnie odczytać wartości z `PageData` właściwości.</span><span class="sxs-lookup"><span data-stu-id="de296-233">In the layout page, you can then read values out of the `PageData` property.</span></span>

<span data-ttu-id="de296-234">Oto inny diagram.</span><span class="sxs-lookup"><span data-stu-id="de296-234">Here's another diagram.</span></span> <span data-ttu-id="de296-235">To pokazuje jak używać platformy ASP.NET `PageData` właściwość, aby przekazać wartości ze strony zawartość do strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-235">This one shows how ASP.NET can use the `PageData` property to pass values from a content page to the layout page.</span></span> <span data-ttu-id="de296-236">Po rozpoczęciu tworzenia stron sieci web platformy ASP.NET tworzy `PageData` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="de296-236">When ASP.NET begins building the web page, it creates the `PageData` collection.</span></span> <span data-ttu-id="de296-237">Na stronie zawartości pisanie kodu, aby umieścić dane `PageData` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="de296-237">In the content page, you write code to put data in the `PageData` collection.</span></span> <span data-ttu-id="de296-238">Wartości w `PageData` kolekcji można także uzyskać dostęp przez innych sekcjach strony zawartości lub dodatkowe bloki zawartości.</span><span class="sxs-lookup"><span data-stu-id="de296-238">Values in the `PageData` collection can also be accessed by other sections in the content page or by additional content blocks.</span></span>

![Diagram koncepcyjny, który pokazuje, jak wypełnić słownika PageData i przekazać te informacje do strony układu strony zawartości.](3-creating-a-consistent-look/_static/image8.jpg)

<span data-ttu-id="de296-240">Poniższa procedura pokazuje, jak przekazywanie danych od strony zawartości do strony układu.</span><span class="sxs-lookup"><span data-stu-id="de296-240">The following procedure shows how to pass data from a content page to a layout page.</span></span> <span data-ttu-id="de296-241">Po uruchomieniu strony wyświetli przycisk, który umożliwia użytkownikowi ukryć lub pokazać listy, która jest zdefiniowana w stronę układu.</span><span class="sxs-lookup"><span data-stu-id="de296-241">When the page runs, it displays a button that lets the user hide or show a list that's defined in the layout page.</span></span> <span data-ttu-id="de296-242">Gdy użytkownik kliknie przycisk, ustawia wartość PRAWDA/FAŁSZ (wartość logiczna) w `PageData` właściwości.</span><span class="sxs-lookup"><span data-stu-id="de296-242">When users click the button, it sets a true/false (Boolean) value in the `PageData` property.</span></span> <span data-ttu-id="de296-243">Strona układu odczytuje tę wartość i jeśli ma wartość false, ukrywa listę.</span><span class="sxs-lookup"><span data-stu-id="de296-243">The layout page reads that value, and if it's false, hides the list.</span></span> <span data-ttu-id="de296-244">Wartość służy również na stronie zawartości do określenia, czy mają być wyświetlane **Ukryj listę** przycisk lub **Pokaż listę** przycisku.</span><span class="sxs-lookup"><span data-stu-id="de296-244">The value is also used in the content page to determine whether to display the **Hide List** button or the **Show List** button.</span></span>

![[image]](3-creating-a-consistent-look/_static/image9.jpg)

1. <span data-ttu-id="de296-246">W folderze głównym, Utwórz plik o nazwie *Content3.cshtml* i Zastąp istniejącą zawartość następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="de296-246">In the root folder, create a file named *Content3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample16.cshtml)]

    <span data-ttu-id="de296-247">Kod przechowuje dwóch fragmentów danych w `PageData` właściwość &#8212; tytuł strony sieci web i wartość PRAWDA lub FAŁSZ, aby określić, czy w celu wyświetlenia listy.</span><span class="sxs-lookup"><span data-stu-id="de296-247">The code stores two pieces of data in the `PageData` property &#8212; the title of the web page and true or false to specify whether to display a list.</span></span>

    <span data-ttu-id="de296-248">Należy zauważyć, że program ASP.NET pozwala umieść kod znaczników HTML strony warunkowo przy użyciu bloku kodu.</span><span class="sxs-lookup"><span data-stu-id="de296-248">Notice that ASP.NET lets you put HTML markup into the page conditionally using a code block.</span></span> <span data-ttu-id="de296-249">Na przykład `if/else` bloku w treści strony określa formularz do wyświetlania w zależności od tego, czy `PageData["ShowList"]` jest ustawiona na wartość true.</span><span class="sxs-lookup"><span data-stu-id="de296-249">For example, the `if/else` block in the body of the page determines which form to display depending on whether `PageData["ShowList"]` is set to true.</span></span>
2. <span data-ttu-id="de296-250">W *Shared* folderze utwórz plik o nazwie  *\_Layout3.cshtml* i Zastąp istniejącą zawartość następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="de296-250">In the *Shared* folder, create a file named *\_Layout3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample17.cshtml)]

    <span data-ttu-id="de296-251">Strona układu zawiera wyrażenie w `<title>` element, który pobiera wartość tytuł `PageData` właściwości.</span><span class="sxs-lookup"><span data-stu-id="de296-251">The layout page includes an expression in the `<title>` element that gets the title value from the `PageData` property.</span></span> <span data-ttu-id="de296-252">Korzysta również `ShowList` wartość `PageData` właściwości w celu określenia, czy ma być wyświetlany blok zawartości listy.</span><span class="sxs-lookup"><span data-stu-id="de296-252">It also uses the `ShowList` value of the `PageData` property to determine whether to display the list content block.</span></span>
3. <span data-ttu-id="de296-253">W *Shared* folderze utwórz plik o nazwie  *\_List.cshtml* i Zastąp istniejącą zawartość następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="de296-253">In the *Shared* folder, create a file named *\_List.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample18.html)]
4. <span data-ttu-id="de296-254">Uruchom *Content3.cshtml* strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="de296-254">Run the *Content3.cshtml* page in a browser.</span></span> <span data-ttu-id="de296-255">Ta strona jest wyświetlana przy użyciu listy widocznych w lewej części strony i **Ukryj listę** znajdujący się u dołu.</span><span class="sxs-lookup"><span data-stu-id="de296-255">The page is displayed with the list visible on the left side of the page and a **Hide List** button at the bottom.</span></span>

    ![Zrzut ekranu przedstawiający stronę zawierającą listy i przycisk, który jest wyświetlany komunikat "Ukryj List".](3-creating-a-consistent-look/_static/image10.jpg)
5. <span data-ttu-id="de296-257">Kliknij przycisk **Ukryj listę**.</span><span class="sxs-lookup"><span data-stu-id="de296-257">Click **Hide List**.</span></span> <span data-ttu-id="de296-258">Lista znika i przycisku zmienia się na **Pokaż listę**.</span><span class="sxs-lookup"><span data-stu-id="de296-258">The list disappears and the button changes to **Show List**.</span></span>

    ![Zrzut ekranu przedstawiający stronę, która nie zawiera listy i przycisk, który jest wyświetlany komunikat "Pokaż listę".](3-creating-a-consistent-look/_static/image11.jpg)
6. <span data-ttu-id="de296-260">Kliknij przycisk **Pokaż listę** przycisku i listy zostaną wyświetlone ponownie.</span><span class="sxs-lookup"><span data-stu-id="de296-260">Click the **Show List** button, and the list is displayed again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="de296-261">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="de296-261">Additional Resources</span></span>


[<span data-ttu-id="de296-262">Dostosowywanie zachowania dla całej witryny dla stron sieci Web platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="de296-262">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
