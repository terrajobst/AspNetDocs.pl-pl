---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Praca z obrazami w witrynie ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: W tym rozdziale pokazano, jak dodawać i wyświetlać obrazy (zmieniać rozmiar, przerzucać i dodawać znaki wodne) w witrynie sieci Web.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 53514b3c314fc182a43c82974ffcfa8158a636a1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78631860"
---
# <a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="38021-103">Praca z obrazami w witrynie ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="38021-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="38021-104">Autor [FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="38021-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="38021-105">W tym artykule opisano sposób dodawania, wyświetlania i manipulowania obrazami (zmiany rozmiaru, przerzucania i dodawania znaków wodnych) w witrynie internetowej ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="38021-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="38021-106">Zawartość:</span><span class="sxs-lookup"><span data-stu-id="38021-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="38021-107">Sposób dynamicznego dodawania obrazu do strony.</span><span class="sxs-lookup"><span data-stu-id="38021-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="38021-108">Jak umożliwić użytkownikom przekazywanie obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="38021-109">Jak zmienić rozmiar obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-109">How to resize an image.</span></span>
> - <span data-ttu-id="38021-110">Jak przerzucić lub obrócić obraz.</span><span class="sxs-lookup"><span data-stu-id="38021-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="38021-111">Jak dodać znak wodny do obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="38021-112">Jak używać obrazu jako znaku wodnego.</span><span class="sxs-lookup"><span data-stu-id="38021-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="38021-113">Są to funkcje programowania ASP.NET wprowadzone w artykule:</span><span class="sxs-lookup"><span data-stu-id="38021-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="38021-114">Pomocnik `WebImage`.</span><span class="sxs-lookup"><span data-stu-id="38021-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="38021-115">Obiekt `Path`, który dostarcza metody, które umożliwiają manipulowanie ścieżkami i nazwami plików.</span><span class="sxs-lookup"><span data-stu-id="38021-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="38021-116">Wersje oprogramowania używane w samouczku</span><span class="sxs-lookup"><span data-stu-id="38021-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="38021-117">ASP.NET strony sieci Web (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="38021-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="38021-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="38021-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="38021-119">Ten samouczek współpracuje również z programem WebMatrix 3.</span><span class="sxs-lookup"><span data-stu-id="38021-119">This tutorial also works with WebMatrix 3.</span></span>

<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="38021-120">Dynamiczne Dodawanie obrazu do strony sieci Web</span><span class="sxs-lookup"><span data-stu-id="38021-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="38021-121">Podczas tworzenia witryny sieci Web można dodawać obrazy do witryny sieci Web oraz do poszczególnych stron.</span><span class="sxs-lookup"><span data-stu-id="38021-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="38021-122">Możesz również umożliwić użytkownikom przekazywanie obrazów, co może być przydatne w przypadku zadań, takich jak dodanie zdjęcia do profilu.</span><span class="sxs-lookup"><span data-stu-id="38021-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="38021-123">Jeśli obraz jest już dostępny w witrynie i chcesz, aby był on wyświetlany na stronie, użyj elementu HTML `<img>` w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="38021-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="38021-124">Czasami trzeba mieć możliwość dynamicznego &#8212; wyświetlania obrazów, co oznacza, że nie wiesz, jaki obraz ma być wyświetlany, dopóki strona nie zostanie uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="38021-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="38021-125">Procedura opisana w tej sekcji pokazuje, jak wyświetlić obraz na bieżąco, gdzie użytkownicy określają nazwę pliku obrazu na podstawie listy nazw obrazów.</span><span class="sxs-lookup"><span data-stu-id="38021-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="38021-126">Wybierają nazwę obrazu z listy rozwijanej, a po przesłaniu strony zostanie wyświetlony wybrany obraz.</span><span class="sxs-lookup"><span data-stu-id="38021-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="38021-127">![Image](9-working-with-images/_static/image1.jpg "ch9images-1. jpg")</span><span class="sxs-lookup"><span data-stu-id="38021-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="38021-128">W programie WebMatrix Utwórz nową witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="38021-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="38021-129">Dodaj nową stronę o nazwie *DynamicImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="38021-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="38021-130">W folderze głównym witryny sieci Web Dodaj nowy folder i nadaj mu nazwę *obrazy*.</span><span class="sxs-lookup"><span data-stu-id="38021-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="38021-131">Dodaj cztery obrazy do folderu *obrazy* , który właśnie został utworzony.</span><span class="sxs-lookup"><span data-stu-id="38021-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="38021-132">(Wszystkie obrazy, które są przydatne, będą się znajdować na stronie). Zmień nazwy obrazów *Photo1. jpg*, *Photo2. jpg*, *Photo3. jpg*i *Photo4. jpg*.</span><span class="sxs-lookup"><span data-stu-id="38021-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="38021-133">(Nie będziesz używać *Photo4. jpg* w tej procedurze, ale będziesz ich używać w dalszej części artykułu).</span><span class="sxs-lookup"><span data-stu-id="38021-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="38021-134">Upewnij się, że cztery obrazy nie są oznaczone jako tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="38021-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="38021-135">Zastąp istniejącą zawartość na stronie następującymi:</span><span class="sxs-lookup"><span data-stu-id="38021-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="38021-136">Treść strony ma listę rozwijaną (`<select>` element) o nazwie `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="38021-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="38021-137">Lista zawiera trzy opcje, a atrybut `value` każdej opcji listy ma nazwę jednego z obrazów umieszczonych w folderze *obrazy* .</span><span class="sxs-lookup"><span data-stu-id="38021-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="38021-138">Zasadniczo lista umożliwia użytkownikowi wybranie przyjaznej nazwy, takiej jak &quot;Photo 1&quot;, a następnie przekazanie nazwy pliku *jpg* podczas przesyłania strony.</span><span class="sxs-lookup"><span data-stu-id="38021-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="38021-139">W kodzie można uzyskać wybór użytkownika (innymi słowy, nazwę pliku obrazu) z listy, odczytując `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="38021-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="38021-140">Najpierw widzisz, czy w ogóle istnieje zaznaczenie.</span><span class="sxs-lookup"><span data-stu-id="38021-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="38021-141">Jeśli istnieje, należy skonstruować ścieżkę do obrazu, który składa się z nazwy folderu dla obrazów i nazwy pliku obrazu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="38021-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="38021-142">(Jeśli próbowano utworzyć ścieżkę, ale nie było nic w `Request["photoChoice"]`, wystąpi błąd). Skutkuje to ścieżką względną w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="38021-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    <span data-ttu-id="38021-143">*obrazy/Photo1. jpg*</span><span class="sxs-lookup"><span data-stu-id="38021-143">*images/Photo1.jpg*</span></span>

    <span data-ttu-id="38021-144">Ścieżka jest przechowywana w zmiennej o nazwie `imagePath`, która będzie potrzebna później na stronie.</span><span class="sxs-lookup"><span data-stu-id="38021-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="38021-145">W treści znajduje się również element `<img>`, który służy do wyświetlania obrazu, który został wybrany przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="38021-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="38021-146">Atrybut `src` nie jest ustawiony na nazwę pliku lub adres URL, na przykład w celu wyświetlenia statycznego elementu.</span><span class="sxs-lookup"><span data-stu-id="38021-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="38021-147">Zamiast tego jest ustawiony na `@imagePath`, co oznacza, że pobiera jego wartość z ścieżki ustawionej w kodzie.</span><span class="sxs-lookup"><span data-stu-id="38021-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="38021-148">Przy pierwszym uruchomieniu strony nie ma obrazu do wyświetlenia, ponieważ użytkownik nie zaznaczył niczego.</span><span class="sxs-lookup"><span data-stu-id="38021-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="38021-149">Zwykle oznacza to, że atrybut `src` będzie pusty, a obraz będzie wyświetlany jako czerwona &quot;x&quot; (lub niezależnie od tego, czy przeglądarka jest renderowana, gdy nie można znaleźć obrazu).</span><span class="sxs-lookup"><span data-stu-id="38021-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="38021-150">Aby tego uniknąć, należy umieścić element `<img>` w bloku `if`, który sprawdza, czy zmienna `imagePath` ma coś w nim.</span><span class="sxs-lookup"><span data-stu-id="38021-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="38021-151">Jeśli użytkownik wykonał zaznaczenie, `imagePath` zawiera ścieżkę.</span><span class="sxs-lookup"><span data-stu-id="38021-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="38021-152">Jeśli użytkownik nie wybrał obrazu lub gdy jest wyświetlany po raz pierwszy, element `<img>` nie jest jeszcze renderowany.</span><span class="sxs-lookup"><span data-stu-id="38021-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="38021-153">Zapisz plik i Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="38021-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="38021-154">(Upewnij się, że strona została wybrana w obszarze roboczym **pliki** przed jej uruchomieniem).</span><span class="sxs-lookup"><span data-stu-id="38021-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="38021-155">Wybierz obraz z listy rozwijanej, a następnie kliknij pozycję **przykład obrazu**.</span><span class="sxs-lookup"><span data-stu-id="38021-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="38021-156">Upewnij się, że widzisz różne obrazy dla różnych opcji.</span><span class="sxs-lookup"><span data-stu-id="38021-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="38021-157">Przekazywanie obrazu</span><span class="sxs-lookup"><span data-stu-id="38021-157">Uploading an Image</span></span>

<span data-ttu-id="38021-158">W poprzednim przykładzie pokazano sposób dynamicznego wyświetlania obrazu, ale działał on tylko z obrazami, które już znajdowały się w witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="38021-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="38021-159">Ta procedura pokazuje, jak umożliwić użytkownikom przekazywanie obrazu, który jest następnie wyświetlany na stronie.</span><span class="sxs-lookup"><span data-stu-id="38021-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="38021-160">W ASP.NET można manipulować obrazami na bieżąco przy użyciu pomocnika `WebImage`, który ma metody umożliwiające tworzenie, manipulowanie i zapisywanie obrazów.</span><span class="sxs-lookup"><span data-stu-id="38021-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="38021-161">Pomocnik `WebImage` obsługuje wszystkie popularne typy plików obrazów sieci Web, w tym *jpg*, *. png*i *. bmp*.</span><span class="sxs-lookup"><span data-stu-id="38021-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="38021-162">W tym artykule zostaną użyte obrazy *jpg* , ale można użyć dowolnego typu obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="38021-163">![Image](9-working-with-images/_static/image2.jpg "ch9images-2. jpg")</span><span class="sxs-lookup"><span data-stu-id="38021-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="38021-164">Dodaj nową stronę i nadaj jej nazwę *UploadImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="38021-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="38021-165">Zastąp istniejącą zawartość na stronie następującymi:</span><span class="sxs-lookup"><span data-stu-id="38021-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="38021-166">Treść tekstu ma `<input type="file">` element, który umożliwia użytkownikom wybranie pliku do przekazania.</span><span class="sxs-lookup"><span data-stu-id="38021-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="38021-167">Po kliknięciu przycisku **Prześlij**, pobrany plik zostanie przesłany wraz z formularzem.</span><span class="sxs-lookup"><span data-stu-id="38021-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="38021-168">Aby uzyskać przekazany obraz, użyj pomocnika `WebImage`, który ma wszystkie przydatne metody pracy z obrazami.</span><span class="sxs-lookup"><span data-stu-id="38021-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="38021-169">W celu uzyskania przekazanego obrazu (jeśli istnieje) i zapisania go w zmiennej o nazwie `photo`można użyć `WebImage.GetImageFromRequest`.</span><span class="sxs-lookup"><span data-stu-id="38021-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="38021-170">Duża część pracy w tym przykładzie obejmuje pobieranie i Ustawianie nazw plików i ścieżek.</span><span class="sxs-lookup"><span data-stu-id="38021-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="38021-171">Problem polega na tym, że chcesz uzyskać nazwę (i tylko nazwę) obrazu przekazanego przez użytkownika, a następnie utworzyć nową ścieżkę do lokalizacji, w której ma zostać zapisany obraz.</span><span class="sxs-lookup"><span data-stu-id="38021-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="38021-172">Ponieważ użytkownicy mogą potencjalnie przekazać wiele obrazów o tej samej nazwie, należy użyć dodatkowego kodu do utworzenia unikatowych nazw i upewnić się, że użytkownicy nie zastępują istniejących obrazów.</span><span class="sxs-lookup"><span data-stu-id="38021-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="38021-173">Jeśli obraz rzeczywiście został przekazany (test `if (photo != null)`), nazwa obrazu jest pobierana z właściwości `FileName` obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="38021-174">Gdy użytkownik przekaże obraz, `FileName` zawiera oryginalną nazwę użytkownika, która zawiera ścieżkę z komputera użytkownika.</span><span class="sxs-lookup"><span data-stu-id="38021-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="38021-175">Może wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="38021-175">It might look like this:</span></span>

    <span data-ttu-id="38021-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span><span class="sxs-lookup"><span data-stu-id="38021-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span></span>

    <span data-ttu-id="38021-177">Nie chcesz, aby wszystkie informacje o ścieżce były &#8212; aktualne, mimo że chcesz tylko rzeczywistą nazwę pliku (*SamplePhoto1. jpg*).</span><span class="sxs-lookup"><span data-stu-id="38021-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="38021-178">Można rozdzielić tylko plik ze ścieżki przy użyciu metody `Path.GetFileName`, tak jak to:</span><span class="sxs-lookup"><span data-stu-id="38021-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="38021-179">Następnie można utworzyć nową unikatową nazwę pliku, dodając identyfikator GUID do oryginalnej nazwy.</span><span class="sxs-lookup"><span data-stu-id="38021-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="38021-180">(Aby uzyskać więcej informacji o identyfikatorach GUID, zobacz [Informacje o identyfikatorach GUID](#SB_AboutGUIDs) w dalszej części tego artykułu). Następnie utworzysz kompletną ścieżkę, której można użyć do zapisania obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="38021-181">Ścieżka zapisu składa się z nowej nazwy pliku, folderu (obrazów) i bieżącej lokalizacji witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="38021-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="38021-182">Aby kod zapisywał pliki w folderze *obrazy* , aplikacja musi mieć uprawnienia do odczytu i zapisu dla tego folderu.</span><span class="sxs-lookup"><span data-stu-id="38021-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="38021-183">Na komputerze deweloperskim zwykle nie jest to problem.</span><span class="sxs-lookup"><span data-stu-id="38021-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="38021-184">Jednak po opublikowaniu lokacji programu na serwerze sieci Web dostawcy hostingu może być konieczne jawne ustawienie tych uprawnień.</span><span class="sxs-lookup"><span data-stu-id="38021-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="38021-185">Jeśli ten kod jest uruchamiany na serwerze dostawcy hostingu i pojawia się błąd, należy skontaktować się z dostawcą hostingu, aby dowiedzieć się, jak ustawić te uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="38021-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="38021-186">Na koniec przekazanie ścieżki zapisu do metody `Save` pomocnika `WebImage`.</span><span class="sxs-lookup"><span data-stu-id="38021-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="38021-187">Spowoduje to zapisanie przekazanego obrazu pod nową nazwą.</span><span class="sxs-lookup"><span data-stu-id="38021-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="38021-188">Metoda Save wygląda następująco: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="38021-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="38021-189">Pełna ścieżka jest dołączana do `@"~\"`, która jest bieżącą lokalizacją witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="38021-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="38021-190">(Aby uzyskać informacje na temat operatora `~`, zobacz [wprowadzenie do programowania w sieci Web ASP.NET przy użyciu składni Razor](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths)).</span><span class="sxs-lookup"><span data-stu-id="38021-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="38021-191">Jak w poprzednim przykładzie, treść strony zawiera element `<img>`, aby wyświetlić obraz.</span><span class="sxs-lookup"><span data-stu-id="38021-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="38021-192">Jeśli ustawiono `imagePath`, element `<img>` jest renderowany, a jego atrybut `src` jest ustawiony na wartość `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="38021-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="38021-193">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="38021-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="38021-194">Przekaż obraz i upewnij się, że jest on wyświetlany na stronie.</span><span class="sxs-lookup"><span data-stu-id="38021-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="38021-195">W swojej lokacji Otwórz folder *images* .</span><span class="sxs-lookup"><span data-stu-id="38021-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="38021-196">Zobaczysz, że dodano nowy plik, którego nazwa pliku wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="38021-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    <span data-ttu-id="38021-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_moje zdjęcie. png*</span><span class="sxs-lookup"><span data-stu-id="38021-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span></span>

    <span data-ttu-id="38021-198">Jest to obraz, który został przekazany z identyfikatorem GUID poprzedzonym prefiksem nazwy.</span><span class="sxs-lookup"><span data-stu-id="38021-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="38021-199">(Własny plik ma inny identyfikator GUID i prawdopodobnie nazywa się coś innego niż *. png*).</span><span class="sxs-lookup"><span data-stu-id="38021-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="38021-200">Identyfikatory GUID — informacje</span><span class="sxs-lookup"><span data-stu-id="38021-200">About GUIDs</span></span>
> 
> <span data-ttu-id="38021-201">Identyfikator GUID (Globally Unique ID) jest identyfikatorem, który zwykle jest renderowany w formacie podobnym do: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="38021-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="38021-202">Liczby i litery (od A-F) różnią się w zależności od identyfikatora GUID, ale wszystkie są zgodne z wzorcem używania grup z 8-4-4-4-12 znaków.</span><span class="sxs-lookup"><span data-stu-id="38021-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="38021-203">(Technicznie identyfikator GUID jest liczbą 16-bajtową/128-bitową). Jeśli potrzebujesz identyfikatora GUID, możesz wywołać wyspecjalizowany kod, który generuje identyfikator GUID.</span><span class="sxs-lookup"><span data-stu-id="38021-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="38021-204">Pomysł związany z identyfikatorami GUID polega na tym, że pomiędzy olbrzymim rozmiarem liczby (3,4 x 10<sup>38</sup>) a algorytmem generowania go, wynikowy numer jest praktycznie gwarantowany jako jeden z rodzajów.</span><span class="sxs-lookup"><span data-stu-id="38021-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="38021-205">Dlatego identyfikatory GUID są dobrym sposobem na generowanie nazw dla elementów, gdy należy zagwarantujeć, że nie będziesz używać tej samej nazwy dwa razy.</span><span class="sxs-lookup"><span data-stu-id="38021-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="38021-206">Minusem, oczywiście, jest to, że identyfikatory GUID nie są szczególnie przyjazne dla użytkownika, więc mają być używane, gdy nazwa jest używana tylko w kodzie.</span><span class="sxs-lookup"><span data-stu-id="38021-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>

<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="38021-207">Zmiana rozmiaru obrazu</span><span class="sxs-lookup"><span data-stu-id="38021-207">Resizing an Image</span></span>

<span data-ttu-id="38021-208">Jeśli witryna sieci Web akceptuje obrazy od użytkownika, możesz chcieć zmienić rozmiar obrazów przed ich wyświetleniem lub zapisaniem.</span><span class="sxs-lookup"><span data-stu-id="38021-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="38021-209">Można ponownie użyć pomocnika `WebImage` dla tego elementu.</span><span class="sxs-lookup"><span data-stu-id="38021-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="38021-210">Ta procedura pokazuje, jak zmienić rozmiar przekazanego obrazu w celu utworzenia miniatury, a następnie zapisania miniatury i oryginalnego obrazu w witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="38021-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="38021-211">Wyświetlenie miniatury na stronie i użycie hiperłącza umożliwia przekierowanie użytkowników do pełnego obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="38021-212">![Image](9-working-with-images/_static/image3.jpg "ch9images-3. jpg")</span><span class="sxs-lookup"><span data-stu-id="38021-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="38021-213">Dodaj nową stronę o nazwie *Thumbnail. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="38021-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="38021-214">W folderze *obrazy* utwórz podfolder o nazwie *kciuki*.</span><span class="sxs-lookup"><span data-stu-id="38021-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="38021-215">Zastąp istniejącą zawartość na stronie następującymi:</span><span class="sxs-lookup"><span data-stu-id="38021-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="38021-216">Ten kod jest podobny do kodu z poprzedniego przykładu.</span><span class="sxs-lookup"><span data-stu-id="38021-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="38021-217">Różnica polega na tym, że ten kod zapisuje dwa razy, po utworzeniu miniatury obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="38021-218">Najpierw uzyskasz przekazany obraz i zapiszesz go w folderze *images* .</span><span class="sxs-lookup"><span data-stu-id="38021-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="38021-219">Następnie utwórz nową ścieżkę dla obrazu miniatury.</span><span class="sxs-lookup"><span data-stu-id="38021-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="38021-220">Aby w rzeczywistości utworzyć miniaturę, należy wywołać metodę `Resize` pomocnika `WebImage`, aby utworzyć obraz 60 pikseli przez 60 pikseli.</span><span class="sxs-lookup"><span data-stu-id="38021-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="38021-221">W przykładzie pokazano, jak zachować współczynnik proporcji i jak można zapobiec powiększaniu obrazu (w przypadku, gdy nowy rozmiar będzie w rzeczywistości większy).</span><span class="sxs-lookup"><span data-stu-id="38021-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="38021-222">Obraz o zmienionym rozmiarze jest następnie zapisywany w podfolderze *kciuków* .</span><span class="sxs-lookup"><span data-stu-id="38021-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="38021-223">Na końcu znacznika należy użyć tego samego `<img>` elementu z atrybutem Dynamic `src`, który był widoczny w poprzednich przykładach, aby warunkowo pokazać obraz.</span><span class="sxs-lookup"><span data-stu-id="38021-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="38021-224">W takim przypadku wyświetlana jest miniatura.</span><span class="sxs-lookup"><span data-stu-id="38021-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="38021-225">Należy również użyć elementu `<a>`, aby utworzyć hiperłącze do dużej wersji obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="38021-226">Podobnie jak w przypadku atrybutu `src` elementu `<img>`, atrybut `href` elementu `<a>` jest ustawiany dynamicznie do każdego, co jest w `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="38021-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="38021-227">Aby upewnić się, że ścieżka może współpracować z adresem URL, należy przekazać `imagePath` do metody `Html.AttributeEncode`, która konwertuje zastrzeżone znaki w ścieżce do znaków, które są poprawne w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="38021-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="38021-228">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="38021-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="38021-229">Przekaż zdjęcie i sprawdź, czy miniatura jest pokazana.</span><span class="sxs-lookup"><span data-stu-id="38021-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="38021-230">Kliknij miniaturę, aby wyświetlić obraz w pełnym rozmiarze.</span><span class="sxs-lookup"><span data-stu-id="38021-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="38021-231">Zwróć uwagę na *obrazy* i *obrazy/kciuki*, aby dodać nowe pliki.</span><span class="sxs-lookup"><span data-stu-id="38021-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="38021-232">Obracanie i przerzucanie obrazu</span><span class="sxs-lookup"><span data-stu-id="38021-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="38021-233">Pomocnik `WebImage` umożliwia również przerzucanie i obracanie obrazów.</span><span class="sxs-lookup"><span data-stu-id="38021-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="38021-234">Ta procedura pokazuje, jak pobrać obraz z serwera, przerzucić obraz o 180 stopni (w pionie), zapisać go, a następnie wyświetlić przerzucony obraz na stronie.</span><span class="sxs-lookup"><span data-stu-id="38021-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="38021-235">W tym przykładzie właśnie korzystasz z pliku znajdującego się już na serwerze (*Photo2. jpg*).</span><span class="sxs-lookup"><span data-stu-id="38021-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="38021-236">W rzeczywistej aplikacji prawdopodobnie zarzucasz obraz, którego nazwa otrzymujesz dynamicznie, podobnie jak w poprzednich przykładach.</span><span class="sxs-lookup"><span data-stu-id="38021-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="38021-237">![Image](9-working-with-images/_static/image4.jpg "ch9images-4. jpg")</span><span class="sxs-lookup"><span data-stu-id="38021-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="38021-238">Dodaj nową stronę o nazwie *FlipImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="38021-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="38021-239">Zastąp istniejącą zawartość na stronie następującymi:</span><span class="sxs-lookup"><span data-stu-id="38021-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="38021-240">Kod używa pomocnika `WebImage` do pobrania obrazu z serwera.</span><span class="sxs-lookup"><span data-stu-id="38021-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="38021-241">Ścieżkę do obrazu można utworzyć za pomocą tej samej techniki, która została użyta we wcześniejszych przykładach do zapisywania obrazów, i przekazać tę ścieżkę podczas tworzenia obrazu przy użyciu `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="38021-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="38021-242">W przypadku znalezienia obrazu można utworzyć nową ścieżkę i nazwę pliku, tak jak w poprzednich przykładach.</span><span class="sxs-lookup"><span data-stu-id="38021-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="38021-243">Aby przerzucić obraz, należy wywołać metodę `FlipVertical`, a następnie ponownie zapisać obraz.</span><span class="sxs-lookup"><span data-stu-id="38021-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="38021-244">Obraz zostanie ponownie wyświetlony na stronie przy użyciu `<img>` elementu z atrybutem `src` ustawionym na `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="38021-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="38021-245">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="38021-245">Run the page in a browser.</span></span> <span data-ttu-id="38021-246">Obraz dla *Photo2. jpg* zostanie wyświetlony na osi poziomej.</span><span class="sxs-lookup"><span data-stu-id="38021-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="38021-247">Odśwież stronę lub zażądaj ponownie strony, aby zobaczyć, że obraz został przerzucony ponownie po prawej stronie.</span><span class="sxs-lookup"><span data-stu-id="38021-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="38021-248">Aby obrócić obraz, należy użyć tego samego kodu, z tą różnicą, że zamiast wywoływania `FlipVertical` lub `FlipHorizontal`, należy wywołać `RotateLeft` lub `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="38021-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="38021-249">Dodawanie znaku wodnego do obrazu</span><span class="sxs-lookup"><span data-stu-id="38021-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="38021-250">Podczas dodawania obrazów do witryny sieci Web możesz chcieć dodać znak wodny do obrazu przed jego zapisaniem lub wyświetlić na stronie.</span><span class="sxs-lookup"><span data-stu-id="38021-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="38021-251">Osoby często używają znaków wodnych, aby dodawać informacje o prawach autorskich do obrazu lub anonsować swoją nazwę biznesową.</span><span class="sxs-lookup"><span data-stu-id="38021-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="38021-252">![Image](9-working-with-images/_static/image5.jpg "ch9images-5. jpg")</span><span class="sxs-lookup"><span data-stu-id="38021-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="38021-253">Dodaj nową stronę o nazwie *znak wodny. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="38021-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="38021-254">Zastąp istniejącą zawartość na stronie następującymi:</span><span class="sxs-lookup"><span data-stu-id="38021-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="38021-255">Ten kod jest podobny do kodu na stronie *FlipImage. cshtml* z wcześniejszego (chociaż ten czas używa pliku *Photo3. jpg* ).</span><span class="sxs-lookup"><span data-stu-id="38021-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="38021-256">Aby dodać znak wodny, należy wywołać metodę `AddTextWatermark` pomocnika `WebImage` przed zapisaniem obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="38021-257">W wywołaniu do `AddTextWatermark`przekazywać tekst &quot;"mój znak wodny&quot;, Ustaw kolor czcionki na żółty i ustaw dla rodziny czcionek czcionkę Arial.</span><span class="sxs-lookup"><span data-stu-id="38021-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="38021-258">(Chociaż nie jest to tutaj widoczne, pomocnik `WebImage` umożliwia również określanie krycia, rodziny czcionek i rozmiaru czcionki oraz położenia tekstu znaku wodnego.) Po zapisaniu obrazu nie może być tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="38021-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="38021-259">Jak widać wcześniej, obraz jest wyświetlany na stronie przy użyciu elementu `<img>` z atrybutem src ustawionym na `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="38021-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="38021-260">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="38021-260">Run the page in a browser.</span></span> <span data-ttu-id="38021-261">Zwróć uwagę na tekst "mój znak wodny" w prawym dolnym rogu obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="38021-262">Używanie obrazu jako znaku wodnego</span><span class="sxs-lookup"><span data-stu-id="38021-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="38021-263">Zamiast używać tekstu dla znaku wodnego, można użyć innego obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="38021-264">Osoby czasami używają obrazów takich jak logo firmy jako znak wodny lub używają obrazu znaku wodnego zamiast tekstu do informacji o prawach autorskich.</span><span class="sxs-lookup"><span data-stu-id="38021-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="38021-265">![Image](9-working-with-images/_static/image6.jpg "ch9images-6. jpg")</span><span class="sxs-lookup"><span data-stu-id="38021-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="38021-266">Dodaj nową stronę o nazwie *ImageWatermark. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="38021-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="38021-267">Dodaj obraz do folderu *obrazy* , którego możesz użyć jako logo, a następnie zmień nazwę obrazu *MyCompanyLogo. jpg*.</span><span class="sxs-lookup"><span data-stu-id="38021-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="38021-268">Obraz powinien być obrazem, który można zobaczyć jasno, gdy jest ustawiony na 80 pikseli szerokości i 20 pikseli.</span><span class="sxs-lookup"><span data-stu-id="38021-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="38021-269">Zastąp istniejącą zawartość na stronie następującymi:</span><span class="sxs-lookup"><span data-stu-id="38021-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="38021-270">Jest to kolejna odmiana kodu z wcześniejszych przykładów.</span><span class="sxs-lookup"><span data-stu-id="38021-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="38021-271">W takim przypadku należy wywołać `AddImageWatermark`, aby dodać obraz znaku wodnego do obrazu docelowego (*Photo3. jpg*) przed zapisaniem obrazu.</span><span class="sxs-lookup"><span data-stu-id="38021-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="38021-272">Gdy wywołasz `AddImageWatermark`, Szerokość jest ustawiana na 80 pikseli i wysokość do 20 pikseli.</span><span class="sxs-lookup"><span data-stu-id="38021-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="38021-273">Obraz *MyCompanyLogo. jpg* jest wyrównany w poziomie i wyrównany w pionie w dolnej części obrazu docelowego.</span><span class="sxs-lookup"><span data-stu-id="38021-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="38021-274">Nieprzezroczystość jest ustawiona na 100%, a uzupełnienie ma wartość 10 pikseli.</span><span class="sxs-lookup"><span data-stu-id="38021-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="38021-275">Jeśli obraz znaku wodnego jest większy niż obraz docelowy, nic się nie dzieje.</span><span class="sxs-lookup"><span data-stu-id="38021-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="38021-276">Jeśli obraz znaku wodnego jest większy niż obraz docelowy i ustawisz uzupełnienie dla znaku wodnego obrazu na zero, znak wodny zostanie zignorowany.</span><span class="sxs-lookup"><span data-stu-id="38021-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="38021-277">Tak jak wcześniej, obraz zostanie wyświetlony przy użyciu elementu `<img>` i atrybutu `src` Dynamic.</span><span class="sxs-lookup"><span data-stu-id="38021-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="38021-278">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="38021-278">Run the page in a browser.</span></span> <span data-ttu-id="38021-279">Zauważ, że obraz znaku wodnego pojawia się u dołu obrazu głównego.</span><span class="sxs-lookup"><span data-stu-id="38021-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="38021-280">Dodatkowe materiały</span><span class="sxs-lookup"><span data-stu-id="38021-280">Additional Resources</span></span>

[<span data-ttu-id="38021-281">Praca z plikami w witrynie ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="38021-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="38021-282">Wprowadzenie do programowania stron sieci Web ASP.NET przy użyciu składni Razor</span><span class="sxs-lookup"><span data-stu-id="38021-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)
