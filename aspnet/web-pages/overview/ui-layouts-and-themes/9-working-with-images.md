---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Praca z obrazami w witrynie ASP.NET Web Pages (Razor) | Dokumentacja firmy Microsoft
author: Rick-Anderson
description: W tym rozdziale pokazano, jak dodać, wyświetlania i manipulowania obrazami (zmienić rozmiar, przerzucić i dodawać znaki wodne) w witrynie sieci Web.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 7536f71eb9afce9d7c8bb7e4d6326d280658c27b
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/01/2019
ms.locfileid: "57075473"
---
<a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="5f58e-103">Praca z obrazami w witrynie ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="5f58e-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>
====================
<span data-ttu-id="5f58e-104">przez [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="5f58e-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="5f58e-105">W tym artykule przedstawiono sposób dodawania, wyświetlania i manipulowania obrazami (zmienić rozmiar, przerzucić i dodawać znaki wodne) w witrynie internetowej ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="5f58e-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="5f58e-106">Zawartość:</span><span class="sxs-lookup"><span data-stu-id="5f58e-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="5f58e-107">Jak dynamicznie dodać obraz do strony.</span><span class="sxs-lookup"><span data-stu-id="5f58e-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="5f58e-108">Jak umożliwić użytkownikom przekazywanie obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="5f58e-109">Jak zmienić rozmiar obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-109">How to resize an image.</span></span>
> - <span data-ttu-id="5f58e-110">Jak przerzucić lub obrócić obraz.</span><span class="sxs-lookup"><span data-stu-id="5f58e-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="5f58e-111">Jak dodać znak wodny do obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="5f58e-112">Jak używać obrazu jako znaku wodnego.</span><span class="sxs-lookup"><span data-stu-id="5f58e-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="5f58e-113">Poniżej przedstawiono funkcje wprowadzone w artykule programowania programu ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="5f58e-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="5f58e-114">`WebImage` Pomocnika.</span><span class="sxs-lookup"><span data-stu-id="5f58e-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="5f58e-115">`Path` Obiektu, który udostępnia metody, które pozwala manipulować ścieżkę i nazwy plików.</span><span class="sxs-lookup"><span data-stu-id="5f58e-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="5f58e-116">Wersje oprogramowania używanego w tym samouczku</span><span class="sxs-lookup"><span data-stu-id="5f58e-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="5f58e-117">ASP.NET Web Pages (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="5f58e-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="5f58e-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="5f58e-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="5f58e-119">W tym samouczku współpracuje również z programu WebMatrix 3.</span><span class="sxs-lookup"><span data-stu-id="5f58e-119">This tutorial also works with WebMatrix 3.</span></span>


<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="5f58e-120">Dynamiczne dodawanie obrazu do strony sieci Web</span><span class="sxs-lookup"><span data-stu-id="5f58e-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="5f58e-121">Można dodać obrazy do witryny sieci Web i do poszczególnych stron podczas tworzenia witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="5f58e-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="5f58e-122">Można także pozwolić użytkownikom przekazywanie obrazów, które mogą być przydatne dla zadań, takich jak umożliwienie im na dodawanie zdjęcie w profilu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="5f58e-123">Jeśli obraz nie jest jeszcze dostępna w witrynie i chcesz tylko wyświetlić go na stronie, używasz języka HTML `<img>` elementu w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="5f58e-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="5f58e-124">Czasami jednak musisz mieć możliwość wyświetlania obrazów dynamicznie &#8212; oznacza to, nie wiem, jakie obraz do wyświetlania, dopóki strona nie zostanie uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="5f58e-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="5f58e-125">Procedura w tej sekcji przedstawiono sposób wyświetlania obrazu na bieżąco, w którym użytkownicy określić nazwę pliku obrazu z listy nazw obrazów.</span><span class="sxs-lookup"><span data-stu-id="5f58e-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="5f58e-126">Wybierają nazwę obrazu z listy rozwijanej, a gdy przesyła strony, obraz, który została wybrana opcja jest wyświetlana.</span><span class="sxs-lookup"><span data-stu-id="5f58e-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="5f58e-127">![[Obraz] ](9-working-with-images/_static/image1.jpg "ch9images 1.jpg")</span><span class="sxs-lookup"><span data-stu-id="5f58e-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="5f58e-128">W programie WebMatrix Utwórz nową witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="5f58e-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="5f58e-129">Dodaj nową stronę o nazwie *DynamicImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="5f58e-130">W folderze głównym witryny sieci Web, należy dodać nowy folder i nadaj mu nazwę *obrazów*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="5f58e-131">Dodaj cztery obrazy *obrazów* właśnie utworzony folder.</span><span class="sxs-lookup"><span data-stu-id="5f58e-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="5f58e-132">(Wszystkie obrazy mają będzie przydatna, czy, ale powinien mieści się na stronie). Zmiana nazwy obrazów *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, i *Photo4.jpg*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="5f58e-133">(Nie będzie używać *Photo4.jpg* w tej procedurze, ale użyjemy go w dalszej części tego artykułu.)</span><span class="sxs-lookup"><span data-stu-id="5f58e-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="5f58e-134">Upewnij się, że cztery obrazy nie są oznaczone jako tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="5f58e-135">Zastąp istniejącą zawartość na stronie następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="5f58e-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="5f58e-136">Ciała strony ma listy rozwijanej ( `<select>` elementu) o nazwie `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="5f58e-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="5f58e-137">Lista zawiera trzy opcje, a `value` atrybut każdej z opcji listy ma nazwę jednego z obrazów, które należy umieścić w *obrazów* folderu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="5f58e-138">Zasadniczo lista umożliwia użytkownikowi wybranie przyjaznej nazwy, takie jak &quot;1 zdjęcie&quot;, a następnie przekazuje *.jpg* nazwy pliku po przesłaniu strony.</span><span class="sxs-lookup"><span data-stu-id="5f58e-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="5f58e-139">W kodzie, można uzyskać wybranych przez użytkownika (innymi słowy, nazwa pliku obrazu) z listy, czytając `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="5f58e-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="5f58e-140">Należy najpierw sprawdzić, czy zaznaczenie na wszystkich.</span><span class="sxs-lookup"><span data-stu-id="5f58e-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="5f58e-141">Jeśli, możesz zbudować ścieżki dla obrazu, który składa się z nazwy folderu obrazów i nazwa pliku obrazu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="5f58e-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="5f58e-142">(Jeśli próbowano zbudować ścieżki, ale żadne w `Request["photoChoice"]`, będzie wyświetlany komunikat o błędzie.) Skutkuje to ścieżka względna następująco:</span><span class="sxs-lookup"><span data-stu-id="5f58e-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    <span data-ttu-id="5f58e-143">*images/Photo1.jpg*</span><span class="sxs-lookup"><span data-stu-id="5f58e-143">*images/Photo1.jpg*</span></span>

    <span data-ttu-id="5f58e-144">Ścieżka jest przechowywany w zmiennej o nazwie `imagePath` będą potrzebne w dalszej części strony.</span><span class="sxs-lookup"><span data-stu-id="5f58e-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="5f58e-145">W treści, dostępna jest również `<img>` element, który służy do wyświetlania obrazu, który użytkownik pobrane.</span><span class="sxs-lookup"><span data-stu-id="5f58e-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="5f58e-146">`src` Atrybut nie jest równa nazwy pliku lub adresu URL, tak samo, jak można wyświetlić element statyczny.</span><span class="sxs-lookup"><span data-stu-id="5f58e-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="5f58e-147">Zamiast tego jest równa `@imagePath`, co oznacza, że pobiera ona swoją wartość ze ścieżki ustawić w kodzie.</span><span class="sxs-lookup"><span data-stu-id="5f58e-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="5f58e-148">Przy pierwszym uruchomieniu strony, jednak nie ma żadnego obrazu do wyświetlenia, ponieważ użytkownik nie wybrał niczego.</span><span class="sxs-lookup"><span data-stu-id="5f58e-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="5f58e-149">To zwykle oznacza, że `src` atrybut może być pusty i obraz, który będzie wyświetlany jako czerwone &quot;x&quot; (lub niezależnie od przeglądarki renderowanie, gdy nie można odnaleźć obrazu).</span><span class="sxs-lookup"><span data-stu-id="5f58e-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="5f58e-150">Aby tego uniknąć, możesz umieścić `<img>` element `if` blok, który umożliwia sprawdzenie, aby zobaczyć, czy `imagePath` zmienna ma niczego w nim.</span><span class="sxs-lookup"><span data-stu-id="5f58e-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="5f58e-151">Jeśli użytkownik niczego, `imagePath` zawiera ścieżkę.</span><span class="sxs-lookup"><span data-stu-id="5f58e-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="5f58e-152">Jeśli użytkownik nie wybierz obraz lub ta strona jest wyświetlana, jeśli jest to po raz pierwszy, `<img>` element nie jest jeszcze renderowane.</span><span class="sxs-lookup"><span data-stu-id="5f58e-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="5f58e-153">Zapisz plik i uruchomić strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="5f58e-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="5f58e-154">(Upewnij się, że strona jest zaznaczona w **pliki** obszaru roboczego przed jej uruchomieniem.)</span><span class="sxs-lookup"><span data-stu-id="5f58e-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="5f58e-155">Wybierz obraz z listy rozwijanej, a następnie kliknij przycisk **przykładowy obraz**.</span><span class="sxs-lookup"><span data-stu-id="5f58e-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="5f58e-156">Upewnij się, czy widzisz różnych obrazów dla różnych opcji.</span><span class="sxs-lookup"><span data-stu-id="5f58e-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="5f58e-157">Przekazywanie obrazu</span><span class="sxs-lookup"><span data-stu-id="5f58e-157">Uploading an Image</span></span>

<span data-ttu-id="5f58e-158">W poprzednim przykładzie pokazano sposób wyświetlania obrazu dynamicznie, ale działał tylko w przypadku obrazów, które zostały już w witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="5f58e-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="5f58e-159">Ta procedura pokazuje, jak umożliwić użytkownikom przekazywanie obrazu, który następnie jest wyświetlany na stronie.</span><span class="sxs-lookup"><span data-stu-id="5f58e-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="5f58e-160">W programie ASP.NET można manipulować obrazów na bieżąco, za pomocą `WebImage` pomocnika, która posiada metody, które umożliwiają tworzenie, modyfikowania i zapisać obrazy.</span><span class="sxs-lookup"><span data-stu-id="5f58e-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="5f58e-161">`WebImage` Pomocnika obsługuje wszystkie typowe web obraz typów plików, w tym *.jpg*, *.png*, i *.bmp*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="5f58e-162">W tym artykule użyjemy *.jpg* obrazów, ale Wy możecie użyć dowolnego typu obraz.</span><span class="sxs-lookup"><span data-stu-id="5f58e-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="5f58e-163">![[Obraz] ](9-working-with-images/_static/image2.jpg "ch9images 2.jpg")</span><span class="sxs-lookup"><span data-stu-id="5f58e-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="5f58e-164">Dodaj nową stronę i nadaj mu nazwę *UploadImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="5f58e-165">Zastąp istniejącą zawartość na stronie następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="5f58e-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="5f58e-166">Treść tekstu ma `<input type="file">` element, który umożliwia użytkownikom, wybierz plik do przekazania.</span><span class="sxs-lookup"><span data-stu-id="5f58e-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="5f58e-167">Po kliknięciu **przesyłania**, przesyłania pliku, o których one pobrane z formularza.</span><span class="sxs-lookup"><span data-stu-id="5f58e-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="5f58e-168">Aby uzyskać przekazanego obrazu, należy użyć `WebImage` pomocnika, która udostępnia szeroką gamę użyteczne metody do pracy z obrazami.</span><span class="sxs-lookup"><span data-stu-id="5f58e-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="5f58e-169">W szczególności użyj `WebImage.GetImageFromRequest` uzyskać przekazany obraz (jeśli istnieje) i zapisz go w zmiennej o nazwie `photo`.</span><span class="sxs-lookup"><span data-stu-id="5f58e-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="5f58e-170">Dużo pracy, w tym przykładzie obejmuje pobierania i ustawiania nazwy pliku i ścieżki.</span><span class="sxs-lookup"><span data-stu-id="5f58e-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="5f58e-171">Problem polega na tym, czy chcesz uzyskać nazwy (i tylko nazwę) obraz, który użytkownik przekazał, a następnie utwórz nową ścieżkę dla Dokąd chcesz dojść do przechowywania obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="5f58e-172">Ponieważ użytkownicy potencjalnie może przekazać wiele obrazów, które mają taką samą nazwę, umożliwia nieco dodatkowy kod tworzenia unikatowych nazw i upewnij się, że użytkownicy nie zastępuj istniejących obrazów.</span><span class="sxs-lookup"><span data-stu-id="5f58e-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="5f58e-173">Jeśli obraz rzeczywiście został przekazany (test `if (photo != null)`), możesz uzyskać nazwę obrazu za pomocą obrazu na `FileName` właściwości.</span><span class="sxs-lookup"><span data-stu-id="5f58e-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="5f58e-174">Gdy użytkownik przesyła obraz, `FileName` zawiera oryginalna nazwa użytkownika, który zawiera ścieżkę z komputera użytkownika.</span><span class="sxs-lookup"><span data-stu-id="5f58e-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="5f58e-175">Jego może wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="5f58e-175">It might look like this:</span></span>

    <span data-ttu-id="5f58e-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span><span class="sxs-lookup"><span data-stu-id="5f58e-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span></span>

    <span data-ttu-id="5f58e-177">Te informacje ścieżki nie ma jednak &#8212; Ty chcesz po prostu rzeczywiste nazwy plików (*SamplePhoto1.jpg*).</span><span class="sxs-lookup"><span data-stu-id="5f58e-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="5f58e-178">Po prostu pliku ze ścieżki mogą odłączenia przy użyciu `Path.GetFileName` metoda następująco:</span><span class="sxs-lookup"><span data-stu-id="5f58e-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="5f58e-179">Następnie utworzysz nowy unikatową nazwę pliku, dodając identyfikatora GUID na oryginalną nazwę.</span><span class="sxs-lookup"><span data-stu-id="5f58e-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="5f58e-180">(Aby uzyskać więcej informacji o identyfikatorach GUID, zobacz [dotyczące identyfikatorów GUID](#SB_AboutGUIDs) w dalszej części tego artykułu.) Następnie możesz utworzyć pełną ścieżkę, która służy do zapisania obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="5f58e-181">Zapisz ścieżkę składa się z nową nazwę pliku, folderu (obrazy) i bieżącej lokalizacji witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="5f58e-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="5f58e-182">W kolejności, w kodzie zapisać plik w *obrazów* folderu, aplikacja musi odczytu i zapisu uprawnienia do tego folderu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="5f58e-183">Na komputerze deweloperskim to nie jest zazwyczaj problem.</span><span class="sxs-lookup"><span data-stu-id="5f58e-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="5f58e-184">Jednak podczas publikowania witryny dostawcy hostingu serwera sieci web, konieczne może być jawnie ustawić te uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="5f58e-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="5f58e-185">Jeśli możesz uruchomić ten kod na serwerze dostawcy hostingu i występują błędy, skontaktuj się z dostawcy hostingu, aby dowiedzieć się, jak ustawić te uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="5f58e-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="5f58e-186">Na koniec Przekaż Zapisz ścieżkę do `Save` metody `WebImage` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="5f58e-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="5f58e-187">Spowoduje to zapisanie przekazanego obrazu pod nową nazwą.</span><span class="sxs-lookup"><span data-stu-id="5f58e-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="5f58e-188">Zapisz metoda wygląda następująco: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="5f58e-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="5f58e-189">Pełna ścieżka jest dołączany do `@"~\"`, która jest bieżąca lokalizacja witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="5f58e-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="5f58e-190">(Aby uzyskać informacje o `~` operatora, zobacz [wprowadzenie do platformy ASP.NET sieci Web programowania z użyciem składni Razor](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="5f58e-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="5f58e-191">Co w poprzednim przykładzie treść strony zawiera `<img>` element, aby wyświetlić obraz.</span><span class="sxs-lookup"><span data-stu-id="5f58e-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="5f58e-192">Jeśli `imagePath` została ustawiona, `<img>` element jest renderowany i jego `src` ma ustawioną wartość atrybutu `imagePath` wartość.</span><span class="sxs-lookup"><span data-stu-id="5f58e-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="5f58e-193">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="5f58e-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="5f58e-194">Przekazywanie obrazu i upewnij się, że jest wyświetlany na stronie.</span><span class="sxs-lookup"><span data-stu-id="5f58e-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="5f58e-195">W witrynie, otwórz *obrazów* folderu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="5f58e-196">Zobaczysz, że został dodany nowy plik których nazwa pliku wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="5f58e-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    <span data-ttu-id="5f58e-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span><span class="sxs-lookup"><span data-stu-id="5f58e-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span></span>

    <span data-ttu-id="5f58e-198">Jest to obraz, który został przekazany z identyfikatorem GUID poprzedza nazwę.</span><span class="sxs-lookup"><span data-stu-id="5f58e-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="5f58e-199">(Własny plik będzie miał inny identyfikator GUID i prawdopodobnie nosi nazwę coś innego niż *MyPhoto.png*.)</span><span class="sxs-lookup"><span data-stu-id="5f58e-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="5f58e-200">Identyfikatory GUID — informacje</span><span class="sxs-lookup"><span data-stu-id="5f58e-200">About GUIDs</span></span>
> 
> <span data-ttu-id="5f58e-201">Identyfikator GUID (globalnie unikatowy identyfikator) jest identyfikatorem, który zazwyczaj jest wyświetlana w formacie następująco: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="5f58e-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="5f58e-202">Cyfry i litery (od A do F) różnią się dla każdego identyfikatora GUID, ale wszystkie one oparte na wzorcu przy użyciu grup 8-4-4-4-12 znaków.</span><span class="sxs-lookup"><span data-stu-id="5f58e-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="5f58e-203">(Z technicznego punktu widzenia identyfikator GUID jest liczbą 16-bajtowy/128-bitowy). Gdy będziesz potrzebować identyfikatora GUID, można wywołać wyspecjalizowany kod, który generuje identyfikator GUID dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="5f58e-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="5f58e-204">Idei identyfikatorów GUID jest fakt, że między inwestują rozmiar liczby (3.4 x 10<sup>38</sup>) i algorytm generującego go, wynikowa liczba praktycznie musi być jednym z rodzajem.</span><span class="sxs-lookup"><span data-stu-id="5f58e-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="5f58e-205">Identyfikatory GUID są w związku z tym dobrym sposobem na potrzeby generowania nazw, w przypadku elementów, gdy musisz gwarantować, że nie używasz tej samej nazwie dwa razy.</span><span class="sxs-lookup"><span data-stu-id="5f58e-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="5f58e-206">Wadą jest oczywiście, że identyfikatory GUID nie są szczególnie przyjazny dla użytkownika i tak często ma być używany, gdy nazwa jest używana tylko w przypadku kodu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>


<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="5f58e-207">Zmiana rozmiaru obrazu</span><span class="sxs-lookup"><span data-stu-id="5f58e-207">Resizing an Image</span></span>

<span data-ttu-id="5f58e-208">Witryny sieci Web akceptuje obrazów z użytkownikiem, można zmienić rozmiar obrazów, aby wyświetlić lub zapisać je.</span><span class="sxs-lookup"><span data-stu-id="5f58e-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="5f58e-209">Możesz ponownie użyć `WebImage` pomocnika, w tym.</span><span class="sxs-lookup"><span data-stu-id="5f58e-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="5f58e-210">Ta procedura pokazuje, jak zmienić rozmiar przekazanego obrazu do utworzenia miniatury, a następnie Zapisz miniatury i oryginalny obraz w witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="5f58e-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="5f58e-211">Wyświetlić miniaturę na stronie i użyj hiperlink, aby przekierować użytkowników do obrazu w pełnym rozmiarze.</span><span class="sxs-lookup"><span data-stu-id="5f58e-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="5f58e-212">![[Obraz] ](9-working-with-images/_static/image3.jpg "ch9images 3.jpg")</span><span class="sxs-lookup"><span data-stu-id="5f58e-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="5f58e-213">Dodaj nową stronę o nazwie *Thumbnail.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="5f58e-214">W *obrazów* folderze utwórz podfolder o nazwie *thumbs*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="5f58e-215">Zastąp istniejącą zawartość na stronie następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="5f58e-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="5f58e-216">Ten kod jest podobny do kodu z poprzedniego przykładu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="5f58e-217">Różnica polega na tym, ten kod zapisuje obraz, dwa razy, gdy normalnie i jeden raz po utworzeniu miniatury kopię obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="5f58e-218">Najpierw pobierz przekazany obraz i zapisz go w *obrazów* folderu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="5f58e-219">Możesz następnie utworzyć nową ścieżkę dla obraz miniatury.</span><span class="sxs-lookup"><span data-stu-id="5f58e-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="5f58e-220">Aby utworzyć miniatury, należy wywołać `WebImage` Pomocnika `Resize` metodę, aby utworzyć obraz 60 pikseli przez 60 pikseli.</span><span class="sxs-lookup"><span data-stu-id="5f58e-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="5f58e-221">W przykładzie pokazano, jak zachować współczynnik proporcji i jak można zapobiec obraz jest powiększany (w przypadku, gdy nowy rozmiar będzie faktycznie powiększyć obraz).</span><span class="sxs-lookup"><span data-stu-id="5f58e-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="5f58e-222">Obrazów o zmienionym rozmiarze są następnie zapisywane w *thumbs* podfolderu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="5f58e-223">Na końcu znaczników, możesz używać tego samego `<img>` element z dynamicznego `src` atrybut, który widzisz w poprzednich przykładach, aby warunkowo wyświetlany obraz.</span><span class="sxs-lookup"><span data-stu-id="5f58e-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="5f58e-224">W takim przypadku możesz wyświetlić miniaturę.</span><span class="sxs-lookup"><span data-stu-id="5f58e-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="5f58e-225">Możesz także użyć `<a>` elementu, aby utworzyć hiperłącze do dużych wersję obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="5f58e-226">Podobnie jak w przypadku `src` atrybutu `<img>` elementu, ustaw `href` atrybutu `<a>` element dynamicznie, aby niezależnie od rodzaju znajduje się w `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="5f58e-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="5f58e-227">Aby upewnić się, że ścieżki może działać jako adres URL, możesz przekazać `imagePath` do `Html.AttributeEncode` metody, która konwertuje znaki, które są ok w adresie URL zastrzeżone znaki w ścieżce.</span><span class="sxs-lookup"><span data-stu-id="5f58e-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="5f58e-228">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="5f58e-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="5f58e-229">Przekaż zdjęcie i sprawdź, czy jest wyświetlany miniatury.</span><span class="sxs-lookup"><span data-stu-id="5f58e-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="5f58e-230">Kliknij miniaturę, aby wyświetlić obraz w pełnym rozmiarze.</span><span class="sxs-lookup"><span data-stu-id="5f58e-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="5f58e-231">W *obrazów* i *obrazów/thumbs*, należy pamiętać, że nowe pliki zostały dodane.</span><span class="sxs-lookup"><span data-stu-id="5f58e-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="5f58e-232">Obracanie i przerzucanie obrazu</span><span class="sxs-lookup"><span data-stu-id="5f58e-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="5f58e-233">`WebImage` Pomocnika umożliwia także Przerzucanie i obracanie obrazów.</span><span class="sxs-lookup"><span data-stu-id="5f58e-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="5f58e-234">Ta procedura pokazuje, jak pobrać obraz z serwera, przerzucić obraz nogami (w pionie), zapisz go, a następnie Wyświetl odwrócony obraz, na stronie.</span><span class="sxs-lookup"><span data-stu-id="5f58e-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="5f58e-235">W tym przykładzie po prostu używasz plików, masz już na serwerze (*Photo2.jpg*).</span><span class="sxs-lookup"><span data-stu-id="5f58e-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="5f58e-236">W rzeczywistej aplikacji będzie prawdopodobnie przerzucić obraz o nazwie otrzymasz dynamicznie, jak w poprzednich przykładach.</span><span class="sxs-lookup"><span data-stu-id="5f58e-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="5f58e-237">![[Obraz] ](9-working-with-images/_static/image4.jpg "ch9images 4.jpg")</span><span class="sxs-lookup"><span data-stu-id="5f58e-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="5f58e-238">Dodaj nową stronę o nazwie *FlipImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="5f58e-239">Zastąp istniejącą zawartość na stronie następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="5f58e-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="5f58e-240">Kod używa `WebImage` element pomocniczy służący do pobierania obrazu z serwera.</span><span class="sxs-lookup"><span data-stu-id="5f58e-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="5f58e-241">Utwórz ścieżkę do obrazu przy użyciu tej samej techniki, które są używane w przykładach wcześniej do zapisywania obrazów i przekazać tę ścieżkę, podczas tworzenia obrazów przy użyciu `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="5f58e-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="5f58e-242">Jeśli obraz zostanie znaleziony, konstruowania nową ścieżkę i nazwę, jak w przypadku wcześniejszych przykładów.</span><span class="sxs-lookup"><span data-stu-id="5f58e-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="5f58e-243">Aby przerzucić obraz, należy wywołać `FlipVertical` metody, a następnie zapisać go ponownie.</span><span class="sxs-lookup"><span data-stu-id="5f58e-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="5f58e-244">Obraz ponownie jest wyświetlany na stronie przy użyciu `<img>` element z `src` ustawioną wartość atrybutu `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="5f58e-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="5f58e-245">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="5f58e-245">Run the page in a browser.</span></span> <span data-ttu-id="5f58e-246">Obraz dla *Photo2.jpg* przedstawiono odwrócony.</span><span class="sxs-lookup"><span data-stu-id="5f58e-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="5f58e-247">Odśwież stronę lub żądania strony ponownie, aby zobaczyć, że obraz jest odwrócony po prawej stronie się ponownie.</span><span class="sxs-lookup"><span data-stu-id="5f58e-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="5f58e-248">Aby obrócić obraz, należy użyć tego samego kodu, chyba że zamiast wywoływać metodę `FlipVertical` lub `FlipHorizontal`, należy wywołać `RotateLeft` lub `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="5f58e-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="5f58e-249">Dodawanie znaku wodnego do obrazu</span><span class="sxs-lookup"><span data-stu-id="5f58e-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="5f58e-250">Po dodaniu obrazów do swojej witryny sieci Web, możesz chcieć dodać znak wodny do obrazu, zanim go zapisać lub wyświetlić go na stronie.</span><span class="sxs-lookup"><span data-stu-id="5f58e-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="5f58e-251">Znaki wodne są często używają Dodaj informacje o prawach autorskich do obrazu lub anonsować ich nazwy firmy.</span><span class="sxs-lookup"><span data-stu-id="5f58e-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="5f58e-252">![[Obraz] ](9-working-with-images/_static/image5.jpg "ch9images 5.jpg")</span><span class="sxs-lookup"><span data-stu-id="5f58e-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="5f58e-253">Dodaj nową stronę o nazwie *Watermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="5f58e-254">Zastąp istniejącą zawartość na stronie następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="5f58e-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="5f58e-255">Ten kod jest podobny kod w *FlipImage.cshtml* strony wcześniej (jednak tym razem z zastosowaniem *Photo3.jpg* pliku).</span><span class="sxs-lookup"><span data-stu-id="5f58e-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="5f58e-256">Aby dodać znak wodny, należy wywołać `WebImage` Pomocnika `AddTextWatermark` metody, aby zapisać obraz.</span><span class="sxs-lookup"><span data-stu-id="5f58e-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="5f58e-257">W wywołaniu `AddTextWatermark`, należy przekazać tekst &quot;test&quot;, ustaw kolor czcionki na żółty i ustaw rodzinę czcionek Arial.</span><span class="sxs-lookup"><span data-stu-id="5f58e-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="5f58e-258">(Mimo że nie jest w tym miejscu pokazano `WebImage` pomocnika pozwala także określić nieprzezroczystość rodzinę czcionek i rozmiar czcionki i położenie tekstu znaku wodnego.) Podczas zapisywania obrazu nie może być tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="5f58e-259">Jak przedstawiono przed, obraz jest wyświetlany na stronie przy użyciu `<img>` element z atrybutem src ustawiony na wartość `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="5f58e-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="5f58e-260">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="5f58e-260">Run the page in a browser.</span></span> <span data-ttu-id="5f58e-261">Zwróć uwagę, tekst "Test" w prawym dolnym rogu obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="5f58e-262">Przy użyciu obrazu jako znaku wodnego</span><span class="sxs-lookup"><span data-stu-id="5f58e-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="5f58e-263">Zamiast przy użyciu tekstu dla limitu, możesz użyć innego obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="5f58e-264">Osoby czasami używać obrazów, takich jak logo firmy jako znaku wodnego, lub używają obrazu znaku wodnego zamiast tekstu, aby uzyskać informacje o prawach autorskich.</span><span class="sxs-lookup"><span data-stu-id="5f58e-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="5f58e-265">![[Obraz] ](9-working-with-images/_static/image6.jpg "ch9images 6.jpg")</span><span class="sxs-lookup"><span data-stu-id="5f58e-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="5f58e-266">Dodaj nową stronę o nazwie *ImageWatermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="5f58e-267">Dodawanie obrazu do *obrazów* folderu pełnić logo, a zmiana nazwy obrazu *MyCompanyLogo.jpg*.</span><span class="sxs-lookup"><span data-stu-id="5f58e-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="5f58e-268">Ten obraz powinien być obrazu, który możesz zobaczyć wyraźnie po ustawieniu 80 pikseli szerokości i wysokości 20 pikseli.</span><span class="sxs-lookup"><span data-stu-id="5f58e-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="5f58e-269">Zastąp istniejącą zawartość na stronie następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="5f58e-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="5f58e-270">To jest inna wersja nad kodem we wcześniejszych przykładach.</span><span class="sxs-lookup"><span data-stu-id="5f58e-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="5f58e-271">W takim przypadku należy wywołać `AddImageWatermark` dodawania obrazu znaku wodnego do obrazu docelowego (*Photo3.jpg*) przed zapisaniem obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="5f58e-272">Gdy wywołujesz `AddImageWatermark`, ustaw jego szerokość w pikselach 80 i na 20 pikseli wysokości.</span><span class="sxs-lookup"><span data-stu-id="5f58e-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="5f58e-273">*MyCompanyLogo.jpg* obraz jest wyrównany w poziomie w Centrum i wyrównane w pionie w dolnej części obrazu docelowego.</span><span class="sxs-lookup"><span data-stu-id="5f58e-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="5f58e-274">Przezroczystość jest ustawiony na 100% i uzupełnienie jest równa 10 pikseli.</span><span class="sxs-lookup"><span data-stu-id="5f58e-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="5f58e-275">Jeśli obraz znaku wodnego jest większy niż obrazu docelowego, nic się nie stanie.</span><span class="sxs-lookup"><span data-stu-id="5f58e-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="5f58e-276">Obraz znaku wodnego jest większy niż obrazu docelowego, a następnie ustaw dopełnienie obrazu znaku wodnego do zera, znaku wodnego jest ignorowana.</span><span class="sxs-lookup"><span data-stu-id="5f58e-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="5f58e-277">Jak wcześniej, wyświetlanie obrazów przy użyciu `<img>` elementu i dynamiczny `src` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="5f58e-278">Uruchom stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="5f58e-278">Run the page in a browser.</span></span> <span data-ttu-id="5f58e-279">Należy zauważyć, że obraz znaku wodnego pojawia się w dolnej części głównego obrazu.</span><span class="sxs-lookup"><span data-stu-id="5f58e-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="5f58e-280">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="5f58e-280">Additional Resources</span></span>


[<span data-ttu-id="5f58e-281">Praca z plikami w witrynie ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="5f58e-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="5f58e-282">Wprowadzenie do programowania z użyciem składni Razor strony sieci Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5f58e-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)
