---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
title: Tworzenie aplikacji bazy danych filmów w ciągu 15 minut za pomocą ASP.NETC#MVC () | Microsoft Docs
author: StephenWalther
description: Stephen Walther kompiluje całą aplikację MVC opartą na bazie danych ASP.NET od początku do końca. Ten samouczek jest doskonałym wprowadzeniem dla osób, które są nowym t...
ms.author: riande
ms.date: 01/27/2009
ms.assetid: dd1be137-91c5-47a8-8137-fecf0789c7f5
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
msc.type: authoredcontent
ms.openlocfilehash: 1be5d135a44feb27626dd26a544b64cfb57b18a9
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78541994"
---
# <a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-c"></a><span data-ttu-id="3cd57-104">Tworzenie aplikacji bazy danych filmów w ciągu 15 minut za pomocą wzorca ASP.NET MVC (C#)</span><span class="sxs-lookup"><span data-stu-id="3cd57-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (C#)</span></span>

<span data-ttu-id="3cd57-105">Autor [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="3cd57-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="3cd57-106">Pobierz kod</span><span class="sxs-lookup"><span data-stu-id="3cd57-106">Download Code</span></span>](https://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_CS.zip)

> <span data-ttu-id="3cd57-107">Stephen Walther kompiluje całą aplikację MVC opartą na bazie danych ASP.NET od początku do końca.</span><span class="sxs-lookup"><span data-stu-id="3cd57-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="3cd57-108">Ten samouczek to doskonałe wprowadzenie do osób, które są nowe dla struktury ASP.NET MVC i które chcą uzyskać zrozumienie procesu tworzenia aplikacji ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>

<span data-ttu-id="3cd57-109">Celem tego samouczka jest poznanie "czego lubisz" w celu utworzenia aplikacji ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="3cd57-110">W tym samouczku tworzymy cały proces tworzenia całej aplikacji ASP.NET MVC od początku do końca.</span><span class="sxs-lookup"><span data-stu-id="3cd57-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="3cd57-111">Pokazuje, jak utworzyć prostą aplikację opartą na bazie danych, która ilustruje sposób wyświetlania, tworzenia i edytowania rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="3cd57-112">Aby uprościć proces kompilowania aplikacji, będziemy korzystać z funkcji tworzenia szkieletów w programie Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="3cd57-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="3cd57-113">Zezwolimy programowi Visual Studio na generowanie początkowego kodu i zawartości dla naszych kontrolerów, modeli i widoków.</span><span class="sxs-lookup"><span data-stu-id="3cd57-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="3cd57-114">Jeśli pracujesz z witrynami Active Server lub ASP.NET, należy dobrze znaleźć ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="3cd57-115">Widoki ASP.NET MVC są bardzo podobne do stron w aplikacji Active Server Pages.</span><span class="sxs-lookup"><span data-stu-id="3cd57-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="3cd57-116">Podobnie jak w przypadku tradycyjnych aplikacji ASP.NET Web Forms, ASP.NET MVC zapewnia pełny dostęp do bogatego zestawu języków i klas dostarczanych przez program .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3cd57-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="3cd57-117">Mamy nadzieję, że ten samouczek zapewni Ci zrozumienie, jak środowisko tworzenia aplikacji ASP.NET MVC jest podobne i różne niż środowisko tworzenia stron Active Server lub aplikacji ASP.NET Web Forms.</span><span class="sxs-lookup"><span data-stu-id="3cd57-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="3cd57-118">Przegląd aplikacji bazy danych filmów</span><span class="sxs-lookup"><span data-stu-id="3cd57-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="3cd57-119">Ponieważ naszym celem jest zachowanie prostoty, utworzymy bardzo prostą aplikację bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="3cd57-120">Nasza prosta aplikacja do baz danych filmów umożliwi nam wykonywanie trzech czynności:</span><span class="sxs-lookup"><span data-stu-id="3cd57-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="3cd57-121">Wyświetlanie zestawu rekordów bazy danych filmów</span><span class="sxs-lookup"><span data-stu-id="3cd57-121">List a set of movie database records</span></span>
2. <span data-ttu-id="3cd57-122">Utwórz nowy rekord bazy danych filmów</span><span class="sxs-lookup"><span data-stu-id="3cd57-122">Create a new movie database record</span></span>
3. <span data-ttu-id="3cd57-123">Edytowanie istniejącego rekordu bazy danych filmów</span><span class="sxs-lookup"><span data-stu-id="3cd57-123">Edit an existing movie database record</span></span>

<span data-ttu-id="3cd57-124">Ponownie, ponieważ chcemy zachować prostotę, będziemy korzystać z minimalnej liczby funkcji platformy ASP.NET MVC potrzebnych do kompilowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="3cd57-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="3cd57-125">Na przykład nie będziemy używać programowania opartego na testach.</span><span class="sxs-lookup"><span data-stu-id="3cd57-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="3cd57-126">Aby można było utworzyć aplikację, należy wykonać następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="3cd57-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="3cd57-127">Tworzenie projektu aplikacji sieci Web ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="3cd57-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="3cd57-128">Tworzenie bazy danych</span><span class="sxs-lookup"><span data-stu-id="3cd57-128">Create the database</span></span>
3. <span data-ttu-id="3cd57-129">Tworzenie modelu bazy danych</span><span class="sxs-lookup"><span data-stu-id="3cd57-129">Create the database model</span></span>
4. <span data-ttu-id="3cd57-130">Tworzenie kontrolera ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="3cd57-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="3cd57-131">Tworzenie widoków ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="3cd57-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="3cd57-132">Akcje wstępne</span><span class="sxs-lookup"><span data-stu-id="3cd57-132">Preliminaries</span></span>

<span data-ttu-id="3cd57-133">Do skompilowania aplikacji ASP.NET MVC wymagany jest program Visual Studio 2008 lub Visual Web Developer 2008 Express.</span><span class="sxs-lookup"><span data-stu-id="3cd57-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="3cd57-134">Należy również pobrać strukturę ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="3cd57-135">Jeśli nie jesteś członkiem programu Visual Studio 2008, możesz pobrać 90-dniową wersję próbną programu Visual Studio 2008 z tej witryny sieci Web:</span><span class="sxs-lookup"><span data-stu-id="3cd57-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[https://msdn.microsoft.com/vs2008/products/cc268305.aspx](https://msdn.microsoft.com/vs2008/products/cc268305.aspx)

<span data-ttu-id="3cd57-136">Alternatywnie można tworzyć aplikacje ASP.NET MVC przy użyciu programu Visual Web Developer Express 2008.</span><span class="sxs-lookup"><span data-stu-id="3cd57-136">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="3cd57-137">Jeśli zdecydujesz się użyć programu Visual Web Developer Express, musisz mieć zainstalowany dodatek Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="3cd57-137">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="3cd57-138">Program Visual Web Developer 2008 Express z dodatkiem Service Pack 1 można pobrać z tej witryny sieci Web:</span><span class="sxs-lookup"><span data-stu-id="3cd57-138">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="3cd57-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;d isplaylang = pl</span><span class="sxs-lookup"><span data-stu-id="3cd57-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="3cd57-140">Po zainstalowaniu programu Visual Studio 2008 lub Visual Web Developer 2008 należy zainstalować platformę ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-140">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="3cd57-141">Strukturę ASP.NET MVC można pobrać z następującej witryny sieci Web:</span><span class="sxs-lookup"><span data-stu-id="3cd57-141">You can download the ASP.NET MVC framework from the following website:</span></span>

[https://www.asp.net/mvc/](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="3cd57-142">Zamiast pobierać ASP.NET Framework i ASP.NET MVC Framework osobno, można skorzystać z Instalatora platformy sieci Web.</span><span class="sxs-lookup"><span data-stu-id="3cd57-142">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="3cd57-143">Instalator platformy sieci Web to aplikacja, która umożliwia łatwe zarządzanie zainstalowanymi aplikacjami:</span><span class="sxs-lookup"><span data-stu-id="3cd57-143">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [https://www.microsoft.com/web/gallery/Install.aspx](https://www.microsoft.com/web/gallery/Install.aspx)

## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="3cd57-144">Tworzenie projektu aplikacji sieci Web ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="3cd57-144">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="3cd57-145">Zacznijmy od utworzenia nowego projektu aplikacji sieci Web ASP.NET MVC w programie Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="3cd57-145">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="3cd57-146">Wybierz plik opcji menu **, nowy projekt** i zobaczysz okno dialogowe Nowy projekt na rysunku 1.</span><span class="sxs-lookup"><span data-stu-id="3cd57-146">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="3cd57-147">Wybierz C# pozycję jako język programowania i wybierz szablon projektu aplikacji sieci Web ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-147">Select C# as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="3cd57-148">Nadaj projektowi nazwę MovieApp i kliknij przycisk OK.</span><span class="sxs-lookup"><span data-stu-id="3cd57-148">Give your project the name MovieApp and click the OK button.</span></span>

<span data-ttu-id="3cd57-149">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-149">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span></span>

<span data-ttu-id="3cd57-150">**Ilustracja 01**. okno dialogowe Nowy projekt ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-150">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span></span>

<span data-ttu-id="3cd57-151">Upewnij się, że wybrano pozycję .NET Framework 3,5 z listy rozwijanej w górnej części okna dialogowego Nowy projekt lub szablon projektu aplikacji sieci Web ASP.NET MVC nie zostanie wyświetlony.</span><span class="sxs-lookup"><span data-stu-id="3cd57-151">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>

<span data-ttu-id="3cd57-152">Za każdym razem, gdy tworzysz nowy projekt aplikacji sieci Web MVC, Visual Studio poprosi o utworzenie oddzielnego projektu testu jednostkowego.</span><span class="sxs-lookup"><span data-stu-id="3cd57-152">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="3cd57-153">Zostanie wyświetlone okno dialogowe na rysunku 2.</span><span class="sxs-lookup"><span data-stu-id="3cd57-153">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="3cd57-154">Ponieważ nie będziemy tworzyć testów w tym samouczku ze względu na ograniczenia czasowe (i, tak, należy zastanowić się na to trochę winno) wybierz opcję **nie** , a następnie kliknij przycisk **OK** .</span><span class="sxs-lookup"><span data-stu-id="3cd57-154">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3cd57-155">Visual Web Developer nie obsługuje projektów testowych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-155">Visual Web Developer does not support test projects.</span></span>

<span data-ttu-id="3cd57-156">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-156">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span></span>

<span data-ttu-id="3cd57-157">**Ilustracja 02**. okno dialogowe Tworzenie projektu testu jednostkowego ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-157">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span></span>

<span data-ttu-id="3cd57-158">Aplikacja ASP.NET MVC ma standardowy zestaw folderów: model, widoki i folder controllers.</span><span class="sxs-lookup"><span data-stu-id="3cd57-158">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="3cd57-159">Ten standardowy zestaw folderów można zobaczyć w oknie Eksplorator rozwiązań.</span><span class="sxs-lookup"><span data-stu-id="3cd57-159">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="3cd57-160">Należy dodać pliki do każdego z folderów modele, widoki i kontrolery, aby skompilować aplikację bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-160">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="3cd57-161">Gdy tworzysz nową aplikację MVC przy użyciu programu Visual Studio, uzyskasz przykładową aplikację.</span><span class="sxs-lookup"><span data-stu-id="3cd57-161">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="3cd57-162">Ponieważ chcemy zacząć od podstaw, musimy usunąć zawartość tej przykładowej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="3cd57-162">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="3cd57-163">Należy usunąć następujący plik i następujący folder:</span><span class="sxs-lookup"><span data-stu-id="3cd57-163">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="3cd57-164">Controllers\HomeController.cs</span><span class="sxs-lookup"><span data-stu-id="3cd57-164">Controllers\HomeController.cs</span></span>
- <span data-ttu-id="3cd57-165">Views\Home</span><span class="sxs-lookup"><span data-stu-id="3cd57-165">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="3cd57-166">Tworzenie bazy danych</span><span class="sxs-lookup"><span data-stu-id="3cd57-166">Creating the Database</span></span>

<span data-ttu-id="3cd57-167">Musimy utworzyć bazę danych do przechowywania rekordów bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-167">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="3cd57-168">Na szczęście, program Visual Studio zawiera bezpłatną bazę danych o nazwie SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="3cd57-168">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="3cd57-169">Wykonaj następujące kroki, aby utworzyć bazę danych:</span><span class="sxs-lookup"><span data-stu-id="3cd57-169">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="3cd57-170">Kliknij prawym przyciskiem myszy folder\_danych aplikacji w oknie Eksplorator rozwiązań i wybierz opcję menu **Dodaj, nowy element**.</span><span class="sxs-lookup"><span data-stu-id="3cd57-170">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="3cd57-171">Wybierz kategorię **dane** i wybierz szablon **bazy danych SQL Server** (zobacz rysunek 3).</span><span class="sxs-lookup"><span data-stu-id="3cd57-171">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="3cd57-172">Nazwij nową bazę danych *MoviesDB. mdf* i kliknij przycisk **Dodaj** .</span><span class="sxs-lookup"><span data-stu-id="3cd57-172">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="3cd57-173">Po utworzeniu bazy danych można nawiązać połączenie z bazą danych, klikając dwukrotnie plik MoviesDB. mdf znajdujący się w folderze danych\_aplikacji.</span><span class="sxs-lookup"><span data-stu-id="3cd57-173">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="3cd57-174">Dwukrotne kliknięcie pliku MoviesDB. mdf spowoduje otwarcie okna Eksplorator serwera.</span><span class="sxs-lookup"><span data-stu-id="3cd57-174">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3cd57-175">Okno Eksplorator serwera ma nazwę okna Eksplorator bazy danych w przypadku Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="3cd57-175">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>

<span data-ttu-id="3cd57-176">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-176">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span></span>

<span data-ttu-id="3cd57-177">**Ilustracja 03**: Tworzenie bazy danych Microsoft SQL Server ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-177">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span></span>

<span data-ttu-id="3cd57-178">Następnie musimy utworzyć nową tabelę bazy danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-178">Next, we need to create a new database table.</span></span> <span data-ttu-id="3cd57-179">W oknie Eksploratora serwera kliknij prawym przyciskiem myszy folder tabele i wybierz opcję menu **Dodaj nową tabelę**.</span><span class="sxs-lookup"><span data-stu-id="3cd57-179">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="3cd57-180">Wybranie tej opcji menu spowoduje otwarcie projektanta tabel bazy danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-180">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="3cd57-181">Utwórz następujące kolumny bazy danych:</span><span class="sxs-lookup"><span data-stu-id="3cd57-181">Create the following database columns:</span></span>

<a id="0.1_table01"></a>

| <span data-ttu-id="3cd57-182">**Nazwa kolumny**</span><span class="sxs-lookup"><span data-stu-id="3cd57-182">**Column Name**</span></span> | <span data-ttu-id="3cd57-183">**Typ danych**</span><span class="sxs-lookup"><span data-stu-id="3cd57-183">**Data Type**</span></span> | <span data-ttu-id="3cd57-184">**Zezwalaj na wartości null**</span><span class="sxs-lookup"><span data-stu-id="3cd57-184">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3cd57-185">Identyfikator</span><span class="sxs-lookup"><span data-stu-id="3cd57-185">Id</span></span> | <span data-ttu-id="3cd57-186">int</span><span class="sxs-lookup"><span data-stu-id="3cd57-186">Int</span></span> | <span data-ttu-id="3cd57-187">Fałsz</span><span class="sxs-lookup"><span data-stu-id="3cd57-187">False</span></span> |
| <span data-ttu-id="3cd57-188">Tytuł</span><span class="sxs-lookup"><span data-stu-id="3cd57-188">Title</span></span> | <span data-ttu-id="3cd57-189">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="3cd57-189">Nvarchar(100)</span></span> | <span data-ttu-id="3cd57-190">Fałsz</span><span class="sxs-lookup"><span data-stu-id="3cd57-190">False</span></span> |
| <span data-ttu-id="3cd57-191">Dyrektor ds.</span><span class="sxs-lookup"><span data-stu-id="3cd57-191">Director</span></span> | <span data-ttu-id="3cd57-192">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="3cd57-192">Nvarchar(100)</span></span> | <span data-ttu-id="3cd57-193">Fałsz</span><span class="sxs-lookup"><span data-stu-id="3cd57-193">False</span></span> |
| <span data-ttu-id="3cd57-194">DateReleased</span><span class="sxs-lookup"><span data-stu-id="3cd57-194">DateReleased</span></span> | <span data-ttu-id="3cd57-195">DateTime</span><span class="sxs-lookup"><span data-stu-id="3cd57-195">DateTime</span></span> | <span data-ttu-id="3cd57-196">Fałsz</span><span class="sxs-lookup"><span data-stu-id="3cd57-196">False</span></span> |

<span data-ttu-id="3cd57-197">Pierwsza kolumna, Identyfikator kolumny, ma dwie specjalne właściwości.</span><span class="sxs-lookup"><span data-stu-id="3cd57-197">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="3cd57-198">Najpierw należy oznaczyć kolumnę ID jako kolumnę klucza podstawowego.</span><span class="sxs-lookup"><span data-stu-id="3cd57-198">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="3cd57-199">Po wybraniu kolumny Identyfikator kliknij przycisk **Ustaw klucz podstawowy** (jest to ikona, która wygląda jak klucz).</span><span class="sxs-lookup"><span data-stu-id="3cd57-199">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="3cd57-200">Następnie należy oznaczyć kolumnę ID jako kolumnę tożsamości.</span><span class="sxs-lookup"><span data-stu-id="3cd57-200">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="3cd57-201">W kolumnie okno Właściwości przewiń w dół do sekcji Specyfikacja tożsamości i rozwiń ją.</span><span class="sxs-lookup"><span data-stu-id="3cd57-201">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="3cd57-202">Zmień właściwość **jest tożsamości** na wartość **tak**.</span><span class="sxs-lookup"><span data-stu-id="3cd57-202">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="3cd57-203">Po zakończeniu tabela powinna wyglądać jak rysunek 4.</span><span class="sxs-lookup"><span data-stu-id="3cd57-203">When you are finished, the table should look like Figure 4.</span></span>

<span data-ttu-id="3cd57-204">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-204">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span></span>

<span data-ttu-id="3cd57-205">**Ilustracja 04**: tabela bazy danych filmów ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-205">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span></span>

<span data-ttu-id="3cd57-206">Ostatnim krokiem jest zapisanie nowej tabeli.</span><span class="sxs-lookup"><span data-stu-id="3cd57-206">The final step is to save the new table.</span></span> <span data-ttu-id="3cd57-207">Kliknij przycisk Zapisz (ikona dyskietki) i nadaj nowej tabeli nazwę filmy.</span><span class="sxs-lookup"><span data-stu-id="3cd57-207">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="3cd57-208">Po zakończeniu tworzenia tabeli Dodaj do niej rekordy filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-208">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="3cd57-209">Kliknij prawym przyciskiem myszy tabelę filmy w oknie Eksplorator serwera i wybierz opcję menu **Pokaż dane tabeli**.</span><span class="sxs-lookup"><span data-stu-id="3cd57-209">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="3cd57-210">Wprowadź listę ulubionych filmów (patrz rysunek 5).</span><span class="sxs-lookup"><span data-stu-id="3cd57-210">Enter a list of your favorite movies (see Figure 5).</span></span>

<span data-ttu-id="3cd57-211">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-211">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span></span>

<span data-ttu-id="3cd57-212">**Ilustracja 05**. wprowadzanie rekordów filmów ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-212">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span></span>

## <a name="creating-the-model"></a><span data-ttu-id="3cd57-213">Tworzenie modelu</span><span class="sxs-lookup"><span data-stu-id="3cd57-213">Creating the Model</span></span>

<span data-ttu-id="3cd57-214">Dalej musimy utworzyć zestaw klas, aby reprezentować naszą bazę danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-214">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="3cd57-215">Musimy utworzyć model bazy danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-215">We need to create a database model.</span></span> <span data-ttu-id="3cd57-216">Będziemy korzystać z Entity Framework firmy Microsoft w celu automatycznego wygenerowania klas dla naszego modelu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-216">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3cd57-217">Struktura ASP.NET MVC nie jest powiązana z Entity Frameworkem firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="3cd57-217">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="3cd57-218">Klasy modelu bazy danych można utworzyć, korzystając z różnych narzędzi mapowania relacyjnego obiektów (lub/M), w tym LINQ to SQL, poddźwięku i NHibernate.</span><span class="sxs-lookup"><span data-stu-id="3cd57-218">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>

<span data-ttu-id="3cd57-219">Wykonaj następujące kroki, aby uruchomić Kreatora Entity Data Model:</span><span class="sxs-lookup"><span data-stu-id="3cd57-219">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="3cd57-220">Kliknij prawym przyciskiem myszy folder modele w oknie Eksplorator rozwiązań i wybierz opcję menu **Dodaj, nowy element**.</span><span class="sxs-lookup"><span data-stu-id="3cd57-220">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="3cd57-221">Wybierz kategorię **dane** i wybierz szablon **Entity Data Model ADO.NET** .</span><span class="sxs-lookup"><span data-stu-id="3cd57-221">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="3cd57-222">Nadaj modelowi danych nazwę *MoviesDBModel. edmx* , a następnie kliknij przycisk **Dodaj** .</span><span class="sxs-lookup"><span data-stu-id="3cd57-222">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="3cd57-223">Po kliknięciu przycisku Dodaj zostanie wyświetlony Kreator Entity Data Model (zobacz rysunek 6).</span><span class="sxs-lookup"><span data-stu-id="3cd57-223">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="3cd57-224">Wykonaj następujące kroki, aby zakończyć działanie kreatora:</span><span class="sxs-lookup"><span data-stu-id="3cd57-224">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="3cd57-225">W kroku **Wybierz zawartość modelu** wybierz opcję **Generuj z bazy danych** .</span><span class="sxs-lookup"><span data-stu-id="3cd57-225">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="3cd57-226">W kroku **Wybierz połączenie danych** Użyj połączenia danych *MoviesDB. mdf* oraz nazwy *MoviesDBEntities* dla ustawień połączenia.</span><span class="sxs-lookup"><span data-stu-id="3cd57-226">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="3cd57-227">Kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="3cd57-227">Click the **Next** button.</span></span>
3. <span data-ttu-id="3cd57-228">W kroku **Wybierz obiekty bazy danych** rozwiń węzeł tabele, a następnie wybierz tabelę filmy.</span><span class="sxs-lookup"><span data-stu-id="3cd57-228">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="3cd57-229">Wprowadź przestrzeń nazw *MovieApp. models* i kliknij przycisk **Zakończ** .</span><span class="sxs-lookup"><span data-stu-id="3cd57-229">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>

<span data-ttu-id="3cd57-230">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-230">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span></span>

<span data-ttu-id="3cd57-231">**Ilustracja 06**. Generowanie modelu bazy danych za pomocą Kreatora Entity Data Model ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-231">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span></span>

<span data-ttu-id="3cd57-232">Po ukończeniu pracy Kreatora Entity Data Model zostanie otwarty projektant Entity Data Model.</span><span class="sxs-lookup"><span data-stu-id="3cd57-232">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="3cd57-233">Projektant powinien wyświetlić tabelę bazy danych filmów (patrz rysunek 7).</span><span class="sxs-lookup"><span data-stu-id="3cd57-233">The Designer should display the Movies database table (see Figure 7).</span></span>

<span data-ttu-id="3cd57-234">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-234">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span></span>

<span data-ttu-id="3cd57-235">**Ilustracja 07**: Projektant Entity Data Model ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-235">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span></span>

<span data-ttu-id="3cd57-236">Przed kontynuowaniem musimy wprowadzić jedną zmianę.</span><span class="sxs-lookup"><span data-stu-id="3cd57-236">We need to make one change before we continue.</span></span> <span data-ttu-id="3cd57-237">Kreator danych jednostki generuje klasy modelu o nazwie *filmy* , które reprezentują tabelę bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-237">The Entity Data Wizard generates a model class named *Movies* that represents the Movies database table.</span></span> <span data-ttu-id="3cd57-238">Ponieważ będziemy używać klasy filmów do reprezentowania określonego filmu, musimy zmodyfikować nazwę klasy jako *Movie* zamiast *filmów* (pojedynczo, a nie plural).</span><span class="sxs-lookup"><span data-stu-id="3cd57-238">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="3cd57-239">Kliknij dwukrotnie nazwę klasy na powierzchni projektanta i Zmień nazwę klasy z filmów na film.</span><span class="sxs-lookup"><span data-stu-id="3cd57-239">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="3cd57-240">Po wprowadzeniu tej zmiany kliknij przycisk **Zapisz** (ikona dyskietki) w celu wygenerowania klasy filmu.</span><span class="sxs-lookup"><span data-stu-id="3cd57-240">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="3cd57-241">Tworzenie kontrolera ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="3cd57-241">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="3cd57-242">Następnym krokiem jest utworzenie kontrolera ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-242">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="3cd57-243">Kontroler jest odpowiedzialny za kontrolowanie sposobu, w jaki użytkownik współdziała z aplikacją ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-243">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="3cd57-244">Wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="3cd57-244">Follow these steps:</span></span>

1. <span data-ttu-id="3cd57-245">W oknie Eksplorator rozwiązań kliknij prawym przyciskiem myszy folder controllers, a następnie wybierz opcję menu **Dodaj, kontroler**.</span><span class="sxs-lookup"><span data-stu-id="3cd57-245">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="3cd57-246">W oknie dialogowym Dodawanie kontrolera wprowadź nazwę *HomeController* i zaznacz pole wyboru z etykietą **Dodaj metody akcji dla scenariuszy tworzenia, aktualizacji i szczegółów** (zobacz rysunek 8).</span><span class="sxs-lookup"><span data-stu-id="3cd57-246">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="3cd57-247">Kliknij przycisk **Dodaj** , aby dodać nowy kontroler do projektu.</span><span class="sxs-lookup"><span data-stu-id="3cd57-247">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="3cd57-248">Po wykonaniu tych kroków zostanie utworzony kontroler z listą 1.</span><span class="sxs-lookup"><span data-stu-id="3cd57-248">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="3cd57-249">Należy zauważyć, że zawiera on metody o nazwie index, Details, Create i Edit.</span><span class="sxs-lookup"><span data-stu-id="3cd57-249">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="3cd57-250">W poniższych sekcjach dodamy kod niezbędny do działania tych metod.</span><span class="sxs-lookup"><span data-stu-id="3cd57-250">In the following sections, we'll add the necessary code to get these methods to work.</span></span>

<span data-ttu-id="3cd57-251">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-251">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span></span>

<span data-ttu-id="3cd57-252">**Ilustracja 08**: Dodawanie nowego kontrolera ASP.NET MVC ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-252">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span></span>

<span data-ttu-id="3cd57-253">**Lista 1 – Controllers\HomeController.cs**</span><span class="sxs-lookup"><span data-stu-id="3cd57-253">**Listing 1 – Controllers\HomeController.cs**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample1.cs)]

## <a name="listing-database-records"></a><span data-ttu-id="3cd57-254">Wyświetlanie listy rekordów bazy danych</span><span class="sxs-lookup"><span data-stu-id="3cd57-254">Listing Database Records</span></span>

<span data-ttu-id="3cd57-255">Metoda index () kontrolera macierzystego jest metodą domyślną dla aplikacji ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-255">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="3cd57-256">Po uruchomieniu aplikacji ASP.NET MVC, Metoda index () jest metodą pierwszego kontrolera, która jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="3cd57-256">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="3cd57-257">Użyjemy metody index (), aby wyświetlić listę rekordów z tabeli bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-257">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="3cd57-258">Będziemy korzystać z klas modelu bazy danych utworzonych wcześniej w celu pobrania rekordów bazy danych filmów z użyciem metody index ().</span><span class="sxs-lookup"><span data-stu-id="3cd57-258">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="3cd57-259">Klasa HomeController została zmodyfikowana na liście 2, aby zawierała nowe pole prywatne o nazwie \_DB.</span><span class="sxs-lookup"><span data-stu-id="3cd57-259">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="3cd57-260">Klasa MoviesDBEntities reprezentuje nasz model bazy danych i użyjemy tej klasy do komunikowania się z naszą bazą danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-260">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="3cd57-261">Zmodyfikowano również metodę index () na liście 2.</span><span class="sxs-lookup"><span data-stu-id="3cd57-261">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="3cd57-262">Metoda index () używa klasy MoviesDBEntities w celu pobrania wszystkich rekordów filmów z tabeli bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-262">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="3cd57-263">Wyrażenie *\_DB. MovieSet. ToList — ()* zwraca listę wszystkich rekordów filmów z tabeli bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-263">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="3cd57-264">Lista filmów jest przenoszona do widoku.</span><span class="sxs-lookup"><span data-stu-id="3cd57-264">The list of movies is passed to the view.</span></span> <span data-ttu-id="3cd57-265">Wszystkie elementy, które są przesyłane do metody View (), są przesyłane do widoku jako dane widoku.</span><span class="sxs-lookup"><span data-stu-id="3cd57-265">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="3cd57-266">**Lista 2 — controllers/HomeController. cs (Metoda modyfikacji indeksu)**</span><span class="sxs-lookup"><span data-stu-id="3cd57-266">**Listing 2 – Controllers/HomeController.cs (modified Index method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample2.cs)]

<span data-ttu-id="3cd57-267">Metoda index () zwraca widok o nazwie index.</span><span class="sxs-lookup"><span data-stu-id="3cd57-267">The Index() method returns a view named Index.</span></span> <span data-ttu-id="3cd57-268">Musimy utworzyć ten widok, aby wyświetlić listę rekordów bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-268">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="3cd57-269">Wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="3cd57-269">Follow these steps:</span></span>

<span data-ttu-id="3cd57-270">Należy skompilować projekt (wybierz opcję menu **kompilacja, rozwiązanie kompilacji**) przed otwarciem okna dialogowego **Dodawanie widoku** lub żadne klasy nie pojawią się na liście rozwijanej **Klasa wyświetlania danych** .</span><span class="sxs-lookup"><span data-stu-id="3cd57-270">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>

1. <span data-ttu-id="3cd57-271">Kliknij prawym przyciskiem myszy metodę index () w edytorze kodu i wybierz opcję menu **Dodaj widok** (patrz rysunek 9).</span><span class="sxs-lookup"><span data-stu-id="3cd57-271">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="3cd57-272">W oknie dialogowym Dodawanie widoku Sprawdź, czy pole wyboru z etykietą **Utwórz widok o jednoznacznie określonym typie** jest zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="3cd57-272">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="3cd57-273">Z listy rozwijanej **Wyświetl zawartość** wybierz *listę*wartość.</span><span class="sxs-lookup"><span data-stu-id="3cd57-273">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="3cd57-274">Z listy rozwijanej **Wyświetl klasę danych** wybierz wartość *MovieApp. models. Movie*.</span><span class="sxs-lookup"><span data-stu-id="3cd57-274">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="3cd57-275">Kliknij przycisk Dodaj, aby utworzyć nowy widok (patrz rysunek 10).</span><span class="sxs-lookup"><span data-stu-id="3cd57-275">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="3cd57-276">Po wykonaniu tych kroków nowy widok o nazwie index. aspx zostanie dodany do folderu Views\Home.</span><span class="sxs-lookup"><span data-stu-id="3cd57-276">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="3cd57-277">Zawartość widoku indeksu znajduje się na liście 3.</span><span class="sxs-lookup"><span data-stu-id="3cd57-277">The contents of the Index view are included in Listing 3.</span></span>

<span data-ttu-id="3cd57-278">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-278">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span></span>

<span data-ttu-id="3cd57-279">**Ilustracja 09**. Dodawanie widoku z akcji kontrolera ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-279">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span></span>

<span data-ttu-id="3cd57-280">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-280">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span></span>

<span data-ttu-id="3cd57-281">**Ilustracja 10**. Tworzenie nowego widoku przy użyciu okna dialogowego Dodawanie widoku ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-281">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span></span>

<span data-ttu-id="3cd57-282">**Lista 3 — Views\Home\Index.aspx**</span><span class="sxs-lookup"><span data-stu-id="3cd57-282">**Listing 3 – Views\Home\Index.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample3.aspx)]

<span data-ttu-id="3cd57-283">W widoku indeksu są wyświetlane wszystkie rekordy filmów z tabeli bazy danych filmów w tabeli HTML.</span><span class="sxs-lookup"><span data-stu-id="3cd57-283">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="3cd57-284">Widok zawiera pętlę Foreach, która iteruje przez poszczególne filmy reprezentowane przez właściwość ViewData. model.</span><span class="sxs-lookup"><span data-stu-id="3cd57-284">The view contains a foreach loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="3cd57-285">Jeśli aplikacja zostanie uruchomiona przez naciśnięcie klawisza F5, zobaczysz stronę sieci Web na rysunku 11.</span><span class="sxs-lookup"><span data-stu-id="3cd57-285">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>

<span data-ttu-id="3cd57-286">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-286">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span></span>

<span data-ttu-id="3cd57-287">**Ilustracja 11**. widok indeksu ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-287">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span></span>

## <a name="creating-new-database-records"></a><span data-ttu-id="3cd57-288">Tworzenie nowych rekordów bazy danych</span><span class="sxs-lookup"><span data-stu-id="3cd57-288">Creating New Database Records</span></span>

<span data-ttu-id="3cd57-289">Widok indeksu utworzony w poprzedniej sekcji zawiera link do tworzenia nowych rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-289">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="3cd57-290">Przejdźmy i zaimplementujmy logikę i utworzysz widok niezbędny do utworzenia nowych rekordów bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-290">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="3cd57-291">Kontroler Home zawiera dwie metody o nazwie Create ().</span><span class="sxs-lookup"><span data-stu-id="3cd57-291">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="3cd57-292">Pierwsza metoda Create () nie ma parametrów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-292">The first Create() method has no parameters.</span></span> <span data-ttu-id="3cd57-293">To Przeciążenie metody Create () służy do wyświetlania formularza HTML służącego do tworzenia nowego rekordu bazy danych filmu.</span><span class="sxs-lookup"><span data-stu-id="3cd57-293">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="3cd57-294">Druga metoda Create () ma parametr FormCollection.</span><span class="sxs-lookup"><span data-stu-id="3cd57-294">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="3cd57-295">To Przeciążenie metody Create () jest wywoływana, gdy formularz HTML służący do tworzenia nowego filmu zostanie opublikowany na serwerze.</span><span class="sxs-lookup"><span data-stu-id="3cd57-295">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="3cd57-296">Należy zauważyć, że ta druga metoda Create () ma atrybut AcceptVerbs, który uniemożliwia wywoływanie metody, chyba że zostanie wykonana operacja POST protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="3cd57-296">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP POST operation is performed.</span></span>

<span data-ttu-id="3cd57-297">Ta druga metoda Create () została zmodyfikowana w zaktualizowanej klasie HomeController na liście 4.</span><span class="sxs-lookup"><span data-stu-id="3cd57-297">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="3cd57-298">Nowa wersja metody Create () akceptuje parametr filmu i zawiera logikę wstawiania nowego filmu do tabeli bazy danych filmów.</span><span class="sxs-lookup"><span data-stu-id="3cd57-298">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3cd57-299">Zwróć uwagę na atrybut bind.</span><span class="sxs-lookup"><span data-stu-id="3cd57-299">Notice the Bind attribute.</span></span> <span data-ttu-id="3cd57-300">Ponieważ nie chcemy zaktualizować właściwości identyfikatora filmu z formularza HTML, musimy jawnie wykluczyć tę właściwość.</span><span class="sxs-lookup"><span data-stu-id="3cd57-300">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>

<span data-ttu-id="3cd57-301">**Lista 4 – Controllers\HomeController.cs (Zmodyfikowana metoda tworzenia)**</span><span class="sxs-lookup"><span data-stu-id="3cd57-301">**Listing 4 – Controllers\HomeController.cs (modified Create method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample4.cs)]

<span data-ttu-id="3cd57-302">Program Visual Studio ułatwia tworzenie formularza do tworzenia nowego rekordu bazy danych filmów (patrz rysunek 12).</span><span class="sxs-lookup"><span data-stu-id="3cd57-302">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="3cd57-303">Wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="3cd57-303">Follow these steps:</span></span>

1. <span data-ttu-id="3cd57-304">Kliknij prawym przyciskiem myszy metodę Create () w edytorze kodu i wybierz opcję menu **Dodaj widok**.</span><span class="sxs-lookup"><span data-stu-id="3cd57-304">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="3cd57-305">Sprawdź, czy pole wyboru z etykietą **Utwórz widok o jednoznacznie określonym typie** jest zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="3cd57-305">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="3cd57-306">Z listy rozwijanej **Wyświetl zawartość** wybierz pozycję *Utwórz*wartość.</span><span class="sxs-lookup"><span data-stu-id="3cd57-306">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="3cd57-307">Z listy rozwijanej **Wyświetl klasę danych** wybierz wartość *MovieApp. models. Movie*.</span><span class="sxs-lookup"><span data-stu-id="3cd57-307">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="3cd57-308">Kliknij przycisk **Dodaj** , aby utworzyć nowy widok.</span><span class="sxs-lookup"><span data-stu-id="3cd57-308">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="3cd57-309">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-309">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span></span>

<span data-ttu-id="3cd57-310">**Ilustracja 12**. Dodawanie widoku ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-310">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span></span>

<span data-ttu-id="3cd57-311">Program Visual Studio automatycznie generuje widok na liście 5.</span><span class="sxs-lookup"><span data-stu-id="3cd57-311">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="3cd57-312">Ten widok zawiera formularz HTML, który zawiera pola, które odpowiadają każdej właściwości klasy filmu.</span><span class="sxs-lookup"><span data-stu-id="3cd57-312">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="3cd57-313">**Lista 5 – Views\Home\Create.aspx**</span><span class="sxs-lookup"><span data-stu-id="3cd57-313">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="3cd57-314">Formularz HTML wygenerowany przez okno dialogowe Dodaj widok generuje pole identyfikatora formularza.</span><span class="sxs-lookup"><span data-stu-id="3cd57-314">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="3cd57-315">Ponieważ kolumna ID jest kolumną tożsamości, nie jest potrzebne to pole formularza i można ją bezpiecznie usunąć.</span><span class="sxs-lookup"><span data-stu-id="3cd57-315">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>

<span data-ttu-id="3cd57-316">Po dodaniu widoku tworzenia można dodać do bazy danych nowe rekordy filmu.</span><span class="sxs-lookup"><span data-stu-id="3cd57-316">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="3cd57-317">Uruchom aplikację, naciskając klawisz F5, a następnie kliknij link Utwórz nowe, aby zobaczyć formularz na rysunku 13.</span><span class="sxs-lookup"><span data-stu-id="3cd57-317">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="3cd57-318">Po zakończeniu i przesłaniu formularza zostanie utworzony nowy rekord bazy danych filmu.</span><span class="sxs-lookup"><span data-stu-id="3cd57-318">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="3cd57-319">Zwróć uwagę, że automatycznie otrzymujesz walidację formularza.</span><span class="sxs-lookup"><span data-stu-id="3cd57-319">Notice that you get form validation automatically.</span></span> <span data-ttu-id="3cd57-320">Jeśli nie wprowadzisz daty wydania filmu lub wprowadzisz nieprawidłową datę wydania, formularz zostanie ponownie wyświetlony i pole Data wydania zostanie wyróżnione.</span><span class="sxs-lookup"><span data-stu-id="3cd57-320">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>

<span data-ttu-id="3cd57-321">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-321">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span></span>

<span data-ttu-id="3cd57-322">**Ilustracja 13**. Tworzenie nowego rekordu bazy danych filmów ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-322">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span></span>

## <a name="editing-existing-database-records"></a><span data-ttu-id="3cd57-323">Edytowanie istniejących rekordów bazy danych</span><span class="sxs-lookup"><span data-stu-id="3cd57-323">Editing Existing Database Records</span></span>

<span data-ttu-id="3cd57-324">W poprzednich sekcjach omówiono, jak można wyświetlić i utworzyć nowe rekordy bazy danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-324">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="3cd57-325">W tej ostatniej sekcji omówiono sposób edytowania istniejących rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-325">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="3cd57-326">Najpierw musimy wygenerować formularz edycji.</span><span class="sxs-lookup"><span data-stu-id="3cd57-326">First, we need to generate the Edit form.</span></span> <span data-ttu-id="3cd57-327">Ten krok jest prosty, ponieważ program Visual Studio automatycznie generuje formularz edycji dla nas.</span><span class="sxs-lookup"><span data-stu-id="3cd57-327">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="3cd57-328">Otwórz klasę HomeController.cs w edytorze kodu programu Visual Studio i wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="3cd57-328">Open the HomeController.cs class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="3cd57-329">Kliknij prawym przyciskiem myszy metodę Edit () w edytorze kodu i wybierz opcję menu **Dodaj widok** (zobacz rysunek 14).</span><span class="sxs-lookup"><span data-stu-id="3cd57-329">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="3cd57-330">Zaznacz pole wyboru z etykietą **Utwórz widok o jednoznacznie określonym typie**.</span><span class="sxs-lookup"><span data-stu-id="3cd57-330">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="3cd57-331">Z listy rozwijanej **Wyświetl zawartość** wybierz pozycję *Edytowanie*wartości.</span><span class="sxs-lookup"><span data-stu-id="3cd57-331">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="3cd57-332">Z listy rozwijanej **Wyświetl klasę danych** wybierz wartość *MovieApp. models. Movie*.</span><span class="sxs-lookup"><span data-stu-id="3cd57-332">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="3cd57-333">Kliknij przycisk **Dodaj** , aby utworzyć nowy widok.</span><span class="sxs-lookup"><span data-stu-id="3cd57-333">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="3cd57-334">Wykonanie tych kroków powoduje dodanie nowego widoku o nazwie Edit. aspx do folderu Views\Home.</span><span class="sxs-lookup"><span data-stu-id="3cd57-334">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="3cd57-335">Ten widok zawiera formularz HTML służący do edytowania rekordu filmu.</span><span class="sxs-lookup"><span data-stu-id="3cd57-335">This view contains an HTML form for editing a movie record.</span></span>

<span data-ttu-id="3cd57-336">[![okno dialogowe Nowy projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="3cd57-336">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span></span>

<span data-ttu-id="3cd57-337">**Ilustracja 14**. Dodawanie widoku edycji ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="3cd57-337">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3cd57-338">Widok edycji zawiera pole formularza HTML, które odpowiada właściwości identyfikatora filmu.</span><span class="sxs-lookup"><span data-stu-id="3cd57-338">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="3cd57-339">Ponieważ nie chcesz, aby użytkownicy edytujący wartość właściwości ID, należy usunąć to pole formularza.</span><span class="sxs-lookup"><span data-stu-id="3cd57-339">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>

<span data-ttu-id="3cd57-340">Na koniec należy zmodyfikować kontroler Home, aby obsługiwał edytowanie rekordu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-340">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="3cd57-341">Zaktualizowana Klasa HomeController znajduje się na liście 6.</span><span class="sxs-lookup"><span data-stu-id="3cd57-341">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="3cd57-342">**Lista 6 – Controllers\HomeController.cs (edycja metod)**</span><span class="sxs-lookup"><span data-stu-id="3cd57-342">**Listing 6 – Controllers\HomeController.cs (Edit methods)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample6.cs)]

<span data-ttu-id="3cd57-343">W liście 6 dodano dodatkową logikę do obu przeciążeń metody Edit ().</span><span class="sxs-lookup"><span data-stu-id="3cd57-343">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="3cd57-344">Pierwsza metoda Edit () zwraca rekord bazy danych filmu, który odnosi się do parametru identyfikatora przesłanego do metody.</span><span class="sxs-lookup"><span data-stu-id="3cd57-344">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="3cd57-345">Drugie Przeciążenie wykonuje aktualizacje rekordu filmu w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-345">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="3cd57-346">Zwróć uwagę, że musisz pobrać oryginalny film, a następnie wywołać ApplyPropertyChanges (), aby zaktualizować istniejący film w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="3cd57-346">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="3cd57-347">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="3cd57-347">Summary</span></span>

<span data-ttu-id="3cd57-348">Celem tego samouczka było zrozumienie środowiska tworzenia aplikacji ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3cd57-348">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="3cd57-349">Mam nadzieję, że wykryto, że tworzenie aplikacji sieci Web ASP.NET MVC jest bardzo podobne do środowiska tworzenia Active Server stron lub aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3cd57-349">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="3cd57-350">W tym samouczku zbadamy tylko najbardziej podstawowe funkcje platformy MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3cd57-350">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="3cd57-351">W przyszłych samouczkach szczegółowe się do tematów, takich jak kontrolery, akcje kontrolera, widoki, wyświetlanie danych i pomocników HTML.</span><span class="sxs-lookup"><span data-stu-id="3cd57-351">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="3cd57-352">Dalej</span><span class="sxs-lookup"><span data-stu-id="3cd57-352">Next</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb.md)
