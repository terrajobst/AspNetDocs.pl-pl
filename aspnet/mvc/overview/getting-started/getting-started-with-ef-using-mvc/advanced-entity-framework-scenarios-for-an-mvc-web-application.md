---
uid: mvc/overview/getting-started/getting-started-with-ef-using-mvc/advanced-entity-framework-scenarios-for-an-mvc-web-application
title: 'Samouczek: Dowiedz się więcej o zaawansowanych scenariuszy EF dla aplikacji sieci Web MVC 5'
description: Ten samouczek obejmuje wprowadza kilka tematów, które są przydatne pod uwagę podczas czegoś podstawy tworzenia aplikacji sieci web ASP.NET, które używają programu Entity Framework Code First.
author: tdykstra
ms.author: riande
ms.date: 01/22/2019
ms.topic: tutorial
ms.assetid: f35a9b0c-49ef-4cde-b06d-19d1543feb0b
msc.legacyurl: /mvc/overview/getting-started/getting-started-with-ef-using-mvc/advanced-entity-framework-scenarios-for-an-mvc-web-application
msc.type: authoredcontent
ms.openlocfilehash: d7cc83a5b78a60f575f5c3065079679189296a0c
ms.sourcegitcommit: 289e051cc8a90e8f7127e239fda73047bde4de12
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/25/2019
ms.locfileid: "58425278"
---
# <a name="tutorial-learn-about-advanced-ef-scenarios-for-an-mvc-5-web-app"></a><span data-ttu-id="965e4-103">Samouczek: Dowiedz się więcej o zaawansowanych scenariuszy EF dla aplikacji sieci Web MVC 5</span><span class="sxs-lookup"><span data-stu-id="965e4-103">Tutorial: Learn about advanced EF Scenarios for an MVC 5 Web app</span></span>

<span data-ttu-id="965e4-104">W poprzednim samouczku wdrożono Tabela wg hierarchii dziedziczenia.</span><span class="sxs-lookup"><span data-stu-id="965e4-104">In the previous tutorial you implemented table-per-hierarchy inheritance.</span></span> <span data-ttu-id="965e4-105">Ten samouczek obejmuje wprowadza kilka tematów, które są przydatne pod uwagę podczas czegoś podstawy tworzenia aplikacji sieci web ASP.NET, które używają programu Entity Framework Code First.</span><span class="sxs-lookup"><span data-stu-id="965e4-105">This tutorial includes introduces several topics that are useful to be aware of when you go beyond the basics of developing ASP.NET web applications that use Entity Framework Code First.</span></span> <span data-ttu-id="965e4-106">Pierwsze sekcje kilka mają instrukcje krok po kroku, które zawierają wzięte kod i za pomocą programu Visual Studio w celu wykonania zadań w kolejnych sekcjach wprowadzić kilka tematów z krótkie instrukcje i linki do zasobów, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="965e4-106">The first few sections have step-by-step instructions that walk you through the code and using Visual Studio to complete tasks The sections that follow introduce several topics with brief introductions followed by links to resources for more information.</span></span>

<span data-ttu-id="965e4-107">Dla większości z tych tematów którą będziesz pracować stron, które zostały już utworzone.</span><span class="sxs-lookup"><span data-stu-id="965e4-107">For most of these topics, you'll work with pages that you already created.</span></span> <span data-ttu-id="965e4-108">Aby zbiorczej aktualizacji przy użyciu surowego SQL należy utworzyć nowej strony, która aktualizuje środków wszystkie kursy w bazie danych:</span><span class="sxs-lookup"><span data-stu-id="965e4-108">To use raw SQL to do bulk updates you'll create a new page that updates the number of credits of all courses in the database:</span></span>

![Update_Course_Credits_initial_page](advanced-entity-framework-scenarios-for-an-mvc-web-application/_static/image1.png)

<span data-ttu-id="965e4-110">W ramach tego samouczka możesz:</span><span class="sxs-lookup"><span data-stu-id="965e4-110">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="965e4-111">Wykonaj pierwotne zapytania SQL</span><span class="sxs-lookup"><span data-stu-id="965e4-111">Perform raw SQL queries</span></span>
> * <span data-ttu-id="965e4-112">Wykonywanie zapytań nie śledzenia</span><span class="sxs-lookup"><span data-stu-id="965e4-112">Perform no-tracking queries</span></span>
> * <span data-ttu-id="965e4-113">SQL sprawdzić zapytania wysyłane do bazy danych</span><span class="sxs-lookup"><span data-stu-id="965e4-113">Examine SQL queries sent to database</span></span>

<span data-ttu-id="965e4-114">Poznasz również:</span><span class="sxs-lookup"><span data-stu-id="965e4-114">You also learn about:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="965e4-115">Tworzenie warstwy abstrakcji</span><span class="sxs-lookup"><span data-stu-id="965e4-115">Creating an abstraction layer</span></span>
> * <span data-ttu-id="965e4-116">Klasy serwera proxy</span><span class="sxs-lookup"><span data-stu-id="965e4-116">Proxy classes</span></span>
> * <span data-ttu-id="965e4-117">Automatyczna zmiana wykrywania</span><span class="sxs-lookup"><span data-stu-id="965e4-117">Automatic change detection</span></span>
> * <span data-ttu-id="965e4-118">Automatyczna Walidacja</span><span class="sxs-lookup"><span data-stu-id="965e4-118">Automatic validation</span></span>
> * <span data-ttu-id="965e4-119">Entity Framework Power Tools</span><span class="sxs-lookup"><span data-stu-id="965e4-119">Entity Framework Power Tools</span></span>
> * <span data-ttu-id="965e4-120">Kodu źródłowego programu Entity Framework</span><span class="sxs-lookup"><span data-stu-id="965e4-120">Entity Framework source code</span></span>

## <a name="prerequisite"></a><span data-ttu-id="965e4-121">Wymaganie wstępne</span><span class="sxs-lookup"><span data-stu-id="965e4-121">Prerequisite</span></span>

* [<span data-ttu-id="965e4-122">Implementowanie dziedziczenia</span><span class="sxs-lookup"><span data-stu-id="965e4-122">Implementing Inheritance</span></span>](implementing-inheritance-with-the-entity-framework-in-an-asp-net-mvc-application.md)

## <a name="perform-raw-sql-queries"></a><span data-ttu-id="965e4-123">Wykonaj pierwotne zapytania SQL</span><span class="sxs-lookup"><span data-stu-id="965e4-123">Perform raw SQL queries</span></span>

<span data-ttu-id="965e4-124">Interfejs API z pierwszego kodu Entity Framework zawiera metody, które umożliwiają przekazywanie poleceń SQL bezpośrednio w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="965e4-124">The Entity Framework Code First API includes methods that enable you to pass SQL commands directly to the database.</span></span> <span data-ttu-id="965e4-125">Do wyboru są następujące opcje:</span><span class="sxs-lookup"><span data-stu-id="965e4-125">You have the following options:</span></span>

- <span data-ttu-id="965e4-126">Użyj [DbSet.SqlQuery](https://msdn.microsoft.com/library/system.data.entity.dbset.sqlquery.aspx) metodę dla zapytań zwracających typów jednostek.</span><span class="sxs-lookup"><span data-stu-id="965e4-126">Use the [DbSet.SqlQuery](https://msdn.microsoft.com/library/system.data.entity.dbset.sqlquery.aspx) method for queries that return entity types.</span></span> <span data-ttu-id="965e4-127">Zwracanych obiektów musi być typ oczekiwany przez `DbSet` obiektu, dlatego są automatycznie śledzone przez kontekst bazy danych, chyba że wyłączyć śledzenie.</span><span class="sxs-lookup"><span data-stu-id="965e4-127">The returned objects must be of the type expected by the `DbSet` object, and they are automatically tracked by the database context unless you turn tracking off.</span></span> <span data-ttu-id="965e4-128">(Zobacz poniższą sekcję [AsNoTracking](https://msdn.microsoft.com/library/system.data.entity.dbextensions.asnotracking.aspx) metody.)</span><span class="sxs-lookup"><span data-stu-id="965e4-128">(See the following section about the [AsNoTracking](https://msdn.microsoft.com/library/system.data.entity.dbextensions.asnotracking.aspx) method.)</span></span>
- <span data-ttu-id="965e4-129">Użyj [Database.SqlQuery](https://msdn.microsoft.com/library/system.data.entity.database.sqlquery.aspx) metodę dla zapytań zwracających typy, które nie są jednostkami.</span><span class="sxs-lookup"><span data-stu-id="965e4-129">Use the [Database.SqlQuery](https://msdn.microsoft.com/library/system.data.entity.database.sqlquery.aspx) method for queries that return types that aren't entities.</span></span> <span data-ttu-id="965e4-130">Zwrócone dane nie są śledzone przez kontekst bazy danych, nawet w przypadku używania tej metody można pobrać typów jednostek.</span><span class="sxs-lookup"><span data-stu-id="965e4-130">The returned data isn't tracked by the database context, even if you use this method to retrieve entity types.</span></span>
- <span data-ttu-id="965e4-131">Użyj [Database.ExecuteSqlCommand](https://msdn.microsoft.com/library/gg679456.aspx) poleceń niebędącą zapytaniem.</span><span class="sxs-lookup"><span data-stu-id="965e4-131">Use the [Database.ExecuteSqlCommand](https://msdn.microsoft.com/library/gg679456.aspx) for non-query commands.</span></span>

<span data-ttu-id="965e4-132">Jedną z zalet używający narzędzia Entity Framework jest, że takie rozwiązanie pomaga uniknąć wiązanie kodu zbyt ściśle do określonej metody przechowywania danych.</span><span class="sxs-lookup"><span data-stu-id="965e4-132">One of the advantages of using the Entity Framework is that it avoids tying your code too closely to a particular method of storing data.</span></span> <span data-ttu-id="965e4-133">Dzieje się tak, generując zapytań SQL i poleceń, która uwalnia użytkownika od konieczności pisania samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="965e4-133">It does this by generating SQL queries and commands for you, which also frees you from having to write them yourself.</span></span> <span data-ttu-id="965e4-134">Ale istnieją scenariusze, wyjątkowe, gdy trzeba uruchomić określonego zapytania SQL, które zostały utworzone ręcznie, a te metody umożliwiają służących do obsługi wyjątków.</span><span class="sxs-lookup"><span data-stu-id="965e4-134">But there are exceptional scenarios when you need to run specific SQL queries that you have manually created, and these methods make it possible for you to handle such exceptions.</span></span>

<span data-ttu-id="965e4-135">Jak jest zawsze wartość true, gdy wykonywanie poleceń SQL w aplikacji sieci web, należy podjąć środki ostrożności, aby chronić witrynę przed atakami polegającymi na iniekcji SQL.</span><span class="sxs-lookup"><span data-stu-id="965e4-135">As is always true when you execute SQL commands in a web application, you must take precautions to protect your site against SQL injection attacks.</span></span> <span data-ttu-id="965e4-136">Jednym sposobem wykonania tego zadania jest użyć sparametryzowanych zapytań, aby upewnić się, że ciągi przesłane przez stronę sieci web nie może być interpretowany jako polecenia SQL.</span><span class="sxs-lookup"><span data-stu-id="965e4-136">One way to do that is to use parameterized queries to make sure that strings submitted by a web page can't be interpreted as SQL commands.</span></span> <span data-ttu-id="965e4-137">W tym samouczku użyjesz zapytaniach parametrycznych podczas integrowania danych wejściowych użytkownika na kwerendę.</span><span class="sxs-lookup"><span data-stu-id="965e4-137">In this tutorial you'll use parameterized queries when integrating user input into a query.</span></span>

### <a name="calling-a-query-that-returns-entities"></a><span data-ttu-id="965e4-138">Wywoływanie kwerendę, która zwraca jednostki</span><span class="sxs-lookup"><span data-stu-id="965e4-138">Calling a Query that Returns Entities</span></span>

<span data-ttu-id="965e4-139">[DbSet&lt;TEntity&gt; ](https://msdn.microsoft.com/library/gg696460.aspx) klasa dostarcza metody, która służy do wykonywania zapytania, które zwraca jednostki typu `TEntity`.</span><span class="sxs-lookup"><span data-stu-id="965e4-139">The [DbSet&lt;TEntity&gt;](https://msdn.microsoft.com/library/gg696460.aspx) class provides a method that you can use to execute a query that returns an entity of type `TEntity`.</span></span> <span data-ttu-id="965e4-140">Aby zobaczyć, jak to działa możesz poznasz, jak zmienić kod w `Details` metody `Department` kontrolera.</span><span class="sxs-lookup"><span data-stu-id="965e4-140">To see how this works you'll change the code in the `Details` method of the `Department` controller.</span></span>

<span data-ttu-id="965e4-141">W *DepartmentController.cs*w `Details` metody, Zastąp `db.Departments.FindAsync` wywołanie metody z `db.Departments.SqlQuery` wywołania metody, jak pokazano na następujący wyróżniony kod:</span><span class="sxs-lookup"><span data-stu-id="965e4-141">In *DepartmentController.cs*, in the `Details` method, replace the `db.Departments.FindAsync` method call with a `db.Departments.SqlQuery` method call, as shown in the following highlighted code:</span></span>

[!code-csharp[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample1.cs?highlight=8-14)]

<span data-ttu-id="965e4-142">Aby sprawdzić, czy nowy kod działa poprawnie, należy wybrać **działów** kartę i następnie **szczegóły** dla jednego z działów.</span><span class="sxs-lookup"><span data-stu-id="965e4-142">To verify that the new code works correctly, select the **Departments** tab and then **Details** for one of the departments.</span></span> <span data-ttu-id="965e4-143">Upewnij się, że wszystkie dane wyświetlane w oczekiwany sposób.</span><span class="sxs-lookup"><span data-stu-id="965e4-143">Make sure all of the data displays as expected.</span></span>

### <a name="calling-a-query-that-returns-other-types-of-objects"></a><span data-ttu-id="965e4-144">Wywoływanie kwerendę, która zwraca inne typy obiektów</span><span class="sxs-lookup"><span data-stu-id="965e4-144">Calling a Query that Returns Other Types of Objects</span></span>

<span data-ttu-id="965e4-145">Wcześniej utworzono uczniów siatki statystyki dla strony informacje, które wykazało, że liczba studentów każdej daty rejestracji.</span><span class="sxs-lookup"><span data-stu-id="965e4-145">Earlier you created a student statistics grid for the About page that showed the number of students for each enrollment date.</span></span> <span data-ttu-id="965e4-146">Kod, który wykonuje to w *HomeController.cs* używa LINQ:</span><span class="sxs-lookup"><span data-stu-id="965e4-146">The code that does this in *HomeController.cs* uses LINQ:</span></span>

[!code-csharp[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample2.cs)]

<span data-ttu-id="965e4-147">Załóżmy, że chcesz napisać kod, który pobiera te dane bezpośrednio w SQL, a nie za pomocą LINQ.</span><span class="sxs-lookup"><span data-stu-id="965e4-147">Suppose you want to write the code that retrieves this data directly in SQL rather than using LINQ.</span></span> <span data-ttu-id="965e4-148">Aby zrobić, należy uruchomić zapytanie zwracające coś innego niż obiekty jednostki, co oznacza, że należy użyć [Database.SqlQuery](https://msdn.microsoft.com/library/system.data.entity.database.sqlquery(v=VS.103).aspx) metody.</span><span class="sxs-lookup"><span data-stu-id="965e4-148">To do that you need to run a query that returns something other than entity objects, which means you need to use the [Database.SqlQuery](https://msdn.microsoft.com/library/system.data.entity.database.sqlquery(v=VS.103).aspx) method.</span></span>

<span data-ttu-id="965e4-149">W *HomeController.cs*, zastąp instrukcję LINQ w `About` metody za pomocą instrukcji SQL, jak pokazano na następujący wyróżniony kod:</span><span class="sxs-lookup"><span data-stu-id="965e4-149">In *HomeController.cs*, replace the LINQ statement in the `About` method with a SQL statement, as shown in the following highlighted code:</span></span>

[!code-csharp[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample3.cs?highlight=3-18)]

<span data-ttu-id="965e4-150">Uruchom na stronie informacje.</span><span class="sxs-lookup"><span data-stu-id="965e4-150">Run the About page.</span></span> <span data-ttu-id="965e4-151">Sprawdź, czy wyświetla te same dane, które wcześniej.</span><span class="sxs-lookup"><span data-stu-id="965e4-151">Verify that it displays the same data it did before.</span></span>

### <a name="calling-an-update-query"></a><span data-ttu-id="965e4-152">Wywoływanie zapytanie aktualizujące</span><span class="sxs-lookup"><span data-stu-id="965e4-152">Calling an Update Query</span></span>

<span data-ttu-id="965e4-153">Załóżmy, że administratorzy Contoso University chcesz móc wykonywać zbiorcze zmiany w bazie danych, takich jak zmienianie liczby środki na korzystanie z każdego kursu.</span><span class="sxs-lookup"><span data-stu-id="965e4-153">Suppose Contoso University administrators want to be able to perform bulk changes in the database, such as changing the number of credits for every course.</span></span> <span data-ttu-id="965e4-154">Jeśli uniwersytecie ma dużą liczbę kursów, będzie nieefektywne pobierać je wszystkie jako jednostki, a następnie zmianę ich osobno.</span><span class="sxs-lookup"><span data-stu-id="965e4-154">If the university has a large number of courses, it would be inefficient to retrieve them all as entities and change them individually.</span></span> <span data-ttu-id="965e4-155">W tej sekcji możesz wdrożyć strony sieci web, która umożliwia użytkownikowi określenie współczynnik za pomocą którego można zmienić ilość środków, aby uzyskać wszystkie kursy i wprowadzisz zmiany, wykonując SQL `UPDATE` instrukcji.</span><span class="sxs-lookup"><span data-stu-id="965e4-155">In this section you'll implement a web page that enables the user to specify a factor by which to change the number of credits for all courses, and you'll make the change by executing a SQL `UPDATE` statement.</span></span> 

<span data-ttu-id="965e4-156">W *CourseController.cs*, Dodaj `UpdateCourseCredits` metody `HttpGet` i `HttpPost`:</span><span class="sxs-lookup"><span data-stu-id="965e4-156">In *CourseController.cs*, add `UpdateCourseCredits` methods for `HttpGet` and `HttpPost`:</span></span>

[!code-csharp[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample4.cs)]

<span data-ttu-id="965e4-157">Gdy kontroler przetworzy `HttpGet` żądania, nic nie zostanie zwrócone w `ViewBag.RowsAffected` zmiennej, a następnie Wyświetl wyświetla puste pole tekstowe i przycisk Prześlij.</span><span class="sxs-lookup"><span data-stu-id="965e4-157">When the controller processes an `HttpGet` request, nothing is returned in the `ViewBag.RowsAffected` variable, and the view displays an empty text box and a submit button.</span></span>

<span data-ttu-id="965e4-158">Gdy **aktualizacji** kliknięto przycisk `HttpPost` metoda jest wywoływana, i `multiplier` został wprowadzony w polu tekstowym.</span><span class="sxs-lookup"><span data-stu-id="965e4-158">When the **Update** button is clicked, the `HttpPost` method is called, and `multiplier` has the value entered in the text box.</span></span> <span data-ttu-id="965e4-159">Kod wykonuje następnie SQL Server, który aktualizuje kursów i zwraca liczbę wierszy dotyczy do widoku `ViewBag.RowsAffected` zmiennej.</span><span class="sxs-lookup"><span data-stu-id="965e4-159">The code then executes the SQL that updates courses and returns the number of affected rows to the view in the `ViewBag.RowsAffected` variable.</span></span> <span data-ttu-id="965e4-160">Jeśli widok pobiera wartość w zmiennej, wyświetla liczbę zaktualizowanych rekordów zamiast pole tekstowe i przycisk Prześlij.</span><span class="sxs-lookup"><span data-stu-id="965e4-160">When the view gets a value in that variable, it displays the number of rows updated instead of the text box and submit button.</span></span>

<span data-ttu-id="965e4-161">W *CourseController.cs*, kliknij prawym przyciskiem myszy jeden z `UpdateCourseCredits` metody, a następnie kliknij **Dodaj widok**.</span><span class="sxs-lookup"><span data-stu-id="965e4-161">In *CourseController.cs*, right-click one of the `UpdateCourseCredits` methods, and then click **Add View**.</span></span> <span data-ttu-id="965e4-162">**Dodaj widok** zostanie wyświetlone okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="965e4-162">The **Add View** dialog appears.</span></span> <span data-ttu-id="965e4-163">Pozostaw wartości domyślne i wybierz pozycję **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="965e4-163">Leave the defaults and select **Add**.</span></span>

<span data-ttu-id="965e4-164">W *Views\Course\UpdateCourseCredits.cshtml*, Zastąp kod szablonu poniższym kodem:</span><span class="sxs-lookup"><span data-stu-id="965e4-164">In *Views\Course\UpdateCourseCredits.cshtml*, replace the template code with the following code:</span></span>

[!code-cshtml[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample5.cshtml)]

<span data-ttu-id="965e4-165">Uruchom `UpdateCourseCredits` metody, wybierając **kursów** kartę, następnie dodając "/ UpdateCourseCredits" na końcu adresu URL w pasku adresu przeglądarki (na przykład: `http://localhost:50205/Course/UpdateCourseCredits`).</span><span class="sxs-lookup"><span data-stu-id="965e4-165">Run the `UpdateCourseCredits` method by selecting the **Courses** tab, then adding "/UpdateCourseCredits" to the end of the URL in the browser's address bar (for example: `http://localhost:50205/Course/UpdateCourseCredits`).</span></span> <span data-ttu-id="965e4-166">Wprowadź liczbę w polu tekstowym:</span><span class="sxs-lookup"><span data-stu-id="965e4-166">Enter a number in the text box:</span></span>

![Update_Course_Credits_initial_page_with_2_entered](advanced-entity-framework-scenarios-for-an-mvc-web-application/_static/image1.png)

<span data-ttu-id="965e4-168">Kliknij przycisk **Aktualizuj**.</span><span class="sxs-lookup"><span data-stu-id="965e4-168">Click **Update**.</span></span> <span data-ttu-id="965e4-169">Zobaczysz liczbę uwzględnionych wierszy.</span><span class="sxs-lookup"><span data-stu-id="965e4-169">You see the number of rows affected.</span></span>

<span data-ttu-id="965e4-170">Kliknij przycisk **powrót do listy** Aby wyświetlić listę kursy z poprawione ilość środków.</span><span class="sxs-lookup"><span data-stu-id="965e4-170">Click **Back to List** to see the list of courses with the revised number of credits.</span></span>

<span data-ttu-id="965e4-171">Aby uzyskać więcej informacji na temat pierwotne zapytania SQL, zobacz [pierwotne zapytania SQL](https://msdn.microsoft.com/data/jj592907) w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="965e4-171">For more information about raw SQL queries, see [Raw SQL Queries](https://msdn.microsoft.com/data/jj592907) on MSDN.</span></span>

## <a name="no-tracking-queries"></a><span data-ttu-id="965e4-172">Bez śledzenia zapytań</span><span class="sxs-lookup"><span data-stu-id="965e4-172">No-tracking queries</span></span>

<span data-ttu-id="965e4-173">Jeśli kontekst bazy danych pobiera wiersze z tabeli, tworzy obiekty jednostki, reprezentujących ich domyślnie go przechowuje informacje o czy jednostki w pamięci są zsynchronizowane z tym, co w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="965e4-173">When a database context retrieves table rows and creates entity objects that represent them, by default it keeps track of whether the entities in memory are in sync with what's in the database.</span></span> <span data-ttu-id="965e4-174">Dane w pamięci działa jak pamięć podręczna i jest używany podczas aktualizowania jednostki.</span><span class="sxs-lookup"><span data-stu-id="965e4-174">The data in memory acts as a cache and is used when you update an entity.</span></span> <span data-ttu-id="965e4-175">Często jest wykorzystywana w aplikacji sieci web tej buforowanie, ponieważ kontekst wystąpienia są zwykle krótkotrwałe (nowy jeden jest tworzony i usuwane dla każdego żądania) i obiekt context, odczytuje jednostki zazwyczaj jest usuwane, zanim ponownie używane jest tej jednostki.</span><span class="sxs-lookup"><span data-stu-id="965e4-175">This caching is often unnecessary in a web application because context instances are typically short-lived (a new one is created and disposed for each request) and the context that reads an entity is typically disposed before that entity is used again.</span></span>

<span data-ttu-id="965e4-176">Śledzenie obiektów jednostek w pamięci można wyłączyć za pomocą [AsNoTracking](https://msdn.microsoft.com/library/gg679352(v=vs.103).aspx) metody.</span><span class="sxs-lookup"><span data-stu-id="965e4-176">You can disable tracking of entity objects in memory by using the [AsNoTracking](https://msdn.microsoft.com/library/gg679352(v=vs.103).aspx) method.</span></span> <span data-ttu-id="965e4-177">Następujące typowe scenariusze, w których warto to zrobić:</span><span class="sxs-lookup"><span data-stu-id="965e4-177">Typical scenarios in which you might want to do that include the following:</span></span>

- <span data-ttu-id="965e4-178">Zapytanie pobiera dużą woluminu danych, które wyłączenie śledzenia może znacznie zwiększyć wydajność.</span><span class="sxs-lookup"><span data-stu-id="965e4-178">A query retrieves such a large volume of data that turning off tracking might noticeably enhance performance.</span></span>
- <span data-ttu-id="965e4-179">Aby dołączyć jednostkę, aby można było zaktualizować go, ale wcześniej pobrane tej samej jednostki do różnych celów.</span><span class="sxs-lookup"><span data-stu-id="965e4-179">You want to attach an entity in order to update it, but you earlier retrieved the same entity for a different purpose.</span></span> <span data-ttu-id="965e4-180">Ponieważ jednostka jest już śledzony przez kontekst bazy danych, nie można dołączyć jednostki, która ma zostać zmieniony.</span><span class="sxs-lookup"><span data-stu-id="965e4-180">Because the entity is already being tracked by the database context, you can't attach the entity that you want to change.</span></span> <span data-ttu-id="965e4-181">Jednym ze sposobów, aby obsłużyć taką sytuację, jest użycie `AsNoTracking` opcji wcześniejsze zapytanie względem.</span><span class="sxs-lookup"><span data-stu-id="965e4-181">One way to handle this situation is to use the `AsNoTracking` option with the earlier query.</span></span>

<span data-ttu-id="965e4-182">Aby uzyskać przykład, który demonstruje sposób używania [AsNoTracking](https://msdn.microsoft.com/library/gg679352(v=vs.103).aspx) metody, zobacz [starszą wersję tego samouczka](../../older-versions/getting-started-with-ef-5-using-mvc-4/advanced-entity-framework-scenarios-for-an-mvc-web-application.md).</span><span class="sxs-lookup"><span data-stu-id="965e4-182">For an example that demonstrates how to use the [AsNoTracking](https://msdn.microsoft.com/library/gg679352(v=vs.103).aspx) method, see [the earlier version of this tutorial](../../older-versions/getting-started-with-ef-5-using-mvc-4/advanced-entity-framework-scenarios-for-an-mvc-web-application.md).</span></span> <span data-ttu-id="965e4-183">Ta wersja tego samouczka nie zostały ustawione flagi zmodyfikowane na jednostce utworzyć obiekt wiążący modelu w metodzie edycji, więc nie potrzebuje `AsNoTracking`.</span><span class="sxs-lookup"><span data-stu-id="965e4-183">This version of the tutorial doesn't set the Modified flag on a model-binder-created entity in the Edit method, so it doesn't need `AsNoTracking`.</span></span>

## <a name="examine-sql-sent-to-database"></a><span data-ttu-id="965e4-184">Sprawdź SQL wysyłane do bazy danych</span><span class="sxs-lookup"><span data-stu-id="965e4-184">Examine SQL sent to database</span></span>

<span data-ttu-id="965e4-185">Czasami warto będą mogli zobaczyć rzeczywiste zapytania SQL, które są wysyłane do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="965e4-185">Sometimes it's helpful to be able to see the actual SQL queries that are sent to the database.</span></span> <span data-ttu-id="965e4-186">W starszych samouczku pokazano, jak to zrobić w kodzie interceptor; teraz zobaczysz niektóre sposoby zrobić to bez konieczności pisania kodu interceptor.</span><span class="sxs-lookup"><span data-stu-id="965e4-186">In an earlier tutorial you saw how to do that in interceptor code; now you'll see some ways to do it without writing interceptor code.</span></span> <span data-ttu-id="965e4-187">Aby wypróbować tę możliwość, możesz przyjrzeć się proste zapytanie i przyjrzyj się co się dzieje do niego dodać opcje takie eager ładowania, filtrowania i sortowania.</span><span class="sxs-lookup"><span data-stu-id="965e4-187">To try this out, you'll look at a simple query and then look at what happens to it as you add options such eager loading, filtering, and sorting.</span></span>

<span data-ttu-id="965e4-188">W *kontrolerów/CourseController*, Zastąp `Index` metody za pomocą następującego kodu, aby tymczasowo zatrzymać wczesne ładowanie:</span><span class="sxs-lookup"><span data-stu-id="965e4-188">In *Controllers/CourseController*, replace the `Index` method with the following code, in order to temporarily stop eager loading:</span></span>

[!code-csharp[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample6.cs)]

<span data-ttu-id="965e4-189">Teraz Ustaw punkt przerwania na `return` — instrukcja (F9 kursor znajduje się w danym wierszu).</span><span class="sxs-lookup"><span data-stu-id="965e4-189">Now set a breakpoint on the `return` statement (F9 with the cursor on that line).</span></span> <span data-ttu-id="965e4-190">Naciśnij klawisz **F5** Aby uruchomić projekt w trybie debugowania, a następnie wybierz stronę indeksu kursu.</span><span class="sxs-lookup"><span data-stu-id="965e4-190">Press **F5** to run the project in debug mode, and select the Course Index page.</span></span> <span data-ttu-id="965e4-191">Gdy kod osiąga punkt przerwania, sprawdź `sql` zmiennej.</span><span class="sxs-lookup"><span data-stu-id="965e4-191">When the code reaches the breakpoint, examine the `sql` variable.</span></span> <span data-ttu-id="965e4-192">Zobaczysz zapytanie, które są wysyłane do programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="965e4-192">You see the query that's sent to SQL Server.</span></span> <span data-ttu-id="965e4-193">Jest to prosty `Select` instrukcji.</span><span class="sxs-lookup"><span data-stu-id="965e4-193">It's a simple `Select` statement.</span></span>

[!code-json[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample7.json)]

<span data-ttu-id="965e4-194">Kliknij przycisk lupy, aby wyświetlić zapytanie w **Wizualizator tekstu**.</span><span class="sxs-lookup"><span data-stu-id="965e4-194">Click the magnifying glass to see the query in the **Text Visualizer**.</span></span>

![](advanced-entity-framework-scenarios-for-an-mvc-web-application/_static/image10.png)

<span data-ttu-id="965e4-195">Teraz dodasz listy rozwijanej do strony indeksu kursów, aby filtrować dla danego działu.</span><span class="sxs-lookup"><span data-stu-id="965e4-195">Now you'll add a drop-down list to the Courses Index page so that users can filter for a particular department.</span></span> <span data-ttu-id="965e4-196">Kursy dostosować sortowanie według tytułu, a następnie wskazać wczesne ładowanie dla `Department` właściwości nawigacji.</span><span class="sxs-lookup"><span data-stu-id="965e4-196">You'll sort the courses by title, and you'll specify eager loading for the `Department` navigation property.</span></span>

<span data-ttu-id="965e4-197">W *CourseController.cs*, Zastąp `Index` metoda następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="965e4-197">In *CourseController.cs*, replace the `Index` method with the following code:</span></span>

[!code-csharp[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample8.cs)]

<span data-ttu-id="965e4-198">Przywróć punkt przerwania na `return` instrukcji.</span><span class="sxs-lookup"><span data-stu-id="965e4-198">Restore the breakpoint on the `return` statement.</span></span>

<span data-ttu-id="965e4-199">Metoda odbiera wybranej wartości z listy rozwijanej w `SelectedDepartment` parametru.</span><span class="sxs-lookup"><span data-stu-id="965e4-199">The method receives the selected value of the drop-down list in the `SelectedDepartment` parameter.</span></span> <span data-ttu-id="965e4-200">Jeśli nic nie jest zaznaczone, ten parametr będzie mieć wartości null.</span><span class="sxs-lookup"><span data-stu-id="965e4-200">If nothing is selected, this parameter will be null.</span></span>

<span data-ttu-id="965e4-201">A `SelectList` kolekcja zawierająca wszystkie działy jest przekazywane do widoku listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="965e4-201">A `SelectList` collection containing all departments is passed to the view for the drop-down list.</span></span> <span data-ttu-id="965e4-202">Parametry przekazywane do `SelectList` konstruktora, określ nazwę pola wartość, nazwy pola tekstowe i wybranego elementu.</span><span class="sxs-lookup"><span data-stu-id="965e4-202">The parameters passed to the `SelectList` constructor specify the value field name, the text field name, and the selected item.</span></span>

<span data-ttu-id="965e4-203">Aby uzyskać `Get` metody `Course` repozytorium, kod określa wyrażenie filtru, kolejności sortowania i eager ładowania dla `Department` właściwości nawigacji.</span><span class="sxs-lookup"><span data-stu-id="965e4-203">For the `Get` method of the `Course` repository, the code specifies a filter expression, a sort order, and eager loading for the `Department` navigation property.</span></span> <span data-ttu-id="965e4-204">Wyrażenie filtru zawsze zwraca `true` Jeśli nic nie zostanie wybrane na liście rozwijanej (czyli `SelectedDepartment` ma wartość null).</span><span class="sxs-lookup"><span data-stu-id="965e4-204">The filter expression always returns `true` if nothing is selected in the drop-down list (that is, `SelectedDepartment` is null).</span></span>

<span data-ttu-id="965e4-205">W *Views\Course\Index.cshtml*, bezpośrednio przed otwierającym `table` tag, Dodaj następujący kod do tworzenia listy rozwijanej i przycisk Prześlij:</span><span class="sxs-lookup"><span data-stu-id="965e4-205">In *Views\Course\Index.cshtml*, immediately before the opening `table` tag, add the following code to create the drop-down list and a submit button:</span></span>

[!code-cshtml[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample9.cshtml)]

<span data-ttu-id="965e4-206">Punkt przerwania nadal ustawiony, Uruchom stronę indeksu kursu.</span><span class="sxs-lookup"><span data-stu-id="965e4-206">With the breakpoint still set, run the Course Index page.</span></span> <span data-ttu-id="965e4-207">Wykonaj pierwszy razy, trafienia punktu przerwania w kodzie, aby ta strona jest wyświetlana w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="965e4-207">Continue through the first times that the code hits a breakpoint, so that the page is displayed in the browser.</span></span> <span data-ttu-id="965e4-208">Wybierz dział z listy rozwijanej, a następnie kliknij przycisk **filtru**.</span><span class="sxs-lookup"><span data-stu-id="965e4-208">Select a department from the drop-down list and click **Filter**.</span></span>

<span data-ttu-id="965e4-209">Tym razem będzie pierwszy punkt przerwania dla zapytania działy, na liście rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="965e4-209">This time the first breakpoint will be for the departments query for the drop-down list.</span></span> <span data-ttu-id="965e4-210">Pominąć i wyświetlić `query` zmiennej przy następnym kodu osiągnie punkt przerwania, aby sprawdzić, jakie `Course` zapytania teraz wygląda podobnie.</span><span class="sxs-lookup"><span data-stu-id="965e4-210">Skip that and view the `query` variable the next time the code reaches the breakpoint in order to see what the `Course` query now looks like.</span></span> <span data-ttu-id="965e4-211">Zostanie wyświetlony podobny do poniższego:</span><span class="sxs-lookup"><span data-stu-id="965e4-211">You'll see something like the following:</span></span>

[!code-sql[Main](advanced-entity-framework-scenarios-for-an-mvc-web-application/samples/sample10.sql)]

<span data-ttu-id="965e4-212">Widać, że zapytanie jest teraz `JOIN` zapytania, który ładuje `Department` danych wraz z `Course` danych i że zawiera on `WHERE` klauzuli.</span><span class="sxs-lookup"><span data-stu-id="965e4-212">You can see that the query is now a `JOIN` query that loads `Department` data along with the `Course` data, and that it includes a `WHERE` clause.</span></span>

<span data-ttu-id="965e4-213">Usuń `var sql = courses.ToString()` wiersza.</span><span class="sxs-lookup"><span data-stu-id="965e4-213">Remove the `var sql = courses.ToString()` line.</span></span>

## <a name="create-an-abstraction-layer"></a><span data-ttu-id="965e4-214">Utwórz warstwę abstrakcji</span><span class="sxs-lookup"><span data-stu-id="965e4-214">Create an abstraction layer</span></span>

<span data-ttu-id="965e4-215">Wielu programistów napisać kod, aby zaimplementować repozytorium i jednostki pracy jako otoka wokół kodu, który współdziała z platformą Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="965e4-215">Many developers write code to implement the repository and unit of work patterns as a wrapper around code that works with the Entity Framework.</span></span> <span data-ttu-id="965e4-216">Te wzorce są przeznaczone do tworzenia warstwę abstrakcji od warstwy dostępu do danych i warstwy logiki biznesowej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="965e4-216">These patterns are intended to create an abstraction layer between the data access layer and the business logic layer of an application.</span></span> <span data-ttu-id="965e4-217">Implementacji tych wzorców może pomóc ochronić aplikację przed zmianami w magazynie danych i może ułatwić automatyczne testy jednostkowe i Programowanie oparte na testach (TDD).</span><span class="sxs-lookup"><span data-stu-id="965e4-217">Implementing these patterns can help insulate your application from changes in the data store and can facilitate automated unit testing or test-driven development (TDD).</span></span> <span data-ttu-id="965e4-218">Jednak tworzenia dodatkowego kodu, aby zaimplementować te wzorce nie zawsze jest najlepszym wyborem, aplikacje używające funkcji EF, z kilku powodów:</span><span class="sxs-lookup"><span data-stu-id="965e4-218">However, writing additional code to implement these patterns is not always the best choice for applications that use EF, for several reasons:</span></span>

- <span data-ttu-id="965e4-219">Samej klasy kontekstu EF powoduje, że kod w kodzie dotyczące magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="965e4-219">The EF context class itself insulates your code from data-store-specific code.</span></span>
- <span data-ttu-id="965e4-220">Klasy kontekstu EF może działać jako klasę jednostki pracy dla bazy danych aktualizacje, czy przy użyciu programu EF.</span><span class="sxs-lookup"><span data-stu-id="965e4-220">The EF context class can act as a unit-of-work class for database updates that you do using EF.</span></span>
- <span data-ttu-id="965e4-221">Funkcje wprowadzone w programie Entity Framework 6 należy zaimplementować TDD bez konieczności pisania kodu w repozytorium.</span><span class="sxs-lookup"><span data-stu-id="965e4-221">Features introduced in Entity Framework 6 make it easier to implement TDD without writing repository code.</span></span>

<span data-ttu-id="965e4-222">Aby uzyskać więcej informacji na temat implementacji repozytorium i jednostki pracy, zobacz [Entity Framework 5 wersję tej serii samouczków](../../older-versions/getting-started-with-ef-5-using-mvc-4/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application.md).</span><span class="sxs-lookup"><span data-stu-id="965e4-222">For more information about how to implement the repository and unit of work patterns, see [the Entity Framework 5 version of this tutorial series](../../older-versions/getting-started-with-ef-5-using-mvc-4/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application.md).</span></span> <span data-ttu-id="965e4-223">Aby uzyskać informacje na temat zaimplementować projektowanie oparte na testach na platformie Entity Framework 6 zobacz następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="965e4-223">For information about ways to implement TDD in Entity Framework 6, see the following resources:</span></span>

- [<span data-ttu-id="965e4-224">Jak EF6 umożliwia DbSets pozorowanie łatwiej</span><span class="sxs-lookup"><span data-stu-id="965e4-224">How EF6 Enables Mocking DbSets more easily</span></span>](http://thedatafarm.com/data-access/how-ef6-enables-mocking-dbsets-more-easily/)
- [<span data-ttu-id="965e4-225">Testowanie za pomocą pozorowania framework</span><span class="sxs-lookup"><span data-stu-id="965e4-225">Testing with a mocking framework</span></span>](https://msdn.microsoft.com/data/dn314429)
- [<span data-ttu-id="965e4-226">Testowanie za pomocą własnych testów, wartości podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="965e4-226">Testing with your own test doubles</span></span>](https://msdn.microsoft.com/data/dn314431)

<a id="proxies"></a>

## <a name="proxy-classes"></a><span data-ttu-id="965e4-227">Klasy serwera proxy</span><span class="sxs-lookup"><span data-stu-id="965e4-227">Proxy classes</span></span>

<span data-ttu-id="965e4-228">Gdy platforma Entity Framework tworzy wystąpienia jednostki (np. podczas wykonywania zapytania), często tworzy je jako wystąpienia typu pochodnego dynamicznie generowanym, który działa jako serwer proxy dla jednostki.</span><span class="sxs-lookup"><span data-stu-id="965e4-228">When the Entity Framework creates entity instances (for example, when you execute a query), it often creates them as instances of a dynamically generated derived type that acts as a proxy for the entity.</span></span> <span data-ttu-id="965e4-229">Na przykład zobacz następujące dwa obrazy debugera.</span><span class="sxs-lookup"><span data-stu-id="965e4-229">For example, see the following two debugger images.</span></span> <span data-ttu-id="965e4-230">Na pierwszej ilustracji zobaczysz, że `student` zmienna jest oczekiwana `Student` wpisz natychmiast po zakończeniu tworzenia wystąpienia jednostki.</span><span class="sxs-lookup"><span data-stu-id="965e4-230">In the first image, you see that the `student` variable is the expected `Student` type immediately after you instantiate the entity.</span></span> <span data-ttu-id="965e4-231">W drugi obraz po EF został użyty do odczytu jednostki dla uczniów z bazy danych, zobaczysz klasy proxy.</span><span class="sxs-lookup"><span data-stu-id="965e4-231">In the second image, after EF has been used to read a student entity from the database, you see the proxy class.</span></span>

![Przed klasy serwera proxy](advanced-entity-framework-scenarios-for-an-mvc-web-application/_static/image12.png)

![Po klasy serwera proxy](advanced-entity-framework-scenarios-for-an-mvc-web-application/_static/image13.png)

<span data-ttu-id="965e4-234">Tej klasy proxy zastępuje niektóre właściwości wirtualnego jednostka do wstawienia punkty zaczepienia do operacji wykonywanych automatycznie, gdy uzyskano dostęp do właściwości.</span><span class="sxs-lookup"><span data-stu-id="965e4-234">This proxy class overrides some virtual properties of the entity to insert hooks for performing actions automatically when the property is accessed.</span></span> <span data-ttu-id="965e4-235">Jedna funkcja, ten mechanizm jest używana dla jest powolne ładowanie.</span><span class="sxs-lookup"><span data-stu-id="965e4-235">One function this mechanism is used for is lazy loading.</span></span>

<span data-ttu-id="965e4-236">W większości przypadków nie trzeba znać to wykorzystania serwerów proxy, ale istnieją wyjątki:</span><span class="sxs-lookup"><span data-stu-id="965e4-236">Most of the time you don't need to be aware of this use of proxies, but there are exceptions:</span></span>

- <span data-ttu-id="965e4-237">W niektórych scenariuszach możesz chcieć uniemożliwić tworzenia wystąpień serwera proxy programu Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="965e4-237">In some scenarios you might want to prevent the Entity Framework from creating proxy instances.</span></span> <span data-ttu-id="965e4-238">Na przykład gdy są serializacji jednostek zazwyczaj chcesz klas POCO, a nie klasy serwera proxy.</span><span class="sxs-lookup"><span data-stu-id="965e4-238">For example, when you're serializing entities you generally want the POCO classes, not the proxy classes.</span></span> <span data-ttu-id="965e4-239">Jednym ze sposobów, aby uniknąć problemów z serializacji jest do wykonywania serializacji obiektów transferu danych (dto) zamiast obiektów jednostek, jak pokazano w [przy użyciu interfejsu API sieci Web za pomocą platformy Entity Framework](../../../../web-api/overview/data/using-web-api-with-entity-framework/part-1.md) samouczka.</span><span class="sxs-lookup"><span data-stu-id="965e4-239">One way to avoid serialization problems is to serialize data transfer objects (DTOs) instead of entity objects, as shown in the [Using Web API with Entity Framework](../../../../web-api/overview/data/using-web-api-with-entity-framework/part-1.md) tutorial.</span></span> <span data-ttu-id="965e4-240">Innym sposobem jest [Wyłącz tworzenie serwera proxy](https://msdn.microsoft.com/data/jj592886.aspx).</span><span class="sxs-lookup"><span data-stu-id="965e4-240">Another way is to [disable proxy creation](https://msdn.microsoft.com/data/jj592886.aspx).</span></span>
- <span data-ttu-id="965e4-241">Podczas tworzenia wystąpienia klasy jednostki przy użyciu `new` operatora, nie udostępnia wystąpienia serwera proxy.</span><span class="sxs-lookup"><span data-stu-id="965e4-241">When you instantiate an entity class using the `new` operator, you don't get a proxy instance.</span></span> <span data-ttu-id="965e4-242">Oznacza to, że nie udostępnia funkcje, takie jak powolne ładowanie i automatyczne śledzenie zmian.</span><span class="sxs-lookup"><span data-stu-id="965e4-242">This means you don't get functionality such as lazy loading and automatic change tracking.</span></span> <span data-ttu-id="965e4-243">Zazwyczaj jest to OK; Zazwyczaj nie ma potrzeby ładowania z opóźnieniem, ponieważ tworzysz nowy obiekt, który nie znajduje się w bazie danych i zazwyczaj nie trzeba śledzenie zmian, jeśli one jawnie oznaczanie jednostki jako `Added`.</span><span class="sxs-lookup"><span data-stu-id="965e4-243">This is typically okay; you generally don't need lazy loading, because you're creating a new entity that isn't in the database, and you generally don't need change tracking if you're explicitly marking the entity as `Added`.</span></span> <span data-ttu-id="965e4-244">Jednak jeśli potrzebujesz powolne ładowanie i potrzebny śledzenia zmian, możesz utworzyć nowe wystąpienia jednostki z serwerami proxy przy użyciu [Utwórz](https://msdn.microsoft.com/library/gg679504.aspx) metody `DbSet` klasy.</span><span class="sxs-lookup"><span data-stu-id="965e4-244">However, if you do need lazy loading and you need change tracking, you can create new entity instances with proxies using the [Create](https://msdn.microsoft.com/library/gg679504.aspx) method of the `DbSet` class.</span></span>
- <span data-ttu-id="965e4-245">Możesz chcieć uzyskać typ rzeczywistego jednostki z typ serwera proxy.</span><span class="sxs-lookup"><span data-stu-id="965e4-245">You might want to get an actual entity type from a proxy type.</span></span> <span data-ttu-id="965e4-246">Możesz użyć [Element GetObjectType](https://msdn.microsoft.com/library/system.data.objects.objectcontext.getobjecttype.aspx) metody `ObjectContext` klasy można pobrać typu rzeczywistego jednostki wystąpienia typu serwera proxy.</span><span class="sxs-lookup"><span data-stu-id="965e4-246">You can use the [GetObjectType](https://msdn.microsoft.com/library/system.data.objects.objectcontext.getobjecttype.aspx) method of the `ObjectContext` class to get the actual entity type of a proxy type instance.</span></span>

<span data-ttu-id="965e4-247">Aby uzyskać więcej informacji, zobacz [pracy z serwerami proxy](https://msdn.microsoft.com/data/JJ592886.aspx) w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="965e4-247">For more information, see [Working with Proxies](https://msdn.microsoft.com/data/JJ592886.aspx) on MSDN.</span></span>

## <a name="automatic-change-detection"></a><span data-ttu-id="965e4-248">Automatyczna zmiana wykrywania</span><span class="sxs-lookup"><span data-stu-id="965e4-248">Automatic change detection</span></span>

<span data-ttu-id="965e4-249">Entity Framework Określa, jak jednostki został zmieniony (i w związku z tym aktualizacje, które muszą być wysyłane do bazy danych) przez porównanie bieżącej wartości jednostki przy użyciu oryginalnych wartości.</span><span class="sxs-lookup"><span data-stu-id="965e4-249">The Entity Framework determines how an entity has changed (and therefore which updates need to be sent to the database) by comparing the current values of an entity with the original values.</span></span> <span data-ttu-id="965e4-250">Oryginalne wartości są przechowywane, gdy jednostka jest badane lub dołączone.</span><span class="sxs-lookup"><span data-stu-id="965e4-250">The original values are stored when the entity is queried or attached.</span></span> <span data-ttu-id="965e4-251">Niektóre metody, które powodują wykrywania automatycznego zmian są następujące:</span><span class="sxs-lookup"><span data-stu-id="965e4-251">Some of the methods that cause automatic change detection are the following:</span></span>

- `DbSet.Find`
- `DbSet.Local`
- `DbSet.Remove`
- `DbSet.Add`
- `DbSet.Attach`
- `DbContext.SaveChanges`
- `DbContext.GetValidationErrors`
- `DbContext.Entry`
- `DbChangeTracker.Entries`

<span data-ttu-id="965e4-252">Jeśli prześledzić dużą liczbę jednostek można wywołać jedną z następujących metod wiele razy w pętli, może uzyskać znaczne ulepszenia wydajności, tymczasowo wyłączając przy użyciu wykrywania automatyczna zmiana [AutoDetectChangesEnabled](https://msdn.microsoft.com/library/system.data.entity.infrastructure.dbcontextconfiguration.autodetectchangesenabled.aspx) właściwości.</span><span class="sxs-lookup"><span data-stu-id="965e4-252">If you're tracking a large number of entities and you call one of these methods many times in a loop, you might get significant performance improvements by temporarily turning off automatic change detection using the [AutoDetectChangesEnabled](https://msdn.microsoft.com/library/system.data.entity.infrastructure.dbcontextconfiguration.autodetectchangesenabled.aspx) property.</span></span> <span data-ttu-id="965e4-253">Aby uzyskać więcej informacji, zobacz [automatyczne wykrywanie zmian](https://msdn.microsoft.com/data/jj556205) w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="965e4-253">For more information, see [Automatically Detecting Changes](https://msdn.microsoft.com/data/jj556205) on MSDN.</span></span>

## <a name="automatic-validation"></a><span data-ttu-id="965e4-254">Automatyczna Walidacja</span><span class="sxs-lookup"><span data-stu-id="965e4-254">Automatic validation</span></span>

<span data-ttu-id="965e4-255">Gdy wywołujesz `SaveChanges` metody domyślnie platforma Entity Framework sprawdza poprawność danych wszystkich właściwości wszystkich jednostek zmienione przed zaktualizowaniem bazy danych.</span><span class="sxs-lookup"><span data-stu-id="965e4-255">When you call the `SaveChanges` method, by default the Entity Framework validates the data in all properties of all changed entities before updating the database.</span></span> <span data-ttu-id="965e4-256">Jeśli użytkownik zaktualizował dużą liczbę jednostek i już zweryfikowaniu danych, to działanie jest niepotrzebne wprowadzeniu procesem zapisywania zmian zająć mniej czasu, tymczasowo wyłączając sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="965e4-256">If you've updated a large number of entities and you've already validated the data, this work is unnecessary and you could make the process of saving the changes take less time by temporarily turning off validation.</span></span> <span data-ttu-id="965e4-257">Możesz zrobić, przy użyciu [ValidateOnSaveEnabled](https://msdn.microsoft.com/library/system.data.entity.infrastructure.dbcontextconfiguration.validateonsaveenabled.aspx) właściwości.</span><span class="sxs-lookup"><span data-stu-id="965e4-257">You can do that using the [ValidateOnSaveEnabled](https://msdn.microsoft.com/library/system.data.entity.infrastructure.dbcontextconfiguration.validateonsaveenabled.aspx) property.</span></span> <span data-ttu-id="965e4-258">Aby uzyskać więcej informacji, zobacz [weryfikacji](https://msdn.microsoft.com/data/gg193959) w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="965e4-258">For more information, see [Validation](https://msdn.microsoft.com/data/gg193959) on MSDN.</span></span>

## <a name="entity-framework-power-tools"></a><span data-ttu-id="965e4-259">Entity Framework Power Tools</span><span class="sxs-lookup"><span data-stu-id="965e4-259">Entity Framework Power Tools</span></span>

<span data-ttu-id="965e4-260">[Entity Framework Power Tools](https://marketplace.visualstudio.com/items?itemName=ErikEJ.EntityFramework6PowerToolsCommunityEdition) dodatku programu Visual Studio, który został użyty do tworzenia diagramów model danych jest wyświetlany w tych samouczkach.</span><span class="sxs-lookup"><span data-stu-id="965e4-260">[Entity Framework Power Tools](https://marketplace.visualstudio.com/items?itemName=ErikEJ.EntityFramework6PowerToolsCommunityEdition) is a Visual Studio add-in that was used to create the data model diagrams shown in these tutorials.</span></span> <span data-ttu-id="965e4-261">Narzędzia można również wykonać innych funkcji, takich jak Generowanie klas jednostek na podstawie tabel w istniejącej bazy danych tak, aby można było używać bazy danych za pomocą Code First.</span><span class="sxs-lookup"><span data-stu-id="965e4-261">The tools can also do other function such as generate entity classes based on the tables in an existing database so that you can use the database with Code First.</span></span> <span data-ttu-id="965e4-262">Po zainstalowaniu narzędzia, dodatkowe opcje są wyświetlane w menu kontekstowego.</span><span class="sxs-lookup"><span data-stu-id="965e4-262">After you install the tools, some additional options appear in context menus.</span></span> <span data-ttu-id="965e4-263">Na przykład po kliknięciu prawym przyciskiem myszy klasy kontekstu w **Eksploratora rozwiązań**, zostanie wyświetlony i **Entity Framework** opcji.</span><span class="sxs-lookup"><span data-stu-id="965e4-263">For example, when you right-click your context class in **Solution Explorer**, you see and **Entity Framework** option.</span></span> <span data-ttu-id="965e4-264">Zapewnia możliwość generowania diagramu.</span><span class="sxs-lookup"><span data-stu-id="965e4-264">This gives you the ability to generate a diagram.</span></span> <span data-ttu-id="965e4-265">Podczas korzystania z Code First, nie można zmienić modelu danych na diagramie, ale można przenosić elementy w celu ułatwienia zrozumienia.</span><span class="sxs-lookup"><span data-stu-id="965e4-265">When you're using Code First you can't change the data model in the diagram, but you can move things around to make it easier to understand.</span></span>

![EF diagram](advanced-entity-framework-scenarios-for-an-mvc-web-application/_static/image15.png)

## <a name="entity-framework-source-code"></a><span data-ttu-id="965e4-267">Kodu źródłowego programu Entity Framework</span><span class="sxs-lookup"><span data-stu-id="965e4-267">Entity Framework source code</span></span>

<span data-ttu-id="965e4-268">Kod źródłowy platformy Entity Framework 6 znajduje się w temacie [GitHub](https://github.com/aspnet/EntityFramework6).</span><span class="sxs-lookup"><span data-stu-id="965e4-268">The source code for Entity Framework 6 is available at [GitHub](https://github.com/aspnet/EntityFramework6).</span></span> <span data-ttu-id="965e4-269">Mogą zgłaszać usterki i może przyczynić się własne rozszerzenia do kodu źródłowego programu EF.</span><span class="sxs-lookup"><span data-stu-id="965e4-269">You can file bugs, and you can contribute your own enhancements to the EF source code.</span></span>

<span data-ttu-id="965e4-270">Mimo że kod źródłowy jest otwarty, platformy Entity Framework jest w pełni obsługiwany jest produktem firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="965e4-270">Although the source code is open, Entity Framework is fully supported as a Microsoft product.</span></span> <span data-ttu-id="965e4-271">Zespół Microsoft Entity Framework zachowuje kontroli nad tym, którzy są akceptowane wkładu i testy wszystkich zmian w kodzie w celu zapewnienia jakości każdej wersji.</span><span class="sxs-lookup"><span data-stu-id="965e4-271">The Microsoft Entity Framework team keeps control over which contributions are accepted and tests all code changes to ensure the quality of each release.</span></span>

## <a name="acknowledgments"></a><span data-ttu-id="965e4-272">Potwierdzenia</span><span class="sxs-lookup"><span data-stu-id="965e4-272">Acknowledgments</span></span>

- <span data-ttu-id="965e4-273">Tom Dykstra napisał oryginalną wersję tego samouczka, wspólnie utworzone aktualizacja programów EF 5 i napisał aktualizacja programów EF 6.</span><span class="sxs-lookup"><span data-stu-id="965e4-273">Tom Dykstra wrote the original version of this tutorial, co-authored the EF 5 update, and wrote the EF 6 update.</span></span> <span data-ttu-id="965e4-274">Tom jest starszym pisarzem programowania na platformy Microsoft Web i narzędzia do zespołu ds. zawartości.</span><span class="sxs-lookup"><span data-stu-id="965e4-274">Tom is a senior programming writer on the Microsoft Web Platform and Tools Content Team.</span></span>
- <span data-ttu-id="965e4-275">[Rick Anderson](https://blogs.msdn.com/b/rickandy/) (twitter [ @RickAndMSFT ](http://twitter.com/RickAndMSFT)) czy większość pracy aktualizowanie samouczek programu EF 5 i MVC 4 i współautorem aktualizacja programów EF 6.</span><span class="sxs-lookup"><span data-stu-id="965e4-275">[Rick Anderson](https://blogs.msdn.com/b/rickandy/) (twitter [@RickAndMSFT](http://twitter.com/RickAndMSFT)) did most of the work updating the tutorial for EF 5 and MVC 4 and co-authored the EF 6 update.</span></span> <span data-ttu-id="965e4-276">Rick jest starszym pisarzem programowania dla firmy Microsoft, koncentrując się na platformie Azure i MVC.</span><span class="sxs-lookup"><span data-stu-id="965e4-276">Rick is a senior programming writer for Microsoft focusing on Azure and MVC.</span></span>
- <span data-ttu-id="965e4-277">[Rowan Miller](http://www.romiller.com) i inni członkowie zespołu programu Entity Framework korzystającej z przeglądy kodu i brały udział w debugowaniu wiele problemów z migracji, które powstały podczas, gdy firma Microsoft zostały aktualizowanie samouczek programu EF 5 i programów EF 6.</span><span class="sxs-lookup"><span data-stu-id="965e4-277">[Rowan Miller](http://www.romiller.com) and other members of the Entity Framework team assisted with code reviews and helped debug many issues with migrations that arose while we were updating the tutorial for EF 5 and EF 6.</span></span>

## <a name="troubleshoot-common-errors"></a><span data-ttu-id="965e4-278">Rozwiązywanie typowych problemów</span><span class="sxs-lookup"><span data-stu-id="965e4-278">Troubleshoot common errors</span></span>

### <a name="cannot-createshadow-copy"></a><span data-ttu-id="965e4-279">Nie można utworzyć/w tle kopii</span><span class="sxs-lookup"><span data-stu-id="965e4-279">Cannot create/shadow copy</span></span>

<span data-ttu-id="965e4-280">Komunikat o błędzie:</span><span class="sxs-lookup"><span data-stu-id="965e4-280">Error Message:</span></span>

> <span data-ttu-id="965e4-281">Nie można utworzyć/w tle kopii "&lt;filename&gt;" gdy ten plik już istnieje.</span><span class="sxs-lookup"><span data-stu-id="965e4-281">Cannot create/shadow copy '&lt;filename&gt;' when that file already exists.</span></span>

<span data-ttu-id="965e4-282">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="965e4-282">Solution</span></span>

<span data-ttu-id="965e4-283">Odczekaj kilka sekund, a następnie odśwież stronę.</span><span class="sxs-lookup"><span data-stu-id="965e4-283">Wait a few seconds and refresh the page.</span></span>

### <a name="update-database-not-recognized"></a><span data-ttu-id="965e4-284">Update-Database nie został rozpoznany</span><span class="sxs-lookup"><span data-stu-id="965e4-284">Update-Database not recognized</span></span>

<span data-ttu-id="965e4-285">Komunikat o błędzie (z `Update-Database` polecenia w konsoli zarządzania Pakietami):</span><span class="sxs-lookup"><span data-stu-id="965e4-285">Error Message (from the `Update-Database` command in the PMC):</span></span>

> <span data-ttu-id="965e4-286">Termin "Update-Database" nie został rozpoznany jako nazwa polecenia cmdlet, funkcji, pliku skryptu lub program wykonywalny.</span><span class="sxs-lookup"><span data-stu-id="965e4-286">The term 'Update-Database' is not recognized as the name of a cmdlet, function, script file, or operable program.</span></span> <span data-ttu-id="965e4-287">Sprawdź pisownię nazwy lub jeśli ścieżka został uwzględniony, sprawdź, czy ścieżka jest poprawna i spróbuj ponownie.</span><span class="sxs-lookup"><span data-stu-id="965e4-287">Check the spelling of the name, or if a path was included, verify that the path is correct and try again.</span></span>

<span data-ttu-id="965e4-288">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="965e4-288">Solution</span></span>

<span data-ttu-id="965e4-289">Zamknij program Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="965e4-289">Exit Visual Studio.</span></span> <span data-ttu-id="965e4-290">Ponownie otwórz projekt i spróbuj ponownie.</span><span class="sxs-lookup"><span data-stu-id="965e4-290">Reopen project and try again.</span></span>

### <a name="validation-failed"></a><span data-ttu-id="965e4-291">Walidacja nie powiodła się</span><span class="sxs-lookup"><span data-stu-id="965e4-291">Validation failed</span></span>

<span data-ttu-id="965e4-292">Komunikat o błędzie (z `Update-Database` polecenia w konsoli zarządzania Pakietami):</span><span class="sxs-lookup"><span data-stu-id="965e4-292">Error Message (from the `Update-Database` command in the PMC):</span></span>

> <span data-ttu-id="965e4-293">Weryfikacja nie powiodła się dla co najmniej jednej jednostki.</span><span class="sxs-lookup"><span data-stu-id="965e4-293">Validation failed for one or more entities.</span></span> <span data-ttu-id="965e4-294">Zobacz właściwość "EntityValidationErrors", aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="965e4-294">See 'EntityValidationErrors' property for more details.</span></span>

<span data-ttu-id="965e4-295">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="965e4-295">Solution</span></span>

<span data-ttu-id="965e4-296">Jedną z przyczyn tego problemu jest błędy sprawdzania poprawności podczas `Seed` metoda przebiegów.</span><span class="sxs-lookup"><span data-stu-id="965e4-296">One cause of this problem is validation errors when the `Seed` method runs.</span></span> <span data-ttu-id="965e4-297">Zobacz [wstępnego wypełniania i baz danych debugowania Entity Framework (EF)](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) porady dotyczące debugowania `Seed` metody.</span><span class="sxs-lookup"><span data-stu-id="965e4-297">See [Seeding and Debugging Entity Framework (EF) DBs](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) for tips on debugging the `Seed` method.</span></span>

### <a name="http-50019-error"></a><span data-ttu-id="965e4-298">HTTP 500.19 błąd</span><span class="sxs-lookup"><span data-stu-id="965e4-298">HTTP 500.19 error</span></span>

<span data-ttu-id="965e4-299">Komunikat o błędzie:</span><span class="sxs-lookup"><span data-stu-id="965e4-299">Error Message:</span></span>

> <span data-ttu-id="965e4-300">Błąd HTTP 500.19 — wewnętrzny błąd serwera żądana strona nie jest dostępny, ponieważ odpowiednie dane konfiguracyjne dla strony jest nieprawidłowy.</span><span class="sxs-lookup"><span data-stu-id="965e4-300">HTTP Error 500.19 - Internal Server Error The requested page cannot be accessed because the related configuration data for the page is invalid.</span></span>

<span data-ttu-id="965e4-301">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="965e4-301">Solution</span></span>

<span data-ttu-id="965e4-302">Jednym ze sposobów ten błąd może wystąpić jest z konieczności wiele kopii rozwiązania każdego z nich przy użyciu tego samego numeru portu.</span><span class="sxs-lookup"><span data-stu-id="965e4-302">One way you can get this error is from having multiple copies of the solution, each of them using the same port number.</span></span> <span data-ttu-id="965e4-303">Zamykanie wszystkich wystąpień programu Visual Studio, a następnie ponownie uruchomić projekt, nad którymi pracuje można zwykle rozwiązać ten problem.</span><span class="sxs-lookup"><span data-stu-id="965e4-303">You can usually solve this problem by exiting all instances of Visual Studio, then restarting the project you're working on.</span></span> <span data-ttu-id="965e4-304">Jeśli to nie zadziała, spróbuj zmienić numer portu.</span><span class="sxs-lookup"><span data-stu-id="965e4-304">If that doesn't work, try changing the port number.</span></span> <span data-ttu-id="965e4-305">Kliknij prawym przyciskiem myszy plik projektu, a następnie kliknij polecenie Właściwości.</span><span class="sxs-lookup"><span data-stu-id="965e4-305">Right click on the project file and then click properties.</span></span> <span data-ttu-id="965e4-306">Wybierz **Web** kartę, a następnie zmień numer portu w **adres Url projektu** pola tekstowego.</span><span class="sxs-lookup"><span data-stu-id="965e4-306">Select the **Web** tab and then change the port number in the **Project Url** text box.</span></span>

### <a name="error-locating-sql-server-instance"></a><span data-ttu-id="965e4-307">Błąd podczas lokalizowania wystąpienia programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="965e4-307">Error locating SQL Server instance</span></span>

<span data-ttu-id="965e4-308">Komunikat o błędzie:</span><span class="sxs-lookup"><span data-stu-id="965e4-308">Error Message:</span></span>

> <span data-ttu-id="965e4-309">Wystąpił błąd związany z siecią lub wystąpieniem podczas nawiązywania połączenia z programem SQL Server.</span><span class="sxs-lookup"><span data-stu-id="965e4-309">A network-related or instance-specific error occurred while establishing a connection to SQL Server.</span></span> <span data-ttu-id="965e4-310">Serwer nie został znaleziony lub jest on niedostępny.</span><span class="sxs-lookup"><span data-stu-id="965e4-310">The server was not found or was not accessible.</span></span> <span data-ttu-id="965e4-311">Sprawdź, czy nazwa wystąpienia jest prawidłowa i że program SQL Server jest skonfigurowany do zezwalania na połączenia zdalne.</span><span class="sxs-lookup"><span data-stu-id="965e4-311">Verify that the instance name is correct and that SQL Server is configured to allow remote connections.</span></span> <span data-ttu-id="965e4-312">(Dostawca: Interfejsy sieciowe programu SQL, błąd: 26 — błąd podczas znajdowania/podanego wystąpienia)</span><span class="sxs-lookup"><span data-stu-id="965e4-312">(provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)</span></span>

<span data-ttu-id="965e4-313">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="965e4-313">Solution</span></span>

<span data-ttu-id="965e4-314">Sprawdź parametry połączenia.</span><span class="sxs-lookup"><span data-stu-id="965e4-314">Check the connection string.</span></span> <span data-ttu-id="965e4-315">Jeśli został ręcznie usunięty bazy danych, Zmień nazwę bazy danych w ciągu konstrukcji.</span><span class="sxs-lookup"><span data-stu-id="965e4-315">If you have manually deleted the database, change the name of the database in the construction string.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="965e4-316">Pobierz kod</span><span class="sxs-lookup"><span data-stu-id="965e4-316">Get the code</span></span>

[<span data-ttu-id="965e4-317">Pobierz ukończony projekt</span><span class="sxs-lookup"><span data-stu-id="965e4-317">Download Completed Project</span></span>](https://webpifeed.blob.core.windows.net/webpifeed/Partners/ASP.NET%20MVC%20Application%20Using%20Entity%20Framework%20Code%20First.zip)

## <a name="additional-resources"></a><span data-ttu-id="965e4-318">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="965e4-318">Additional resources</span></span>

 <span data-ttu-id="965e4-319">Aby uzyskać więcej informacji na temat sposobu pracy z danymi przy użyciu platformy Entity Framework, zobacz [EF stronę dokumentacji w witrynie MSDN](https://msdn.microsoft.com/data/ee712907) i [dostęp do danych platformy ASP.NET — zalecane zasoby](../../../../whitepapers/aspnet-data-access-content-map.md).</span><span class="sxs-lookup"><span data-stu-id="965e4-319">For more information about how to work with data using the Entity Framework, see the [EF documentation page on MSDN](https://msdn.microsoft.com/data/ee712907) and [ASP.NET Data Access - Recommended Resources](../../../../whitepapers/aspnet-data-access-content-map.md).</span></span>

<span data-ttu-id="965e4-320">Aby uzyskać więcej informacji o sposobie wdrażania aplikacji sieci web po dołączeniu go, zobacz [wdrażanie aplikacji internetowych ASP.NET — zalecane zasoby](../../../../whitepapers/aspnet-web-deployment-content-map.md) w bibliotece MSDN.</span><span class="sxs-lookup"><span data-stu-id="965e4-320">For more information about how to deploy your web application after you've built it, see [ASP.NET Web Deployment - Recommended Resources](../../../../whitepapers/aspnet-web-deployment-content-map.md) in the MSDN Library.</span></span>

<span data-ttu-id="965e4-321">Aby uzyskać informacje o innych tematów związanych z MVC, takie jak uwierzytelnianie i autoryzacja, zobacz [MVC ASP.NET — zalecane zasoby](../recommended-resources-for-mvc.md).</span><span class="sxs-lookup"><span data-stu-id="965e4-321">For information about other topics related to MVC, such as authentication and authorization, see the [ASP.NET MVC - Recommended Resources](../recommended-resources-for-mvc.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="965e4-322">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="965e4-322">Next steps</span></span>

<span data-ttu-id="965e4-323">W ramach tego samouczka możesz:</span><span class="sxs-lookup"><span data-stu-id="965e4-323">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="965e4-324">Wykonano pierwotne zapytania SQL</span><span class="sxs-lookup"><span data-stu-id="965e4-324">Performed raw SQL queries</span></span>
> * <span data-ttu-id="965e4-325">Wykonywane zapytania nie śledzenia</span><span class="sxs-lookup"><span data-stu-id="965e4-325">Performed no-tracking queries</span></span>
> * <span data-ttu-id="965e4-326">Zbadane zapytania SQL wysyłane do bazy danych</span><span class="sxs-lookup"><span data-stu-id="965e4-326">Examined SQL queries sent to the database</span></span>

<span data-ttu-id="965e4-327">Ponadto omówiono:</span><span class="sxs-lookup"><span data-stu-id="965e4-327">You also learned about:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="965e4-328">Tworzenie warstwy abstrakcji</span><span class="sxs-lookup"><span data-stu-id="965e4-328">Creating an abstraction layer</span></span>
> * <span data-ttu-id="965e4-329">Klasy serwera proxy</span><span class="sxs-lookup"><span data-stu-id="965e4-329">Proxy classes</span></span>
> * <span data-ttu-id="965e4-330">Automatyczna zmiana wykrywania</span><span class="sxs-lookup"><span data-stu-id="965e4-330">Automatic change detection</span></span>
> * <span data-ttu-id="965e4-331">Automatyczna Walidacja</span><span class="sxs-lookup"><span data-stu-id="965e4-331">Automatic validation</span></span>
> * <span data-ttu-id="965e4-332">Entity Framework Power Tools</span><span class="sxs-lookup"><span data-stu-id="965e4-332">Entity Framework Power Tools</span></span>
> * <span data-ttu-id="965e4-333">Kodu źródłowego programu Entity Framework</span><span class="sxs-lookup"><span data-stu-id="965e4-333">Entity Framework source code</span></span>

<span data-ttu-id="965e4-334">Na tym kończy się w tej serii samouczków na temat korzystania z programu Entity Framework w aplikacji ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="965e4-334">This completes this series of tutorials on using the Entity Framework in an ASP.NET MVC application.</span></span> <span data-ttu-id="965e4-335">Jeśli chcesz dowiedzieć się więcej na temat EF Database First, zobacz DB pierwszej serii samouczków.</span><span class="sxs-lookup"><span data-stu-id="965e4-335">If you want to learn about EF Database First, see the DB First tutorial series.</span></span>
> [!div class="nextstepaction"]
> [<span data-ttu-id="965e4-336">Entity Framework bazy danych pierwszy</span><span class="sxs-lookup"><span data-stu-id="965e4-336">Entity Framework Database First</span></span>](../database-first-development/setting-up-database.md)