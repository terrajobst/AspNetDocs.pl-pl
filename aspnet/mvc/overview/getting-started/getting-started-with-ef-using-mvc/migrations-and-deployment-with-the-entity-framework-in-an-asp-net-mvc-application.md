---
uid: mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
title: 'Samouczek: Korzystanie z migracji EF w aplikacji ASP.NET MVC i wdrażanie na platformie Azure'
author: tdykstra
description: W tym samouczku można włączyć migracje Code First i wdrożyć aplikację w chmurze na platformie Azure.
ms.author: riande
ms.date: 01/16/2019
ms.topic: tutorial
ms.assetid: d4dfc435-bda6-4621-9762-9ba270f8de4e
msc.legacyurl: /mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
msc.type: authoredcontent
ms.openlocfilehash: 989dd0f0e18b338be057b9c5657586eff996d8ea
ms.sourcegitcommit: b95316530fa51087d6c400ff91814fe37e73f7e8
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/23/2019
ms.locfileid: "70000767"
---
# <a name="tutorial-use-ef-migrations-in-an-aspnet-mvc-app-and-deploy-to-azure"></a><span data-ttu-id="37ece-103">Samouczek: Korzystanie z migracji EF w aplikacji ASP.NET MVC i wdrażanie na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="37ece-103">Tutorial: Use EF Migrations in an ASP.NET MVC app and deploy to Azure</span></span>

<span data-ttu-id="37ece-104">Do tej pory aplikacja internetowa firmy Contoso University została uruchomiona lokalnie w IIS Express na komputerze deweloperskim.</span><span class="sxs-lookup"><span data-stu-id="37ece-104">So far the Contoso University sample web application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="37ece-105">Aby udostępnić rzeczywistą aplikację innym osobom korzystającym z Internetu, należy wdrożyć ją w dostawcy hostingu w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="37ece-105">To make a real application available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="37ece-106">W tym samouczku można włączyć migracje Code First i wdrożyć aplikację w chmurze na platformie Azure:</span><span class="sxs-lookup"><span data-stu-id="37ece-106">In this tutorial, you enable Code First migrations and deploy the application to the cloud in Azure:</span></span>

- <span data-ttu-id="37ece-107">Włącz Migracje Code First.</span><span class="sxs-lookup"><span data-stu-id="37ece-107">Enable Code First Migrations.</span></span> <span data-ttu-id="37ece-108">Funkcja migracji pozwala zmienić model danych i wdrożyć zmiany w środowisku produkcyjnym, aktualizując schemat bazy danych bez konieczności porzucania i ponownego tworzenia bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-108">The Migrations feature enables you to change the data model and deploy your changes to production by updating the database schema without having to drop and re-create the database.</span></span>
- <span data-ttu-id="37ece-109">Wdróż na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="37ece-109">Deploy to Azure.</span></span> <span data-ttu-id="37ece-110">Ten krok jest opcjonalny; Możesz kontynuować pracę z pozostałymi samouczkami bez wdrażania projektu.</span><span class="sxs-lookup"><span data-stu-id="37ece-110">This step is optional; you can continue with the remaining tutorials without having deployed the project.</span></span>

<span data-ttu-id="37ece-111">Zalecamy używanie procesu ciągłej integracji z kontrolą źródła dla wdrożenia, ale ten samouczek nie obejmuje tych tematów.</span><span class="sxs-lookup"><span data-stu-id="37ece-111">We recommend that you use a continuous integration process with source control for deployment, but this tutorial does not cover those topics.</span></span> <span data-ttu-id="37ece-112">Aby uzyskać więcej informacji, zobacz rozdziały [kontroli źródła](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) i [ciągłej integracji](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) umożliwiające [Tworzenie rzeczywistych aplikacji w chmurze na platformie Azure](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction).</span><span class="sxs-lookup"><span data-stu-id="37ece-112">For more information, see the [source control](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) and [continuous integration](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) chapters of [Building Real-World Cloud Apps with Azure](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction).</span></span>

<span data-ttu-id="37ece-113">W tym samouczku przedstawiono następujące instrukcje:</span><span class="sxs-lookup"><span data-stu-id="37ece-113">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="37ece-114">Włącz migracje Code First</span><span class="sxs-lookup"><span data-stu-id="37ece-114">Enable Code First migrations</span></span>
> * <span data-ttu-id="37ece-115">Wdróż aplikację na platformie Azure (opcjonalnie)</span><span class="sxs-lookup"><span data-stu-id="37ece-115">Deploy the app in Azure (optional)</span></span>

## <a name="prerequisites"></a><span data-ttu-id="37ece-116">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="37ece-116">Prerequisites</span></span>

- [<span data-ttu-id="37ece-117">Elastyczność połączeń i przejmowanie poleceń</span><span class="sxs-lookup"><span data-stu-id="37ece-117">Connection Resiliency and Command Interception</span></span>](connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md)

## <a name="enable-code-first-migrations"></a><span data-ttu-id="37ece-118">Włącz migracje Code First</span><span class="sxs-lookup"><span data-stu-id="37ece-118">Enable Code First migrations</span></span>

<span data-ttu-id="37ece-119">Podczas tworzenia nowej aplikacji model danych jest często zmieniany, a przy każdym zmianie modelu jest on synchronizowany z bazą danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-119">When you develop a new application, your data model changes frequently, and each time the model changes, it gets out of sync with the database.</span></span> <span data-ttu-id="37ece-120">Skonfigurowano Entity Framework, aby automatycznie porzucić i ponownie utworzyć bazę danych przy każdej zmianie modelu danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-120">You have configured the Entity Framework to automatically drop and re-create the database each time you change the data model.</span></span> <span data-ttu-id="37ece-121">Po dodaniu, usunięciu lub zmianie klas jednostek lub zmianie `DbContext` klasy, przy następnym uruchomieniu aplikacji automatycznie usuwa istniejącą bazę danych, tworzy nową, która jest zgodna z modelem, i wydaje ją z danymi testowymi.</span><span class="sxs-lookup"><span data-stu-id="37ece-121">When you add, remove, or change entity classes or change your `DbContext` class, the next time you run the application it automatically deletes your existing database, creates a new one that matches the model, and seeds it with test data.</span></span>

<span data-ttu-id="37ece-122">Ta metoda zachowania synchronizacji bazy danych z modelem danych działa prawidłowo, dopóki aplikacja nie zostanie wdrożona w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="37ece-122">This method of keeping the database in sync with the data model works well until you deploy the application to production.</span></span> <span data-ttu-id="37ece-123">Gdy aplikacja jest uruchomiona w środowisku produkcyjnym, zazwyczaj zapisuje dane, które mają być przechowywane, i nie ma potrzeby utraty wszystkiego przy każdym wprowadzeniu zmiany, takiej jak dodanie nowej kolumny.</span><span class="sxs-lookup"><span data-stu-id="37ece-123">When the application is running in production, it is usually storing data that you want to keep, and you don't want to lose everything each time you make a change such as adding a new column.</span></span> <span data-ttu-id="37ece-124">Funkcja [migracje Code First](https://msdn.microsoft.com/data/jj591621) rozwiązuje ten problem, włączając Code First do aktualizowania schematu bazy danych zamiast upuszczania i ponownego tworzenia bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-124">The [Code First Migrations](https://msdn.microsoft.com/data/jj591621) feature solves this problem by enabling Code First to update the database schema instead of dropping and re-creating the database.</span></span> <span data-ttu-id="37ece-125">W tym samouczku zostanie wdrożona aplikacja i zostanie ona przygotowana do włączenia migracji.</span><span class="sxs-lookup"><span data-stu-id="37ece-125">In this tutorial, you'll deploy the application, and to prepare for that you'll enable Migrations.</span></span>

1. <span data-ttu-id="37ece-126">Wyłącz inicjatora, który został wcześniej skonfigurowany przez dodanie komentarza lub usunięcie `contexts` elementu dodanego do pliku Web. config aplikacji.</span><span class="sxs-lookup"><span data-stu-id="37ece-126">Disable the initializer that you set up earlier by commenting out or deleting the `contexts` element that you added to the application Web.config file.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample1.xml?highlight=2,6)]
2. <span data-ttu-id="37ece-127">Również w pliku *Web. config* aplikacji Zmień nazwę bazy danych w parametrach połączenia na ContosoUniversity2.</span><span class="sxs-lookup"><span data-stu-id="37ece-127">Also in the application *Web.config* file, change the name of the database in the connection string to ContosoUniversity2.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample2.xml?highlight=2)]

    <span data-ttu-id="37ece-128">Ta zmiana konfiguruje projekt tak, aby podczas pierwszej migracji została utworzona nowa baza danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-128">This change sets up the project so that the first migration creates a new database.</span></span> <span data-ttu-id="37ece-129">Nie jest to wymagane, ale zobaczysz później, dlaczego jest to dobry pomysł.</span><span class="sxs-lookup"><span data-stu-id="37ece-129">This isn't required but you'll see later why it's a good idea.</span></span>
3. <span data-ttu-id="37ece-130">Z **narzędzia** menu, wybierz opcję **Menedżera pakietów NuGet** > **Konsola Menedżera pakietów**.</span><span class="sxs-lookup"><span data-stu-id="37ece-130">From the **Tools** menu, select **NuGet Package Manager** > **Package Manager Console**.</span></span>

1. <span data-ttu-id="37ece-131">`PM>` W wierszu polecenia wprowadź następujące polecenia:</span><span class="sxs-lookup"><span data-stu-id="37ece-131">At the `PM>` prompt enter the following commands:</span></span>

    ```text
    enable-migrations
    add-migration InitialCreate
    ```

    <span data-ttu-id="37ece-132">Polecenie tworzy folder *migracji* w projekcie ContosoUniversity i umieszcza w tym folderze plik Configuration.cs, który można edytować w celu skonfigurowania migracji. `enable-migrations`</span><span class="sxs-lookup"><span data-stu-id="37ece-132">The `enable-migrations` command creates a *Migrations* folder in the ContosoUniversity project, and it puts in that folder a *Configuration.cs* file that you can edit to configure Migrations.</span></span>

    <span data-ttu-id="37ece-133">(Jeśli pominięto powyższy krok, który powoduje zmianę nazwy bazy danych, migracja spowoduje znalezienie istniejącej bazy danych i automatyczne wykonanie `add-migration` polecenia.</span><span class="sxs-lookup"><span data-stu-id="37ece-133">(If you missed the step above that directs you to change the database name, Migrations will find the existing database and automatically do the `add-migration` command.</span></span> <span data-ttu-id="37ece-134">To nie oznacza, że po wdrożeniu bazy danych nie będzie wykonywany test kodu migracji.</span><span class="sxs-lookup"><span data-stu-id="37ece-134">That's okay, it just means you won't run a test of the migrations code before you deploy the database.</span></span> <span data-ttu-id="37ece-135">Później po uruchomieniu `update-database` polecenia nic się nie dzieje, ponieważ baza danych już istnieje.</span><span class="sxs-lookup"><span data-stu-id="37ece-135">Later when you run the `update-database` command nothing will happen because the database already exists.)</span></span>

    <span data-ttu-id="37ece-136">Otwórz plik *ContosoUniversity\Migrations\Configuration.cs* .</span><span class="sxs-lookup"><span data-stu-id="37ece-136">Open the *ContosoUniversity\Migrations\Configuration.cs* file.</span></span> <span data-ttu-id="37ece-137">Podobnie jak w przypadku klasy inicjatora, która została `Configuration` wcześniej wykorzystana, Klasa `Seed` zawiera metodę.</span><span class="sxs-lookup"><span data-stu-id="37ece-137">Like the initializer class that you saw earlier, the `Configuration` class includes a `Seed` method.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample3.cs)]

    <span data-ttu-id="37ece-138">Celem metody inicjatora [](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) jest umożliwienie wstawiania lub aktualizowania danych testowych po Code First tworzenia lub aktualizowania bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-138">The purpose of the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is to enable you to insert or update test data after Code First creates or updates the database.</span></span> <span data-ttu-id="37ece-139">Metoda jest wywoływana, gdy baza danych zostanie utworzona, i za każdym razem, gdy schemat bazy danych zostanie zaktualizowany po zmianie modelu danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-139">The method is called when the database is created and every time the database schema is updated after a data model change.</span></span>

### <a name="set-up-the-seed-method"></a><span data-ttu-id="37ece-140">Konfigurowanie metody inicjatora</span><span class="sxs-lookup"><span data-stu-id="37ece-140">Set up the Seed method</span></span>

<span data-ttu-id="37ece-141">Gdy porzucasz i utworzysz ponownie bazę danych dla każdej zmiany modelu danych, użyj `Seed` metody inicjatora, aby wstawić dane testowe, ponieważ po każdej zmianie modelu baza danych zostanie porzucona i wszystkie dane testowe zostaną utracone.</span><span class="sxs-lookup"><span data-stu-id="37ece-141">When you drop and re-create the database for every data model change, you use the initializer class's `Seed` method to insert test data, because after every model change the database is dropped and all the test data is lost.</span></span> <span data-ttu-id="37ece-142">Przy Migracje Code First dane testowe są zachowywane po zmianie bazy danych, więc w tym przypadku dane [](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) testowe w metodzie inicjatora zwykle nie są konieczne.</span><span class="sxs-lookup"><span data-stu-id="37ece-142">With Code First Migrations, test data is retained after database changes, so including test data in the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is typically not necessary.</span></span> <span data-ttu-id="37ece-143">W rzeczywistości nie ma potrzeby `Seed` , aby wstawiać dane testowe, jeśli będziesz używać migracji do wdrożenia bazy danych w środowisku produkcyjnym, `Seed` ponieważ metoda zostanie uruchomiona w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="37ece-143">In fact, you don't want the `Seed` method to insert test data if you'll be using Migrations to deploy the database to production, because the `Seed` method will run in production.</span></span> <span data-ttu-id="37ece-144">W takim przypadku należy użyć `Seed` metody do wstawienia do bazy danych tylko potrzebnych danych w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="37ece-144">In that case, you want the `Seed` method to insert into the database only the data that you need in production.</span></span> <span data-ttu-id="37ece-145">Na przykład baza danych może zawierać rzeczywiste nazwy działów w tabeli, `Department` gdy aplikacja zostanie udostępniona w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="37ece-145">For example, you might want the database to include actual department names in the `Department` table when the application becomes available in production.</span></span>

<span data-ttu-id="37ece-146">Na potrzeby tego samouczka będziesz używać migracji do wdrożenia, ale `Seed` Metoda ta będzie wstawiać dane testowe mimo wszystko, aby ułatwić sprawdzenie, jak działa funkcja aplikacji bez konieczności ręcznego wstawiania dużej ilości danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-146">For this tutorial, you'll be using Migrations for deployment, but your `Seed` method will insert test data anyway in order to make it easier to see how application functionality works without having to manually insert a lot of data.</span></span>

1. <span data-ttu-id="37ece-147">Zastąp zawartość pliku *Configuration.cs* następującym kodem, który ładuje dane testowe do nowej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-147">Replace the contents of the *Configuration.cs* file with the following code, which loads test data into the new database.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample4.cs)]

    <span data-ttu-id="37ece-148">Metoda [inicjatora](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) przyjmuje obiekt kontekstu bazy danych jako parametr wejściowy, a kod w metodzie używa tego obiektu do dodawania nowych jednostek do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-148">The [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method takes the database context object as an input parameter, and the code in the method uses that object to add new entities to the database.</span></span> <span data-ttu-id="37ece-149">Dla każdego typu jednostki, kod tworzy kolekcję nowych jednostek, dodaje je do odpowiedniej właściwości [nieogólnymi](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx) , a następnie zapisuje zmiany w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-149">For each entity type, the code creates a collection of new entities, adds them to the appropriate [DbSet](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx) property, and then saves the changes to the database.</span></span> <span data-ttu-id="37ece-150">Nie jest konieczne wywoływanie metody [metody SaveChanges](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx) po każdej grupie jednostek, podobnie jak w tym miejscu, ale ułatwia to znalezienie źródła problemu w przypadku wystąpienia wyjątku podczas zapisu w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-150">It isn't necessary to call the [SaveChanges](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx) method after each group of entities, as is done here, but doing that helps you locate the source of a problem if an exception occurs while the code is writing to the database.</span></span>

    <span data-ttu-id="37ece-151">Niektóre instrukcje, które wstawiają dane, używają metody [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) w celu wykonania operacji "upsert".</span><span class="sxs-lookup"><span data-stu-id="37ece-151">Some of the statements that insert data use the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method to perform an "upsert" operation.</span></span> <span data-ttu-id="37ece-152">Ponieważ metoda jest uruchamiana za każdym razem, `update-database` gdy wykonujesz polecenie, zwykle po każdej migracji, nie można tylko wstawić danych, ponieważ wiersze, które próbujesz dodać, będą już dostępne po pierwszej migracji, która tworzy bazę danych. `Seed`</span><span class="sxs-lookup"><span data-stu-id="37ece-152">Because the `Seed` method runs every time you execute the `update-database` command, typically after each migration, you can't just insert data, because the rows you are trying to add will already be there after the first migration that creates the database.</span></span> <span data-ttu-id="37ece-153">Operacja "upsert" zapobiega błędom, które mogą wystąpić w przypadku próby wstawienia wiersza, który już istnieje, ale ***zastępuje*** wszelkie zmiany danych, które mogły zostać wprowadzone podczas testowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="37ece-153">The "upsert" operation prevents errors that would happen if you try to insert a row that already exists, but it ***overrides*** any changes to data that you may have made while testing the application.</span></span> <span data-ttu-id="37ece-154">Dane testowe w niektórych tabelach mogą nie być potrzebne: w niektórych przypadkach, gdy zmieniasz dane podczas testowania, jeśli chcesz, aby zmiany były nadal wykonywane po aktualizacji bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-154">With test data in some tables you might not want that to happen: in some cases when you change data while testing you want your changes to remain after database updates.</span></span> <span data-ttu-id="37ece-155">W takim przypadku należy wykonać operację warunkowego wstawiania: Wstaw wiersz tylko wtedy, gdy jeszcze nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="37ece-155">In that case you want to do a conditional insert operation: insert a row only if it doesn't already exist.</span></span> <span data-ttu-id="37ece-156">Metoda inicjatora używa obu metod.</span><span class="sxs-lookup"><span data-stu-id="37ece-156">The Seed method uses both approaches.</span></span>

    <span data-ttu-id="37ece-157">Pierwszy parametr przesłany do metody [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) określa właściwość, która ma zostać użyta do sprawdzenia, czy wiersz już istnieje.</span><span class="sxs-lookup"><span data-stu-id="37ece-157">The first parameter passed to the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method specifies the property to use to check if a row already exists.</span></span> <span data-ttu-id="37ece-158">Dla danych studenta testowego, które zapewniasz, `LastName` właściwość może być używana do tego celu, ponieważ każda Ostatnia nazwa na liście jest unikatowa:</span><span class="sxs-lookup"><span data-stu-id="37ece-158">For the test student data that you are providing, the `LastName` property can be used for this purpose since each last name in the list is unique:</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample5.cs)]

    <span data-ttu-id="37ece-159">Ten kod zakłada, że ostatnie nazwy są unikatowe.</span><span class="sxs-lookup"><span data-stu-id="37ece-159">This code assumes that last names are unique.</span></span> <span data-ttu-id="37ece-160">W przypadku ręcznego dodania ucznia z duplikatem nazwiska podczas następnego przeprowadzenia migracji zostanie wyświetlony następujący wyjątek:</span><span class="sxs-lookup"><span data-stu-id="37ece-160">If you manually add a student with a duplicate last name, you'll get the following exception the next time you perform a migration:</span></span>

    <span data-ttu-id="37ece-161">**Sekwencja zawiera więcej niż jeden element**</span><span class="sxs-lookup"><span data-stu-id="37ece-161">**Sequence contains more than one element**</span></span>

    <span data-ttu-id="37ece-162">Aby uzyskać informacje na temat sposobu obsługi nadmiarowych danych, takich jak dwie uczniów o nazwie "Alexander Carson", zobacz artykuł dotyczący umieszczania [i debugowania Entity Framework (EF) baz danych](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) na blogu Rick Anderson.</span><span class="sxs-lookup"><span data-stu-id="37ece-162">For information about how to handle redundant data such as two students named "Alexander Carson", see [Seeding and Debugging Entity Framework (EF) DBs](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) on Rick Anderson's blog.</span></span> <span data-ttu-id="37ece-163">Aby uzyskać więcej informacji na `AddOrUpdate` temat metody, zobacz temat zapoznaj [się z opcją Dr 4,3 AddOrUpdate](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/) na blogu Julie Lerman.</span><span class="sxs-lookup"><span data-stu-id="37ece-163">For more information about the `AddOrUpdate` method, see [Take care with EF 4.3 AddOrUpdate Method](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/) on Julie Lerman's blog.</span></span>

    <span data-ttu-id="37ece-164">Kod, który tworzy `Enrollment` jednostki założono, że `ID` masz wartość `students` w jednostkach w kolekcji, chociaż nie została ustawiona ta właściwość w kodzie, który tworzy kolekcję.</span><span class="sxs-lookup"><span data-stu-id="37ece-164">The code that creates `Enrollment` entities assumes you have the `ID` value in the entities in the `students` collection, although you didn't set that property in the code that creates the collection.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample6.cs?highlight=2)]

    <span data-ttu-id="37ece-165">Właściwości można użyć w `ID` tym miejscu, `ID` ponieważ wartość jest ustawiana `students` podczas wywoływania `SaveChanges` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="37ece-165">You can use the `ID` property here because the `ID` value is set when you call `SaveChanges` for the `students` collection.</span></span> <span data-ttu-id="37ece-166">EF automatycznie pobiera wartość klucza podstawowego podczas wstawiania jednostki do bazy danych i aktualizuje `ID` Właściwość jednostki w pamięci.</span><span class="sxs-lookup"><span data-stu-id="37ece-166">EF automatically gets the primary key value when it inserts an entity into the database, and it updates the `ID` property of the entity in memory.</span></span>

    <span data-ttu-id="37ece-167">Kod, który dodaje każdą `Enrollment` jednostkę do zestawu `Enrollments` `AddOrUpdate` jednostek, nie używa metody.</span><span class="sxs-lookup"><span data-stu-id="37ece-167">The code that adds each `Enrollment` entity to the `Enrollments` entity set doesn't use the `AddOrUpdate` method.</span></span> <span data-ttu-id="37ece-168">Sprawdza, czy jednostka już istnieje i wstawia jednostkę, jeśli nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="37ece-168">It checks if an entity already exists and inserts the entity if it doesn't exist.</span></span> <span data-ttu-id="37ece-169">Takie podejście spowoduje zachowanie zmian wprowadzonych w klasie rejestracji za pomocą interfejsu użytkownika aplikacji.</span><span class="sxs-lookup"><span data-stu-id="37ece-169">This approach will preserve changes you make to an enrollment grade by using the application UI.</span></span> <span data-ttu-id="37ece-170">Kod jest przełączany przez każdy element `Enrollment`członkowski [listy](https://msdn.microsoft.com/library/6sh2ey19.aspx) i jeśli rejestracja nie zostanie znaleziona w bazie danych, zostanie dodana Rejestracja do bazy danych programu.</span><span class="sxs-lookup"><span data-stu-id="37ece-170">The code loops through each member of the `Enrollment`[List](https://msdn.microsoft.com/library/6sh2ey19.aspx) and if the enrollment is not found in the database, it adds the enrollment to the database.</span></span> <span data-ttu-id="37ece-171">Przy pierwszym aktualizowaniu bazy danych baza danych będzie pusta, co spowoduje dodanie każdej rejestracji.</span><span class="sxs-lookup"><span data-stu-id="37ece-171">The first time you update the database, the database will be empty, so it will add each enrollment.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample7.cs)]

2. <span data-ttu-id="37ece-172">Skompiluj projekt.</span><span class="sxs-lookup"><span data-stu-id="37ece-172">Build the project.</span></span>

### <a name="execute-the-first-migration"></a><span data-ttu-id="37ece-173">Wykonaj pierwszą migrację</span><span class="sxs-lookup"><span data-stu-id="37ece-173">Execute the first migration</span></span>

<span data-ttu-id="37ece-174">Po wykonaniu `add-migration` polecenia, migracja wygenerowała kod, który mógłby utworzyć bazę danych od podstaw.</span><span class="sxs-lookup"><span data-stu-id="37ece-174">When you executed the `add-migration` command, Migrations generated the code that would create the database from scratch.</span></span> <span data-ttu-id="37ece-175">Ten kod jest również w folderze *migracje* w pliku o nazwie  *&lt;timestamp&gt;\_InitialCreate.cs*.</span><span class="sxs-lookup"><span data-stu-id="37ece-175">This code is also in the *Migrations* folder, in the file named *&lt;timestamp&gt;\_InitialCreate.cs*.</span></span> <span data-ttu-id="37ece-176">Metoda klasy tworzy tabele bazy danych, które odpowiadają zestawom `Down` jednostek modelu danych, a metoda je usuwa. `InitialCreate` `Up`</span><span class="sxs-lookup"><span data-stu-id="37ece-176">The `Up` method of the `InitialCreate` class creates the database tables that correspond to the data model entity sets, and the `Down` method deletes them.</span></span>

[!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample8.cs)]

<span data-ttu-id="37ece-177">Migracja wywołuje `Up` metodę w celu zaimplementowania zmian modelu danych dla migracji.</span><span class="sxs-lookup"><span data-stu-id="37ece-177">Migrations calls the `Up` method to implement the data model changes for a migration.</span></span> <span data-ttu-id="37ece-178">Po wprowadzeniu polecenia w celu wycofania aktualizacji migracja wywołuje `Down` metodę.</span><span class="sxs-lookup"><span data-stu-id="37ece-178">When you enter a command to roll back the update, Migrations calls the `Down` method.</span></span>

<span data-ttu-id="37ece-179">Jest to początkowa migracja, która została utworzona po wprowadzeniu `add-migration InitialCreate` polecenia.</span><span class="sxs-lookup"><span data-stu-id="37ece-179">This is the initial migration that was created when you entered the `add-migration InitialCreate` command.</span></span> <span data-ttu-id="37ece-180">Parametr (`InitialCreate` w tym przykładzie) jest używany jako nazwa pliku i może być dowolnie wybrany. zazwyczaj należy wybrać słowo lub frazę, która podsumowuje zawartość wykonywaną podczas migracji.</span><span class="sxs-lookup"><span data-stu-id="37ece-180">The parameter (`InitialCreate` in the example) is used for the file name and can be whatever you want; you typically choose a word or phrase that summarizes what is being done in the migration.</span></span> <span data-ttu-id="37ece-181">Można na przykład nazwać późniejszej migracji &quot;.&quot;</span><span class="sxs-lookup"><span data-stu-id="37ece-181">For example, you might name a later migration &quot;AddDepartmentTable&quot;.</span></span>

<span data-ttu-id="37ece-182">W przypadku utworzenia początkowej migracji, gdy baza danych już istnieje, kod tworzenia bazy danych jest generowany, ale nie musi działać, ponieważ baza danych jest już zgodna z modelem danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-182">If you created the initial migration when the database already exists, the database creation code is generated but it doesn't have to run because the database already matches the data model.</span></span> <span data-ttu-id="37ece-183">Po wdrożeniu aplikacji w innym środowisku, w którym baza danych jeszcze nie istnieje, ten kod zostanie uruchomiony w celu utworzenia bazy danych, więc dobrym pomysłem jest przetestowanie go w pierwszej kolejności.</span><span class="sxs-lookup"><span data-stu-id="37ece-183">When you deploy the app to another environment where the database doesn't exist yet, this code will run to create your database, so it's a good idea to test it first.</span></span> <span data-ttu-id="37ece-184">Dlatego zmieniono nazwę bazy danych w parametrach połączenia wcześniej&mdash;, dzięki czemu migracja może utworzyć nową od podstaw.</span><span class="sxs-lookup"><span data-stu-id="37ece-184">That's why you changed the name of the database in the connection string earlier&mdash;so that migrations can create a new one from scratch.</span></span>

1. <span data-ttu-id="37ece-185">W oknie **konsola Menedżera pakietów** wprowadź następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="37ece-185">In the **Package Manager Console** window, enter the following command:</span></span>

    `update-database`

    <span data-ttu-id="37ece-186">Polecenie uruchamia metodę, aby utworzyć bazę danych `Seed` , a następnie uruchamia metodę, aby wypełnić bazę danych. `Up` `update-database`</span><span class="sxs-lookup"><span data-stu-id="37ece-186">The `update-database` command runs the `Up` method to create the database and then it runs the `Seed` method to populate the database.</span></span> <span data-ttu-id="37ece-187">Ten sam proces zostanie uruchomiony automatycznie w środowisku produkcyjnym po wdrożeniu aplikacji, jak widać w poniższej sekcji.</span><span class="sxs-lookup"><span data-stu-id="37ece-187">The same process will run automatically in production after you deploy the application, as you'll see in the following section.</span></span>
2. <span data-ttu-id="37ece-188">Użyj **Eksplorator serwera** , aby sprawdzić bazę danych zgodnie z pierwszym samouczkiem i uruchomić aplikację w celu sprawdzenia, czy wszystkie elementy nadal działają tak samo jak wcześniej.</span><span class="sxs-lookup"><span data-stu-id="37ece-188">Use **Server Explorer** to inspect the database as you did in the first tutorial, and run the application to verify that everything still works the same as before.</span></span>

## <a name="deploy-to-azure"></a><span data-ttu-id="37ece-189">Wdrażanie na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="37ece-189">Deploy to Azure</span></span>

<span data-ttu-id="37ece-190">Do tej pory aplikacja została uruchomiona lokalnie w IIS Express na komputerze deweloperskim.</span><span class="sxs-lookup"><span data-stu-id="37ece-190">So far the application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="37ece-191">Aby udostępnić je innym osobom, które będą mogły korzystać z Internetu, należy wdrożyć je dla dostawcy hostingu w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="37ece-191">To make it available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="37ece-192">W tej części samouczka zostanie wdrożona na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="37ece-192">In this section of the tutorial, you'll deploy it to Azure.</span></span> <span data-ttu-id="37ece-193">Ta sekcja jest opcjonalna. Możesz pominąć ten proces i przejść do poniższego samouczka lub dostosować instrukcje w tej sekcji, aby wybrać innego wybranego dostawcę hostingu.</span><span class="sxs-lookup"><span data-stu-id="37ece-193">This section is optional; you can skip this and continue with the following tutorial, or you can adapt the instructions in this section for a different hosting provider of your choice.</span></span>

### <a name="use-code-first-migrations-to-deploy-the-database"></a><span data-ttu-id="37ece-194">Wdrażanie bazy danych za pomocą migracji Code First</span><span class="sxs-lookup"><span data-stu-id="37ece-194">Use Code First migrations to deploy the database</span></span>

<span data-ttu-id="37ece-195">Aby wdrożyć bazę danych, użyj Migracje Code First.</span><span class="sxs-lookup"><span data-stu-id="37ece-195">To deploy the database, you'll use Code First Migrations.</span></span> <span data-ttu-id="37ece-196">Podczas tworzenia profilu publikowania, który służy do konfigurowania ustawień do wdrożenia z programu Visual Studio, należy zaznaczyć pole wyboru z etykietą **baza danych aktualizacji**.</span><span class="sxs-lookup"><span data-stu-id="37ece-196">When you create the publish profile that you use to configure settings for deploying from Visual Studio, you'll select a check box labeled **Update Database**.</span></span> <span data-ttu-id="37ece-197">To ustawienie powoduje, że proces wdrażania automatycznie skonfiguruje plik *Web. config* aplikacji na serwerze docelowym, dzięki czemu Code First używa `MigrateDatabaseToLatestVersion` klasy inicjatora.</span><span class="sxs-lookup"><span data-stu-id="37ece-197">This setting causes the deployment process to automatically configure the application *Web.config* file on the destination server so that Code First uses the `MigrateDatabaseToLatestVersion` initializer class.</span></span>

<span data-ttu-id="37ece-198">Program Visual Studio nie wykonuje żadnych czynności w odniesieniu do bazy danych podczas procesu wdrażania podczas kopiowania projektu na serwer docelowy.</span><span class="sxs-lookup"><span data-stu-id="37ece-198">Visual Studio doesn't do anything with the database during the deployment process while it is copying your project to the destination server.</span></span> <span data-ttu-id="37ece-199">Po uruchomieniu wdrożonej aplikacji i uzyskaniu dostępu do bazy danych po raz pierwszy po wdrożeniu Code First sprawdza, czy baza danych jest zgodna z modelem danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-199">When you run the deployed application and it accesses the database for the first time after deployment, Code First checks if the database matches the data model.</span></span> <span data-ttu-id="37ece-200">Jeśli wystąpi niezgodność, Code First automatycznie tworzy bazę danych (jeśli jeszcze nie istnieje) lub aktualizuje schemat bazy danych do najnowszej wersji (Jeśli baza danych istnieje, ale nie jest zgodna z modelem).</span><span class="sxs-lookup"><span data-stu-id="37ece-200">If there's a mismatch, Code First automatically creates the database (if it doesn't exist yet) or updates the database schema to the latest version (if a database exists but doesn't match the model).</span></span> <span data-ttu-id="37ece-201">Jeśli aplikacja implementuje `Seed` metodę migracji, metoda jest uruchamiana po utworzeniu bazy danych lub zaktualizowaniu schematu.</span><span class="sxs-lookup"><span data-stu-id="37ece-201">If the application implements a Migrations `Seed` method, the method runs after the database is created or the schema is updated.</span></span>

<span data-ttu-id="37ece-202">`Seed` Metoda migracji wstawia dane testowe.</span><span class="sxs-lookup"><span data-stu-id="37ece-202">Your Migrations `Seed` method inserts test data.</span></span> <span data-ttu-id="37ece-203">W przypadku wdrażania w środowisku produkcyjnym należy zmienić `Seed` metodę tak, aby wstawiali tylko dane, które mają zostać wstawione do produkcyjnej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-203">If you were deploying to a production environment, you would have to change the `Seed` method so that it only inserts data that you want to be inserted into your production database.</span></span> <span data-ttu-id="37ece-204">Na przykład w bieżącym modelu danych może być konieczne posiadanie rzeczywistych kursów, ale fikcyjnych uczniów w bazie danych programistycznych.</span><span class="sxs-lookup"><span data-stu-id="37ece-204">For example, in your current data model you might want to have real courses but fictional students in the development database.</span></span> <span data-ttu-id="37ece-205">Można napisać `Seed` metodę, która ma zostać załadowana zarówno podczas opracowywania, jak i przed wdrożeniem w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="37ece-205">You can write a `Seed` method to load both in development, and then comment out the fictional students before you deploy to production.</span></span> <span data-ttu-id="37ece-206">Można też napisać `Seed` metodę w celu załadowania tylko kursów, a następnie ręcznie wprowadzić fikcyjne uczniów z testową bazą danych przy użyciu interfejsu użytkownika aplikacji.</span><span class="sxs-lookup"><span data-stu-id="37ece-206">Or you can write a `Seed` method to load only courses, and enter the fictional students in the test database manually by using the application's UI.</span></span>

### <a name="get-an-azure-account"></a><span data-ttu-id="37ece-207">Pobierz konto platformy Azure</span><span class="sxs-lookup"><span data-stu-id="37ece-207">Get an Azure account</span></span>

<span data-ttu-id="37ece-208">Musisz mieć konto platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="37ece-208">You'll need an Azure account.</span></span> <span data-ttu-id="37ece-209">Jeśli jeszcze tego nie masz, ale masz subskrypcję programu Visual Studio, [możesz aktywować korzyści](https://azure.microsoft.com/pricing/member-offers/credit-for-visual-studio-subscribers/
)z subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="37ece-209">If you don't already have one, but you do have a Visual Studio subscription, you can [activate your subscription benefits](https://azure.microsoft.com/pricing/member-offers/credit-for-visual-studio-subscribers/
).</span></span> <span data-ttu-id="37ece-210">W przeciwnym razie możesz utworzyć bezpłatne konto próbne w zaledwie kilka minut.</span><span class="sxs-lookup"><span data-stu-id="37ece-210">Otherwise, you can create a free trial account in just a couple of minutes.</span></span> <span data-ttu-id="37ece-211">Aby uzyskać więcej informacji, zobacz [bezpłatnej wersji próbnej Azure](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="37ece-211">For details, see [Azure Free Trial](https://azure.microsoft.com/free/).</span></span>

### <a name="create-a-web-site-and-a-sql-database-in-azure"></a><span data-ttu-id="37ece-212">Tworzenie witryny sieci Web i bazy danych SQL na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="37ece-212">Create a web site and a SQL database in Azure</span></span>

<span data-ttu-id="37ece-213">Aplikacja sieci Web na platformie Azure będzie działać w udostępnionym środowisku hostingu, co oznacza, że działa na maszynach wirtualnych, które są udostępniane innym klientom platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="37ece-213">Your web app in Azure will run in a shared hosting environment, which means it runs on virtual machines (VMs) that are shared with other Azure clients.</span></span> <span data-ttu-id="37ece-214">Udostępnione środowisko hostingu jest tanim sposobem na rozpoczęcie pracy w chmurze.</span><span class="sxs-lookup"><span data-stu-id="37ece-214">A shared hosting environment is a low-cost way to get started in the cloud.</span></span> <span data-ttu-id="37ece-215">Później, jeśli ruch internetowy zostanie zwiększony, aplikacja może skalować się, aby zaspokoić potrzeby, uruchamiając na dedykowanych maszynach wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="37ece-215">Later, if your web traffic increases, the application can scale to meet the need by running on dedicated VMs.</span></span> <span data-ttu-id="37ece-216">Aby dowiedzieć się więcej o opcjach cenowych Azure App Service, Przeczytaj [App Service Cennik](https://azure.microsoft.com/pricing/details/app-service/).</span><span class="sxs-lookup"><span data-stu-id="37ece-216">To learn more about Pricing Options for Azure App Service, read [App Service pricing](https://azure.microsoft.com/pricing/details/app-service/).</span></span>

<span data-ttu-id="37ece-217">Baza danych zostanie wdrożona w usłudze Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="37ece-217">You'll deploy the database to Azure SQL database.</span></span> <span data-ttu-id="37ece-218">SQL Database jest usługą relacyjnej bazy danych opartą na chmurze, która jest oparta na SQL Server technologiach.</span><span class="sxs-lookup"><span data-stu-id="37ece-218">SQL database is a cloud-based relational database service that is built on SQL Server technologies.</span></span> <span data-ttu-id="37ece-219">Narzędzia i aplikacje, które działają z SQL Server również współpracują z usługą SQL Database.</span><span class="sxs-lookup"><span data-stu-id="37ece-219">Tools and applications that work with SQL Server also work with SQL database.</span></span>

1. <span data-ttu-id="37ece-220">W [Portal zarządzania platformy Azure](https://portal.azure.com)wybierz pozycję **Utwórz zasób** na lewej karcie, a następnie wybierz pozycję **Zobacz wszystko** w **nowym** okienku (lub *bloku*), aby wyświetlić wszystkie dostępne zasoby.</span><span class="sxs-lookup"><span data-stu-id="37ece-220">In the [Azure Management Portal](https://portal.azure.com), choose **Create a resource** in the left tab and then choose **See all** on the **New** pane (or *blade*) to see all available resources.</span></span> <span data-ttu-id="37ece-221">Wybierz pozycję **aplikacja sieci Web i baza danych SQL** w sekcji **Sieć** w bloku **wszystko** .</span><span class="sxs-lookup"><span data-stu-id="37ece-221">Choose **Web App + SQL** in the **Web** section of the **Everything** blade.</span></span> <span data-ttu-id="37ece-222">Na koniec wybierz pozycję **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="37ece-222">Finally, choose **Create**.</span></span>

    ![Tworzenie zasobu w witrynie Azure Portal](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/create-azure-resource.png)

   <span data-ttu-id="37ece-224">Zostanie otwarty formularz służący do tworzenia nowej **aplikacji sieci Web i zasobu SQL** .</span><span class="sxs-lookup"><span data-stu-id="37ece-224">The form to create a new **New Web App + SQL** resource opens.</span></span>

2. <span data-ttu-id="37ece-225">Wprowadź ciąg w polu **Nazwa aplikacji** , który ma być unikatowym adresem URL aplikacji.</span><span class="sxs-lookup"><span data-stu-id="37ece-225">Enter a string in the **App name** box to use as the unique URL for your application.</span></span> <span data-ttu-id="37ece-226">Pełny adres URL będzie zawierać informacje wprowadzone w tym miejscu oraz domyślną domenę usługi Azure App Services (. azurewebsites.net).</span><span class="sxs-lookup"><span data-stu-id="37ece-226">The complete URL will consist of what you enter here plus the default domain of Azure App Services (.azurewebsites.net).</span></span> <span data-ttu-id="37ece-227">Jeśli **Nazwa aplikacji** jest już zajęta, Kreator powiadamia o czerwono, a *Nazwa aplikacji jest* niedostępna.</span><span class="sxs-lookup"><span data-stu-id="37ece-227">If the **App name** is already taken, the Wizard notifies you with a red *The app name is not available* message.</span></span> <span data-ttu-id="37ece-228">Jeśli **Nazwa aplikacji** jest dostępna, zobaczysz zielony znacznik wyboru.</span><span class="sxs-lookup"><span data-stu-id="37ece-228">If the **App name** is available, you see a green checkmark.</span></span>

3. <span data-ttu-id="37ece-229">W polu **subskrypcja** wybierz subskrypcję platformy Azure, w której ma się znajdować **App Service** .</span><span class="sxs-lookup"><span data-stu-id="37ece-229">In the **Subscription** box, choose the Azure Subscription in which you want the **App Service** to reside.</span></span>

4. <span data-ttu-id="37ece-230">W polu tekstowym **Grupa zasobów** wybierz grupę zasobów lub Utwórz nową.</span><span class="sxs-lookup"><span data-stu-id="37ece-230">In the **Resource Group** text box, choose a Resource Group or create a new one.</span></span> <span data-ttu-id="37ece-231">To ustawienie określa centrum danych, w którym zostanie uruchomiona witryna sieci Web.</span><span class="sxs-lookup"><span data-stu-id="37ece-231">This setting specifies which data center your web site will run in.</span></span> <span data-ttu-id="37ece-232">Aby uzyskać więcej informacji na temat grup zasobów, zobacz [grupy zasobów](/azure/azure-resource-manager/resource-group-overview#resource-groups).</span><span class="sxs-lookup"><span data-stu-id="37ece-232">For more information about Resource Groups, see [Resource groups](/azure/azure-resource-manager/resource-group-overview#resource-groups).</span></span>

5. <span data-ttu-id="37ece-233">Utwórz nowy **Plan App Service** , klikając *sekcję App Service*, **Utwórz nową**i wypełnij **App Service plan** (może być taka sama jak nazwa App Service), **Lokalizacja**i **warstwa cenowa** (dostępna jest bezpłatna opcja).</span><span class="sxs-lookup"><span data-stu-id="37ece-233">Create a new **App Service Plan** by clicking the *App Service section*, **Create New**, and fill in **App Service plan** (can be same name as App Service), **Location**, and **Pricing tier** (there is a free option).</span></span>

6. <span data-ttu-id="37ece-234">Kliknij przycisk **SQL Database**, a następnie wybierz pozycję **Utwórz nową bazę danych** lub wybierz istniejącą bazę danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-234">Click **SQL Database**, and then choose **Create a new database** or select an existing database.</span></span>

7. <span data-ttu-id="37ece-235">W polu **Nazwa** wprowadź nazwę bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-235">In the **Name** box, enter a name for your database.</span></span>
8. <span data-ttu-id="37ece-236">Kliknij pole **serwer docelowy** , a następnie wybierz pozycję **Utwórz nowy serwer**.</span><span class="sxs-lookup"><span data-stu-id="37ece-236">Click the **Target Server** box, and then select **Create a new server**.</span></span> <span data-ttu-id="37ece-237">Alternatywnie, jeśli wcześniej utworzono serwer, można wybrać ten serwer z listy dostępnych serwerów.</span><span class="sxs-lookup"><span data-stu-id="37ece-237">Alternatively, if you previously created a server, you can select that server from list of available servers.</span></span>
9. <span data-ttu-id="37ece-238">Wybierz sekcję **warstwa cenowa** , wybierz opcję *bezpłatna*.</span><span class="sxs-lookup"><span data-stu-id="37ece-238">Choose **Pricing tier** section, choose *Free*.</span></span> <span data-ttu-id="37ece-239">Jeśli potrzebne są dodatkowe zasoby, bazę danych można skalować w dowolnym momencie.</span><span class="sxs-lookup"><span data-stu-id="37ece-239">If additional resources are needed, the database can be scaled up at any time.</span></span> <span data-ttu-id="37ece-240">Aby dowiedzieć się więcej na temat cennika usługi Azure SQL, zobacz [Azure SQL Database Cennik](https://azure.microsoft.com/pricing/details/sql-database/managed/).</span><span class="sxs-lookup"><span data-stu-id="37ece-240">To learn more on Azure SQL Pricing, see [Azure SQL Database pricing](https://azure.microsoft.com/pricing/details/sql-database/managed/).</span></span>
10. <span data-ttu-id="37ece-241">Zmodyfikuj [Sortowanie](/sql/relational-databases/collations/collation-and-unicode-support) zgodnie z wymaganiami.</span><span class="sxs-lookup"><span data-stu-id="37ece-241">Modify [collation](/sql/relational-databases/collations/collation-and-unicode-support) as needed.</span></span>
11. <span data-ttu-id="37ece-242">Wprowadź **nazwę użytkownika administratora SQL** administrator i **hasło administratora SQL**.</span><span class="sxs-lookup"><span data-stu-id="37ece-242">Enter an administrator **SQL Admin Username** and **SQL Admin Password**.</span></span>

    - <span data-ttu-id="37ece-243">Jeśli wybrano opcję **nowy serwer SQL Database**, zdefiniuj nową nazwę i hasło, które będą używane później podczas uzyskiwania dostępu do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-243">If you selected **New SQL Database server**, define a new name and password that you'll use later when you access the database.</span></span>
    - <span data-ttu-id="37ece-244">W przypadku wybrania wcześniej utworzonego serwera, wprowadź poświadczenia dla tego serwera.</span><span class="sxs-lookup"><span data-stu-id="37ece-244">If you selected a server that you created previously, enter credentials for that server.</span></span>

12. <span data-ttu-id="37ece-245">Zbieranie danych telemetrycznych można włączyć dla App Service przy użyciu Application Insights.</span><span class="sxs-lookup"><span data-stu-id="37ece-245">Telemetry collection can be enabled for App Service using Application Insights.</span></span> <span data-ttu-id="37ece-246">W przypadku niewielkiej konfiguracji Application Insights zbiera cenne dane dotyczące zdarzeń, wyjątków, zależności, żądań i śledzenia.</span><span class="sxs-lookup"><span data-stu-id="37ece-246">With little configuration, Application Insights collects valuable event, exception, dependency, request, and trace information.</span></span> <span data-ttu-id="37ece-247">Aby dowiedzieć się więcej na temat Application Insights, zobacz [Azure monitor](https://azure.microsoft.com/services/monitor/).</span><span class="sxs-lookup"><span data-stu-id="37ece-247">To learn more about Application Insights, see [Azure Monitor](https://azure.microsoft.com/services/monitor/).</span></span>
13. <span data-ttu-id="37ece-248">Kliknij przycisk **Utwórz** u dołu, aby wskazać, że wszystko zostało zakończone.</span><span class="sxs-lookup"><span data-stu-id="37ece-248">Click **Create** at the bottom to indicate that you're finished.</span></span>

    <span data-ttu-id="37ece-249">Portal zarządzania powraca do strony pulpit nawigacyjny, a w obszarze **powiadomień** u góry strony zostanie wyświetlona witryna.</span><span class="sxs-lookup"><span data-stu-id="37ece-249">The Management Portal returns to the Dashboard page, and the **Notifications** area at the top of the page shows that the site is being created.</span></span> <span data-ttu-id="37ece-250">Po czasie (zwykle krócej niż minutę) istnieje powiadomienie, że wdrożenie zakończyło się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="37ece-250">After a while (typically less than a minute), there's a notification that the Deployment succeeded.</span></span> <span data-ttu-id="37ece-251">Na pasku nawigacyjnym po lewej stronie w sekcji **App Services** zostanie wyświetlona nowa App Service, a nowa baza danych SQL zostanie wyświetlona w sekcji **bazy danych SQL** .</span><span class="sxs-lookup"><span data-stu-id="37ece-251">In the navigation bar at the left, the new App Service appears in the **App Services** section and the new SQL database appears in the **SQL databases** section.</span></span>

### <a name="deploy-the-app-to-azure"></a><span data-ttu-id="37ece-252">Wdrażanie aplikacji na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="37ece-252">Deploy the app to Azure</span></span>

1. <span data-ttu-id="37ece-253">W programie Visual Studio kliknij prawym przyciskiem myszy projekt w **Eksplorator rozwiązań** i wybierz polecenie **Publikuj** z menu kontekstowego.</span><span class="sxs-lookup"><span data-stu-id="37ece-253">In Visual Studio, right-click the project in **Solution Explorer** and select **Publish** from the context menu.</span></span>

2. <span data-ttu-id="37ece-254">Na stronie **Wybierz miejsce docelowe publikowania** wybierz **App Service** a następnie **Wybierz pozycję istniejące**, a następnie wybierz pozycję **Publikuj**.</span><span class="sxs-lookup"><span data-stu-id="37ece-254">On the **Pick a publish target** page, choose **App Service** and then **Select Existing**, and then choose **Publish**.</span></span>

    ![Wybierz stronę docelową publikowania](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/publish-select-existing-azure-app-service.png)

3. <span data-ttu-id="37ece-256">Jeśli Twoja subskrypcja platformy Azure nie została wcześniej dodana w programie Visual Studio, wykonaj czynności opisane na ekranie.</span><span class="sxs-lookup"><span data-stu-id="37ece-256">If you haven't previously added your Azure subscription in Visual Studio, perform the steps on the screen.</span></span> <span data-ttu-id="37ece-257">Te kroki umożliwiają programowi Visual Studio łączenie się z subskrypcją platformy Azure, dzięki czemu lista **App Services** będzie zawierać witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="37ece-257">These steps enable Visual Studio to connect to your Azure subscription so that the list of **App Services** will include your web site.</span></span>

4. <span data-ttu-id="37ece-258">Na stronie **App Service** wybierz subskrypcję, do której został dodany App Service.</span><span class="sxs-lookup"><span data-stu-id="37ece-258">On the **App Service** page, select the **Subscription** you added the App Service to.</span></span> <span data-ttu-id="37ece-259">W obszarze **Widok**wybierz pozycję **Grupa zasobów**.</span><span class="sxs-lookup"><span data-stu-id="37ece-259">Under **View**, select **Resource Group**.</span></span> <span data-ttu-id="37ece-260">Rozwiń grupę zasobów, do której dodano App Service, a następnie wybierz App Service.</span><span class="sxs-lookup"><span data-stu-id="37ece-260">Expand the resource group you added the App Service to, and then select the App Service.</span></span> <span data-ttu-id="37ece-261">Wybierz **przycisk OK** , aby opublikować aplikację.</span><span class="sxs-lookup"><span data-stu-id="37ece-261">Choose **OK** to publish the app.</span></span>

5. <span data-ttu-id="37ece-262">W oknie **danych wyjściowych** znajdują się informacje o wykonywaniu akcji wdrażania i raporty o pomyślnym zakończeniu wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="37ece-262">The **Output** window shows what deployment actions were taken and reports successful completion of the deployment.</span></span>

6. <span data-ttu-id="37ece-263">Po pomyślnym wdrożeniu domyślna przeglądarka automatycznie otwiera adres URL wdrożonej witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="37ece-263">Upon successful deployment, the default browser automatically opens to the URL of the deployed web site.</span></span>

    ![Students_index_page_with_paging](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/cloud-app-browser.png)

    <span data-ttu-id="37ece-265">Twoja aplikacja jest teraz uruchomiona w chmurze.</span><span class="sxs-lookup"><span data-stu-id="37ece-265">Your app is now running in the cloud.</span></span>

<span data-ttu-id="37ece-266">W tym momencie baza danych *SchoolContext* została utworzona w bazie danych SQL Azure, ponieważ wybrano opcję **Wykonaj migracje Code First (uruchamiana przy uruchamianiu aplikacji)** .</span><span class="sxs-lookup"><span data-stu-id="37ece-266">At this point, the *SchoolContext* database has been created in the Azure SQL database because you selected **Execute Code First Migrations (runs on app start)**.</span></span> <span data-ttu-id="37ece-267">Plik *Web. config* w wdrożonej witrynie sieci Web został zmieniony tak, aby inicjator [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) był uruchamiany podczas pierwszego odczytywania lub zapisywania danych w bazie danych (co się stało po wybraniu karty **uczniów** ):</span><span class="sxs-lookup"><span data-stu-id="37ece-267">The *Web.config* file in the deployed web site has been changed so that the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer runs the first time your code reads or writes data in the database (which happened when you selected the **Students** tab):</span></span>

![Fragment pliku Web. config](https://asp.net/media/4367421/mig.png)

<span data-ttu-id="37ece-269">Proces wdrażania tworzy również nowe parametry połączenia *\_(SchoolContext DatabasePublish*migracje Code First), które mają być używane do aktualizacji schematu bazy danych i wypełniania bazy danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-269">The deployment process also created a new connection string *(SchoolContext\_DatabasePublish*) for Code First Migrations to use for updating the database schema and seeding the database.</span></span>

![Parametry połączenia w pliku Web. config](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/image26.png)

<span data-ttu-id="37ece-271">Wdrożoną wersję pliku Web. config można znaleźć na własnym komputerze w *ContosoUniversity\obj\Release\Package\PackageTmp\Web.config*. Możesz uzyskać dostęp do wdrożonego pliku *Web. config* przy użyciu protokołu FTP.</span><span class="sxs-lookup"><span data-stu-id="37ece-271">You can find the deployed version of the Web.config file on your own computer in *ContosoUniversity\obj\Release\Package\PackageTmp\Web.config*. You can access the deployed *Web.config* file itself by using FTP.</span></span> <span data-ttu-id="37ece-272">Aby uzyskać instrukcje, [zobacz ASP.NET Web Deployment using Visual Studio: Wdrażanie aktualizacji](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update)kodu.</span><span class="sxs-lookup"><span data-stu-id="37ece-272">For instructions, see [ASP.NET Web Deployment using Visual Studio: Deploying a Code Update](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update).</span></span> <span data-ttu-id="37ece-273">Postępuj zgodnie z instrukcjami, które zaczynają się od "Aby użyć narzędzia FTP, potrzebne są trzy rzeczy: adres URL FTP, nazwa użytkownika i hasło".</span><span class="sxs-lookup"><span data-stu-id="37ece-273">Follow the instructions that start with "To use an FTP tool, you need three things: the FTP URL, the user name, and the password."</span></span>

> [!NOTE]
> <span data-ttu-id="37ece-274">Aplikacja sieci Web nie implementuje zabezpieczeń, dlatego każda osoba, która odnajdzie adres URL, może zmienić dane.</span><span class="sxs-lookup"><span data-stu-id="37ece-274">The web app doesn't implement security, so anyone who finds the URL can change the data.</span></span> <span data-ttu-id="37ece-275">Aby uzyskać instrukcje dotyczące zabezpieczania witryny sieci Web, zobacz [wdrażanie aplikacji secure ASP.NET MVC z członkostwem, uwierzytelnianiem OAuth i bazą danych SQL na platformie Azure](/aspnet/core/security/authorization/secure-data).</span><span class="sxs-lookup"><span data-stu-id="37ece-275">For instructions on how to secure the web site, see [Deploy a Secure ASP.NET MVC app with Membership, OAuth, and SQL database to Azure](/aspnet/core/security/authorization/secure-data).</span></span> <span data-ttu-id="37ece-276">Można uniemożliwić innym osobom korzystanie z witryny przez zatrzymanie usługi przy użyciu portal zarządzania platformy Azure lub **Eksplorator serwera** w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="37ece-276">You can prevent other people from using the site by stopping the service using the Azure Management Portal or **Server Explorer** in Visual Studio.</span></span>

![Zatrzymaj element menu usługi App Service](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/server-explorer-stop-app-service.png)

## <a name="advanced-migrations-scenarios"></a><span data-ttu-id="37ece-278">Scenariusze migracji zaawansowanej</span><span class="sxs-lookup"><span data-stu-id="37ece-278">Advanced migrations scenarios</span></span>

<span data-ttu-id="37ece-279">Jeśli baza danych zostanie wdrożona automatycznie, zgodnie z opisem w tym samouczku, i wdrożono ją w witrynie sieci Web działającej na wielu serwerach, można uzyskać wiele serwerów próbujących uruchamiać migracje w tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="37ece-279">If you deploy a database by running migrations automatically as shown in this tutorial, and you are deploying to a web site that runs on multiple servers, you could get multiple servers trying to run migrations at the same time.</span></span> <span data-ttu-id="37ece-280">Migracje są niepodzielne, więc jeśli dwa serwery próbują uruchomić tę samą migrację, jeden z nich powiedzie się, a druga zakończy się niepowodzeniem (przy założeniu, że operacje nie będą wykonywane dwa razy).</span><span class="sxs-lookup"><span data-stu-id="37ece-280">Migrations are atomic, so if two servers try to run the same migration, one will succeed and the other will fail (assuming the operations can't be done twice).</span></span> <span data-ttu-id="37ece-281">W tym scenariuszu, jeśli chcesz uniknąć tych problemów, możesz wywoływać migracje ręcznie i skonfigurować własny kod, tak aby był tylko raz.</span><span class="sxs-lookup"><span data-stu-id="37ece-281">In that scenario if you want to avoid those issues, you can call migrations manually and set up your own code so that it only happens once.</span></span> <span data-ttu-id="37ece-282">Aby uzyskać więcej informacji, zobacz [Uruchamianie i wykonywanie skryptów migracji z kodu](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/) na blogu Rowan Miller i [Migrowanie. exe](/ef/ef6/modeling/code-first/migrations/migrate-exe) (w celu wykonywania migracji z wiersza polecenia).</span><span class="sxs-lookup"><span data-stu-id="37ece-282">For more information, see [Running and Scripting Migrations from Code](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/) on Rowan Miller's blog and [Migrate.exe](/ef/ef6/modeling/code-first/migrations/migrate-exe) (for executing migrations from the command line).</span></span>

<span data-ttu-id="37ece-283">Aby uzyskać informacje o innych scenariuszach migracji, zobacz [migracja zrzut ekranu przedstawiający Series](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx).</span><span class="sxs-lookup"><span data-stu-id="37ece-283">For information about other migrations scenarios, see [Migrations Screencast Series](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx).</span></span>

## <a name="update-specific-migration"></a><span data-ttu-id="37ece-284">Aktualizacja określonej migracji</span><span class="sxs-lookup"><span data-stu-id="37ece-284">Update specific migration</span></span>

`update-database -target MigrationName`

<span data-ttu-id="37ece-285">`update-database -target MigrationName` Polecenie uruchamia migrację dodaną.</span><span class="sxs-lookup"><span data-stu-id="37ece-285">The `update-database -target MigrationName` command runs the targeted migration.</span></span>

## <a name="ignore-migration-changes-to-database"></a><span data-ttu-id="37ece-286">Ignoruj zmiany migracji do bazy danych</span><span class="sxs-lookup"><span data-stu-id="37ece-286">Ignore migration changes to database</span></span>

`Add-migration MigrationName -ignoreChanges`

<span data-ttu-id="37ece-287">`ignoreChanges`tworzy pustą migrację z bieżącym modelem jako migawką.</span><span class="sxs-lookup"><span data-stu-id="37ece-287">`ignoreChanges` creates an empty migration with the current model as a snapshot.</span></span>

## <a name="code-first-initializers"></a><span data-ttu-id="37ece-288">Inicjatory Code First</span><span class="sxs-lookup"><span data-stu-id="37ece-288">Code First initializers</span></span>

<span data-ttu-id="37ece-289">W sekcji Deployment wykorzystano inicjatora [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) .</span><span class="sxs-lookup"><span data-stu-id="37ece-289">In the deployment section, you saw the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer being used.</span></span> <span data-ttu-id="37ece-290">Code First udostępnia również inne inicjatory, w tym [CreateDatabaseIfNotExists](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) (wartość domyślna), [DropCreateDatabaseIfModelChanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx) (używany wcześniej) i [DropCreateDatabaseAlways](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx).</span><span class="sxs-lookup"><span data-stu-id="37ece-290">Code First also provides other initializers, including [CreateDatabaseIfNotExists](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) (the default), [DropCreateDatabaseIfModelChanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx) (which you used earlier) and [DropCreateDatabaseAlways](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx).</span></span> <span data-ttu-id="37ece-291">`DropCreateAlways` Inicjator może być przydatny do ustawiania warunków dla testów jednostkowych.</span><span class="sxs-lookup"><span data-stu-id="37ece-291">The `DropCreateAlways` initializer can be useful for setting up conditions for unit tests.</span></span> <span data-ttu-id="37ece-292">Możesz również napisać własne inicjatory i można wywołać inicjalizację jawnie, jeśli nie chcesz czekać, aż aplikacja odczyta lub zapisze w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="37ece-292">You can also write your own initializers, and you can call an initializer explicitly if you don't want to wait until the application reads from or writes to the database.</span></span>

<span data-ttu-id="37ece-293">Aby uzyskać więcej informacji na temat inicjatorów, zobacz [Opis inicjatorów bazy danych w Entity Framework Code First](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm) i rozdział 6 [Entity Framework programowania w książce: Code First](http://shop.oreilly.com/product/0636920022220.do) przez Julie Lerman i Rowan Miller.</span><span class="sxs-lookup"><span data-stu-id="37ece-293">For more information about initializers, see [Understanding Database Initializers in Entity Framework Code First](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm) and chapter 6 of the book [Programming Entity Framework: Code First](http://shop.oreilly.com/product/0636920022220.do) by Julie Lerman and Rowan Miller.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="37ece-294">Pobierz kod</span><span class="sxs-lookup"><span data-stu-id="37ece-294">Get the code</span></span>

[<span data-ttu-id="37ece-295">Pobierz ukończony projekt</span><span class="sxs-lookup"><span data-stu-id="37ece-295">Download the Completed Project</span></span>](https://webpifeed.blob.core.windows.net/webpifeed/Partners/ASP.NET%20MVC%20Application%20Using%20Entity%20Framework%20Code%20First.zip)

## <a name="additional-resources"></a><span data-ttu-id="37ece-296">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="37ece-296">Additional resources</span></span>

<span data-ttu-id="37ece-297">Linki do innych zasobów Entity Framework można znaleźć w temacie [ASP.NET Data Access — zalecane zasoby](xref:whitepapers/aspnet-data-access-content-map).</span><span class="sxs-lookup"><span data-stu-id="37ece-297">Links to other Entity Framework resources can be found in [ASP.NET Data Access - Recommended Resources](xref:whitepapers/aspnet-data-access-content-map).</span></span>

## <a name="next-steps"></a><span data-ttu-id="37ece-298">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="37ece-298">Next steps</span></span>

<span data-ttu-id="37ece-299">W tym samouczku przedstawiono następujące instrukcje:</span><span class="sxs-lookup"><span data-stu-id="37ece-299">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="37ece-300">Włączono migracje Code First</span><span class="sxs-lookup"><span data-stu-id="37ece-300">Enabled Code First migrations</span></span>
> * <span data-ttu-id="37ece-301">Wdrożono aplikację na platformie Azure (opcjonalnie)</span><span class="sxs-lookup"><span data-stu-id="37ece-301">Deployed the app in Azure (optional)</span></span>

<span data-ttu-id="37ece-302">Przejdź do następnego artykułu, aby dowiedzieć się, jak utworzyć bardziej skomplikowany model danych dla aplikacji ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="37ece-302">Advance to the next article to learn how to create a more complex data model for an ASP.NET MVC Application.</span></span>
> [!div class="nextstepaction"]
> [<span data-ttu-id="37ece-303">Tworzenie bardziej złożonego modelu danych</span><span class="sxs-lookup"><span data-stu-id="37ece-303">Create a more complex data model</span></span>](creating-a-more-complex-data-model-for-an-asp-net-mvc-application.md)
