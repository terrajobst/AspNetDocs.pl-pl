---
uid: mvc/overview/older-versions/aspnet-mvc-4-mobile-features
title: Funkcje mobilne ASP.NET MVC 4 | Microsoft Docs
author: Rick-Anderson
description: Dostępna jest teraz wersja MVC 5 tego samouczka z przykładami kodu w ramach wdrażania aplikacji sieci Web ASP.NET MVC 5 Mobile w witrynach sieci Web systemu Azure.
ms.author: riande
ms.date: 08/15/2012
ms.assetid: 27dc4fc8-1b51-43b0-933f-fc1b52476523
msc.legacyurl: /mvc/overview/older-versions/aspnet-mvc-4-mobile-features
msc.type: authoredcontent
ms.openlocfilehash: 9716def069ca9f7115af32e16381f41bd4d13342
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78579990"
---
# <a name="aspnet-mvc-4-mobile-features"></a><span data-ttu-id="e4a41-103">Funkcje mobilne platformy ASP.NET MVC 4</span><span class="sxs-lookup"><span data-stu-id="e4a41-103">ASP.NET MVC 4 Mobile Features</span></span>

<span data-ttu-id="e4a41-104">Autor [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="e4a41-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="e4a41-105">Dostępna jest teraz wersja MVC 5 tego samouczka z przykładami kodu w ramach [wdrażania aplikacji sieci web ASP.NET MVC 5 Mobile w witrynach sieci Web systemu Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span><span class="sxs-lookup"><span data-stu-id="e4a41-105">There is now an MVC 5 version of this tutorial with code samples at [Deploy an ASP.NET MVC 5 Mobile Web Application on Azure Web Sites](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span></span>

<span data-ttu-id="e4a41-106">Ten samouczek zawiera informacje na temat sposobu pracy z funkcjami mobilnymi w aplikacji sieci Web ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="e4a41-106">This tutorial will teach you the basics of how to work with mobile features in an ASP.NET MVC 4 Web application.</span></span> <span data-ttu-id="e4a41-107">W tym samouczku można użyć [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) lub Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer lub pliku VWD&quot;).</span><span class="sxs-lookup"><span data-stu-id="e4a41-107">For this tutorial, you can use [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) or Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer or VWD&quot;).</span></span> <span data-ttu-id="e4a41-108">Możesz użyć profesjonalnej wersji programu Visual Studio, jeśli masz już tę.</span><span class="sxs-lookup"><span data-stu-id="e4a41-108">You can use the professional version of Visual Studio if you already have that.</span></span>

<span data-ttu-id="e4a41-109">Przed rozpoczęciem upewnij się, że zainstalowano wymagania wstępne wymienione poniżej.</span><span class="sxs-lookup"><span data-stu-id="e4a41-109">Before you start, make sure you've installed the prerequisites listed below.</span></span>

- <span data-ttu-id="e4a41-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (zalecane) lub Visual Studio Web Developer Express SP1.</span><span class="sxs-lookup"><span data-stu-id="e4a41-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recommended) or Visual Studio Web Developer Express SP1.</span></span> <span data-ttu-id="e4a41-111">Visual Studio 2012 contains ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="e4a41-111">Visual Studio 2012 contains ASP.NET MVC 4.</span></span> <span data-ttu-id="e4a41-112">W przypadku korzystania z programu Visual Web Developer 2010 należy zainstalować [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span><span class="sxs-lookup"><span data-stu-id="e4a41-112">If you are using Visual Web Developer 2010, you must install [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span></span>

<span data-ttu-id="e4a41-113">Potrzebny będzie również emulator przeglądarki mobilnej.</span><span class="sxs-lookup"><span data-stu-id="e4a41-113">You will also need a mobile browser emulator.</span></span> <span data-ttu-id="e4a41-114">Zostaną wykonane następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="e4a41-114">Any of the following will work:</span></span>

- <span data-ttu-id="e4a41-115">[Emulator telefonu systemu Windows 7](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="e4a41-115">[Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="e4a41-116">(Jest to emulator używany w większości zrzutów ekranu w tym samouczku).</span><span class="sxs-lookup"><span data-stu-id="e4a41-116">(This is the emulator that's used in most of the screen shots in this tutorial.)</span></span>
- <span data-ttu-id="e4a41-117">Zmień ciąg agenta użytkownika w celu emulowania telefonu iPhone.</span><span class="sxs-lookup"><span data-stu-id="e4a41-117">Change the user agent string to emulate an iPhone.</span></span> <span data-ttu-id="e4a41-118">Zobacz [ten](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) wpis w blogu.</span><span class="sxs-lookup"><span data-stu-id="e4a41-118">See [this](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) blog entry.</span></span>
- [<span data-ttu-id="e4a41-119">Emulator aplikacji mobilnych w programie Opera</span><span class="sxs-lookup"><span data-stu-id="e4a41-119">Opera Mobile Emulator</span></span>](http://www.opera.com/developer/tools/mobile/)
- <span data-ttu-id="e4a41-120">[Apple Safari](http://www.apple.com/safari/download/) z agentem użytkownika ustawionym na telefon iPhone.</span><span class="sxs-lookup"><span data-stu-id="e4a41-120">[Apple Safari](http://www.apple.com/safari/download/) with the user agent set to iPhone.</span></span> <span data-ttu-id="e4a41-121">Instrukcje dotyczące sposobu ustawiania agenta użytkownika w przeglądarce Safari na "iPhone" znajdują się w temacie [How to let Safari poudawać The IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) w blogu David Alison.</span><span class="sxs-lookup"><span data-stu-id="e4a41-121">For instructions on how to set the user agent in Safari to "iPhone", see [How to let Safari pretend it's IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) on David Alison's blog.</span></span>

<span data-ttu-id="e4a41-122">Projekty programu Visual Studio C# z kodem źródłowym są dostępne do dołączenia do tego tematu:</span><span class="sxs-lookup"><span data-stu-id="e4a41-122">Visual Studio projects with C# source code are available to accompany this topic:</span></span>

- [<span data-ttu-id="e4a41-123">Pobieranie projektu początkowego</span><span class="sxs-lookup"><span data-stu-id="e4a41-123">Starter project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228307&amp;clcid=0x409)
- [<span data-ttu-id="e4a41-124">Ukończono pobieranie projektu</span><span class="sxs-lookup"><span data-stu-id="e4a41-124">Completed project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228306&amp;clcid=0x409)

### <a name="what-youll-build"></a><span data-ttu-id="e4a41-125">Co będziesz kompilować</span><span class="sxs-lookup"><span data-stu-id="e4a41-125">What You'll Build</span></span>

<span data-ttu-id="e4a41-126">Na potrzeby tego samouczka dodasz funkcje mobilne do prostej aplikacji z listą konferencji, która jest dostępna w [projekcie początkowym](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="e4a41-126">For this tutorial, you'll add mobile features to the simple conference-listing application that's provided in the [starter project](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="e4a41-127">Poniższy zrzut ekranu przedstawia stronę Tagi ukończonej aplikacji, jak pokazano w [emulatorze telefonu systemu Windows 7](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="e4a41-127">The following screenshot shows the tags page of the completed application as seen in the [Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="e4a41-128">Zobacz [Mapowanie klawiatury dla emulatora Windows Phone](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) , aby uprościć wprowadzanie danych z klawiatury.</span><span class="sxs-lookup"><span data-stu-id="e4a41-128">See [Keyboard Mapping for Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) to simplify keyboard input.</span></span>

<span data-ttu-id="e4a41-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span></span>

<span data-ttu-id="e4a41-130">Możesz użyć programu Internet Explorer w wersji 9 lub 10, FireFox lub Chrome do opracowania aplikacji mobilnej, ustawiając [ciąg agenta użytkownika](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span><span class="sxs-lookup"><span data-stu-id="e4a41-130">You can use Internet Explorer version 9 or 10, FireFox or Chrome to develop your mobile application by setting the [user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span></span> <span data-ttu-id="e4a41-131">Na poniższej ilustracji przedstawiono ukończony samouczek przy użyciu programu Internet Explorer, który emuluje telefon iPhone.</span><span class="sxs-lookup"><span data-stu-id="e4a41-131">The following image shows the completed tutorial using Internet Explorer emulating an iPhone.</span></span> <span data-ttu-id="e4a41-132">Aby ułatwić debugowanie aplikacji, można użyć narzędzi deweloperskich programu Internet Explorer F-12 i [Narzędzia programu Fiddler](http://www.fiddler2.com/fiddler2/) .</span><span class="sxs-lookup"><span data-stu-id="e4a41-132">You can use the Internet Explorer F-12 developer tools and the [Fiddler tool](http://www.fiddler2.com/fiddler2/) to help debug your application.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image3.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="e4a41-133">Posiadane umiejętności</span><span class="sxs-lookup"><span data-stu-id="e4a41-133">Skills You'll Learn</span></span>

<span data-ttu-id="e4a41-134">Oto, co uzyskasz:</span><span class="sxs-lookup"><span data-stu-id="e4a41-134">Here's what you'll learn:</span></span>

- <span data-ttu-id="e4a41-135">Jak szablony ASP.NET MVC 4 używają atrybutu HTML5 `viewport` i renderowania adaptacyjnego w celu usprawnienia wyświetlania na urządzeniach przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-135">How the ASP.NET MVC 4 templates use the HTML5 `viewport` attribute and adaptive rendering to improve display on mobile devices.</span></span>
- <span data-ttu-id="e4a41-136">Jak utworzyć widoki specyficzne dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-136">How to create mobile-specific views.</span></span>
- <span data-ttu-id="e4a41-137">Jak utworzyć przełącznik widoku, który umożliwia użytkownikom przełączanie się między widokiem mobilnym a widokiem pulpitu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e4a41-137">How to create a view switcher that lets users toggle between a mobile view and a desktop view of the application.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4a41-138">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="e4a41-138">Getting Started</span></span>

<span data-ttu-id="e4a41-139">Pobierz aplikację z listą konferencji dla początkowego projektu, korzystając z następującego linku: [Pobierz](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="e4a41-139">Download the conference-listing application for the starter project using the following link: [Download](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="e4a41-140">Następnie w Eksploratorze Windows kliknij prawym przyciskiem myszy plik *MvcMobile. zip* i wybierz polecenie **Właściwości**.</span><span class="sxs-lookup"><span data-stu-id="e4a41-140">Then in Windows Explorer, right-click the *MvcMobile.zip* file and choose **Properties**.</span></span> <span data-ttu-id="e4a41-141">W oknie dialogowym **Właściwości MvcMobile. zip** wybierz przycisk **odblokowywanie** .</span><span class="sxs-lookup"><span data-stu-id="e4a41-141">In the **MvcMobile.zip Properties** dialog box, choose the **Unblock** button.</span></span> <span data-ttu-id="e4a41-142">(Odblokowywanie zapobiega ostrzeżeniu zabezpieczeń, które występuje podczas próby użycia pliku *zip* pobranego z sieci Web).</span><span class="sxs-lookup"><span data-stu-id="e4a41-142">(Unblocking prevents a security warning that occurs when you try to use a *.zip* file that you've downloaded from the web.)</span></span>

![p1_unBlock](aspnet-mvc-4-mobile-features/_static/image4.png)

<span data-ttu-id="e4a41-144">Kliknij prawym przyciskiem myszy plik *MvcMobile. zip* i wybierz polecenie **Wyodrębnij wszystko** , aby rozpakować plik.</span><span class="sxs-lookup"><span data-stu-id="e4a41-144">Right-click the *MvcMobile.zip* file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="e4a41-145">W programie Visual Studio Otwórz plik *MvcMobile. sln* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-145">In Visual Studio, open the *MvcMobile.sln* file.</span></span>

<span data-ttu-id="e4a41-146">Naciśnij klawisze CTRL + F5, aby uruchomić aplikację, co spowoduje wyświetlenie jej w przeglądarce klasycznej.</span><span class="sxs-lookup"><span data-stu-id="e4a41-146">Press CTRL+F5 to run the application, which will display it in your desktop browser.</span></span> <span data-ttu-id="e4a41-147">Uruchom emulator przeglądarki mobilnej, skopiuj adres URL aplikacji konferencyjnej do emulatora, a następnie kliknij link **Przeglądaj przez tag** .</span><span class="sxs-lookup"><span data-stu-id="e4a41-147">Start your mobile browser emulator, copy the URL for the conference application into the emulator, and then click the **Browse by tag** link.</span></span> <span data-ttu-id="e4a41-148">Jeśli używasz emulatora Windows Phone, kliknij przycisk na pasku adresu URL i naciśnij klawisz pauzy, aby uzyskać dostęp do klawiatury.</span><span class="sxs-lookup"><span data-stu-id="e4a41-148">If you are using the Windows Phone Emulator, click in the URL bar and press the Pause key to get keyboard access.</span></span> <span data-ttu-id="e4a41-149">Na poniższym obrazie przedstawiono widok *AllTags* (wybierając pozycję **Przeglądaj według tagu**).</span><span class="sxs-lookup"><span data-stu-id="e4a41-149">The image below shows the *AllTags* view (from choosing **Browse by tag**).</span></span>

<span data-ttu-id="e4a41-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span></span>

<span data-ttu-id="e4a41-151">Ekran jest bardzo czytelny na urządzeniu przenośnym.</span><span class="sxs-lookup"><span data-stu-id="e4a41-151">The display is very readable on a mobile device.</span></span> <span data-ttu-id="e4a41-152">Wybierz łącze ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e4a41-152">Choose the ASP.NET link.</span></span>

<span data-ttu-id="e4a41-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span></span>

<span data-ttu-id="e4a41-154">Widok tagów ASP.NET jest bardzo czytelny.</span><span class="sxs-lookup"><span data-stu-id="e4a41-154">The ASP.NET tag view is very cluttered.</span></span> <span data-ttu-id="e4a41-155">Na przykład kolumna **Date** jest bardzo trudna do odczytania.</span><span class="sxs-lookup"><span data-stu-id="e4a41-155">For example, the **Date** column is very difficult to read.</span></span> <span data-ttu-id="e4a41-156">W dalszej części tego samouczka utworzysz wersję widoku *AllTags* , która jest przeznaczona dla przeglądarek dla urządzeń przenośnych, dzięki czemu będzie można ją odczytać.</span><span class="sxs-lookup"><span data-stu-id="e4a41-156">Later in the tutorial you'll create a version of the *AllTags* view that's specifically for mobile browsers and that will make the display readable.</span></span>

<span data-ttu-id="e4a41-157">Uwaga: obecnie istnieje usterka w aparacie buforowania mobilnego.</span><span class="sxs-lookup"><span data-stu-id="e4a41-157">Note: Currently a bug exists in the mobile caching engine.</span></span> <span data-ttu-id="e4a41-158">W przypadku aplikacji produkcyjnych należy zainstalować stały pakiet [DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) część.</span><span class="sxs-lookup"><span data-stu-id="e4a41-158">For production applications, you must install the [Fixed DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) nugget package.</span></span> <span data-ttu-id="e4a41-159">Aby uzyskać szczegółowe informacje na temat poprawki, zobacz [ASP.NET MVC 4 Mobile buforowania](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) .</span><span class="sxs-lookup"><span data-stu-id="e4a41-159">See [ASP.NET MVC 4 Mobile Caching Bug Fixed](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) for details on the fix.</span></span>

## <a name="css-media-queries"></a><span data-ttu-id="e4a41-160">Zapytania dotyczące multimediów CSS</span><span class="sxs-lookup"><span data-stu-id="e4a41-160">CSS Media Queries</span></span>

<span data-ttu-id="e4a41-161">[Zapytania o multimedia CSS](http://www.w3.org/TR/css3-mediaqueries/) są rozszerzeniem CSS dla typów multimediów.</span><span class="sxs-lookup"><span data-stu-id="e4a41-161">[CSS media queries](http://www.w3.org/TR/css3-mediaqueries/) are an extension to CSS for media types.</span></span> <span data-ttu-id="e4a41-162">Umożliwiają one tworzenie reguł, które zastępują domyślne reguły CSS dla określonych przeglądarek (agenci użytkownika).</span><span class="sxs-lookup"><span data-stu-id="e4a41-162">They allow you to create rules that override the default CSS rules for specific browsers (user agents).</span></span> <span data-ttu-id="e4a41-163">Typową regułą dla CSS, która jest przeznaczona dla przeglądarek mobilnych, jest definiowanie maksymalnego rozmiaru ekranu.</span><span class="sxs-lookup"><span data-stu-id="e4a41-163">A common rule for CSS that targets mobile browsers is defining the maximum screen size.</span></span> <span data-ttu-id="e4a41-164">Plik *Content\Site.css* , który jest tworzony podczas tworzenia nowego projektu internetowego ASP.NET MVC 4, zawiera następujące zapytanie o Multimedia:</span><span class="sxs-lookup"><span data-stu-id="e4a41-164">The *Content\Site.css* file that's created when you create a new ASP.NET MVC 4 Internet project contains the following media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample1.css)]

<span data-ttu-id="e4a41-165">Jeśli okno przeglądarki ma 850 pikseli szerokości lub mniej, użyje reguł CSS wewnątrz tego bloku nośnika.</span><span class="sxs-lookup"><span data-stu-id="e4a41-165">If the browser window is 850 pixels wide or less, it will use the CSS rules inside this media block.</span></span> <span data-ttu-id="e4a41-166">Możesz użyć zapytań o multimediach CSS, takich jak ten, aby zapewnić lepszy wyświetlacz zawartości HTML w małych przeglądarkach (np. przeglądarkach mobilnych) niż domyślne reguły CSS, które są przeznaczone do szerszego wyświetlania przeglądarek klasycznych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-166">You can use CSS media queries like this to provide a better display of HTML content on small browsers (like mobile browsers) than the default CSS rules that are designed for the wider displays of desktop browsers.</span></span>

## <a name="the-viewport-meta-tag"></a><span data-ttu-id="e4a41-167">Tag meta okienka ekranu</span><span class="sxs-lookup"><span data-stu-id="e4a41-167">The Viewport Meta Tag</span></span>

<span data-ttu-id="e4a41-168">Większość przeglądarek dla urządzeń przenośnych definiuje szerokość okna przeglądarki wirtualnej ( *okienko ekranu*) o rozmiarze znacznie większym niż rzeczywista szerokość urządzenia przenośnego.</span><span class="sxs-lookup"><span data-stu-id="e4a41-168">Most mobile browsers define a virtual browser window width (the *viewport*) that's much larger than the actual width of the mobile device.</span></span> <span data-ttu-id="e4a41-169">Dzięki temu przeglądarki mobilne można dopasować do całej strony sieci Web wewnątrz ekranu wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="e4a41-169">This allows mobile browsers to fit the entire web page inside the virtual display.</span></span> <span data-ttu-id="e4a41-170">Użytkownicy mogą następnie powiększyć atrakcyjną zawartość.</span><span class="sxs-lookup"><span data-stu-id="e4a41-170">Users can then zoom in on interesting content.</span></span> <span data-ttu-id="e4a41-171">Jeśli jednak ustawisz szerokość okienka ekranu jako rzeczywistą szerokość urządzenia, powiększanie nie jest wymagane, ponieważ zawartość pasuje do przeglądarki mobilnej.</span><span class="sxs-lookup"><span data-stu-id="e4a41-171">However, if you set the viewport width to the actual device width, no zooming is required, because the content fits in the mobile browser.</span></span>

<span data-ttu-id="e4a41-172">Znacznik `<meta>` okienka ekranu w pliku układu ASP.NET MVC 4 ustawia szerokość urządzenia jako okienko ekranu.</span><span class="sxs-lookup"><span data-stu-id="e4a41-172">The viewport `<meta>` tag in the ASP.NET MVC 4 layout file sets the viewport to the device width.</span></span> <span data-ttu-id="e4a41-173">Poniższy wiersz przedstawia znacznik okienka ekranu `<meta>` w pliku układu ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="e4a41-173">The following line shows the viewport `<meta>` tag in the ASP.NET MVC 4 layout file.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample2.html)]

## <a name="examining-the-effect-of-css-media-queries-and-the-viewport-meta-tag"></a><span data-ttu-id="e4a41-174">Badanie efektu zapytań o multimediach CSS i okienka ekranu wziernika</span><span class="sxs-lookup"><span data-stu-id="e4a41-174">Examining the Effect of CSS Media Queries and the Viewport Meta Tag</span></span>

<span data-ttu-id="e4a41-175">Otwórz plik *Views\Shared\\_Layout. cshtml* w edytorze i Skomentuj tag okienka ekranu `<meta>`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-175">Open the *Views\Shared\\_Layout.cshtml* file in the editor and comment out the viewport `<meta>` tag.</span></span> <span data-ttu-id="e4a41-176">Poniższy znacznik przedstawia wiersz z komentarzem.</span><span class="sxs-lookup"><span data-stu-id="e4a41-176">The following markup shows the commented-out line.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample3.cshtml)]

<span data-ttu-id="e4a41-177">Otwórz plik *MvcMobile\Content\Site.css* w edytorze i Zmień maksymalną szerokość w kwerendzie multimediów na zero pikseli.</span><span class="sxs-lookup"><span data-stu-id="e4a41-177">Open the *MvcMobile\Content\Site.css* file in the editor and change the maximum width in the media query to zero pixels.</span></span> <span data-ttu-id="e4a41-178">Uniemożliwi to używanie reguł CSS w przeglądarkach dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-178">This will prevent the CSS rules from being used in mobile browsers.</span></span> <span data-ttu-id="e4a41-179">Poniższy wiersz przedstawia zmodyfikowaną kwerendę multimediów:</span><span class="sxs-lookup"><span data-stu-id="e4a41-179">The following line shows the modified media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample4.css)]

<span data-ttu-id="e4a41-180">Zapisz zmiany i przejdź do aplikacji konferencyjnej w emulatorze przeglądarki mobilnej.</span><span class="sxs-lookup"><span data-stu-id="e4a41-180">Save your changes and browse to the Conference application in a mobile browser emulator.</span></span> <span data-ttu-id="e4a41-181">Niewielki tekst na poniższej ilustracji jest wynikiem usunięcia znacznika `<meta>` okienka ekranu.</span><span class="sxs-lookup"><span data-stu-id="e4a41-181">The tiny text in the following image is the result of removing the viewport `<meta>` tag.</span></span> <span data-ttu-id="e4a41-182">Bez `<meta>` okienka ekranu, przeglądarka powiększa się do domyślnej szerokości okienka ekranu (850 pikseli lub szerszych dla większości przeglądarek dla urządzeń przenośnych).</span><span class="sxs-lookup"><span data-stu-id="e4a41-182">With no viewport `<meta>` tag, the browser is zooming out to the default viewport width (850 pixels or wider for most mobile browsers.)</span></span>

<span data-ttu-id="e4a41-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span></span>

<span data-ttu-id="e4a41-184">Cofnij zmiany — Usuń komentarz z okienka ekranu `<meta>` w pliku układu i Przywróć zapytanie o multimedia do 850 pikseli w pliku *site. css* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-184">Undo your changes — uncomment the viewport `<meta>` tag in the layout file and restore the media query to 850 pixels in the *Site.css* file.</span></span> <span data-ttu-id="e4a41-185">Zapisz zmiany i Odśwież przeglądarkę aplikacji mobilnych, aby sprawdzić, czy został przywrócony ekran przyjazny dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-185">Save your changes and refresh the mobile browser to verify that the mobile-friendly display has been restored.</span></span>

<span data-ttu-id="e4a41-186">Tagi `<meta>` okienka ekranu i zapytanie o multimedia CSS nie są specyficzne dla ASP.NET MVC 4 i można korzystać z tych funkcji w dowolnej aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="e4a41-186">The viewport `<meta>` tag and the CSS media query are not specific to ASP.NET MVC 4, and you can take advantage of these features in any web application.</span></span> <span data-ttu-id="e4a41-187">Ale są one teraz wbudowane w pliki, które są generowane podczas tworzenia nowego projektu ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="e4a41-187">But they are now built into the files that are generated when you create a new ASP.NET MVC 4 project.</span></span>

<span data-ttu-id="e4a41-188">Aby uzyskać więcej informacji na temat znacznika `<meta>` okienka ekranu, zobacz [jeden z dwóch okienka ekranu — druga część](http://www.quirksmode.org/mobile/viewports2.html).</span><span class="sxs-lookup"><span data-stu-id="e4a41-188">For more information about the viewport `<meta>` tag, see [A tale of two viewports — part two](http://www.quirksmode.org/mobile/viewports2.html).</span></span>

<span data-ttu-id="e4a41-189">W następnej sekcji zobaczysz, jak udostępnić widoki dla przeglądarki mobilnej.</span><span class="sxs-lookup"><span data-stu-id="e4a41-189">In the next section you'll see how to provide mobile-browser specific views.</span></span>

## <a name="overriding-views-layouts-and-partial-views"></a><span data-ttu-id="e4a41-190">Zastępowanie widoków, układów i częściowych widoków</span><span class="sxs-lookup"><span data-stu-id="e4a41-190">Overriding Views, Layouts, and Partial Views</span></span>

<span data-ttu-id="e4a41-191">Istotną nową funkcją w ASP.NET MVC 4 jest prosty mechanizm, który umożliwia przesłonięcie dowolnego widoku (w tym układów i częściowych widoków) dla przeglądarek mobilnych w ogólności dla pojedynczej przeglądarki dla urządzeń przenośnych lub dowolnej konkretnej przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="e4a41-191">A significant new feature in ASP.NET MVC 4 is a simple mechanism that lets you override any view (including layouts and partial views) for mobile browsers in general, for an individual mobile browser, or for any specific browser.</span></span> <span data-ttu-id="e4a41-192">Aby zapewnić widok specyficzny dla urządzeń przenośnych, można skopiować plik widoku i dodać *.* Nazwa pliku.</span><span class="sxs-lookup"><span data-stu-id="e4a41-192">To provide a mobile-specific view, you can copy a view file and add *.Mobile* to the file name.</span></span> <span data-ttu-id="e4a41-193">Na przykład, aby utworzyć widok *indeksu* mobilnego, skopiuj *Views\Home\Index.cshtml* do *Views\Home\Index.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-193">For example, to create a mobile *Index* view, copy *Views\Home\Index.cshtml* to *Views\Home\Index.Mobile.cshtml*.</span></span>

<span data-ttu-id="e4a41-194">W tej sekcji utworzysz plik układu specyficzny dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-194">In this section, you'll create a mobile-specific layout file.</span></span>

<span data-ttu-id="e4a41-195">Aby rozpocząć, skopiuj *Views\Shared\\_Layout. cshtml* do *Views\Shared\\_Layout. Mobile. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-195">To start, copy *Views\Shared\\_Layout.cshtml* to *Views\Shared\\_Layout.Mobile.cshtml*.</span></span> <span data-ttu-id="e4a41-196">Otwórz *\_Layout. Mobile. cshtml* i zmień tytuł z **konferencji MVC4** na **konferencję (mobilną)** .</span><span class="sxs-lookup"><span data-stu-id="e4a41-196">Open *\_Layout.Mobile.cshtml* and change the title from **MVC4 Conference** to **Conference (Mobile)**.</span></span>

<span data-ttu-id="e4a41-197">W każdym wywołaniu `Html.ActionLink` Usuń opcję "Przeglądaj według" w każdym linku *ActionLink*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-197">In each `Html.ActionLink` call, remove "Browse by" in each link *ActionLink*.</span></span> <span data-ttu-id="e4a41-198">Poniższy kod przedstawia sekcję ukończona treść pliku układu mobilnego.</span><span class="sxs-lookup"><span data-stu-id="e4a41-198">The following code shows the completed body section of the mobile layout file.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample5.cshtml)]

<span data-ttu-id="e4a41-199">Skopiuj plik *Views\Home\AllTags.cshtml* do *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-199">Copy the *Views\Home\AllTags.cshtml* file to *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="e4a41-200">Otwórz nowy plik i Zmień element `<h2>` z "Tags" na "Tags (M)":</span><span class="sxs-lookup"><span data-stu-id="e4a41-200">Open the new file and change the `<h2>` element from "Tags" to "Tags (M)":</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample6.html)]

<span data-ttu-id="e4a41-201">Przejdź do strony Tagi przy użyciu przeglądarki pulpitu i emulatora programu Mobile Browser.</span><span class="sxs-lookup"><span data-stu-id="e4a41-201">Browse to the tags page using a desktop browser and using mobile browser emulator.</span></span> <span data-ttu-id="e4a41-202">Emulator przeglądarki mobilnej przedstawia dwa dokonane zmiany.</span><span class="sxs-lookup"><span data-stu-id="e4a41-202">The mobile browser emulator shows the two changes you made.</span></span>

<span data-ttu-id="e4a41-203">[![p2m_layoutTags. Mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span></span>

<span data-ttu-id="e4a41-204">W przeciwieństwie do ekranu pulpitu nie została zmieniona.</span><span class="sxs-lookup"><span data-stu-id="e4a41-204">In contrast, the desktop display has not changed.</span></span>

<span data-ttu-id="e4a41-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span></span>

## <a name="browser-specific-views"></a><span data-ttu-id="e4a41-206">Widoki specyficzne dla przeglądarki</span><span class="sxs-lookup"><span data-stu-id="e4a41-206">Browser-Specific Views</span></span>

<span data-ttu-id="e4a41-207">Oprócz widoków specyficznych dla urządzeń przenośnych i pulpitów można tworzyć widoki dla poszczególnych przeglądarek.</span><span class="sxs-lookup"><span data-stu-id="e4a41-207">In addition to mobile-specific and desktop-specific views, you can create views for an individual browser.</span></span> <span data-ttu-id="e4a41-208">Można na przykład tworzyć widoki, które są przeznaczone dla przeglądarki iPhone.</span><span class="sxs-lookup"><span data-stu-id="e4a41-208">For example, you can create views that are specifically for the iPhone browser.</span></span> <span data-ttu-id="e4a41-209">W tej sekcji utworzysz układ dla przeglądarki iPhone i wersja telefonu iPhone widoku *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-209">In this section, you'll create a layout for the iPhone browser and an iPhone version of the *AllTags* view.</span></span>

<span data-ttu-id="e4a41-210">Otwórz plik *Global. asax* i Dodaj następujący kod do metody `Application_Start`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-210">Open the *Global.asax* file and add the following code to the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample7.cs)]

<span data-ttu-id="e4a41-211">Ten kod definiuje nowy tryb wyświetlania o nazwie "iPhone", który zostanie dopasowany do każdego żądania przychodzącego.</span><span class="sxs-lookup"><span data-stu-id="e4a41-211">This code defines a new display mode named "iPhone" that will be matched against each incoming request.</span></span> <span data-ttu-id="e4a41-212">Jeśli żądanie przychodzące pasuje do zdefiniowanego warunku (czyli jeśli agent użytkownika zawiera ciąg "iPhone"), ASP.NET MVC będzie szukać widoków, których nazwa zawiera sufiks "iPhone".</span><span class="sxs-lookup"><span data-stu-id="e4a41-212">If the incoming request matches the condition you defined (that is, if the user agent contains the string "iPhone"), ASP.NET MVC will look for views whose name contains the "iPhone" suffix.</span></span>

<span data-ttu-id="e4a41-213">W kodzie kliknij prawym przyciskiem myszy pozycję `DefaultDisplayMode`, wybierz polecenie **Rozwiąż**, a następnie wybierz pozycję `using System.Web.WebPages;`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-213">In the code, right-click `DefaultDisplayMode`, choose **Resolve**, and then choose `using System.Web.WebPages;`.</span></span> <span data-ttu-id="e4a41-214">Spowoduje to dodanie odwołania do przestrzeni nazw `System.Web.WebPages`, w którym są zdefiniowane typy `DisplayModes` i `DefaultDisplayMode`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-214">This adds a reference to the `System.Web.WebPages` namespace, which is where the `DisplayModes` and `DefaultDisplayMode` types are defined.</span></span>

<span data-ttu-id="e4a41-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span></span>

<span data-ttu-id="e4a41-216">Alternatywnie możesz ręcznie dodać następujący wiersz do sekcji `using` pliku.</span><span class="sxs-lookup"><span data-stu-id="e4a41-216">Alternatively, you can just manually add the following line to the `using` section of the file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample8.cs)]

<span data-ttu-id="e4a41-217">Pełna zawartość pliku *Global. asax* jest pokazana poniżej.</span><span class="sxs-lookup"><span data-stu-id="e4a41-217">The complete contents of the *Global.asax* file is shown below.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample9.cs)]

<span data-ttu-id="e4a41-218">Zapisz zmiany.</span><span class="sxs-lookup"><span data-stu-id="e4a41-218">Save the changes.</span></span> <span data-ttu-id="e4a41-219">Skopiuj plik *MvcMobile\Views\Shared\\_Layout. Mobile. cshtml* do *MvcMobile\Views\Shared\\_Layout. iPhone. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-219">Copy the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file to *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span></span> <span data-ttu-id="e4a41-220">Otwórz nowy plik, a następnie zmień nagłówek `h1` z `Conference (Mobile)` na `Conference (iPhone)`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-220">Open the new file and then change the `h1` heading from `Conference (Mobile)` to `Conference (iPhone)`.</span></span>

<span data-ttu-id="e4a41-221">Skopiuj plik *MvcMobile\Views\Home\AllTags.Mobile.cshtml* do *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-221">Copy the *MvcMobile\Views\Home\AllTags.Mobile.cshtml* file to *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span></span> <span data-ttu-id="e4a41-222">W nowym pliku Zmień element `<h2>` z "Tagi (M)" na "Tagi (iPhone)".</span><span class="sxs-lookup"><span data-stu-id="e4a41-222">In the new file, change the `<h2>` element from "Tags (M)" to "Tags (iPhone)".</span></span>

<span data-ttu-id="e4a41-223">Uruchom aplikację.</span><span class="sxs-lookup"><span data-stu-id="e4a41-223">Run the application.</span></span> <span data-ttu-id="e4a41-224">Uruchom emulator przeglądarki mobilnej, upewnij się, że jego agent użytkownika jest ustawiony na "iPhone", i przejdź do widoku *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-224">Run a mobile browser emulator, make sure its user agent is set to "iPhone", and browse to the *AllTags* view.</span></span> <span data-ttu-id="e4a41-225">Poniższy zrzut ekranu przedstawia widok *AllTags* renderowany w przeglądarce [Safari](http://www.apple.com/safari/download/) .</span><span class="sxs-lookup"><span data-stu-id="e4a41-225">The following screenshot shows the *AllTags* view rendered in the [Safari](http://www.apple.com/safari/download/) browser.</span></span> <span data-ttu-id="e4a41-226">Przeglądarkę Safari dla systemu Windows można pobrać [tutaj](https://support.apple.com/kb/DL1531).</span><span class="sxs-lookup"><span data-stu-id="e4a41-226">You can download Safari for Windows [here](https://support.apple.com/kb/DL1531).</span></span>

<span data-ttu-id="e4a41-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span></span>

<span data-ttu-id="e4a41-228">W tej sekcji przedstawiono sposób tworzenia układów i widoków urządzeń przenośnych oraz tworzenia układów i widoków dla konkretnych urządzeń, takich jak telefon iPhone.</span><span class="sxs-lookup"><span data-stu-id="e4a41-228">In this section we've seen how to create mobile layouts and views and how to create layouts and views for specific devices such as the iPhone.</span></span> <span data-ttu-id="e4a41-229">W następnej sekcji zobaczysz, jak korzystać z platformy jQuery Mobile w celu uzyskania bardziej atrakcyjnych widoków dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-229">In the next section you'll see how to leverage jQuery Mobile for more compelling mobile views.</span></span>

## <a name="using-jquery-mobile"></a><span data-ttu-id="e4a41-230">Korzystanie z programu jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="e4a41-230">Using jQuery Mobile</span></span>

<span data-ttu-id="e4a41-231">Biblioteka [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) udostępnia strukturę interfejsu użytkownika, która działa na wszystkich głównych przeglądarkach dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-231">The [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) library provides a user interface framework that works on all the major mobile browsers.</span></span> <span data-ttu-id="e4a41-232">jQuery Mobile stosuje *udoskonalenia progresywne* dla przeglądarek mobilnych, które obsługują CSS i JavaScript.</span><span class="sxs-lookup"><span data-stu-id="e4a41-232">jQuery Mobile applies *progressive enhancement* to mobile browsers that support CSS and JavaScript.</span></span> <span data-ttu-id="e4a41-233">Rozszerzenie progresywne umożliwia wszystkim przeglądarkom wyświetlanie podstawowej zawartości strony sieci Web, a jednocześnie zapewnia bardziej zaawansowane przeglądarki i urządzenia.</span><span class="sxs-lookup"><span data-stu-id="e4a41-233">Progressive enhancement allows all browsers to display the basic content of a web page, while allowing more powerful browsers and devices to have a richer display.</span></span> <span data-ttu-id="e4a41-234">Pliki JavaScript i CSS dołączone do stylu jQuery Mobile wiele elementów do dopasowania do przeglądarek mobilnych bez wprowadzania zmian w znacznikach.</span><span class="sxs-lookup"><span data-stu-id="e4a41-234">The JavaScript and CSS files that are included with jQuery Mobile style many elements to fit mobile browsers without making any markup changes.</span></span>

<span data-ttu-id="e4a41-235">W tej sekcji zainstalujemy pakiet NuGet *jQuery. Mobile. MVC* , który instaluje widżet jQuery Mobile i widok-przełącznik View.</span><span class="sxs-lookup"><span data-stu-id="e4a41-235">In this section you'll install the *jQuery.Mobile.MVC* NuGet package, which installs jQuery Mobile and a view-switcher widget.</span></span>

<span data-ttu-id="e4a41-236">Aby rozpocząć, Usuń udostępnione wcześniej pliki *\\_Layout. Mobile. cshtml* i *Shared\\_Layout. iPhone. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-236">To start, delete the *Shared\\_Layout.Mobile.cshtml* and *Shared\\_Layout.iPhone.cshtml* files that you created earlier.</span></span>

<span data-ttu-id="e4a41-237">Zmień nazwy plików *Views\Home\AllTags.Mobile.cshtml* i *Views\Home\AllTags.iPhone.cshtml* na *Views\Home\AllTags.iPhone.cshtml.Hide* i *Views\Home\AllTags.Mobile.cshtml.Hide*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-237">Rename *Views\Home\AllTags.Mobile.cshtml* and *Views\Home\AllTags.iPhone.cshtml* files to *Views\Home\AllTags.iPhone.cshtml.hide* and *Views\Home\AllTags.Mobile.cshtml.hide*.</span></span> <span data-ttu-id="e4a41-238">Ponieważ pliki nie mają już rozszerzenia *. cshtml* , nie będą używane przez środowisko uruchomieniowe ASP.NET MVC do renderowania widoku *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-238">Because the files no longer have a *.cshtml* extension, they won't be used by the ASP.NET MVC runtime to render the *AllTags* view.</span></span>

<span data-ttu-id="e4a41-239">Zainstaluj pakiet NuGet *jQuery. Mobile. MVC* , wykonując następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="e4a41-239">Install the *jQuery.Mobile.MVC* NuGet package by doing this:</span></span>

1. <span data-ttu-id="e4a41-240">W menu **Narzędzia** wybierz pozycję **Menedżer pakietów NuGet**, a następnie wybierz pozycję **konsola Menedżera pakietów**.</span><span class="sxs-lookup"><span data-stu-id="e4a41-240">From the **Tools** menu, select **NuGet Package Manager**, and then select **Package Manager Console**.</span></span>

    <span data-ttu-id="e4a41-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span></span>
2. <span data-ttu-id="e4a41-242">W **konsoli Menedżera pakietów**wprowadź `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span><span class="sxs-lookup"><span data-stu-id="e4a41-242">In the **Package Manager Console**, enter `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span></span>

<span data-ttu-id="e4a41-243">Na poniższej ilustracji przedstawiono pliki dodane i zmienione do projektu MvcMobile przez pakiet NuGet jQuery. Mobile. MVC.</span><span class="sxs-lookup"><span data-stu-id="e4a41-243">The following image shows the files added and changed to the MvcMobile project by the NuGet jQuery.Mobile.MVC package.</span></span> <span data-ttu-id="e4a41-244">Dodawane pliki mają [Add] dołączane po nazwie pliku.</span><span class="sxs-lookup"><span data-stu-id="e4a41-244">Files which are added have [add] appended after the file name.</span></span> <span data-ttu-id="e4a41-245">Obraz nie pokazuje plików GIF i PNG dodanych do folderu *Content\images* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-245">The image does not show the GIF and PNG files added to the *Content\images* folder.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image21.png)

<span data-ttu-id="e4a41-246">Pakiet NuGet programu jQuery. Mobile. MVC instaluje następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="e4a41-246">The jQuery.Mobile.MVC NuGet package installs the following:</span></span>

- <span data-ttu-id="e4a41-247">*Aplikacja\_plik Start\BundleMobileConfig.cs* , który jest wymagany do odwoływania się do dodanych plików JavaScript i CSS.</span><span class="sxs-lookup"><span data-stu-id="e4a41-247">The *App\_Start\BundleMobileConfig.cs* file, which is needed to reference the jQuery JavaScript and CSS files added.</span></span> <span data-ttu-id="e4a41-248">Należy postępować zgodnie z poniższymi instrukcjami i odwoływać się do pakietu mobilnego zdefiniowanego w tym pliku.</span><span class="sxs-lookup"><span data-stu-id="e4a41-248">You must follow the instructions below and reference the mobile bundle defined in this file.</span></span>
- <span data-ttu-id="e4a41-249">pliki CSS dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-249">jQuery Mobile CSS files.</span></span>
- <span data-ttu-id="e4a41-250">Widżet kontrolera `ViewSwitcher` (*Controllers\ViewSwitcherController.cs*).</span><span class="sxs-lookup"><span data-stu-id="e4a41-250">A `ViewSwitcher` controller widget (*Controllers\ViewSwitcherController.cs*).</span></span>
- <span data-ttu-id="e4a41-251">pliki JavaScript w usłudze jQuery Mobile.</span><span class="sxs-lookup"><span data-stu-id="e4a41-251">jQuery Mobile JavaScript files.</span></span>
- <span data-ttu-id="e4a41-252">Plik układu jQuery Mobile-Style (*Views\Shared\\_Layout. Mobile. cshtml*).</span><span class="sxs-lookup"><span data-stu-id="e4a41-252">A jQuery Mobile-styled layout file (*Views\Shared\\_Layout.Mobile.cshtml*).</span></span>
- <span data-ttu-id="e4a41-253">Widok częściowy przełączania widoku *(MvcMobile\Views\Shared\\_ViewSwitcher. cshtml*), który zawiera link w górnej części każdej strony, aby przełączyć się z widoku pulpitu do widoku Mobile i na odwrót.</span><span class="sxs-lookup"><span data-stu-id="e4a41-253">A view-switcher partial view *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) that provides a link at the top of each page to switch from desktop view to mobile view and vice versa.</span></span>
- <span data-ttu-id="e4a41-254">Kilka plików obrazów<em>PNG</em> i <em>GIF</em> w folderze <em>Content\images</em> .</span><span class="sxs-lookup"><span data-stu-id="e4a41-254">Several<em>.png</em> and <em>.gif</em> image files in the <em>Content\images</em> folder.</span></span>

<span data-ttu-id="e4a41-255">Otwórz plik *Global. asax* i Dodaj następujący kod jako ostatni wiersz metody `Application_Start`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-255">Open the *Global.asax* file and add the following code as the last line of the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample10.cs)]

<span data-ttu-id="e4a41-256">Poniższy kod przedstawia kompletny plik *Global. asax* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-256">The following code shows the complete *Global.asax* file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample11.cs?highlight=26)]

> [!NOTE]
> <span data-ttu-id="e4a41-257">Jeśli używasz programu Internet Explorer 9 i nie widzisz podanej linii `BundleMobileConfig` powyżej żółtego wyróżnienia, kliknij przycisk [Widok zgodności](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)obraz przycisku widok zgodności![(wyłączone)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Obraz przycisku widok zgodności (wyłączony)") w programie IE, aby zmienić ikonę z obrazu konturowego ![przycisku widok zgodności (wyłączone)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Obraz przycisku widok zgodności (wyłączony)") na obraz pełnego koloru ![przycisku widok zgodności (włączony)](https://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Obraz przycisku widok zgodności (włączony)").</span><span class="sxs-lookup"><span data-stu-id="e4a41-257">If you are using Internet Explorer 9 and you don't see the `BundleMobileConfig` line above in yellow highlight, click the [Compatibility View button](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![Picture of the Compatibility View button (off)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") in IE to make the icon change from an outline ![Picture of the Compatibility View button (off)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") to a solid color ![Picture of the Compatibility View button (on)](https://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Picture of the Compatibility View button (on)").</span></span> <span data-ttu-id="e4a41-258">Możesz również wyświetlić ten samouczek w przeglądarce FireFox lub Chrome.</span><span class="sxs-lookup"><span data-stu-id="e4a41-258">Alternatively you can view this tutorial in FireFox or Chrome.</span></span>

<span data-ttu-id="e4a41-259">Otwórz plik *MvcMobile\Views\Shared\\_Layout. Mobile. cshtml* i Dodaj następujący znacznik bezpośrednio po wywołaniu `Html.Partial`:</span><span class="sxs-lookup"><span data-stu-id="e4a41-259">Open the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file and add the following markup directly after the `Html.Partial` call:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample12.cshtml)]

<span data-ttu-id="e4a41-260">Poniżej przedstawiono kompletny plik *MvcMobile\Views\Shared\\_Layout. Mobile. cshtml* :</span><span class="sxs-lookup"><span data-stu-id="e4a41-260">The complete *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample13.cshtml)]

<span data-ttu-id="e4a41-261">Skompiluj aplikację, a następnie w emulatorze przeglądarki mobilnej przejdź do widoku *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-261">Build the application, and in your mobile browser emulator browse to the *AllTags* view.</span></span> <span data-ttu-id="e4a41-262">Zobaczysz następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="e4a41-262">You see the following:</span></span>

<span data-ttu-id="e4a41-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span></span>

> [!NOTE]
> <span data-ttu-id="e4a41-264">Aby debugować konkretny kod, należy [ustawić ciąg agenta użytkownika](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) dla przeglądarki IE lub Chrome na telefon iPhone, a następnie użyć narzędzi programistycznych F-12.</span><span class="sxs-lookup"><span data-stu-id="e4a41-264">You can debug the mobile specific code by [setting the user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) for IE or Chrome to iPhone and then using the F-12 developer tools.</span></span> <span data-ttu-id="e4a41-265">Jeśli w przeglądarce mobilnej nie są wyświetlane łącza **Strona główna**, **prelegent**, **tag**i **Data** jako przyciski, odwołania do skryptów komórkowych jQuery i plików CSS prawdopodobnie nie są poprawne.</span><span class="sxs-lookup"><span data-stu-id="e4a41-265">If your mobile browser doesn't display the **Home**, **Speaker**, **Tag**, and **Date** links as buttons, the references to jQuery Mobile scripts and CSS files are probably not correct.</span></span>

<span data-ttu-id="e4a41-266">Oprócz zmian stylu zobaczysz **Widok Mobile** i link umożliwiający przełączenie się z widoku Mobile do widoku pulpitu.</span><span class="sxs-lookup"><span data-stu-id="e4a41-266">In addition to the style changes, you see **Displaying mobile view** and a link that lets you switch from mobile view to desktop view.</span></span> <span data-ttu-id="e4a41-267">Wybierz łącze **widok pulpitu** , aby wyświetlić widok pulpitu.</span><span class="sxs-lookup"><span data-stu-id="e4a41-267">Choose the **Desktop view** link, and the desktop view is displayed.</span></span>

<span data-ttu-id="e4a41-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span></span>

<span data-ttu-id="e4a41-269">Widok pulpitu nie umożliwia bezpośredniego przejścia do widoku mobilnego.</span><span class="sxs-lookup"><span data-stu-id="e4a41-269">The desktop view doesn't provide a way to directly navigate back to the mobile view.</span></span> <span data-ttu-id="e4a41-270">Naprawimy to teraz.</span><span class="sxs-lookup"><span data-stu-id="e4a41-270">You'll fix that now.</span></span> <span data-ttu-id="e4a41-271">Otwórz plik *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-271">Open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="e4a41-272">Bezpośrednio pod elementem `body` strony Dodaj następujący kod, który renderuje widżet View-przełącznik:</span><span class="sxs-lookup"><span data-stu-id="e4a41-272">Just under the page `body` element, add the following code, which renders the view-switcher widget:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample14.cshtml)]

<span data-ttu-id="e4a41-273">Odśwież widok *AllTags* w przeglądarce dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-273">Refresh the *AllTags* view in the mobile browser.</span></span> <span data-ttu-id="e4a41-274">Teraz można przechodzić między widokami pulpitu i urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-274">You can now navigate between desktop and mobile views.</span></span>

<span data-ttu-id="e4a41-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span></span>

> [!NOTE]
> <span data-ttu-id="e4a41-276">Uwaga dotycząca debugowania: można dodać poniższy kod na końcu Views\Shared\\_ViewSwitcher. cshtml, aby ułatwić debugowanie widoków w przypadku używania przeglądarki jako ciągu agenta użytkownika ustawionej na urządzenie przenośne.</span><span class="sxs-lookup"><span data-stu-id="e4a41-276">Debug note: You can add the following code to the end of the Views\Shared\\_ViewSwitcher.cshtml to help debug views when using a browser the user agent string set to a mobile device.</span></span>
>
> [!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample15.cs)]
>
> <span data-ttu-id="e4a41-277">i dodanie następującego nagłówka do pliku *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-277">and adding the following heading to the *Views\Shared\\_Layout.cshtml* file.</span></span>
>
> [!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample16.html)]

<span data-ttu-id="e4a41-278">Przejdź do strony *AllTags* w przeglądarce klasycznej.</span><span class="sxs-lookup"><span data-stu-id="e4a41-278">Browse to the *AllTags* page in a desktop browser.</span></span> <span data-ttu-id="e4a41-279">Widżet View-przełącznik nie jest wyświetlany w przeglądarce klasycznej, ponieważ jest dodany tylko do strony układu mobilnego.</span><span class="sxs-lookup"><span data-stu-id="e4a41-279">The view-switcher widget is not displayed in a desktop browser because it's added only to the mobile layout page.</span></span> <span data-ttu-id="e4a41-280">W dalszej części tego samouczka zobaczysz, jak dodać widżet View-przełącznik do widoku pulpitu.</span><span class="sxs-lookup"><span data-stu-id="e4a41-280">Later in the tutorial you'll see how you can add the view-switcher widget to the desktop view.</span></span>

<span data-ttu-id="e4a41-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span></span>

## <a name="improving-the-speakers-list"></a><span data-ttu-id="e4a41-282">Ulepszanie listy głośników</span><span class="sxs-lookup"><span data-stu-id="e4a41-282">Improving the Speakers List</span></span>

<span data-ttu-id="e4a41-283">W przeglądarce mobilnej wybierz link **głośników** .</span><span class="sxs-lookup"><span data-stu-id="e4a41-283">In the mobile browser, select the **Speakers** link.</span></span> <span data-ttu-id="e4a41-284">Ponieważ nie ma widoku mobilnego (*AllSpeakers. Mobile. cshtml*), domyślny wyświetlacz głośników (*AllSpeakers. cshtml*) jest renderowany przy użyciu widoku układu mobilnego ( *\_Layout. Mobile. cshtml*).</span><span class="sxs-lookup"><span data-stu-id="e4a41-284">Because there's no mobile view(*AllSpeakers.Mobile.cshtml*), the default speakers display (*AllSpeakers.cshtml*) is rendered using the mobile layout view (*\_Layout.Mobile.cshtml*).</span></span>

<span data-ttu-id="e4a41-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span></span>

<span data-ttu-id="e4a41-286">Można globalnie wyłączyć domyślny widok (inny niż mobilny) z renderowania wewnątrz układu mobilnego, ustawiając `RequireConsistentDisplayMode`, aby `true` w *widokach\\_ViewStart. cshtml* , jak to:</span><span class="sxs-lookup"><span data-stu-id="e4a41-286">You can globally disable a default (non-mobile) view from rendering inside a mobile layout by setting `RequireConsistentDisplayMode` to `true` in the *Views\\_ViewStart.cshtml* file, like this:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample17.cshtml)]

<span data-ttu-id="e4a41-287">Gdy `RequireConsistentDisplayMode` jest ustawiona na `true`, układ mobilny (<em>\_Layout. Mobile. cshtml</em>) jest używany tylko w przypadku widoków mobilnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-287">When `RequireConsistentDisplayMode` is set to `true`, the mobile layout (<em>\_Layout.Mobile.cshtml</em>) is used only for mobile views.</span></span> <span data-ttu-id="e4a41-288">(Oznacza to, że plik widoku ma postać <em>\* \* viewName</em><em>. Mobile. cshtml</em>.) możesz chcieć ustawić `RequireConsistentDisplayMode`, aby `true`, jeśli układ mobilności nie działa dobrze z widokami nieprzenośnymi.</span><span class="sxs-lookup"><span data-stu-id="e4a41-288">(That is, the view file is of the form <em>\*\*ViewName</em><em>.Mobile.cshtml</em>.) You might want to set `RequireConsistentDisplayMode` to `true` if your mobile layout doesn't work well with your non-mobile views.</span></span> <span data-ttu-id="e4a41-289">Poniższy zrzut ekranu pokazuje, jak strona <em>głośników</em> jest renderowana, gdy `RequireConsistentDisplayMode` jest ustawiona na `true`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-289">The screenshot below shows how the <em>Speakers</em> page renders when `RequireConsistentDisplayMode` is set to `true`.</span></span>

<span data-ttu-id="e4a41-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span></span>

<span data-ttu-id="e4a41-291">Można wyłączyć spójny tryb wyświetlania w widoku przez ustawienie `RequireConsistentDisplayMode`, aby `false` w pliku widoku.</span><span class="sxs-lookup"><span data-stu-id="e4a41-291">You can disable consistent display mode in a view by setting `RequireConsistentDisplayMode` to `false` in the view file.</span></span> <span data-ttu-id="e4a41-292">Następujące znaczniki w pliku *Views\Home\AllSpeakers.cshtml* są ustawiane `RequireConsistentDisplayMode` `false`:</span><span class="sxs-lookup"><span data-stu-id="e4a41-292">The following markup in the *Views\Home\AllSpeakers.cshtml* file sets `RequireConsistentDisplayMode` to `false`:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample18.cshtml)]

## <a name="creating-a-mobile-speakers-view"></a><span data-ttu-id="e4a41-293">Tworzenie widoku głośników mobilnych</span><span class="sxs-lookup"><span data-stu-id="e4a41-293">Creating a Mobile Speakers View</span></span>

<span data-ttu-id="e4a41-294">Jak już wydano, widok *głośników* jest możliwy do odczytania, ale linki są małe i trudno naciskać na urządzenie przenośne.</span><span class="sxs-lookup"><span data-stu-id="e4a41-294">As you just saw, the *Speakers* view is readable, but the links are small and are difficult to tap on a mobile device.</span></span> <span data-ttu-id="e4a41-295">W tej sekcji utworzysz widok *głośników* specyficznych dla urządzeń przenośnych, który wygląda podobnie do nowoczesnej aplikacji mobilnej — wyświetla duże i łatwe do wybrania linki i zawiera pole wyszukiwania umożliwiające szybkie znajdowanie głośników.</span><span class="sxs-lookup"><span data-stu-id="e4a41-295">In this section, you'll create a mobile-specific *Speakers* view that looks like a modern mobile application — it displays large, easy-to-tap links and contains a search box to quickly find speakers.</span></span>

<span data-ttu-id="e4a41-296">Skopiuj *AllSpeakers. cshtml* do *AllSpeakers. Mobile. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-296">Copy *AllSpeakers.cshtml* to *AllSpeakers.Mobile.cshtml*.</span></span> <span data-ttu-id="e4a41-297">Otwórz plik *AllSpeakers. Mobile. cshtml* i Usuń `<h2>` nagłówka elementu.</span><span class="sxs-lookup"><span data-stu-id="e4a41-297">Open the *AllSpeakers.Mobile.cshtml* file and remove the `<h2>` heading element.</span></span>

<span data-ttu-id="e4a41-298">W tagu `<ul>` Dodaj atrybut `data-role` i ustaw jego wartość na `listview`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-298">In the `<ul>` tag, add the `data-role` attribute and set its value to `listview`.</span></span> <span data-ttu-id="e4a41-299">Podobnie jak inne [atrybuty`data-*`](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` ułatwiają naciskanie dużych elementów listy.</span><span class="sxs-lookup"><span data-stu-id="e4a41-299">Like other [`data-*` attributes](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` makes the large list items easier to tap.</span></span> <span data-ttu-id="e4a41-300">To jest wygląd ukończonej adjustacji:</span><span class="sxs-lookup"><span data-stu-id="e4a41-300">This is what the completed markup looks like:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample19.cshtml)]

<span data-ttu-id="e4a41-301">Odśwież przeglądarkę mobilną.</span><span class="sxs-lookup"><span data-stu-id="e4a41-301">Refresh the mobile browser.</span></span> <span data-ttu-id="e4a41-302">Zaktualizowany widok wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="e4a41-302">The updated view looks like this:</span></span>

<span data-ttu-id="e4a41-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span></span>

<span data-ttu-id="e4a41-304">Mimo że widok Mobile został ulepszony, trudno jest poruszać się długą listą głośników.</span><span class="sxs-lookup"><span data-stu-id="e4a41-304">Although the mobile view has improved, it's difficult to navigate the long list of speakers.</span></span> <span data-ttu-id="e4a41-305">Aby rozwiązać ten problem, w tagu `<ul>` Dodaj atrybut `data-filter` i ustaw go na `true`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-305">To fix this, in the `<ul>` tag, add the `data-filter` attribute and set it to `true`.</span></span> <span data-ttu-id="e4a41-306">Poniższy kod pokazuje `ul` znaczników.</span><span class="sxs-lookup"><span data-stu-id="e4a41-306">The code below shows the `ul` markup.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample20.html)]

<span data-ttu-id="e4a41-307">Na poniższej ilustracji przedstawiono pole filtru wyszukiwania w górnej części strony, które wynika z atrybutu `data-filter`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-307">The following image shows the search filter box at the top of the page that results from the `data-filter` attribute.</span></span>

<span data-ttu-id="e4a41-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span></span>

<span data-ttu-id="e4a41-309">Podczas wpisywania każdej litery w polu wyszukiwania jQuery Mobile filtruje wyświetlaną listę, jak pokazano na poniższej ilustracji.</span><span class="sxs-lookup"><span data-stu-id="e4a41-309">As you type each letter in the search box, jQuery Mobile filters the displayed list as shown in the image below.</span></span>

<span data-ttu-id="e4a41-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span></span>

## <a name="improving-the-tags-list"></a><span data-ttu-id="e4a41-311">Ulepszanie listy tagów</span><span class="sxs-lookup"><span data-stu-id="e4a41-311">Improving the Tags List</span></span>

<span data-ttu-id="e4a41-312">Podobnie jak w przypadku domyślnego widoku *głośników* , widok *tagów* jest czytelny, ale linki są małe i trudne do naciśnięcia na urządzeniu przenośnym.</span><span class="sxs-lookup"><span data-stu-id="e4a41-312">Like the default *Speakers* view, the *Tags* view is readable, but the links are small and difficult to tap on a mobile device.</span></span> <span data-ttu-id="e4a41-313">W tej sekcji nastąpi poprawienie widoku *tagów* w taki sam sposób, w jaki Naprawiono widok *głośników* .</span><span class="sxs-lookup"><span data-stu-id="e4a41-313">In this section, you'll fix the *Tags* view the same way you fixed the *Speakers* view.</span></span>

<span data-ttu-id="e4a41-314">Usuń &quot;Ukryj sufiks&quot; do pliku *Views\Home\AllTags.Mobile.cshtml.Hide* , tak aby nazwa była *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-314">Remove the &quot;hide&quot; suffix to the *Views\Home\AllTags.Mobile.cshtml.hide* file so the name is *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="e4a41-315">Otwórz plik o zmienionej nazwie i Usuń element `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-315">Open the renamed file and remove the `<h2>` element.</span></span>

<span data-ttu-id="e4a41-316">Dodaj atrybuty `data-role` i `data-filter` do tagu `<ul>`, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="e4a41-316">Add the `data-role` and `data-filter` attributes to the `<ul>` tag, as shown here:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample21.html)]

<span data-ttu-id="e4a41-317">Poniższy obraz przedstawia filtrowanie stron tagów na liście `J`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-317">The image below shows the tags page filtering on the letter `J`.</span></span>

<span data-ttu-id="e4a41-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span></span>

## <a name="improving-the-dates-list"></a><span data-ttu-id="e4a41-319">Ulepszanie listy dat</span><span class="sxs-lookup"><span data-stu-id="e4a41-319">Improving the Dates List</span></span>

<span data-ttu-id="e4a41-320">Możesz ulepszyć widok *dat* , tak jak udoskonalono widoki *głośników* i *tagów* , dzięki czemu łatwiej jest używać na urządzeniu przenośnym.</span><span class="sxs-lookup"><span data-stu-id="e4a41-320">You can improve the *Dates* view like you improved the *Speakers* and *Tags* views, so that it's easier to use on a mobile device.</span></span>

<span data-ttu-id="e4a41-321">Skopiuj plik *Views\Home\AllDates.cshtml* do *Views\Home\AllDates.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e4a41-321">Copy the *Views\Home\AllDates.cshtml* file to *Views\Home\AllDates.Mobile.cshtml*.</span></span> <span data-ttu-id="e4a41-322">Otwórz nowy plik i Usuń element `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-322">Open the new file and remove the `<h2>` element.</span></span>

<span data-ttu-id="e4a41-323">Dodaj `data-role="listview"` do tagu `<ul>`, takich jak:</span><span class="sxs-lookup"><span data-stu-id="e4a41-323">Add `data-role="listview"` to the `<ul>` tag, like this:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample22.html)]

<span data-ttu-id="e4a41-324">Poniższy obraz pokazuje, jak wygląda strona **daty** z atrybutem `data-role`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-324">The image below shows what the **Date** page looks like with the `data-role` attribute in place.</span></span>

<span data-ttu-id="e4a41-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Zastąp zawartość pliku *Views\Home\AllDates.Mobile.cshtml* następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="e4a41-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Replace the contents of the *Views\Home\AllDates.Mobile.cshtml* file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample23.cshtml)]

<span data-ttu-id="e4a41-326">Ten kod grupuje wszystkie sesje według dni.</span><span class="sxs-lookup"><span data-stu-id="e4a41-326">This code groups all sessions by days.</span></span> <span data-ttu-id="e4a41-327">Tworzy rozdzielacz listy dla każdego nowego dnia i wyświetla wszystkie sesje dla każdego dnia w ramach rozdzielacza.</span><span class="sxs-lookup"><span data-stu-id="e4a41-327">It creates a list divider for each new day, and it lists all the sessions for each day under a divider.</span></span> <span data-ttu-id="e4a41-328">Oto, co wygląda jak w przypadku uruchomienia tego kodu:</span><span class="sxs-lookup"><span data-stu-id="e4a41-328">Here's what it looks like when this code runs:</span></span>

<span data-ttu-id="e4a41-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span></span>

## <a name="improving-the-sessionstable-view"></a><span data-ttu-id="e4a41-330">Poprawianie widoku sesji</span><span class="sxs-lookup"><span data-stu-id="e4a41-330">Improving the SessionsTable View</span></span>

<span data-ttu-id="e4a41-331">W tej sekcji utworzysz widok sesji dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-331">In this section, you'll create a mobile-specific view of sessions.</span></span> <span data-ttu-id="e4a41-332">Wprowadzone zmiany będą bardziej obszerne niż w innych utworzonych widokach.</span><span class="sxs-lookup"><span data-stu-id="e4a41-332">The changes we make will be more extensive than in other views we have created.</span></span>

<span data-ttu-id="e4a41-333">W przeglądarce mobilnej naciśnij przycisk **głośnik** , a następnie wprowadź `Sc` w polu wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="e4a41-333">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="e4a41-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span></span>

<span data-ttu-id="e4a41-335">Naciśnij link **Scott Hanselman** .</span><span class="sxs-lookup"><span data-stu-id="e4a41-335">Tap the **Scott Hanselman** link.</span></span>

<span data-ttu-id="e4a41-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span></span>

<span data-ttu-id="e4a41-337">Jak widać, ekran jest trudny do odczytania w przeglądarce dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="e4a41-337">As you can see, the display is difficult to read on a mobile browser.</span></span> <span data-ttu-id="e4a41-338">Kolumna Date jest trudna do odczytania, a kolumna Tagi jest poza widokiem.</span><span class="sxs-lookup"><span data-stu-id="e4a41-338">The date column is hard to read and the tags column is out of the view.</span></span> <span data-ttu-id="e4a41-339">Aby rozwiązać ten problem, skopiuj *Views\Home\SessionsTable.cshtml* do *Views\Home\SessionsTable.Mobile.cshtml*, a następnie zastąp zawartość pliku następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="e4a41-339">To fix this, copy *Views\Home\SessionsTable.cshtml* to *Views\Home\SessionsTable.Mobile.cshtml*, and then replace the contents of the file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample24.cshtml)]

<span data-ttu-id="e4a41-340">Kod usuwa kolumny Room i Tagi oraz formatuje tytuł, prelegent i datę w pionie, dzięki czemu wszystkie te informacje są odczytywane w przeglądarce mobilnej.</span><span class="sxs-lookup"><span data-stu-id="e4a41-340">The code removes the room and tags columns, and formats the title, speaker, and date vertically, so that all this information is readable on a mobile browser.</span></span> <span data-ttu-id="e4a41-341">Poniższy obraz odzwierciedla zmiany w kodzie.</span><span class="sxs-lookup"><span data-stu-id="e4a41-341">The image below reflects the code changes.</span></span>

<span data-ttu-id="e4a41-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span></span>

## <a name="improving-the-sessionbycode-view"></a><span data-ttu-id="e4a41-343">Ulepszanie widoku SessionByCode</span><span class="sxs-lookup"><span data-stu-id="e4a41-343">Improving the SessionByCode View</span></span>

<span data-ttu-id="e4a41-344">Na koniec utworzysz widok *SessionByCode* na konkretnym urządzeniu mobilnym.</span><span class="sxs-lookup"><span data-stu-id="e4a41-344">Finally, you'll create a mobile-specific view of the *SessionByCode* view.</span></span> <span data-ttu-id="e4a41-345">W przeglądarce mobilnej naciśnij przycisk **głośnik** , a następnie wprowadź `Sc` w polu wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="e4a41-345">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="e4a41-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span></span>

<span data-ttu-id="e4a41-347">Naciśnij link **Scott Hanselman** .</span><span class="sxs-lookup"><span data-stu-id="e4a41-347">Tap the **Scott Hanselman** link.</span></span> <span data-ttu-id="e4a41-348">Wyświetlane są sesje Scott Hanselman.</span><span class="sxs-lookup"><span data-stu-id="e4a41-348">Scott Hanselman's sessions are displayed.</span></span>

<span data-ttu-id="e4a41-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span></span>

<span data-ttu-id="e4a41-350">Wybierz **Przegląd usługi Microsoft Web Stack** linku miłości.</span><span class="sxs-lookup"><span data-stu-id="e4a41-350">Choose the **An Overview of the MS Web Stack of Love** link.</span></span>

<span data-ttu-id="e4a41-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span></span>

<span data-ttu-id="e4a41-352">Domyślny widok pulpitu jest prawidłowo, ale można go ulepszyć.</span><span class="sxs-lookup"><span data-stu-id="e4a41-352">The default desktop view is fine, but you can improve it.</span></span>

<span data-ttu-id="e4a41-353">Skopiuj *Views\Home\SessionByCode.cshtml* do *Views\Home\SessionByCode.Mobile.cshtml* i Zastąp zawartość pliku *Views\Home\SessionByCode.Mobile.cshtml* następującym znacznikiem:</span><span class="sxs-lookup"><span data-stu-id="e4a41-353">Copy the *Views\Home\SessionByCode.cshtml* to *Views\Home\SessionByCode.Mobile.cshtml* and replace the contents of the *Views\Home\SessionByCode.Mobile.cshtml* file with the following markup:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample25.cshtml)]

<span data-ttu-id="e4a41-354">Nowe oznakowanie używa atrybutu `data-role`, aby poprawić układ widoku.</span><span class="sxs-lookup"><span data-stu-id="e4a41-354">The new markup uses the `data-role` attribute to improve the layout of the view.</span></span>

<span data-ttu-id="e4a41-355">Odśwież przeglądarkę mobilną.</span><span class="sxs-lookup"><span data-stu-id="e4a41-355">Refresh the mobile browser.</span></span> <span data-ttu-id="e4a41-356">Poniższy obraz odzwierciedla wprowadzone zmiany kodu:</span><span class="sxs-lookup"><span data-stu-id="e4a41-356">The following image reflects the code changes that you just made:</span></span>

<span data-ttu-id="e4a41-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="e4a41-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span></span>

## <a name="wrapup-and-review"></a><span data-ttu-id="e4a41-358">Wrapup i przejrzyj</span><span class="sxs-lookup"><span data-stu-id="e4a41-358">Wrapup and Review</span></span>

<span data-ttu-id="e4a41-359">W tym samouczku wprowadzono nowe funkcje mobilne programu ASP.NET MVC 4 Developer Preview.</span><span class="sxs-lookup"><span data-stu-id="e4a41-359">This tutorial has introduced the new mobile features of ASP.NET MVC 4 Developer Preview.</span></span> <span data-ttu-id="e4a41-360">Funkcje mobilne obejmują:</span><span class="sxs-lookup"><span data-stu-id="e4a41-360">The mobile features include:</span></span>

- <span data-ttu-id="e4a41-361">Możliwość przesłonięcia widoków układu, widoków i częściowych, zarówno globalnie, jak i dla poszczególnych widoków.</span><span class="sxs-lookup"><span data-stu-id="e4a41-361">The ability to override layout, views, and partial views, both globally and for an individual view.</span></span>
- <span data-ttu-id="e4a41-362">Kontrola nad układem i częściowe zastąpienie wymuszania przy użyciu właściwości `RequireConsistentDisplayMode`.</span><span class="sxs-lookup"><span data-stu-id="e4a41-362">Control over layout and partial override enforcement using the `RequireConsistentDisplayMode` property.</span></span>
- <span data-ttu-id="e4a41-363">Widżet View-przełącznik widoku dla widoków mobilnych, który może być również wyświetlany w widokach pulpitu.</span><span class="sxs-lookup"><span data-stu-id="e4a41-363">A view-switcher widget for mobile views than can also be displayed in desktop views.</span></span>
- <span data-ttu-id="e4a41-364">Obsługa obsługi określonych przeglądarek, takich jak przeglądarka telefonu iPhone.</span><span class="sxs-lookup"><span data-stu-id="e4a41-364">Support for supporting specific browsers, such as the iPhone browser.</span></span>

## <a name="see-also"></a><span data-ttu-id="e4a41-365">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="e4a41-365">See Also</span></span>

- <span data-ttu-id="e4a41-366">Witryna sieci [komórkowej jQuery](http://jquerymobile.com) .</span><span class="sxs-lookup"><span data-stu-id="e4a41-366">[jQuery Mobile](http://jquerymobile.com) site.</span></span>
- [<span data-ttu-id="e4a41-367">Omówienie technologii jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="e4a41-367">jQuery Mobile Overview</span></span>](http://jquerymobile.com/demos/1.0b3/docs/about/intro.html)
- [<span data-ttu-id="e4a41-368">Najlepsze rozwiązania dotyczące aplikacji sieci Web dla urządzeń przenośnych z rekomendacją W3C</span><span class="sxs-lookup"><span data-stu-id="e4a41-368">W3C Recommendation Mobile Web Application Best Practices</span></span>](http://www.w3.org/TR/mwabp/)
- [<span data-ttu-id="e4a41-369">Zalecenie dotyczące kandydatów W3C dla zapytań dotyczących multimediów</span><span class="sxs-lookup"><span data-stu-id="e4a41-369">W3C Candidate Recommendation for media queries</span></span>](http://www.w3.org/TR/css3-mediaqueries/)
