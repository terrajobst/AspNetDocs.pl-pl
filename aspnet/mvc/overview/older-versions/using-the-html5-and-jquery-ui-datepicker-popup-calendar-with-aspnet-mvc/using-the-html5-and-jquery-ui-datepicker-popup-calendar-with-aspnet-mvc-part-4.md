---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: Korzystanie z okienka podręcznego DatePicker interfejsu użytkownika HTML5 i jQuery z ASP.NET MVC — część 4 | Microsoft Docs
author: Rick-Anderson
description: W tym samouczku przedstawiono podstawowe informacje dotyczące pracy z szablonami edytora, szablonów wyświetlania i menu podręcznego interfejsu użytkownika jQuery DatePicker w ASP.NET MV...
ms.author: riande
ms.date: 08/29/2011
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: 583e782641efea9a9517edb31f7718b28203d756
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/19/2020
ms.locfileid: "77457495"
---
# <a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="1a9f7-103">Korzystanie z menu podręcznego interfejsu użytkownika HTML5 i jQuery DatePicker z ASP.NET MVC — część 4</span><span class="sxs-lookup"><span data-stu-id="1a9f7-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>

<span data-ttu-id="1a9f7-104">Autor [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="1a9f7-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="1a9f7-105">W tym samouczku przedstawiono podstawowe informacje dotyczące pracy z szablonami edytora, szablonów wyświetlania i okienka podręcznego interfejsu użytkownika jQuery DatePicker w aplikacji sieci Web ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>

### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="1a9f7-106">Dodawanie szablonu do edytowania dat</span><span class="sxs-lookup"><span data-stu-id="1a9f7-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="1a9f7-107">W tej sekcji utworzysz szablon służący do edytowania dat, które zostaną zastosowane, gdy ASP.NET MVC wyświetla interfejs użytkownika do edycji właściwości modelu, które są oznaczone wyliczeniem **daty** atrybutu [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attribute.</span></span> <span data-ttu-id="1a9f7-108">Szablon będzie renderować tylko datę; godzina nie zostanie wyświetlona.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="1a9f7-109">W szablonie zostanie użyty kalendarz podręczny [DatePicker interfejsu użytkownika jQuery](http://jqueryui.com/demos/datepicker/) , aby umożliwić edycję dat.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="1a9f7-110">Aby rozpocząć, Otwórz plik *Movie.cs* i Dodaj atrybut [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) z wyliczeniem **daty** do właściwości `ReleaseDate`, jak pokazano w poniższym kodzie:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="1a9f7-111">Ten kod powoduje wyświetlenie pola `ReleaseDate` bez czasu w obu szablonach wyświetlania i Edytowanie szablonów.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="1a9f7-112">Jeśli aplikacja zawiera szablon *Date. cshtml* w folderze *Views\Shared\EditorTemplates* lub w folderze *Views\Movies\EditorTemplates* , ten szablon będzie używany do renderowania dowolnej właściwości `DateTime` podczas edytowania.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="1a9f7-113">W przeciwnym razie wbudowany system ASP.NET tworzenia szablonów będzie wyświetlał właściwość jako datę.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="1a9f7-114">Naciśnij klawisze CTRL+F5, aby uruchomić aplikację.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="1a9f7-115">Wybierz łącze Edytuj, aby sprawdzić, czy w polu wejściowym daty wydania jest wyświetlana tylko Data.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="1a9f7-116">W **Eksplorator rozwiązań**rozwiń folder *widoki* , rozwiń folder *udostępniony* , a następnie kliknij prawym przyciskiem myszy folder *Views\Shared\EditorTemplates* .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="1a9f7-117">Kliknij przycisk **Dodaj**, a następnie kliknij przycisk **Wyświetl**.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="1a9f7-118">Zostanie wyświetlone okno dialogowe **Dodawanie widoku** .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="1a9f7-119">W polu **Nazwa widoku** wpisz &quot;Data&quot;.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="1a9f7-120">Zaznacz pole wyboru **Utwórz jako widok częściowy** .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="1a9f7-121">Upewnij się, że pola **Używaj układu lub strony wzorcowej** i **Utwórz widok z silną typem** nie są zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="1a9f7-122">Kliknij pozycję **Add** (Dodaj).</span><span class="sxs-lookup"><span data-stu-id="1a9f7-122">Click **Add**.</span></span> <span data-ttu-id="1a9f7-123">Utworzono szablon *Views\Shared\EditorTemplates\Date.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="1a9f7-124">Dodaj następujący kod do szablonu *Views\Shared\EditorTemplates\Date.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="1a9f7-125">Pierwszy wiersz deklaruje model jako typ `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="1a9f7-126">Chociaż nie musisz deklarować typu modelu w szablonach edycji i wyświetlania, najlepszym rozwiązaniem jest to, aby w celu uzyskania sprawdzenia, czy model jest przenoszona do widoku.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="1a9f7-127">(Kolejną zaletą jest to, że uzyskasz funkcję IntelliSense dla modelu w widoku w programie Visual Studio). Jeśli typ modelu nie jest zadeklarowany, ASP.NET MVC uważa, że jest typem [dynamicznym](https://msdn.microsoft.com/library/dd264741.aspx) i nie jest sprawdzanie typu w czasie kompilacji.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="1a9f7-128">Jeśli model zostanie zadeklarowany jako typ `DateTime`, zostanie jednoznacznie wpisany.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="1a9f7-129">Drugi wiersz jest po prostu literałem HTML, który wyświetla &quot;przy użyciu szablonu daty&quot; przed polem daty.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="1a9f7-130">Ten wiersz będzie używany tymczasowo do sprawdzenia, czy ten szablon daty jest używany.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="1a9f7-131">Następnym wierszem jest pomocnik [HTML. TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) , który renderuje `input` pole, które jest polem tekstowym.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="1a9f7-132">Trzeci parametr pomocnika używa typu anonimowego, aby ustawić klasę dla pola tekstowego na `datefield` i typ do `date`.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="1a9f7-133">(Ponieważ `class` jest zastrzeżona w C#, należy użyć znaku `@` do ucieczki atrybutu `class` w C# analizatorze).</span><span class="sxs-lookup"><span data-stu-id="1a9f7-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="1a9f7-134">Typ `date` jest typem wejściowym HTML5, który umożliwia przeglądarkom obsługującym język HTML5 renderowanie kontrolki kalendarza HTML5.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="1a9f7-135">Później dodasz kod JavaScript, aby podłączyć jQuery DatePicker do elementu `Html.TextBox` przy użyciu klasy `datefield`.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="1a9f7-136">Naciśnij klawisze CTRL+F5, aby uruchomić aplikację.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="1a9f7-137">Możesz sprawdzić, czy właściwość `ReleaseDate` w widoku edycji używa szablonu edycji, ponieważ szablon wyświetla &quot;użyciu szablonu daty,&quot; tuż przed polem wprowadzania tekstu `ReleaseDate`, jak pokazano na poniższej ilustracji:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="1a9f7-138">Sprawdź Źródło strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="1a9f7-139">(Na przykład kliknij prawym przyciskiem myszy stronę i wybierz polecenie **Wyświetl źródło**). W poniższym przykładzie przedstawiono niektóre znaczniki dla strony, ilustrując atrybuty `class` i `type` w renderowanym kodzie HTML.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="1a9f7-140">Wróć do szablonu *Views\Shared\EditorTemplates\Date.cshtml* i Usuń &quot;przy użyciu szablonu daty&quot; znaczników.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="1a9f7-141">Teraz ukończony szablon wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="1a9f7-142">Dodawanie Datepickerego okienka podręcznego interfejsu użytkownika jQuery przy użyciu narzędzia NuGet</span><span class="sxs-lookup"><span data-stu-id="1a9f7-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="1a9f7-143">W tej sekcji dodasz kalendarz podręczny [DatePicker interfejsu użytkownika jQuery](http://jqueryui.com/demos/datepicker/) do szablonu daty i edycji.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="1a9f7-144">Biblioteka [interfejsu użytkownika jQuery](http://jqueryui.com/) zapewnia obsługę animacji, zaawansowanych efektów i dostosowywalnych elementów widget.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="1a9f7-145">Jest ona zbudowana na bazie biblioteki jQuery JavaScript.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="1a9f7-146">Kalendarz podręczny DatePicker umożliwia łatwe i naturalne wprowadzanie dat przy użyciu kalendarza zamiast wprowadzać ciąg.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="1a9f7-147">W kalendarzu podręcznym są również ograniczane użytkowników do dat prawnych — zwykłe wprowadzanie tekstu dla daty umożliwi Ci wprowadzanie takich elementów jak `2/33/1999` (luty 33rd, 1999), ale kalendarz podręczny [DatePicker interfejsu użytkownika jQuery](http://jqueryui.com/demos/datepicker/) nie zezwoli na to.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="1a9f7-148">Najpierw należy zainstalować biblioteki interfejsu użytkownika jQuery.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="1a9f7-149">W tym celu należy użyć programu NuGet, który jest menedżerem pakietów dołączonym do wersji SP1 programu Visual Studio 2010 i Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="1a9f7-150">W programie Visual Web Developer z menu **Narzędzia** wybierz pozycję **Menedżer pakietów NuGet** , a następnie wybierz pozycję **Zarządzaj pakietami NuGet**.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-150">In Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="1a9f7-151">Uwaga: Jeśli menu **Narzędzia** nie wyświetla polecenia **Menedżera pakietów NuGet** , należy zainstalować pakiet NuGet, postępując zgodnie z instrukcjami na stronie Instalowanie narzędzia [NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) w witrynie sieci Web NuGet.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-151">Note: If the **Tools** menu doesn't display the **NuGet Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="1a9f7-152">Jeśli używasz programu Visual Studio zamiast programu Visual Web Developer, w menu **Narzędzia** wybierz pozycję **Menedżer pakietów NuGet** , a następnie wybierz pozycję **Dodaj odwołanie do pakietu biblioteki**.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="1a9f7-153">W oknie dialogowym **MVCMovie — zarządzanie pakietami NuGet** kliknij kartę **online** po lewej stronie, a następnie wprowadź &quot;jQuery. UI&quot; w polu wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="1a9f7-154">Wybierz pozycję j **zapytania element widgets UI: DatePicker**, a następnie wybierz przycisk **Instaluj** .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-154">Select j **Query UI Widgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="1a9f7-155">Pakiet NuGet dodaje te wersje debugowania oraz zminimalizowanego wersje interfejsu użytkownika systemu jQuery i selektor daty interfejsu użytkownika jQuery do projektu:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- <span data-ttu-id="1a9f7-156">*jQuery. UI. Core. js*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-156">*jquery.ui.core.js*</span></span>
- <span data-ttu-id="1a9f7-157">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-157">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="1a9f7-158">*jQuery. UI. DatePicker. js*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-158">*jquery.ui.datepicker.js*</span></span>
- <span data-ttu-id="1a9f7-159">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-159">*jquery.ui.datepicker.min.js*</span></span>

<span data-ttu-id="1a9f7-160">Uwaga: wersje debugowania (pliki bez rozszerzenia *. min. js* ) są przydatne do debugowania, ale w witrynie produkcyjnej dołączane są tylko wersje zminimalizowanego.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="1a9f7-161">Aby faktycznie używać selektora dat jQuery, należy utworzyć skrypt jQuery, który będzie podłączać widżet Calendar do szablonu edycji.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="1a9f7-162">W **Eksplorator rozwiązań**kliknij prawym przyciskiem myszy folder *skrypty* i wybierz polecenie **Dodaj**, a następnie **nowy element**, a następnie **plik JScript**.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="1a9f7-163">Nazwij plik *DatePickerReady. js*.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="1a9f7-164">Dodaj następujący kod do pliku *DatePickerReady. js* :</span><span class="sxs-lookup"><span data-stu-id="1a9f7-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="1a9f7-165">Jeśli nie znasz już platformy jQuery, poniżej przedstawiono krótkie wyjaśnienie tego, co robi: pierwszy wiersz to funkcja&quot; &quot;platformy jQuery, która jest wywoływana, gdy wszystkie elementy DOM na stronie zostały załadowane.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="1a9f7-166">Drugi wiersz wybiera wszystkie elementy DOM, które mają nazwę klasy `datefield`, a następnie wywołuje funkcję `datepicker` dla każdego z nich.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="1a9f7-167">(Należy pamiętać, że Klasa `datefield` została dodana do szablonu *Views\Shared\EditorTemplates\Date.cshtml* wcześniej w samouczku).</span><span class="sxs-lookup"><span data-stu-id="1a9f7-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="1a9f7-168">Następnie otwórz plik *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="1a9f7-169">Należy dodać odwołania do następujących plików, które są wymagane, aby można było użyć selektora dat:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- <span data-ttu-id="1a9f7-170">*Content/motywy/Base/jQuery. UI. Core. CSS*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-170">*Content/themes/base/jquery.ui.core.css*</span></span>
- <span data-ttu-id="1a9f7-171">*Content/motywy/Base/jQuery. UI. DatePicker. CSS*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-171">*Content/themes/base/jquery.ui.datepicker.css*</span></span>
- <span data-ttu-id="1a9f7-172">*Zawartość/motywy/Base/jQuery. UI. Theme. CSS*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-172">*Content/themes/base/jquery.ui.theme.css*</span></span>
- <span data-ttu-id="1a9f7-173">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-173">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="1a9f7-174">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-174">*jquery.ui.datepicker.min.js*</span></span>
- <span data-ttu-id="1a9f7-175">*DatePickerReady. js*</span><span class="sxs-lookup"><span data-stu-id="1a9f7-175">*DatePickerReady.js*</span></span>

<span data-ttu-id="1a9f7-176">W poniższym przykładzie przedstawiono rzeczywisty kod, który należy dodać u dołu elementu `head` w pliku *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="1a9f7-177">Pełna sekcja `head` jest pokazana tutaj:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="1a9f7-178">Metoda [pomocnika zawartości adresu URL](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) Konwertuje ścieżkę zasobu na ścieżkę bezwzględną.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="1a9f7-179">Należy użyć `@URL.Content`, aby prawidłowo odwoływać się do tych zasobów, gdy aplikacja jest uruchomiona w usługach IIS.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="1a9f7-180">Naciśnij klawisze CTRL+F5, aby uruchomić aplikację.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="1a9f7-181">Wybierz łącze Edytuj, a następnie umieść punkt wstawiania w polu **ReleaseDate** .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="1a9f7-182">Zostanie wyświetlony kalendarz podręczny interfejsu użytkownika jQuery.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="1a9f7-183">Podobnie jak większość formantów jQuery, DatePicker umożliwia szerokie dostosowanie go.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="1a9f7-184">Aby uzyskać więcej informacji, zobacz [Visual Customization: Projektowanie interfejsu użytkownika jQuery](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) w lokacji [interfejsu użytkownika jQuery](http://learn.jquery.com/jquery-ui/getting-started/) .</span><span class="sxs-lookup"><span data-stu-id="1a9f7-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="1a9f7-185">Obsługa kontroli danych wejściowych daty HTML5</span><span class="sxs-lookup"><span data-stu-id="1a9f7-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="1a9f7-186">Ponieważ więcej przeglądarek obsługuje język HTML5, należy użyć natywnego wejścia HTML5, takiego jak `date` elementu wejściowego, i nie używać kalendarza interfejsu użytkownika jQuery.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="1a9f7-187">Możesz dodać logikę do aplikacji, aby automatycznie używać formantów HTML5, jeśli przeglądarka je obsługuje.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="1a9f7-188">Aby to zrobić, Zastąp zawartość pliku *DatePickerReady. js* następującym:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="1a9f7-189">Pierwszy wiersz tego skryptu używa programu modernizacji do sprawdzenia, czy jest obsługiwane wprowadzanie dat HTML5.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="1a9f7-190">Jeśli nie jest to obsługiwane, selektor daty interfejsu użytkownika jQuery jest podłączany.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="1a9f7-191">([Modernizacja](http://www.modernizr.com/docs/) to biblioteka języka JavaScript typu open source, która wykrywa Dostępność natywnych implementacji języków HTML5 i CSS3.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="1a9f7-192">Modernizacja jest dołączana do nowych projektów ASP.NET MVC tworzonych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="1a9f7-193">Po wprowadzeniu tej zmiany możesz ją przetestować przy użyciu przeglądarki obsługującej HTML5, takiej jak Opera 11.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="1a9f7-194">Uruchom aplikację przy użyciu przeglądarki zgodnej z HTML5 i Edytuj wpis filmu.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="1a9f7-195">Zamiast okienka podręcznego interfejsu użytkownika jQuery jest używany formant daty HTML5:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="1a9f7-196">Ze względu na to, że nowe wersje przeglądarek wdrażają program HTML5 przyrostowo, dobrym rozwiązaniem jest dodanie kodu do witryny sieci Web, który obsługuje szeroką gamę obsługi HTML5.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="1a9f7-197">Na przykład poniżej przedstawiono bardziej niezawodny skrypt *DatePickerReady. js* , który umożliwia obsługę przeglądarek, które tylko częściowo obsługują kontrolę daty HTML5.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="1a9f7-198">Ten skrypt wybiera elementy HTML5 `input` typu `date`, które nie obsługują w pełni kontroli daty HTML5.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="1a9f7-199">Dla tych elementów przechwytuje kalendarz podręczny interfejsu użytkownika jQuery, a następnie zmienia atrybut `type` z `date` na `text`.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="1a9f7-200">Zmiana `type` atrybutu z `date` na `text`powoduje, że obsługa częściowej daty HTML5 zostanie wyeliminowana.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="1a9f7-201">Jeszcze bardziej niezawodny skrypt *DatePickerReady. js* można znaleźć pod adresem [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="1a9f7-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="1a9f7-202">Dodawanie do szablonów dat dopuszczających wartości null</span><span class="sxs-lookup"><span data-stu-id="1a9f7-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="1a9f7-203">Jeśli używasz jednego z istniejących szablonów dat i przekażesz datę null, wystąpi błąd czasu wykonywania.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="1a9f7-204">Aby szablony dat były bardziej niezawodne, należy zmienić je na obsługę wartości null.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="1a9f7-205">W celu zapewnienia obsługi dat dopuszczających wartości null Zmień kod w *Views\Shared\DisplayTemplates\DateTime.cshtml* na następujący:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="1a9f7-206">Kod zwraca pusty ciąg, jeśli model ma **wartość null**.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="1a9f7-207">Zmień kod w pliku *Views\Shared\EditorTemplates\Date.cshtml* na następujący:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="1a9f7-208">Gdy ten kod jest uruchamiany, jeśli model nie ma wartości null, zostanie użyta wartość `DateTime` modelu.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="1a9f7-209">Jeśli model ma wartość null, zamiast niej zostanie użyta bieżąca data.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="1a9f7-210">Wrapup</span><span class="sxs-lookup"><span data-stu-id="1a9f7-210">Wrapup</span></span>

<span data-ttu-id="1a9f7-211">Ten samouczek obejmuje podstawy pomocników z szablonem ASP.NET i pokazuje, jak używać okna podręcznego interfejsu użytkownika jQuery DatePicker w aplikacji ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="1a9f7-212">Aby uzyskać więcej informacji, wypróbuj następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="1a9f7-212">For more information, try these resources:</span></span>

- <span data-ttu-id="1a9f7-213">Aby uzyskać informacje dotyczące lokalizacji, zobacz blog Rajeesh [JQueryUI DatePicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="1a9f7-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="1a9f7-214">Aby uzyskać informacje o interfejsie użytkownika jQuery, zobacz [interfejs użytkownika jQuery](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="1a9f7-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="1a9f7-215">Aby uzyskać informacje o sposobie lokalizowania formantu DatePicker, zobacz [UI/DatePicker/lokalizacja](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="1a9f7-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="1a9f7-216">Aby uzyskać więcej informacji na temat szablonów ASP.NET MVC, zapoznaj się z serią blogów Brada Wilson na temat [ASP.NET szablonów MVC 2](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="1a9f7-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="1a9f7-217">Mimo że seria została zapisywana dla ASP.NET MVC 2, materiał nadal stosuje się do bieżącej wersji ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="1a9f7-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="1a9f7-218">Wstecz</span><span class="sxs-lookup"><span data-stu-id="1a9f7-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)
