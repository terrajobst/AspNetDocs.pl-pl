---
uid: web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
title: Programowe określanie strony wzorcowej (C#) | Dokumentacja firmy Microsoft
author: rick-anderson
description: Patrzy na ustawienie poziomu strony zawartości strony wzorcowej programowo za pośrednictwem programu obsługi zdarzeń PreInit.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 7c4a3445-2440-4aee-b9fd-779c05e6abb2
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
msc.type: authoredcontent
ms.openlocfilehash: 0d56a600b1b97d9d044fa90b678c942f0dc6fc00
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/17/2019
ms.locfileid: "59413831"
---
# <a name="specifying-the-master-page-programmatically-c"></a><span data-ttu-id="89e39-103">Programowe określanie strony wzorcowej (C#)</span><span class="sxs-lookup"><span data-stu-id="89e39-103">Specifying the Master Page Programmatically (C#)</span></span>

<span data-ttu-id="89e39-104">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="89e39-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="89e39-105">[Pobierz program Code](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) lub [Pobierz plik PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="89e39-105">[Download Code](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) or [Download PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span></span>

> <span data-ttu-id="89e39-106">Patrzy na ustawienie poziomu strony zawartości strony wzorcowej programowo za pośrednictwem programu obsługi zdarzeń PreInit.</span><span class="sxs-lookup"><span data-stu-id="89e39-106">Looks at setting the content page's master page programmatically via the PreInit event handler.</span></span>


## <a name="introduction"></a><span data-ttu-id="89e39-107">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="89e39-107">Introduction</span></span>

<span data-ttu-id="89e39-108">Ponieważ przykład inauguracyjnym w [ *tworzenia całej witryny układu za pomocą stron wzorcowych*](creating-a-site-wide-layout-using-master-pages-cs.md), cała zawartość strony ma odwołanie do ich strony wzorcowej w sposób deklaratywny za pośrednictwem `MasterPageFile` atrybutu w `@Page`dyrektywy.</span><span class="sxs-lookup"><span data-stu-id="89e39-108">Since the inaugural example in [*Creating a Site-Wide Layout Using Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md), all content pages have referenced their master page declaratively via the `MasterPageFile` attribute in the `@Page` directive.</span></span> <span data-ttu-id="89e39-109">Na przykład następująca `@Page` dyrektywy łączy strony zawartości strony wzorcowej `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="89e39-109">For example, the following `@Page` directive links the content page to the master page `Site.master`:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample1.aspx)]

<span data-ttu-id="89e39-110">[ `Page` Klasy](https://msdn.microsoft.com/library/system.web.ui.page.aspx) w `System.Web.UI` przestrzeń nazw zawiera [ `MasterPageFile` właściwość](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) , zwraca ścieżkę do strony wzorcowej strony zawartości; jest to właściwość, która została ustawiona przez `@Page` dyrektywy.</span><span class="sxs-lookup"><span data-stu-id="89e39-110">The [`Page` class](https://msdn.microsoft.com/library/system.web.ui.page.aspx) in the `System.Web.UI` namespace includes a [`MasterPageFile` property](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) that returns the path to the content page's master page; it is this property that is set by the `@Page` directive.</span></span> <span data-ttu-id="89e39-111">Ta właściwość może również programowe określanie strony wzorcowej strony zawartość.</span><span class="sxs-lookup"><span data-stu-id="89e39-111">This property can also be used to programmatically specify the content page's master page.</span></span> <span data-ttu-id="89e39-112">Takie podejście jest przydatne, jeśli chcesz dynamiczne przypisywanie na podstawie zewnętrznych czynników, takich jak użytkownik, odwiedzając stronę strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-112">This approach is useful if you want to dynamically assign the master page based on external factors, such as the user visiting the page.</span></span>

<span data-ttu-id="89e39-113">W tym samouczku będziemy Dodaj drugą stronę wzorcową naszą witrynę internetową i dynamicznie zdecydować, które strony wzorcowej do użycia w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="89e39-113">In this tutorial we add a second master page to our website and dynamically decide which master page to use at runtime.</span></span>

## <a name="step-1-a-look-at-the-page-lifecycle"></a><span data-ttu-id="89e39-114">Krok 1. Szukaj w cyklu życia strony</span><span class="sxs-lookup"><span data-stu-id="89e39-114">Step 1: A Look at the Page Lifecycle</span></span>

<span data-ttu-id="89e39-115">Zawsze, gdy żądanie dociera do serwera sieci web dla strony ASP.NET, która jest używana jako strona zawartości, aparat programu ASP.NET należy Łączenie strony zawartości, kontrolek do strony głównej i odpowiadający jej kontrolek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="89e39-115">Whenever a request arrives at the web server for an ASP.NET page that is a content page, the ASP.NET engine must fuse the page's Content controls into the master page's corresponding ContentPlaceHolder controls.</span></span> <span data-ttu-id="89e39-116">Ta fusion tworzy hierarchii jeden formant, które następnie mogą przejść w całym cyklu życia typowej strony.</span><span class="sxs-lookup"><span data-stu-id="89e39-116">This fusion creates a single control hierarchy that can then proceed through the typical page lifecycle.</span></span>

<span data-ttu-id="89e39-117">Rysunek 1 przedstawia ten fusion.</span><span class="sxs-lookup"><span data-stu-id="89e39-117">Figure 1 illustrates this fusion.</span></span> <span data-ttu-id="89e39-118">Krok 1 na rysunku 1 przedstawiono oryginalnej zawartości i hierarchii kontroli strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-118">Step 1 in Figure 1 shows the initial content and master page control hierarchies.</span></span> <span data-ttu-id="89e39-119">Na końcu tail etapu PreInit zawartość kontrolki na stronie są dodawane do odpowiednich kontrolek ContentPlaceHolder na stronie głównej (krok 2).</span><span class="sxs-lookup"><span data-stu-id="89e39-119">At the tail end of the PreInit stage the Content controls in the page are added to the corresponding ContentPlaceHolders in the master page (Step 2).</span></span> <span data-ttu-id="89e39-120">Po tym fusion strony wzorcowej służy jako katalog główny hierarchii kolei kontroli.</span><span class="sxs-lookup"><span data-stu-id="89e39-120">After this fusion, the master page serves as the root of the fused control hierarchy.</span></span> <span data-ttu-id="89e39-121">Tego zespolone kontroli jest następnie dodawana do strony Aby wygenerować hierarchii kontroli ukończone (krok 3).</span><span class="sxs-lookup"><span data-stu-id="89e39-121">This fused control hierarchy is then added to the page to produce the finalized control hierarchy (Step 3).</span></span> <span data-ttu-id="89e39-122">Wynikiem jest, że hierarchii kontroli strony zawiera hierarchii kolei kontroli.</span><span class="sxs-lookup"><span data-stu-id="89e39-122">The net result is that the page's control hierarchy includes the fused control hierarchy.</span></span>


<span data-ttu-id="89e39-123">[![Strona wzorcowa i hierarchii kontroli zawartości strony są zespolone ze sobą, na etapie PreInit](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="89e39-123">[![The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span></span>

<span data-ttu-id="89e39-124">**Rysunek 01**: Strona wzorcowa i hierarchii kontroli zawartości strony są zespolone ze sobą, na etapie PreInit ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](specifying-the-master-page-programmatically-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="89e39-124">**Figure 01**: The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image3.png))</span></span>


## <a name="step-2-setting-themasterpagefileproperty-from-code"></a><span data-ttu-id="89e39-125">Krok 2. Ustawienie`MasterPageFile`właściwości z kodu</span><span class="sxs-lookup"><span data-stu-id="89e39-125">Step 2: Setting the`MasterPageFile`Property from Code</span></span>

<span data-ttu-id="89e39-126">Jakie strony wzorcowej partakes w tym łączenia zależy od wartości `Page` obiektu `MasterPageFile` właściwości.</span><span class="sxs-lookup"><span data-stu-id="89e39-126">What master page partakes in this fusion depends on the value of the `Page` object's `MasterPageFile` property.</span></span> <span data-ttu-id="89e39-127">Ustawienie `MasterPageFile` atrybutu w `@Page` dyrektywy efektem netto przypisywanie `Page`firmy `MasterPageFile` właściwości na etapie inicjowania, który jest pierwszy etap cyklu życia strony.</span><span class="sxs-lookup"><span data-stu-id="89e39-127">Setting the `MasterPageFile` attribute in the `@Page` directive has the net effect of assigning the `Page`'s `MasterPageFile` property during the Initialization stage, which is the very first stage of the page's lifecycle.</span></span> <span data-ttu-id="89e39-128">Możemy też tę właściwość można ustawić programowo.</span><span class="sxs-lookup"><span data-stu-id="89e39-128">We can alternatively set this property programmatically.</span></span> <span data-ttu-id="89e39-129">Jednak należy bezwzględnie czy tej właściwości można ustawić przed rozpoczęciem fusion na rysunku 1.</span><span class="sxs-lookup"><span data-stu-id="89e39-129">However, it is imperative that this property be set before the fusion in Figure 1 takes place.</span></span>

<span data-ttu-id="89e39-130">Na początku tego etapu PreInit `Page` obiektu wywołuje jego [ `PreInit` zdarzeń](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) i wywołuje jego [ `OnPreInit` metoda](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span><span class="sxs-lookup"><span data-stu-id="89e39-130">At the start of the PreInit stage the `Page` object raises its [`PreInit` event](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) and calls its [`OnPreInit` method](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span></span> <span data-ttu-id="89e39-131">Aby programowo ustawić stronę wzorcową, następnie możemy utworzyć program obsługi zdarzeń dla `PreInit` zdarzenia lub zastąpienie `OnPreInit` metody.</span><span class="sxs-lookup"><span data-stu-id="89e39-131">To set the master page programmatically, then, we can either create an event handler for the `PreInit` event or override the `OnPreInit` method.</span></span> <span data-ttu-id="89e39-132">Przyjrzyjmy się oba podejścia.</span><span class="sxs-lookup"><span data-stu-id="89e39-132">Let's look at both approaches.</span></span>

<span data-ttu-id="89e39-133">Zacznij od otwarcia `Default.aspx.cs`, plik klasy CodeBehind strony głównej w naszej witrynie.</span><span class="sxs-lookup"><span data-stu-id="89e39-133">Start by opening `Default.aspx.cs`, the code-behind class file for our site's homepage.</span></span> <span data-ttu-id="89e39-134">Dodawanie obsługi zdarzeń dla strony `PreInit` zdarzeń, wpisując polecenie w następującym kodzie:</span><span class="sxs-lookup"><span data-stu-id="89e39-134">Add an event handler for the page's `PreInit` event by typing in the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample2.cs)]

<span data-ttu-id="89e39-135">W tym miejscu możemy ustawić `MasterPageFile` właściwości.</span><span class="sxs-lookup"><span data-stu-id="89e39-135">From here we can set the `MasterPageFile` property.</span></span> <span data-ttu-id="89e39-136">Aktualizowanie kodu, tak aby przypisuje wartość "~ / Site.master" Aby `MasterPageFile` właściwości.</span><span class="sxs-lookup"><span data-stu-id="89e39-136">Update the code so that it assigns the value "~/Site.master" to the `MasterPageFile` property.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample3.cs)]

<span data-ttu-id="89e39-137">Jeśli ustawisz punkt przerwania i Rozpocznij debugowanie można będzie wyświetlana po każdym `Default.aspx` odwiedzoną stronę lub zawsze, gdy występuje zwrot do tej strony `Page_PreInit` wykonuje program obsługi zdarzeń i `MasterPageFile` właściwości jest przypisany do "~ / Site.master".</span><span class="sxs-lookup"><span data-stu-id="89e39-137">If you set a breakpoint and start with debugging you'll see that whenever the `Default.aspx` page is visited or whenever there's a postback to this page, the `Page_PreInit` event handler executes and the `MasterPageFile` property is assigned to "~/Site.master".</span></span>

<span data-ttu-id="89e39-138">Alternatywnie możesz zastąpić `Page` klasy `OnPreInit` metody i ustaw `MasterPageFile` istnieje właściwość.</span><span class="sxs-lookup"><span data-stu-id="89e39-138">Alternatively, you can override the `Page` class's `OnPreInit` method and set the `MasterPageFile` property there.</span></span> <span data-ttu-id="89e39-139">W tym przykładzie załóżmy Nieustawione strony wzorcowej w określonej strony, ale raczej z `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="89e39-139">For this example, let's not set the master page in a particular page, but rather from `BasePage`.</span></span> <span data-ttu-id="89e39-140">Pamiętaj, że firma Microsoft utworzone klasy niestandardowej strony podstawowej (`BasePage`) w [ *Określanie tytułu, tagów Meta i innych nagłówków HTML na stronie wzorcowej* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) samouczka.</span><span class="sxs-lookup"><span data-stu-id="89e39-140">Recall that we created a custom base page class (`BasePage`) back in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial.</span></span> <span data-ttu-id="89e39-141">Obecnie `BasePage` zastępuje `Page` klasy `OnLoadComplete` metody, w którym ustawia strony `Title` właściwość oparte na danych mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="89e39-141">Currently `BasePage` overrides the `Page` class's `OnLoadComplete` method, where it sets the page's `Title` property based on the site map data.</span></span> <span data-ttu-id="89e39-142">Zaktualizujmy `BasePage` można także Przesłoń `OnPreInit` metody programowe określanie strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-142">Let's update `BasePage` to also override the `OnPreInit` method to programmatically specify the master page.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample4.cs)]

<span data-ttu-id="89e39-143">Ponieważ naszych stron zawartości pochodzić od `BasePage`, wszystkie mają teraz ich strony wzorcowej programowo przypisane.</span><span class="sxs-lookup"><span data-stu-id="89e39-143">Because all our content pages derive from `BasePage`, all of them now have their master page programmatically assigned.</span></span> <span data-ttu-id="89e39-144">W tym momencie `PreInit` programu obsługi zdarzeń w `Default.aspx.cs` jest zbędny; możesz je usunąć.</span><span class="sxs-lookup"><span data-stu-id="89e39-144">At this point the `PreInit` event handler in `Default.aspx.cs` is superfluous; feel free to remove it.</span></span>

### <a name="what-about-thepagedirective"></a><span data-ttu-id="89e39-145">Co`@Page`dyrektywy?</span><span class="sxs-lookup"><span data-stu-id="89e39-145">What About the`@Page`Directive?</span></span>

<span data-ttu-id="89e39-146">Jakie mogą być nieco mylące jest fakt, że stron zawartości `MasterPageFile` właściwości są teraz są określane w dwóch miejscach: programowo w `BasePage` klasy `OnPreInit` metoda również za pośrednictwem `MasterPageFile` atrybutu w każdej strony zawartości `@Page` dyrektywy.</span><span class="sxs-lookup"><span data-stu-id="89e39-146">What may be a little confusing is that the content pages' `MasterPageFile` properties are now being specified in two places: programmatically in the `BasePage` class's `OnPreInit` method as well as through the `MasterPageFile` attribute in each content page's `@Page` directive.</span></span>

<span data-ttu-id="89e39-147">Pierwszy etap w cyklu życia strony jest na etapie inicjowania.</span><span class="sxs-lookup"><span data-stu-id="89e39-147">The first stage in the page lifecycle is the Initialization stage.</span></span> <span data-ttu-id="89e39-148">Na tym etapie `Page` obiektu `MasterPageFile` właściwość jest przypisywana wartość `MasterPageFile` atrybutu w `@Page` — dyrektywa (jeśli jest ona udostępniana).</span><span class="sxs-lookup"><span data-stu-id="89e39-148">During this stage the `Page` object's `MasterPageFile` property is assigned the value of the `MasterPageFile` attribute in the `@Page` directive (if it is provided).</span></span> <span data-ttu-id="89e39-149">Na etapie PreInit następuje na etapie inicjowania, a tutaj jest gdzie możemy programowo ustawić `Page` obiektu `MasterPageFile` właściwości, w tym samym, zastępując wartość przypisana z `@Page` dyrektywy.</span><span class="sxs-lookup"><span data-stu-id="89e39-149">The PreInit stage follows the Initialization stage, and it is here where we programmatically set the `Page` object's `MasterPageFile` property, thereby overwriting the value assigned from the `@Page` directive.</span></span> <span data-ttu-id="89e39-150">Ponieważ ustawiamy `Page` obiektu `MasterPageFile` właściwość programowo, firma Microsoft może usunąć `MasterPageFile` atrybut z `@Page` dyrektywy bez wywierania wpływu na środowisko użytkownika końcowego.</span><span class="sxs-lookup"><span data-stu-id="89e39-150">Because we are setting the `Page` object's `MasterPageFile` property programmatically, we could remove the `MasterPageFile` attribute from the `@Page` directive without affecting the end user's experience.</span></span> <span data-ttu-id="89e39-151">Samodzielnie to przekonanie, przejdź dalej i Usuń `MasterPageFile` atrybut z `@Page` dyrektywy w `Default.aspx` , a następnie odwiedź stronę za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="89e39-151">To convince yourself of this, go ahead and remove the `MasterPageFile` attribute from the `@Page` directive in `Default.aspx` and then visit the page through a browser.</span></span> <span data-ttu-id="89e39-152">Jak można oczekiwać, dane wyjściowe jest taka sama jak przed atrybut został usunięty.</span><span class="sxs-lookup"><span data-stu-id="89e39-152">As you would expect, the output is the same as before the attribute was removed.</span></span>

<span data-ttu-id="89e39-153">Czy `MasterPageFile` zostaje ustalona za pośrednictwem `@Page` dyrektywy lub programowo wpływu na środowisko użytkownika końcowego.</span><span class="sxs-lookup"><span data-stu-id="89e39-153">Whether the `MasterPageFile` property is set via the `@Page` directive or programmatically is inconsequential to the end user's experience.</span></span> <span data-ttu-id="89e39-154">Jednak `MasterPageFile` atrybutu w `@Page` dyrektywa jest używany przez program Visual Studio w czasie projektowania do produkcji WYSIWYG widok w projektancie.</span><span class="sxs-lookup"><span data-stu-id="89e39-154">However, the `MasterPageFile` attribute in the `@Page` directive is used by Visual Studio during design-time to produce the WYSIWYG view in the Designer.</span></span> <span data-ttu-id="89e39-155">Po powrocie do `Default.aspx` w programie Visual Studio i przejdź do projektanta, zostanie wyświetlony komunikat "Błąd strony wzorcowej: Strona zawiera formanty, które wymagają odwołania do strony wzorcowej, ale nie określono żadnego"(patrz rysunek 2).</span><span class="sxs-lookup"><span data-stu-id="89e39-155">If you return to `Default.aspx` in Visual Studio and navigate to the Designer you'll see the message, "Master Page error: The page has controls that require a Master Page reference, but none is specified" (see Figure 2).</span></span>

<span data-ttu-id="89e39-156">Krótko mówiąc, należy pozostawić `MasterPageFile` atrybutu w `@Page` dyrektywy zaawansowane środowisko czasu projektowania w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="89e39-156">In short, you need to leave the `MasterPageFile` attribute in the `@Page` directive to enjoy a rich design-time experience in Visual Studio.</span></span>


<span data-ttu-id="89e39-157">[![Program Visual Studio używa @Page atrybut MasterPageFile dyrektywy do renderowania widoku projektu](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="89e39-157">[![Visual Studio Uses the @Page Directive's MasterPageFile Attribute to Render the Design View](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span></span>

<span data-ttu-id="89e39-158">**Rysunek 02**: Visual Studio korzysta z `@Page` dyrektywy `MasterPageFile` atrybutu do renderowania widoku projektu ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](specifying-the-master-page-programmatically-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="89e39-158">**Figure 02**: Visual Studio Uses the `@Page` Directive's `MasterPageFile` Attribute to Render the Design View  ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image6.png))</span></span>


## <a name="step-3-creating-an-alternative-master-page"></a><span data-ttu-id="89e39-159">Krok 3. Tworzenie strony wzorcowej alternatywna</span><span class="sxs-lookup"><span data-stu-id="89e39-159">Step 3: Creating an Alternative Master Page</span></span>

<span data-ttu-id="89e39-160">Ponieważ strony wzorcowej strony zawartości można programowo ustawić w czasie wykonywania, który można załadować dynamicznie konkretnej strony wzorcowej, na podstawie pewnych kryteriów zewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="89e39-160">Because a content page's master page can be set programmatically at runtime it's possible to dynamically load a particular master page based on some external criteria.</span></span> <span data-ttu-id="89e39-161">Ta funkcja może być przydatne w sytuacjach, gdy układu witryny musi się różnić zależnie od użytkownika.</span><span class="sxs-lookup"><span data-stu-id="89e39-161">This functionality can be useful in situations where the site's layout needs to vary based on the user.</span></span> <span data-ttu-id="89e39-162">Na przykład aplikacji sieci web aparatu blogu może umożliwiają użytkownikom wybierz układ jego blogu, gdzie każdy układ jest skojarzony z innej strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-162">For instance, a blog engine web application may allow its users to choose a layout for their blog, where each layout is associated with a different master page.</span></span> <span data-ttu-id="89e39-163">W czasie wykonywania wyświetlając obiekt odwiedzający jest blogu użytkownika aplikacji sieci web należy określić układ blogu i dynamicznie przypisywać odpowiadającej mu stronie wzorcowej ze stroną zawartości.</span><span class="sxs-lookup"><span data-stu-id="89e39-163">At runtime, when a visitor is viewing a user's blog, the web application would need to determine the blog's layout and dynamically associate the corresponding master page with the content page.</span></span>

<span data-ttu-id="89e39-164">Przeanalizujmy dynamicznie ładowanie strony wzorcowej w czasie wykonywania na podstawie pewnych kryteriów zewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="89e39-164">Let's examine how to dynamically load a master page at runtime based on some external criteria.</span></span> <span data-ttu-id="89e39-165">Nasza witryna obecnie zawiera tylko jedną stronę wzorcową (`Site.master`).</span><span class="sxs-lookup"><span data-stu-id="89e39-165">Our website currently contains just one master page (`Site.master`).</span></span> <span data-ttu-id="89e39-166">Potrzebujemy innej strony wzorcowej, aby zilustrować, wybierając stronę wzorcową w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="89e39-166">We need another master page to illustrate choosing a master page at runtime.</span></span> <span data-ttu-id="89e39-167">W tym kroku koncentruje się na temat tworzenia i konfigurowania nowej strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-167">This step focuses on creating and configuring the new master page.</span></span> <span data-ttu-id="89e39-168">Krok 4 patrzy na określenie, jakie strony wzorcowej do użycia w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="89e39-168">Step 4 looks at determining what master page to use at runtime.</span></span>

<span data-ttu-id="89e39-169">Tworzenie nowej strony wzorcowej w folderze głównym o nazwie `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="89e39-169">Create a new master page in the root folder named `Alternate.master`.</span></span> <span data-ttu-id="89e39-170">Również dodać nowy arkusz stylów do witryny sieci Web o nazwie `AlternateStyles.css`.</span><span class="sxs-lookup"><span data-stu-id="89e39-170">Also add a new style sheet to the website named `AlternateStyles.css`.</span></span>


<span data-ttu-id="89e39-171">[![Dodaj kolejną stronę wzorcową i arkusze CSS plik do witryny sieci Web](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="89e39-171">[![Add Another Master Page and CSS File to the Website](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span></span>

<span data-ttu-id="89e39-172">**Rysunek 03**: Dodawanie innej strony wzorcowej i pliku CSS do witryny sieci Web ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](specifying-the-master-page-programmatically-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="89e39-172">**Figure 03**: Add Another Master Page and CSS File to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image9.png))</span></span>


<span data-ttu-id="89e39-173">Czy mogę zaprojektowania `Alternate.master` stronę wzorcową, która znajduje się tytuł wyświetlany u góry strony, a ich tematyka i granatowym tła.</span><span class="sxs-lookup"><span data-stu-id="89e39-173">I've designed the `Alternate.master` master page to have the title displayed at the top of the page, centered and on a navy background.</span></span> <span data-ttu-id="89e39-174">I zostały pominięte w kolumnie po lewej stronie i przenieść tę zawartość pod `MainContent` ContentPlaceHolder formant, który teraz obejmuje całą szerokość strony.</span><span class="sxs-lookup"><span data-stu-id="89e39-174">I've dispensed of the left column and moved that content beneath the `MainContent` ContentPlaceHolder control, which now spans the entire width of the page.</span></span> <span data-ttu-id="89e39-175">Ponadto nixed listę nieuporządkowaną — lekcje i zastąpiliśmy go z powyższej listy poziomej `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="89e39-175">Furthermore, I nixed the unordered Lessons list and replaced it with a horizontal list above `MainContent`.</span></span> <span data-ttu-id="89e39-176">Zaktualizowano również czcionek i kolorów używanych przez strony wzorcowej (i przy użyciu rozszerzenia, na stronach zawartości).</span><span class="sxs-lookup"><span data-stu-id="89e39-176">I also updated the fonts and colors used by the master page (and, by extension, its content pages).</span></span> <span data-ttu-id="89e39-177">Rysunek 4 przedstawia `Default.aspx` przy użyciu `Alternate.master` strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-177">Figure 4 shows `Default.aspx` when using the `Alternate.master` master page.</span></span>

> [!NOTE]
> <span data-ttu-id="89e39-178">Program ASP.NET zawiera możliwość definiowania *motywy*.</span><span class="sxs-lookup"><span data-stu-id="89e39-178">ASP.NET includes the ability to define *Themes*.</span></span> <span data-ttu-id="89e39-179">Motyw jest kolekcją, obrazy, pliki CSS i stylu związane sieci Web kontroli ustawień właściwości, które mogą być stosowane do strony w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="89e39-179">A Theme is a collection of images, CSS files, and style-related Web control property settings that can be applied to a page at runtime.</span></span> <span data-ttu-id="89e39-180">Motywy to sposób Jeśli układy witryny różnią się tylko w przypadku obrazów wyświetlanych i ich reguły CSS.</span><span class="sxs-lookup"><span data-stu-id="89e39-180">Themes are the way to go if your site's layouts differ only in the images displayed and by their CSS rules.</span></span> <span data-ttu-id="89e39-181">Jeśli układów różnią się w bardziej znacznie, takiej jak inne kontrolki sieci Web lub mieć znacznie inny układ, następnie konieczne będzie używać osobnych stron wzorcowych.</span><span class="sxs-lookup"><span data-stu-id="89e39-181">If the layouts differ more substantially, such as using different Web controls or having a radically different layout, then you will need to use separate master pages.</span></span> <span data-ttu-id="89e39-182">Na końcu tego samouczka, aby uzyskać więcej informacji dotyczących tematów można znaleźć w sekcji dalsze informacje.</span><span class="sxs-lookup"><span data-stu-id="89e39-182">Consult the Further Reading section at the end of this tutorial for more information on Themes.</span></span>


<span data-ttu-id="89e39-183">[![Nasze strony zawartości można teraz używać nowego wyglądu i działania](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="89e39-183">[![Our Content Pages Can Now Use a New Look and Feel](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span></span>

<span data-ttu-id="89e39-184">**Rysunek 04**: Nasze strony zawartości można teraz używać nowego wyglądu i sposobu działania ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](specifying-the-master-page-programmatically-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="89e39-184">**Figure 04**: Our Content Pages Can Now Use a New Look and Feel ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image12.png))</span></span>


<span data-ttu-id="89e39-185">Gdy wzorzec i znaczników stron zawartości są zespolone, `MasterPage` klasy kontrole, aby upewnić się, że zawartość każdej kontrolki na stronie zawartości odwołuje się do ContentPlaceHolder na stronie głównej.</span><span class="sxs-lookup"><span data-stu-id="89e39-185">When the master and content pages' markup are fused, the `MasterPage` class checks to ensure that every Content control in the content page references a ContentPlaceHolder in the master page.</span></span> <span data-ttu-id="89e39-186">Wyjątek jest generowany, jeśli zostanie znaleziony w formancie zawartości, który odwołuje się do nieistniejącej ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="89e39-186">An exception is thrown if a Content control that references a non-existent ContentPlaceHolder is found.</span></span> <span data-ttu-id="89e39-187">Innymi słowy, konieczne jest przypisywane do strony zawartości strony wzorcowej że ContentPlaceHolder dla każdego formantu na stronie zawartości zawartości.</span><span class="sxs-lookup"><span data-stu-id="89e39-187">In other words, it is imperative that the master page being assigned to the content page have a ContentPlaceHolder for each Content control in the content page.</span></span>

<span data-ttu-id="89e39-188">`Site.master` Strona główna zawiera cztery kontrolki ContentPlaceHolder:</span><span class="sxs-lookup"><span data-stu-id="89e39-188">The `Site.master` master page includes four ContentPlaceHolder controls:</span></span>

- `head`
- `MainContent`
- `QuickLoginUI`
- `LeftColumnContent`

<span data-ttu-id="89e39-189">Niektóre zawartości stron w naszej witryny sieci Web to tylko jeden lub dwa formanty zawartości; dla każdego z dostępnych kontrolek ContentPlaceHolder inne zawierają kontrolki zawartości.</span><span class="sxs-lookup"><span data-stu-id="89e39-189">Some of the content pages in our website include just one or two Content controls; others include a Content control for each of the available ContentPlaceHolders.</span></span> <span data-ttu-id="89e39-190">Jeśli nasza nowa strona wzorca (`Alternate.master`) nigdy nie mogą być przypisane do tych stron zawartości, zawierających formanty zawartości dla wszystkich kontrolek ContentPlaceHolder w `Site.master` , a następnie istotne jest, który `Alternate.master` również obejmować tych samych kontrolek ContentPlaceHolder jako `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="89e39-190">If our new master page (`Alternate.master`) may ever be assigned to those content pages that have Content controls for all of the ContentPlaceHolders in `Site.master` then it is essential that `Alternate.master` also include the same ContentPlaceHolder controls as `Site.master`.</span></span>

<span data-ttu-id="89e39-191">Aby uzyskać swoje `Alternate.master` strony wzorcowej wyglądają podobnie, aby analizować (zobacz rysunek 4), Rozpocznij od zdefiniowania style strony wzorcowej w `AlternateStyles.css` arkusza stylów.</span><span class="sxs-lookup"><span data-stu-id="89e39-191">To get your `Alternate.master` master page to look similar to mine (see Figure 4), start by defining the master page's styles in the `AlternateStyles.css` style sheet.</span></span> <span data-ttu-id="89e39-192">Dodaj następujące reguły do `AlternateStyles.css`:</span><span class="sxs-lookup"><span data-stu-id="89e39-192">Add the following rules into `AlternateStyles.css`:</span></span>


[!code-css[Main](specifying-the-master-page-programmatically-cs/samples/sample5.css)]

<span data-ttu-id="89e39-193">Następnie dodaj poniższe oznaczeniu deklaracyjnym do `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="89e39-193">Next, add the following declarative markup to `Alternate.master`.</span></span> <span data-ttu-id="89e39-194">Jak widać, `Alternate.master` zawiera cztery kontrolki ContentPlaceHolder o takiej samej `ID` wartości co w przypadku kontrolek ContentPlaceHolder w `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="89e39-194">As you can see, `Alternate.master` contains four ContentPlaceHolder controls with the same `ID` values as the ContentPlaceHolder controls in `Site.master`.</span></span> <span data-ttu-id="89e39-195">Ponadto zawiera ona formantu ScriptManager, co jest niezbędne do tych stron w naszej witryny sieci Web, które korzystaj z platformy ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="89e39-195">Moreover, it includes a ScriptManager control, which is necessary for those pages in our website that use the ASP.NET AJAX framework.</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample6.aspx)]

### <a name="testing-the-new-master-page"></a><span data-ttu-id="89e39-196">Testowanie nowej strony wzorcowej</span><span class="sxs-lookup"><span data-stu-id="89e39-196">Testing the New Master Page</span></span>

<span data-ttu-id="89e39-197">Do testowania tej aktualizacji strony wzorcowej `BasePage` klasy `OnPreInit` metody, aby `MasterPageFile` właściwości jest przypisywana wartość "~ / Alternate.master", a następnie odwiedź witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="89e39-197">To test this new master page update the `BasePage` class's `OnPreInit` method so that the `MasterPageFile` property is assigned the value "~/Alternate.master" and then visit the website.</span></span> <span data-ttu-id="89e39-198">Każdej strony powinny działać bez błędów, z wyjątkiem dwóch: `~/Admin/AddProduct.aspx` i `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="89e39-198">Every page should function without error except for two: `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="89e39-199">Dodawanie produktu do DetailsView w `~/Admin/AddProduct.aspx` skutkuje `NullReferenceException` z wiersza kodu, który podejmuje próbę ustawienia strony wzorcowej `GridMessageText` właściwości.</span><span class="sxs-lookup"><span data-stu-id="89e39-199">Adding a product to the DetailsView in `~/Admin/AddProduct.aspx` results in a `NullReferenceException` from the line of code that attempts to set the master page's `GridMessageText` property.</span></span> <span data-ttu-id="89e39-200">Gdy użytkownik odwiedzi `~/Admin/Products.aspx` `InvalidCastException` jest zgłaszany po załadowaniu strony z komunikatem: "Nie można rzutować obiektu typu" ASP.alternate\_master "na typ" ASP.site\_master "."</span><span class="sxs-lookup"><span data-stu-id="89e39-200">When visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown on page load with the message: "Unable to cast object of type 'ASP.alternate\_master' to type 'ASP.site\_master'."</span></span>

<span data-ttu-id="89e39-201">Te błędy, ponieważ `Site.master` osobna klasa kodu obejmuje zdarzenia publiczne, właściwości i metody, które nie są zdefiniowane w `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="89e39-201">These errors occur because the `Site.master` code-behind class includes public events, properties, and methods that are not defined in `Alternate.master`.</span></span> <span data-ttu-id="89e39-202">Fragment kodu znaczników te dwie strony mają `@MasterType` dyrektywę, który odwołuje się do `Site.master` strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-202">The markup portion of these two pages have a `@MasterType` directive that references the `Site.master` master page.</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample7.aspx)]

<span data-ttu-id="89e39-203">Ponadto DetailsView `ItemInserted` programu obsługi zdarzeń w `~/Admin/AddProduct.aspx` zawiera kod, który rzutuje typowaniem luźnym `Page.Master` właściwość do obiektu typu `Site`.</span><span class="sxs-lookup"><span data-stu-id="89e39-203">Also, the DetailsView's `ItemInserted` event handler in `~/Admin/AddProduct.aspx` includes code that casts the loosely-typed `Page.Master` property to an object of type `Site`.</span></span> <span data-ttu-id="89e39-204">`@MasterType` — Dyrektywa (używana w ten sposób) i rzutowanie w `ItemInserted` programu obsługi zdarzeń ściśle pozamałżeńskie `~/Admin/AddProduct.aspx` i `~/Admin/Products.aspx` strony do `Site.master` strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-204">The `@MasterType` directive (used this way) and the cast in the `ItemInserted` event handler tightly couples the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to the `Site.master` master page.</span></span>

<span data-ttu-id="89e39-205">Aby przerwać to ścisłego sprzężenia, firma Microsoft może mieć `Site.master` i `Alternate.master` dziedziczyć wspólna klasa bazowa, który zawiera definicje publicznych składowych.</span><span class="sxs-lookup"><span data-stu-id="89e39-205">To break this tight coupling we can have `Site.master` and `Alternate.master` derive from a common base class that contains definitions for the public members.</span></span> <span data-ttu-id="89e39-206">Poniżej, firma Microsoft może aktualizować `@MasterType` dyrektywy odwołania do tego wspólnego typu podstawowego.</span><span class="sxs-lookup"><span data-stu-id="89e39-206">Following that, we can update the `@MasterType` directive to reference this common base type.</span></span>

### <a name="creating-a-custom-base-master-page-class"></a><span data-ttu-id="89e39-207">Tworzenie klasy strony niestandardowe podstawowy wzorzec</span><span class="sxs-lookup"><span data-stu-id="89e39-207">Creating a Custom Base Master Page Class</span></span>

<span data-ttu-id="89e39-208">Dodaj nowy plik klasy do `App_Code` folder o nazwie `BaseMasterPage.cs` potem z łatwością dziedziczyć `System.Web.UI.MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="89e39-208">Add a new class file to the `App_Code` folder named `BaseMasterPage.cs` and have it derive from `System.Web.UI.MasterPage`.</span></span> <span data-ttu-id="89e39-209">Należy zdefiniować `RefreshRecentProductsGrid` metody i `GridMessageText` właściwości w `BaseMasterPage`, ale nie możemy po prostu przenieść je tam `Site.master` ponieważ te elementy członkowskie pracować kontrolki sieci Web, które są specyficzne dla `Site.master` strony wzorcowej ( `RecentProducts` GridView i `GridMessage` etykiety).</span><span class="sxs-lookup"><span data-stu-id="89e39-209">We need to define the `RefreshRecentProductsGrid` method and the `GridMessageText` property in `BaseMasterPage`, but we can't simply move them there from `Site.master` because these members work with Web controls that are specific to the `Site.master` master page (the `RecentProducts` GridView and `GridMessage` Label).</span></span>

<span data-ttu-id="89e39-210">Co należy zrobić to skonfigurować `BaseMasterPage` w taki sposób, te elementy członkowskie zdefiniowano, że faktycznie są implementowane przez `BaseMasterPage`w klasach pochodnych (`Site.master` i `Alternate.master`).</span><span class="sxs-lookup"><span data-stu-id="89e39-210">What we need to do is configure `BaseMasterPage` in such a way that these members are defined there, but are actually implemented by `BaseMasterPage`'s derived classes (`Site.master` and `Alternate.master`).</span></span> <span data-ttu-id="89e39-211">Tego rodzaju dziedziczenia jest możliwe, oznaczając klasy i jej elementów członkowskich jako `abstract`.</span><span class="sxs-lookup"><span data-stu-id="89e39-211">This type of inheritance is possible by marking the class and its members as `abstract`.</span></span> <span data-ttu-id="89e39-212">Krótko mówiąc, dodając `abstract` ogłasza słowa kluczowego te dwa elementy członkowskie, który `BaseMasterPage` nie zaimplementowana `RefreshRecentProductsGrid` i `GridMessageText`, ale ta będzie jej klas pochodnych.</span><span class="sxs-lookup"><span data-stu-id="89e39-212">In short, adding the `abstract` keyword to these two members announces that `BaseMasterPage` hasn't implemented `RefreshRecentProductsGrid` and `GridMessageText`, but that its derived classes will.</span></span>

<span data-ttu-id="89e39-213">Należy również zdefiniować `PricesDoubled` zdarzenia w `BaseMasterPage` i zapewniają środki przez klasy pochodne, aby zgłosić zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="89e39-213">We also need to define the `PricesDoubled` event in `BaseMasterPage` and provide a means by the derived classes to raise the event.</span></span> <span data-ttu-id="89e39-214">Wzorzec używany w programie .NET Framework w celu ułatwienia zachowania jest utworzenie publiczne zdarzenie w klasie bazowej i dodać chronionych, `virtual` metodę o nazwie `OnEventName`.</span><span class="sxs-lookup"><span data-stu-id="89e39-214">The pattern used in the .NET Framework to facilitate this behavior is to create a public event in the base class and add a protected, `virtual` method named `OnEventName`.</span></span> <span data-ttu-id="89e39-215">Klasy pochodne następnie wywołać tę metodę, aby wygenerować zdarzenie, lub można zmienić, aby wykonać kod bezpośrednio przed lub po wywołaniu zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="89e39-215">Derived classes can then call this method to raise the event or can override it to execute code immediately before or after the event is raised.</span></span>

<span data-ttu-id="89e39-216">Aktualizacja usługi `BaseMasterPage` klasy tak, aby zawierała następujący kod:</span><span class="sxs-lookup"><span data-stu-id="89e39-216">Update your `BaseMasterPage` class so that it contains the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample8.cs)]

<span data-ttu-id="89e39-217">Następnie przejdź do `Site.master` związanym z kodem klasy i jest pochodną `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="89e39-217">Next, go to the `Site.master` code-behind class and have it derive from `BaseMasterPage`.</span></span> <span data-ttu-id="89e39-218">Ponieważ `BaseMasterPage` jest `abstract` musimy przesłaniają akcje `abstract` członków w tym miejscu `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="89e39-218">Because `BaseMasterPage` is `abstract` we need to override those `abstract` members here in `Site.master`.</span></span> <span data-ttu-id="89e39-219">Dodaj `override` słowa kluczowego definicje metod i właściwości.</span><span class="sxs-lookup"><span data-stu-id="89e39-219">Add the `override` keyword to the method and property definitions.</span></span> <span data-ttu-id="89e39-220">Również zaktualizować kod, który wywołuje `PricesDoubled` zdarzenia w `DoublePrice` przycisku `Click` programu obsługi zdarzeń przy użyciu wywołania do klasy bazowej `OnPricesDoubled` metody.</span><span class="sxs-lookup"><span data-stu-id="89e39-220">Also update the code that raises the `PricesDoubled` event in the `DoublePrice` Button's `Click` event handler with a call to the base class's `OnPricesDoubled` method.</span></span>

<span data-ttu-id="89e39-221">Po tych zmian `Site.master` z kodem klasę powinna zawierać następujący kod:</span><span class="sxs-lookup"><span data-stu-id="89e39-221">After these modifications the `Site.master` code-behind class should contain the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample9.cs)]

<span data-ttu-id="89e39-222">Musimy też zaktualizować `Alternate.master`firmy pochodzi od klasy związane z kodem `BaseMasterPage` i zastąpić dwa `abstract` elementów członkowskich.</span><span class="sxs-lookup"><span data-stu-id="89e39-222">We also need to update `Alternate.master`'s code-behind class to derive from `BaseMasterPage` and override the two `abstract` members.</span></span> <span data-ttu-id="89e39-223">Ale ponieważ `Alternate.master` nie zawiera GridView, wyświetla najnowsze produkty ani etykietę, która wyświetla komunikat po nowego produktu nie zostanie dodany do bazy danych, te metody nie trzeba podejmować żadnych działań.</span><span class="sxs-lookup"><span data-stu-id="89e39-223">But because `Alternate.master` does not contain a GridView that lists the most recent products nor a Label that displays a message after a new product is added to the database, these methods do not need to do anything.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample10.cs)]

### <a name="referencing-the-base-master-page-class"></a><span data-ttu-id="89e39-224">Odwołanie do klasy strony podstawowy wzorzec</span><span class="sxs-lookup"><span data-stu-id="89e39-224">Referencing the Base Master Page Class</span></span>

<span data-ttu-id="89e39-225">Teraz, gdy ukończyliśmy `BaseMasterPage` klasy i mieć nasze dwie strony wzorcowe, rozszerzając go, ostatnią czynnością jest zaktualizowanie `~/Admin/AddProduct.aspx` i `~/Admin/Products.aspx` stron do odwoływania się do tego typu wspólnego.</span><span class="sxs-lookup"><span data-stu-id="89e39-225">Now that we have completed the `BaseMasterPage` class and have our two master pages extending it, our final step is to update the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to refer to this common type.</span></span> <span data-ttu-id="89e39-226">Rozpocznij od zmiany `@MasterType` dyrektywy w obie strony z:</span><span class="sxs-lookup"><span data-stu-id="89e39-226">Start by changing the `@MasterType` directive in both pages from:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample11.aspx)]

<span data-ttu-id="89e39-227">Do:</span><span class="sxs-lookup"><span data-stu-id="89e39-227">To:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample12.aspx)]

<span data-ttu-id="89e39-228">Zamiast odwołujące się do ścieżki pliku, `@MasterType` właściwość teraz odwołuje się typ podstawowy (`BaseMasterPage`).</span><span class="sxs-lookup"><span data-stu-id="89e39-228">Rather than referencing a file path, the `@MasterType` property now references the base type (`BaseMasterPage`).</span></span> <span data-ttu-id="89e39-229">W związku z tym, że wpisane pogrubieniem `Master` właściwość używana w klasach związanym z kodem w obie strony jest teraz typu `BaseMasterPage` (zamiast typu `Site`).</span><span class="sxs-lookup"><span data-stu-id="89e39-229">Consequently, the strongly-typed `Master` property used in both pages' code-behind classes is now of type `BaseMasterPage` (instead of type `Site`).</span></span> <span data-ttu-id="89e39-230">Dzięki tej zmianie w miejscu ponownie `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="89e39-230">With this change in place revisit `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="89e39-231">Wcześniej, to spowodowało błąd rzutowania ponieważ strony jest skonfigurowany do używania `Alternate.master` stronę wzorcową, ale `@MasterType` dyrektywy odwołania `Site.master` pliku.</span><span class="sxs-lookup"><span data-stu-id="89e39-231">Previously, this resulted in a casting error because the page is configured to use the `Alternate.master` master page, but the `@MasterType` directive referenced the `Site.master` file.</span></span> <span data-ttu-id="89e39-232">Ale teraz renderuje stronę bez błędów.</span><span class="sxs-lookup"><span data-stu-id="89e39-232">But now the page renders without error.</span></span> <span data-ttu-id="89e39-233">Jest to spowodowane `Alternate.master` strony wzorcowej mogą być rzutowane na obiekt typu `BaseMasterPage` (ponieważ rozszerza on).</span><span class="sxs-lookup"><span data-stu-id="89e39-233">This is because the `Alternate.master` master page can be cast to an object of type `BaseMasterPage` (since it extends it).</span></span>

<span data-ttu-id="89e39-234">Istnieje jeden niewielką zmianę, który ma nastąpić w `~/Admin/AddProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="89e39-234">There's one small change that needs to be made in `~/Admin/AddProduct.aspx`.</span></span> <span data-ttu-id="89e39-235">Kontrolce DetailsView `ItemInserted` programu obsługi zdarzeń korzysta z obu silnie typizowaną `Master` właściwość i typowaniem luźnym `Page.Master` właściwości.</span><span class="sxs-lookup"><span data-stu-id="89e39-235">The DetailsView control's `ItemInserted` event handler uses both the strongly-typed `Master` property and the loosely-typed `Page.Master` property.</span></span> <span data-ttu-id="89e39-236">Usunięto odwołanie silnie typizowane, gdy Zaktualizowaliśmy `@MasterType` dyrektywy, ale nadal konieczne zaktualizowanie typowaniem luźnym odwołania.</span><span class="sxs-lookup"><span data-stu-id="89e39-236">We fixed the strongly-typed reference when we updated the `@MasterType` directive, but we still need to update the loosely-typed reference.</span></span> <span data-ttu-id="89e39-237">Zastąp następujący wiersz kodu:</span><span class="sxs-lookup"><span data-stu-id="89e39-237">Replace the following line of code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample13.cs)]

<span data-ttu-id="89e39-238">Z następujących pozycji, której rzutuje `Page.Master` do typu podstawowego:</span><span class="sxs-lookup"><span data-stu-id="89e39-238">With the following, which casts `Page.Master` to the base type:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample14.cs)]

## <a name="step-4-determining-what-master-page-to-bind-to-the-content-pages"></a><span data-ttu-id="89e39-239">Krok 4. Określanie jakie strony wzorcowej do wiązania zawartości strony</span><span class="sxs-lookup"><span data-stu-id="89e39-239">Step 4: Determining What Master Page to Bind to the Content Pages</span></span>

<span data-ttu-id="89e39-240">Nasze `BasePage` klasy Ustawia aktualnie wszystkie zawartości stron `MasterPageFile` właściwości ustaloną wartość w PreInit etapie cyklu życia strony.</span><span class="sxs-lookup"><span data-stu-id="89e39-240">Our `BasePage` class currently sets all content pages' `MasterPageFile` properties to a hard-coded value in the PreInit stage of the page lifecycle.</span></span> <span data-ttu-id="89e39-241">Aktualizujemy ten kod, aby utworzyć stronę wzorcową na niektóre czynniki zewnętrzne.</span><span class="sxs-lookup"><span data-stu-id="89e39-241">We can update this code to base the master page on some external factor.</span></span> <span data-ttu-id="89e39-242">Być może strony wzorcowej do załadowania zależy od preferencji aktualnie zalogowanego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="89e39-242">Perhaps the master page to load depends on the preferences of the currently logged on user.</span></span> <span data-ttu-id="89e39-243">W takiej sytuacji firma Microsoft musiałaby pisanie kodu w `OnPreInit` method in Class metoda `BasePage` , wyszukuje Preferencje strony wzorcowej obecnie zaproszonych użytkowników.</span><span class="sxs-lookup"><span data-stu-id="89e39-243">In that case, we'd need to write code in the `OnPreInit` method in `BasePage` that looks up the currently visiting user's master page preferences.</span></span>

<span data-ttu-id="89e39-244">Utwórz stronę sieci web, która umożliwia użytkownikowi określenie, które strony wzorcowej do użycia — `Site.master` lub `Alternate.master` — i Zapisz ten wybór w zmiennej sesji.</span><span class="sxs-lookup"><span data-stu-id="89e39-244">Let's create a web page that allows the user to choose which master page to use - `Site.master` or `Alternate.master` - and save this choice in a Session variable.</span></span> <span data-ttu-id="89e39-245">Rozpocznij od utworzenia nowej strony sieci web w katalogu głównym o nazwie `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="89e39-245">Start by creating a new web page in the root directory named `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="89e39-246">Podczas tworzenia tej strony (lub inne zawartości strony od tej pory) nie musisz powiązać go do strony wzorcowej programowe Ustawianie strony wzorcowej `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="89e39-246">When creating this page (or any other content pages henceforth) you don't need to bind it to a master page because the master page is set programmatically in `BasePage`.</span></span> <span data-ttu-id="89e39-247">Jednak jeśli nie powiążesz nowej strony do strony wzorcowej następnie nową stronę domyślną oznaczeniu deklaracyjnym zawiera formularz sieci Web i innej zawartości, dostarczone przez strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-247">However, if you do not bind the new page to a master page then the new page's default declarative markup contains a Web Form and other content supplied by the master page.</span></span> <span data-ttu-id="89e39-248">Należy ręcznie Zastąp ten kod znaczników odpowiednie formanty zawartości.</span><span class="sxs-lookup"><span data-stu-id="89e39-248">You'll need to manually replace this markup with the appropriate Content controls.</span></span> <span data-ttu-id="89e39-249">Z tego powodu I łatwiejsze do nowej strony programu ASP.NET należy powiązać strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="89e39-249">For that reason, I find it easier to bind the new ASP.NET page to a master page.</span></span>

> [!NOTE]
> <span data-ttu-id="89e39-250">Ponieważ `Site.master` i `Alternate.master` mają ten sam zestaw kontrolek ContentPlaceHolder nieważne, jakiego stronę wzorcową, możesz wybrać, tworząc nową stronę zawartości.</span><span class="sxs-lookup"><span data-stu-id="89e39-250">Because `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls it doesn't matter what master page you choose when creating the new content page.</span></span> <span data-ttu-id="89e39-251">W celu zapewnienia spójności I moglibyśmy przy użyciu `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="89e39-251">For consistency, I'd suggest using `Site.master`.</span></span>


<span data-ttu-id="89e39-252">[![Dodaj nową stronę zawartości do witryny sieci Web](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="89e39-252">[![Add a New Content Page to the Website](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span></span>

<span data-ttu-id="89e39-253">**Rysunek 05**: Dodaj nową stronę zawartości do witryny internetowej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](specifying-the-master-page-programmatically-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="89e39-253">**Figure 05**: Add a New Content Page to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image15.png))</span></span>


<span data-ttu-id="89e39-254">Aktualizacja `Web.sitemap` plik, aby dołączyć wpis dla tej lekcji.</span><span class="sxs-lookup"><span data-stu-id="89e39-254">Update the `Web.sitemap` file to include an entry for this lesson.</span></span> <span data-ttu-id="89e39-255">Dodaj następujący kod pod `<siteMapNode>` dla strony wzorcowe i ASP.NET AJAX lekcji:</span><span class="sxs-lookup"><span data-stu-id="89e39-255">Add the following markup beneath the `<siteMapNode>` for the Master Pages and ASP.NET AJAX lesson:</span></span>


[!code-xml[Main](specifying-the-master-page-programmatically-cs/samples/sample15.xml)]

<span data-ttu-id="89e39-256">Przed dodaniem żadnej zawartości do `ChooseMasterPage.aspx` strony Poświęć chwilę, aby zaktualizować strony osobna klasa kodu tak, aby pochodzi od klasy `BasePage` (zamiast `System.Web.UI.Page`).</span><span class="sxs-lookup"><span data-stu-id="89e39-256">Before adding any content to the `ChooseMasterPage.aspx` page take a moment to update the page's code-behind class so that it derives from `BasePage` (rather than `System.Web.UI.Page`).</span></span> <span data-ttu-id="89e39-257">Następnie dodaj formant DropDownList do strony, ustaw jego `ID` właściwości `MasterPageChoice`, i dodaj dwa ListItems z `Text` wartości "~ / Site.master" i "~ / Alternate.master".</span><span class="sxs-lookup"><span data-stu-id="89e39-257">Next, add a DropDownList control to the page, set its `ID` property to `MasterPageChoice`, and add two ListItems with the `Text` values of "~/Site.master" and "~/Alternate.master".</span></span>

<span data-ttu-id="89e39-258">Dodawanie kontrolki przycisku w sieci Web do strony i ustaw jego `ID` i `Text` właściwości `SaveLayout` i "Zapisywanie układu", odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="89e39-258">Add a Button Web control to the page and set its `ID` and `Text` properties to `SaveLayout` and "Save Layout Choice", respectively.</span></span> <span data-ttu-id="89e39-259">W tym momencie oznaczeniu deklaracyjnym strony powinien wyglądać podobnie do poniższej:</span><span class="sxs-lookup"><span data-stu-id="89e39-259">At this point your page's declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample16.aspx)]

<span data-ttu-id="89e39-260">Po pierwsze odwiedzenia strony należy wyświetlić wybór strony wzorcowej aktualnie wybranego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="89e39-260">When the page is first visited we need to display the user's currently selected master page choice.</span></span> <span data-ttu-id="89e39-261">Utwórz `Page_Load` program obsługi zdarzeń i Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="89e39-261">Create a `Page_Load` event handler and add the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample17.cs)]

<span data-ttu-id="89e39-262">Powyższy kod wykonuje tylko na pierwszej wizyty strony (a nie kolejnych ogłaszania zwrotnego).</span><span class="sxs-lookup"><span data-stu-id="89e39-262">The above code executes only on the first page visit (and not on subsequent postbacks).</span></span> <span data-ttu-id="89e39-263">Najpierw sprawdza, czy zmienna sesji `MyMasterPage` istnieje.</span><span class="sxs-lookup"><span data-stu-id="89e39-263">It first checks to see if the Session variable `MyMasterPage` exists.</span></span> <span data-ttu-id="89e39-264">Jeśli tak jest, próbuje odnaleźć zgodnego elementu listy w `MasterPageChoice` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="89e39-264">If it does, it attempts to find the matching ListItem in the `MasterPageChoice` DropDownList.</span></span> <span data-ttu-id="89e39-265">Jeśli zostanie znaleziony pasującego elementu listy, jego `Selected` właściwość jest ustawiona na `true`.</span><span class="sxs-lookup"><span data-stu-id="89e39-265">If a matching ListItem is found, its `Selected` property is set to `true`.</span></span>

<span data-ttu-id="89e39-266">Należy również kod, który zapisuje wybrany przez użytkownika do `MyMasterPage` zmiennej sesji.</span><span class="sxs-lookup"><span data-stu-id="89e39-266">We also need code that saves the user's choice into the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="89e39-267">Utwórz procedurę obsługi zdarzeń dla `SaveLayout` przycisku `Click` zdarzeń i Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="89e39-267">Create an event handler for the `SaveLayout` Button's `Click` event and add the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample18.cs)]

> [!NOTE]
> <span data-ttu-id="89e39-268">Do czasu `Click` program obsługi zdarzeń jest wykonywana na odświeżenie strony, strony wzorcowej został już wybrany.</span><span class="sxs-lookup"><span data-stu-id="89e39-268">By the time the `Click` event handler executes on postback, the master page has already been selected.</span></span> <span data-ttu-id="89e39-269">W związku z tym opcji wyboru z listy rozwijanej użytkownika nie będą obowiązywać, dopóki nie można znaleźć w następnej strony.</span><span class="sxs-lookup"><span data-stu-id="89e39-269">Therefore, the user's drop-down list selection won't be in effect until the next page visit.</span></span> <span data-ttu-id="89e39-270">`Response.Redirect` Wymusza przeglądarkę, aby ponownie `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="89e39-270">The `Response.Redirect` forces the browser to re-request `ChooseMasterPage.aspx`.</span></span>


<span data-ttu-id="89e39-271">Za pomocą `ChooseMasterPage.aspx` strona kompletna naszych ostatnim zadaniem jest zapewnienie `BasePage` przypisać `MasterPageFile` właściwości na podstawie wartości z `MyMasterPage` zmiennej sesji.</span><span class="sxs-lookup"><span data-stu-id="89e39-271">With the `ChooseMasterPage.aspx` page complete, our final task is to have `BasePage` assign the `MasterPageFile` property based on the value of the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="89e39-272">Jeśli nie ustawiono zmiennej sesji `BasePage` domyślnie `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="89e39-272">If the Session variable is not set have `BasePage` default to `Site.master`.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample19.cs)]

> [!NOTE]
> <span data-ttu-id="89e39-273">Czy mogę przenieść kod, który przypisuje `Page` obiektu `MasterPageFile` właściwości z `OnPreInit` program obsługi zdarzeń do dwóch oddzielnych metod.</span><span class="sxs-lookup"><span data-stu-id="89e39-273">I moved the code that assigns the `Page` object's `MasterPageFile` property out of the `OnPreInit` event handler and into two separate methods.</span></span> <span data-ttu-id="89e39-274">Ta pierwsza metoda `SetMasterPageFile`, przypisuje `MasterPageFile` właściwości do wartości zwracanej przez druga metoda `GetMasterPageFileFromSession`.</span><span class="sxs-lookup"><span data-stu-id="89e39-274">This first method, `SetMasterPageFile`, assigns the `MasterPageFile` property to the value returned by the second method, `GetMasterPageFileFromSession`.</span></span> <span data-ttu-id="89e39-275">Wprowadzone `SetMasterPageFile` metoda `virtual` tak, aby w przyszłości klas, które rozszerzają `BasePage` można opcjonalnie zastąpić, aby zaimplementować logikę niestandardową, w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="89e39-275">I made the `SetMasterPageFile` method `virtual` so that future classes that extend `BasePage` can optionally override it to implement custom logic, if needed.</span></span> <span data-ttu-id="89e39-276">Zajmiemy się tym przykładem zastępowanie `BasePage`firmy `SetMasterPageFile` właściwość w następnym samouczku.</span><span class="sxs-lookup"><span data-stu-id="89e39-276">We'll see an example of overriding `BasePage`'s `SetMasterPageFile` property in the next tutorial.</span></span>


<span data-ttu-id="89e39-277">Przy użyciu tego kodu w miejscu, odwiedź stronę `ChooseMasterPage.aspx` strony.</span><span class="sxs-lookup"><span data-stu-id="89e39-277">With this code in place, visit the `ChooseMasterPage.aspx` page.</span></span> <span data-ttu-id="89e39-278">Początkowo `Site.master` strony wzorcowej jest wybrane (patrz rysunek 6), ale użytkownik może wybrać innej strony wzorcowej, z listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="89e39-278">Initially, the `Site.master` master page is selected (see Figure 6), but the user can pick a different master page from the drop-down list.</span></span>


<span data-ttu-id="89e39-279">[![Zawartość strony są wyświetlane przy użyciu strony wzorcowej Site.master](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="89e39-279">[![Content Pages are Displayed Using the Site.master Master Page](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span></span>

<span data-ttu-id="89e39-280">**Rysunek 06**: Zawartość strony są wyświetlane przy użyciu `Site.master` strony wzorcowej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](specifying-the-master-page-programmatically-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="89e39-280">**Figure 06**: Content Pages are Displayed Using the `Site.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image18.png))</span></span>


<span data-ttu-id="89e39-281">[![Strony z zawartością są teraz wyświetlane przy użyciu strony wzorcowej Alternate.master](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="89e39-281">[![Content Pages are Now Displayed Using the Alternate.master Master Page](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span></span>

<span data-ttu-id="89e39-282">**Rysunek 07**: Zawartość strony są teraz wyświetlane przy użyciu `Alternate.master` strony wzorcowej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](specifying-the-master-page-programmatically-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="89e39-282">**Figure 07**: Content Pages are Now Displayed Using the `Alternate.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image21.png))</span></span>


## <a name="summary"></a><span data-ttu-id="89e39-283">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="89e39-283">Summary</span></span>

<span data-ttu-id="89e39-284">W przypadku odwiedzenia strony zawartości, jej kontrolek zawartości są połączone z kontrolek ContentPlaceHolder jego strony wzorcowej funkcjami.</span><span class="sxs-lookup"><span data-stu-id="89e39-284">When a content page is visited, its Content controls are fused with its master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="89e39-285">Strona zawartości strony wzorcowej jest wskazywane przez `Page` klasy `MasterPageFile` właściwość, która jest przypisana do `@Page` dyrektywy `MasterPageFile` atrybutu na etapie inicjowania.</span><span class="sxs-lookup"><span data-stu-id="89e39-285">The content page's master page is denoted by the `Page` class's `MasterPageFile` property, which is assigned to the `@Page` directive's `MasterPageFile` attribute during the Initialization stage.</span></span> <span data-ttu-id="89e39-286">Jak w tym samouczku pokazano, firma Microsoft można przypisać wartości do `MasterPageFile` tak długo, jak możemy to zrobić przed zakończeniem etapu PreInit właściwości.</span><span class="sxs-lookup"><span data-stu-id="89e39-286">As this tutorial showed, we can assign a value to the `MasterPageFile` property as long as we do so before the end of the PreInit stage.</span></span> <span data-ttu-id="89e39-287">Możliwość programowe określanie strony wzorcowej otwiera drzwi dla bardziej zaawansowanych scenariuszy, takich jak dynamiczne powiązanie zawartości strony na stronie wzorcowej, na podstawie czynników zewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="89e39-287">Being able to programmatically specify the master page opens the door for more advanced scenarios, such as dynamically binding a content page to a master page based on external factors.</span></span>

<span data-ttu-id="89e39-288">Wszystkiego najlepszego programowania!</span><span class="sxs-lookup"><span data-stu-id="89e39-288">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="89e39-289">Dalsze informacje</span><span class="sxs-lookup"><span data-stu-id="89e39-289">Further Reading</span></span>

<span data-ttu-id="89e39-290">Więcej informacji na tematów omówionych w tym samouczku można znaleźć w następujących zasobach:</span><span class="sxs-lookup"><span data-stu-id="89e39-290">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="89e39-291">Diagram cyklu życia strony ASP.NET</span><span class="sxs-lookup"><span data-stu-id="89e39-291">ASP.NET Page Lifecycle Diagram</span></span>](http://emanish.googlepages.com/Asp.Net2.0Lifecycle.PNG)
- [<span data-ttu-id="89e39-292">Przegląd cyklu życia strony ASP.NET</span><span class="sxs-lookup"><span data-stu-id="89e39-292">ASP.NET Page Lifecycle Overview</span></span>](https://msdn.microsoft.com/library/ms178472.aspx)
- [<span data-ttu-id="89e39-293">Omówienie skórek i motywów programu ASP.NET</span><span class="sxs-lookup"><span data-stu-id="89e39-293">ASP.NET Themes and Skins Overview</span></span>](https://msdn.microsoft.com/library/ykzx33wh.aspx)
- [<span data-ttu-id="89e39-294">Strony wzorcowe: Porady, sztuczki i pułapki</span><span class="sxs-lookup"><span data-stu-id="89e39-294">Master Pages: Tips, Tricks, and Traps</span></span>](http://www.odetocode.com/articles/450.aspx)
- [<span data-ttu-id="89e39-295">Motywy w programie ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="89e39-295">Themes in ASP.NET</span></span>](http://www.odetocode.com/articles/423.aspx)

### <a name="about-the-author"></a><span data-ttu-id="89e39-296">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="89e39-296">About the Author</span></span>

<span data-ttu-id="89e39-297">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor wielu ASP/ASP.NET książki i założyciel 4GuysFromRolla.com pracował nad przy użyciu technologii Microsoft Web od 1998 r.</span><span class="sxs-lookup"><span data-stu-id="89e39-297">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="89e39-298">Scott działa jako niezależny Konsultant, trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="89e39-298">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="89e39-299">Jego najnowszą książkę Stephena [ *Sams uczyć się ASP.NET 3.5 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="89e39-299">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="89e39-300">Scott można z Tobą skontaktować w [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog znajduje się na [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="89e39-300">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="89e39-301">Specjalne podziękowania dla</span><span class="sxs-lookup"><span data-stu-id="89e39-301">Special Thanks To</span></span>

<span data-ttu-id="89e39-302">W tej serii samouczków został zrecenzowany przez wielu recenzentów pomocne.</span><span class="sxs-lookup"><span data-stu-id="89e39-302">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="89e39-303">Weryfikacja potencjalnych klientów w ramach tego samouczka został Suchi Banerjee.</span><span class="sxs-lookup"><span data-stu-id="89e39-303">Lead reviewer for this tutorial was Suchi Banerjee.</span></span> <span data-ttu-id="89e39-304">Zainteresowani zapoznaniem Moje kolejnych artykułów MSDN?</span><span class="sxs-lookup"><span data-stu-id="89e39-304">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="89e39-305">Jeśli tak, Porzuć mnie linii w [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="89e39-305">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="89e39-306">[Poprzednie](master-pages-and-asp-net-ajax-cs.md)
> [dalej](nested-master-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="89e39-306">[Previous](master-pages-and-asp-net-ajax-cs.md)
[Next](nested-master-pages-cs.md)</span></span>
