---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-updatepanel-triggers
title: Opis wyzwalaczy UpdatePanel ASP.NET AJAX | Dokumentacja firmy Microsoft
author: scottcate
description: Podczas pracy w edytorze znaczników w programie Visual Studio, można zauważyć (z funkcji IntelliSense), istnieją dwa typy elementów podrzędnych kontrolki UpdatePanel. Jedną z pytania "Wh"...
ms.author: riande
ms.date: 03/12/2008
ms.assetid: faab8503-2984-48a9-8a40-7728461abc50
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-updatepanel-triggers
msc.type: authoredcontent
ms.openlocfilehash: c61d10c28ba3975cb6fbadc6eda1f7a3c9406dfc
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/06/2019
ms.locfileid: "65114612"
---
# <a name="understanding-aspnet-ajax-updatepanel-triggers"></a><span data-ttu-id="5463d-104">Objaśnienie wyzwalaczy UpdatePanel ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="5463d-104">Understanding ASP.NET AJAX UpdatePanel Triggers</span></span>

<span data-ttu-id="5463d-105">przez [Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="5463d-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="5463d-106">Pobierz plik PDF</span><span class="sxs-lookup"><span data-stu-id="5463d-106">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial02_Triggers_cs.pdf)

> <span data-ttu-id="5463d-107">Podczas pracy w edytorze znaczników w programie Visual Studio, można zauważyć (z funkcji IntelliSense), istnieją dwa typy elementów podrzędnych kontrolki UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5463d-107">When working in the markup editor in Visual Studio, you may notice (from IntelliSense) that there are two child elements of an UpdatePanel control.</span></span> <span data-ttu-id="5463d-108">Jednym z nich jest element wyzwalaczy, który określa formanty na stronie (lub kontrolki użytkownika, jeśli używana jest jedna) który spowoduje wyzwolenie częściowe renderowanie kontrolki UpdatePanel, w której znajduje się element.</span><span class="sxs-lookup"><span data-stu-id="5463d-108">One of which is the Triggers element, which specifies the controls on the page (or the user control, if you are using one) that will trigger a partial render of the UpdatePanel control in which the element resides.</span></span>

## <a name="introduction"></a><span data-ttu-id="5463d-109">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="5463d-109">Introduction</span></span>

<span data-ttu-id="5463d-110">Firmy Microsoft technologii ASP.NET oferuje zorientowane obiektowo i oparte na zdarzeniach model programowania i łączy w sobie go z korzyściami skompilowanego kodu.</span><span class="sxs-lookup"><span data-stu-id="5463d-110">Microsoft's ASP.NET technology brings an object-oriented and event-driven programming model and unites it with the benefits of compiled code.</span></span> <span data-ttu-id="5463d-111">Jednak jego przetwarzania po stronie serwera modelu ma kilka wady związane z technologii, z których wiele może zostać zlikwidowane przez nowych funkcji dostępnych w rozszerzenia AJAX programu Microsoft ASP.NET 3.5.</span><span class="sxs-lookup"><span data-stu-id="5463d-111">However, its server-side processing model has several drawbacks inherent in the technology, many of which can be addressed by the new features included in the Microsoft ASP.NET 3.5 AJAX Extensions.</span></span> <span data-ttu-id="5463d-112">Te rozszerzenia umożliwiają wiele nowych funkcji rozbudowanych aplikacji klienckich, w tym częściowe renderowanie stron bez konieczności odświeżenie całej strony, możliwość dostępu do usług sieci Web za pośrednictwem skrypt po stronie klienta (w tym ASP.NET, profilowania API) i rozbudowane API po stronie klienta przeznaczony do utworzenia duplikatów, wiele systemów kontroli w zestaw formantów po stronie serwera ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5463d-112">These extensions enable many new rich client features, including partial rendering of pages without requiring a full page refresh, the ability to access Web Services via client script (including the ASP.NET profiling API), and an extensive client-side API designed to mirror many of the control schemes seen in the ASP.NET server-side control set.</span></span>

<span data-ttu-id="5463d-113">Ten oficjalny dokument sprawdza, czy funkcje wyzwalaczy XML ASP.NET AJAX `UpdatePanel` składnika.</span><span class="sxs-lookup"><span data-stu-id="5463d-113">This whitepaper examines the XML Triggers functionality of the ASP.NET AJAX `UpdatePanel` component.</span></span> <span data-ttu-id="5463d-114">Wyzwalacze XML zapewniają szczegółową kontrolę nad składników, które mogą powodować częściowe renderowanie określonych formantów UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5463d-114">XML Triggers give granular control over the components that can cause partial rendering for specific UpdatePanel controls.</span></span>

<span data-ttu-id="5463d-115">Ten oficjalny dokument zależy od wersji Beta 2 programu .NET Framework 3.5 i Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="5463d-115">This whitepaper is based on the Beta 2 release of the .NET Framework 3.5 and Visual Studio 2008.</span></span> <span data-ttu-id="5463d-116">Rozszerzenia AJAX programu ASP.NET, wcześniej zestaw dodatku, które są przeznaczone dla programu ASP.NET 2.0 są teraz wbudowane w bibliotece klas programu .NET Framework Base.</span><span class="sxs-lookup"><span data-stu-id="5463d-116">The ASP.NET AJAX Extensions, previously an add-on assembly targeted at ASP.NET 2.0, are now integrated into the .NET Framework Base Class Library.</span></span> <span data-ttu-id="5463d-117">Ten oficjalny dokument również założono, że będzie on pracować przy użyciu programu Visual Studio 2008, nie Visual Web Developer Express i zapewnia wskazówki, zgodnie z interfejsu użytkownika programu Visual Studio (chociaż fragmentów kodu będą całkowicie zgodne, niezależnie od tego środowisko programistyczne).</span><span class="sxs-lookup"><span data-stu-id="5463d-117">This whitepaper also assumes that you will be working with Visual Studio 2008, not Visual Web Developer Express, and will provide walkthroughs according to the user interface of Visual Studio (although code listings will be entirely compatible regardless of development environment).</span></span>

## <a name="triggers"></a><span data-ttu-id="5463d-118">*Wyzwalacze*</span><span class="sxs-lookup"><span data-stu-id="5463d-118">*Triggers*</span></span>

<span data-ttu-id="5463d-119">Wyzwalacze dla danej kontrolki UpdatePanel domyślnie automatycznie uwzględnia formanty podrzędne, które wywołują odświeżenie strony, w tym (na przykład) pól tekstowych, które mają ich `AutoPostBack` właściwością **true**.</span><span class="sxs-lookup"><span data-stu-id="5463d-119">Triggers for a given UpdatePanel, by default, automatically include any child controls that invoke a postback, including (for example) TextBox controls that have their `AutoPostBack` property set to **true**.</span></span> <span data-ttu-id="5463d-120">Jednak wyzwalaczy może także stanowić sposób deklaratywny przy użyciu znaczników; odbywa się w obrębie `<triggers>` sekcji deklaracji kontrolki UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5463d-120">However, triggers can also be included declaratively using markup; this is done within the `<triggers>` section of the UpdatePanel control declaration.</span></span> <span data-ttu-id="5463d-121">Mimo że jest możliwy za pośrednictwem wyzwalaczy `Triggers` właściwość kolekcji, zalecane jest, czy rejestrujesz się wszelkie wyzwalacze częściowe renderowanie w czasie wykonywania (na przykład jeśli formant nie jest dostępna w czasie projektowania) przy użyciu `RegisterAsyncPostBackControl(Control)` metody Obiekt strony, w ramach ScriptManager `Page_Load` zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="5463d-121">Although triggers can be accessed via the `Triggers` collection property, it is recommended that you register any partial render triggers at run-time (for instance, if a control is not available at design time) by using the `RegisterAsyncPostBackControl(Control)` method of the ScriptManager object for your page, within the `Page_Load` event.</span></span> <span data-ttu-id="5463d-122">Należy pamiętać, że strony są bezstanowe, a zatem należy ponownie zarejestrować tych kontrolek za każdym razem, gdy są one tworzone.</span><span class="sxs-lookup"><span data-stu-id="5463d-122">Remember that Pages are stateless, and so you should re-register these controls every time they are created.</span></span>

<span data-ttu-id="5463d-123">Włączenie wyzwalacza automatycznego podrzędnych można także wyłączyć (tak, aby automatycznie formantów podrzędnych, które tworzyć ogłaszania zwrotnego nie wyzwalają częściowe renderuje), ustawiając `ChildrenAsTriggers` właściwości **false**.</span><span class="sxs-lookup"><span data-stu-id="5463d-123">Automatic child trigger inclusion can also be disabled (so that child controls that create postbacks do not automatically trigger partial renders) by setting the `ChildrenAsTriggers` property to **false**.</span></span> <span data-ttu-id="5463d-124">Dzięki temu można największą elastyczność podczas przypisywania które określonej kontrolki może wywołać renderowania strony i jest to zalecane, tak aby deweloper będzie wyrazić zgodę na odpowiadanie na zdarzenia, a nie wszelkie zdarzenia, które mogą wystąpić podczas obsługi.</span><span class="sxs-lookup"><span data-stu-id="5463d-124">This allows you the greatest flexibility in assigning which specific controls may invoke a page render, and is recommended, so that a developer will opt-in to respond to an event, rather than handling any events that may arise.</span></span>

<span data-ttu-id="5463d-125">Należy pamiętać, że gdy formantów UpdatePanel są zagnieżdżone, kiedy UpdateMode jest ustawiona na **warunkowego**, jeśli podrzędnych kontrolki UpdatePanel zostanie wywołany, ale element nadrzędny nie jest następnie podrzędne zostaną odświeżone kontrolki UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5463d-125">Note that when UpdatePanel controls are nested, when the UpdateMode is set to **Conditional**, if the child UpdatePanel is triggered, but the parent is not, then only the child UpdatePanel will refresh.</span></span> <span data-ttu-id="5463d-126">Jednak jeśli element nadrzędny kontrolki UpdatePanel są odświeżane, następnie podrzędnych kontrolki UpdatePanel będzie również odświeżane.</span><span class="sxs-lookup"><span data-stu-id="5463d-126">However, if the parent UpdatePanel is refreshed, then the child UpdatePanel will also be refreshed.</span></span>

## <a name="the-lttriggersgt-element"></a><span data-ttu-id="5463d-127">*&lt;Wyzwalaczy&gt; — Element*</span><span class="sxs-lookup"><span data-stu-id="5463d-127">*The &lt;Triggers&gt; Element*</span></span>

<span data-ttu-id="5463d-128">Podczas pracy w edytorze znaczników w programie Visual Studio, można zauważyć (z funkcji IntelliSense), istnieją dwa typy elementów podrzędnych elementu `UpdatePanel` kontroli.</span><span class="sxs-lookup"><span data-stu-id="5463d-128">When working in the markup editor in Visual Studio, you may notice (from IntelliSense) that there are two child elements of an `UpdatePanel` control.</span></span> <span data-ttu-id="5463d-129">Element najczęściej spotykanych jest `<ContentTemplate>` element, który hermetyzuje zasadniczo zawartości, która odbędzie się przez zespół aktualizacji (zawartość, dla którego umożliwiamy częściowe renderowanie).</span><span class="sxs-lookup"><span data-stu-id="5463d-129">The most-frequently seen element is the `<ContentTemplate>` element, which essentially encapsulates the content that will be held by the update panel (the content for which we are enabling partial rendering).</span></span> <span data-ttu-id="5463d-130">Inny element `<Triggers>` element, który określa formanty na stronie (lub kontrolki użytkownika, jeśli używana jest jedna) który spowoduje wyzwolenie częściowe renderowanie kontrolki UpdatePanel, w którym &lt;wyzwalaczy&gt; znajduje się element.</span><span class="sxs-lookup"><span data-stu-id="5463d-130">The other element is the `<Triggers>` element, which specifies the controls on the page (or the user control, if you are using one) that will trigger a partial render of the UpdatePanel control in which the &lt;Triggers&gt; element resides.</span></span>

<span data-ttu-id="5463d-131">`<Triggers>` Element może zawierać dowolną liczbę każdego dwa węzły podrzędne: `<asp:AsyncPostBackTrigger>` i `<asp:PostBackTrigger>`.</span><span class="sxs-lookup"><span data-stu-id="5463d-131">The `<Triggers>` element can contain any number each of two child nodes: `<asp:AsyncPostBackTrigger>` and `<asp:PostBackTrigger>`.</span></span> <span data-ttu-id="5463d-132">Przyjmują dwa atrybuty `ControlID` i `EventName`oraz można określić dowolną kontrolkę w bieżącej jednostce hermetyzacji (na przykład jeśli kontrolki UpdatePanel znajduje się w obrębie kontrolka użytkownika sieci Web, możesz nie należy próbować przywołać kontrolki w Strona, na którym będzie przechowywany kontrolki użytkownika).</span><span class="sxs-lookup"><span data-stu-id="5463d-132">They both accept two attributes, `ControlID` and `EventName`, and can specify any Control within the current unit of encapsulation (for instance, if your UpdatePanel control resides within a Web User Control, you should not attempt to reference a Control on the Page on which the User Control will reside).</span></span>

<span data-ttu-id="5463d-133">`<asp:AsyncPostBackTrigger>` Element jest szczególnie przydatne w przypadku, w tym, że można wskazać, każde zdarzenie w kontrolce, która istnieje jako element podrzędny elementu *wszelkie* kontrolki UpdatePanel w jednostce hermetyzacji i nie tylko kontrolki UpdatePanel, w którym ten wyzwalacz jest elementem podrzędnym .</span><span class="sxs-lookup"><span data-stu-id="5463d-133">The `<asp:AsyncPostBackTrigger>` element is particularly useful in that it can target any event from a Control that exists as a child of *any* UpdatePanel control in the unit of encapsulation, not just the UpdatePanel under which this trigger is a child.</span></span> <span data-ttu-id="5463d-134">W związku z tym każdy formant będzie możliwe do wyzwalania aktualizacji stron częściowych.</span><span class="sxs-lookup"><span data-stu-id="5463d-134">Thus, any control can be made to trigger a partial page update.</span></span>

<span data-ttu-id="5463d-135">Podobnie `<asp:PostBackTrigger>` element może być użyty do renderowania strony częściowej wyzwalacza, ale taki, który wymaga pełnego przesłania danych do serwera.</span><span class="sxs-lookup"><span data-stu-id="5463d-135">Similarly, the `<asp:PostBackTrigger>` element can be used to trigger a partial page render, but one that requires a full round-trip to the server.</span></span> <span data-ttu-id="5463d-136">Ten element wyzwalacza można również wymusić renderowania pełnej strony, gdy formant, w przeciwnym razie powodowało zwykle renderowania strona częściowa (na przykład w przypadku, gdy `Button` formant istnieje w `<ContentTemplate>` element kontrolki UpdatePanel).</span><span class="sxs-lookup"><span data-stu-id="5463d-136">This trigger element can also be used to force a full page render when a control would otherwise normally trigger a partial page render (for instance, when a `Button` control exists in the `<ContentTemplate>` element of an UpdatePanel control).</span></span> <span data-ttu-id="5463d-137">Ponownie PostBackTrigger element można określić dowolną kontrolkę, która jest elementem podrzędnym kontrolki UpdatePanel w bieżącej jednostce hermetyzacji.</span><span class="sxs-lookup"><span data-stu-id="5463d-137">Again, the PostBackTrigger element can specify any control that is a child of any UpdatePanel control in the current unit of encapsulation.</span></span>

## <a name="lttriggersgt-element-reference"></a><span data-ttu-id="5463d-138">*&lt;Wyzwalacze&gt; odwołanie do elementu*</span><span class="sxs-lookup"><span data-stu-id="5463d-138">*&lt;Triggers&gt; Element Reference*</span></span>

<span data-ttu-id="5463d-139">*Elementy podrzędne znaczników:*</span><span class="sxs-lookup"><span data-stu-id="5463d-139">*Markup Descendants:*</span></span>

| <span data-ttu-id="5463d-140">**Tag**</span><span class="sxs-lookup"><span data-stu-id="5463d-140">**Tag**</span></span> | <span data-ttu-id="5463d-141">**Opis**</span><span class="sxs-lookup"><span data-stu-id="5463d-141">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="5463d-142">&lt;asp:AsyncPostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="5463d-142">&lt;asp:AsyncPostBackTrigger&gt;</span></span> | <span data-ttu-id="5463d-143">Określa kontrolkę i zdarzenia, które spowoduje, że aktualizacji stron częściowych dla kontrolki UpdatePanel, który zawiera odwołanie do tego wyzwalacza.</span><span class="sxs-lookup"><span data-stu-id="5463d-143">Specifies a control and event that will cause a partial page update for the UpdatePanel that contains this trigger reference.</span></span> |
| <span data-ttu-id="5463d-144">&lt;asp:PostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="5463d-144">&lt;asp:PostBackTrigger&gt;</span></span> | <span data-ttu-id="5463d-145">Określa kontrolkę i zdarzenia, które spowoduje, że cała strona aktualizacji (odświeżenie całej strony).</span><span class="sxs-lookup"><span data-stu-id="5463d-145">Specifies a control and event that will cause a full page update (a full page refresh).</span></span> <span data-ttu-id="5463d-146">Ten tag może służyć do wymusić odświeżanie pełne, gdy formant, w przeciwnym razie będą wyzwalać częściowe renderowanie.</span><span class="sxs-lookup"><span data-stu-id="5463d-146">This tag can be used to force a full refresh when a control would otherwise trigger partial rendering.</span></span> |

## <a name="walkthrough-cross-updatepanel-triggers"></a><span data-ttu-id="5463d-147">*Przewodnik: Wyzwalaczy Cross UpdatePanel*</span><span class="sxs-lookup"><span data-stu-id="5463d-147">*Walkthrough: Cross-UpdatePanel Triggers*</span></span>

1. <span data-ttu-id="5463d-148">Tworzenie nowej strony programu ASP.NET, za pomocą obiektu ScriptManager skonfigurować, aby włączyć częściowe renderowanie.</span><span class="sxs-lookup"><span data-stu-id="5463d-148">Create a new ASP.NET page with a ScriptManager object set to enable partial rendering.</span></span> <span data-ttu-id="5463d-149">Dodaj dwa UpdatePanels do tej strony — w pierwszym, obejmują kontrolkę typu etykieta (Label1) oraz dwie kontrolki przycisku (Button1 i Button2).</span><span class="sxs-lookup"><span data-stu-id="5463d-149">Add two UpdatePanels to this page - in the first, include a Label control ( Label1 ) and two Button controls ( Button1 and Button2 ).</span></span> <span data-ttu-id="5463d-150">Button1 powinna być widoczna nazwa kliknij, aby zaktualizować obydwa i Button2 powinna być widoczna nazwa kliknij, aby zaktualizować to lub coś, co w tym kierunku.</span><span class="sxs-lookup"><span data-stu-id="5463d-150">Button1 should say Click to Update Both and Button2 should say Click to Update This, or something along those lines.</span></span> <span data-ttu-id="5463d-151">W drugiej kontrolki UpdatePanel zawierają tylko kontrolkę typu etykieta etykiety (2), ale ustaw jego właściwość ForeColor na coś innego niż domyślny, odróżnić go.</span><span class="sxs-lookup"><span data-stu-id="5463d-151">In the second UpdatePanel, include only a Label control ( Label2 ), but set its ForeColor property to something other than the default to differentiate it.</span></span>
2. <span data-ttu-id="5463d-152">Ustaw właściwość UpdateMode tagów obie kontrolki UpdatePanel **warunkowego**.</span><span class="sxs-lookup"><span data-stu-id="5463d-152">Set the UpdateMode property of both UpdatePanel tags to **Conditional**.</span></span>

<span data-ttu-id="5463d-153">**Wyświetlanie 1: Markup for default.aspx:**</span><span class="sxs-lookup"><span data-stu-id="5463d-153">**Listing 1: Markup for default.aspx:**</span></span> 

[!code-aspx[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample1.aspx)]

1. <span data-ttu-id="5463d-154">W obsłudze zdarzeń kliknięcia przycisku Button1 wartość Label1.Text i Label2.Text zależne od czasu (na przykład DateTime.Now.ToLongTimeString()).</span><span class="sxs-lookup"><span data-stu-id="5463d-154">In the Click event handler for Button1, set Label1.Text and Label2.Text to something time-dependent (such as DateTime.Now.ToLongTimeString()).</span></span> <span data-ttu-id="5463d-155">W przypadku obsługi zdarzeń kliknij Button2 należy ustawić tylko Label1.Text wartość zależne od czasu.</span><span class="sxs-lookup"><span data-stu-id="5463d-155">For the Click event handler for Button2, set only Label1.Text to the time-dependent value.</span></span>

<span data-ttu-id="5463d-156">**Wyświetlanie 2: Plik CodeBehind (spacje) default.aspx.cs:**</span><span class="sxs-lookup"><span data-stu-id="5463d-156">**Listing 2: Codebehind (trimmed) in default.aspx.cs:**</span></span> 

[!code-csharp[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample2.cs)]

1. <span data-ttu-id="5463d-157">Naciśnij klawisz F5, aby skompilować i uruchomić projekt.</span><span class="sxs-lookup"><span data-stu-id="5463d-157">Press F5 to build and run the project.</span></span> <span data-ttu-id="5463d-158">Należy pamiętać, że po kliknięciu aktualizacji zarówno paneli, zarówno etykiety zmienić tekst; Jednak po kliknięciu tego panelu aktualizacji, tylko Label1 aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="5463d-158">Note that, when you click Update Both Panels, both labels change text; however, when you click Update This Panel, only Label1 updates.</span></span>

[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image2.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image1.png)

<span data-ttu-id="5463d-159">([Kliknij, aby wyświetlić obraz w pełnym rozmiarze](understanding-asp-net-ajax-updatepanel-triggers/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="5463d-159">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image3.png))</span></span>

## <a name="under-the-hood"></a><span data-ttu-id="5463d-160">*Kulisy*</span><span class="sxs-lookup"><span data-stu-id="5463d-160">*Under the Hood*</span></span>

<span data-ttu-id="5463d-161">Przy użyciu przykładu, który po prostu skonstruowany, firma Microsoft zapoznaj się z działania ASP.NET AJAX i sposobie działania naszych wyzwalaczy panelu między UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5463d-161">Utilizing the example we just constructed, we can take a look at what ASP.NET AJAX is doing and how our UpdatePanel cross-panel triggers work.</span></span> <span data-ttu-id="5463d-162">Aby to zrobić, firma Microsoft będzie działać przy użyciu źródła wygenerowanego strony HTML, a także rozszerzenia przeglądarki Mozilla Firefox, o nazwie FireBug — dzięki niemu można łatwo omówiony ogłaszania zwrotnego AJAX.</span><span class="sxs-lookup"><span data-stu-id="5463d-162">To do so, we will work with the generated page source HTML, as well as the Mozilla Firefox extension called FireBug - with it, we can easily examine the AJAX postbacks.</span></span> <span data-ttu-id="5463d-163">Firma Microsoft będzie także narzędzie .NET odblaskowego przez Lutz Roeder.</span><span class="sxs-lookup"><span data-stu-id="5463d-163">We will also use the .NET Reflector tool by Lutz Roeder.</span></span> <span data-ttu-id="5463d-164">Oba te narzędzia są dostępne bezpłatnie w trybie online i znajduje się za pomocą wyszukiwania w Internecie.</span><span class="sxs-lookup"><span data-stu-id="5463d-164">Both of these tools are freely available online, and can be found with an internet search.</span></span>

<span data-ttu-id="5463d-165">Kontrola kodu źródłowego strony pokazuje prawie nie trzeba wykonywać żadnych niestandardowych; formantów UpdatePanel są renderowane jako `<div>` kontenerów, zobaczysz zasobów skryptów zawiera podany przez `<asp:ScriptManager>`.</span><span class="sxs-lookup"><span data-stu-id="5463d-165">An examination of the page source code shows almost nothing out of the ordinary; the UpdatePanel controls are rendered as `<div>` containers, and we can see the script resource includes provided by the `<asp:ScriptManager>`.</span></span> <span data-ttu-id="5463d-166">Dostępne są także niektóre nowe specyficzne dla AJAX wywołania PageRequestManager wewnętrzne biblioteki skryptów klienta AJAX.</span><span class="sxs-lookup"><span data-stu-id="5463d-166">There are also some new AJAX-specific calls to the PageRequestManager that are internal to the AJAX client script library.</span></span> <span data-ttu-id="5463d-167">Na koniec widzimy dwa kontenery UpdatePanel — jeden z renderowanych `<input>` przyciski z dwóch `<asp:Label>` renderowaniu kontrolek `<span>` kontenerów.</span><span class="sxs-lookup"><span data-stu-id="5463d-167">Finally, we see the two UpdatePanel containers - one with the rendered `<input>` buttons with the two `<asp:Label>` controls rendered as `<span>` containers.</span></span> <span data-ttu-id="5463d-168">(Jeśli drzewo DOM w FireBug możesz sprawdzić, zauważysz, że etykiety są wygaszone, aby wskazać, że nie eksportują widocznej zawartości).</span><span class="sxs-lookup"><span data-stu-id="5463d-168">(If you inspect the DOM tree in FireBug, you will notice that the labels are dimmed to indicate that they are not producing visible content).</span></span>

<span data-ttu-id="5463d-169">Kliknij przycisk aktualizacji tego panelu i zwróć uwagę, że najważniejsze UpdatePanel zostanie zaktualizowane o bieżący czas serwera.</span><span class="sxs-lookup"><span data-stu-id="5463d-169">Click the Update This Panel button, and notice the top UpdatePanel will be updated with the current server time.</span></span> <span data-ttu-id="5463d-170">W FireBug wybierz kartę konsoli, dzięki czemu można sprawdzić żądanie.</span><span class="sxs-lookup"><span data-stu-id="5463d-170">In FireBug, choose the Console tab so that you can examine the request.</span></span> <span data-ttu-id="5463d-171">Najpierw sprawdź parametry żądania POST:</span><span class="sxs-lookup"><span data-stu-id="5463d-171">Examine the POST request parameters first:</span></span>

[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image5.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image4.png)

<span data-ttu-id="5463d-172">([Kliknij, aby wyświetlić obraz w pełnym rozmiarze](understanding-asp-net-ajax-updatepanel-triggers/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="5463d-172">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image6.png))</span></span>

<span data-ttu-id="5463d-173">Należy pamiętać, że kontrolki UpdatePanel wskazuje kodu AJAX po stronie serwera dokładnie drzewo kontroli, które zostało wywołane za pomocą parametru ScriptManager1: `Button1` z `UpdatePanel1` kontroli.</span><span class="sxs-lookup"><span data-stu-id="5463d-173">Note that the UpdatePanel has indicated to the server-side AJAX code precisely which control tree was fired via the ScriptManager1 parameter: `Button1` of the `UpdatePanel1` control.</span></span> <span data-ttu-id="5463d-174">Teraz kliknij przycisk aktualizacji zarówno paneli.</span><span class="sxs-lookup"><span data-stu-id="5463d-174">Now, click on the Update Both Panels button.</span></span> <span data-ttu-id="5463d-175">Następnie badanie odpowiedzi, widzimy rozdzielonych potoku serii zestaw zmiennych w ciąg. w szczególności widzimy najważniejsze UpdatePanel `UpdatePanel1`, ma materiałami jego HTML wysyłany do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="5463d-175">Then, examining the response, we see a pipe-delimited series of variables set in a string; specifically, we see the top UpdatePanel, `UpdatePanel1`, has the entirety of its HTML sent to the browser.</span></span> <span data-ttu-id="5463d-176">Skrypt biblioteki klienckiej AJAX zastępuje UpdatePanel oryginalna zawartość HTML z nowej zawartości za pośrednictwem `.innerHTML` właściwości, a zatem serwer wysyła zmieniona zawartość z serwera w formacie HTML.</span><span class="sxs-lookup"><span data-stu-id="5463d-176">The AJAX client script library substitutes the UpdatePanel's original HTML content with the new content via the `.innerHTML` property, and so the server sends the changed content from the server as HTML.</span></span>

<span data-ttu-id="5463d-177">Teraz kliknij przycisk panele zarówno aktualizacji i przejrzeć wyniki z serwera.</span><span class="sxs-lookup"><span data-stu-id="5463d-177">Now, click on the Update Both Panels button and examine the results from the server.</span></span> <span data-ttu-id="5463d-178">Wyniki są bardzo podobne — zarówno UpdatePanels odbierania nowego kodu HTML z serwera.</span><span class="sxs-lookup"><span data-stu-id="5463d-178">The results are very similar - both UpdatePanels receive new HTML from the server.</span></span> <span data-ttu-id="5463d-179">Podobnie jak w przypadku poprzedniego wywołania zwrotnego, dodatkowa strona stanie są wysyłane.</span><span class="sxs-lookup"><span data-stu-id="5463d-179">As with the previous callback, additional page state is sent.</span></span>

<span data-ttu-id="5463d-180">Jak widać, ponieważ żaden specjalny kod służy do wykonywania ogłaszania zwrotnego AJAX, biblioteki skryptów AJAX klienta jest w stanie przechwycenia ogłaszania zwrotnego formularza, bez konieczności wprowadzania dodatkowego kodu.</span><span class="sxs-lookup"><span data-stu-id="5463d-180">As we can see, because no special code is utilized to perform an AJAX postback, the AJAX client script library is able to intercept form postbacks without any additional code.</span></span> <span data-ttu-id="5463d-181">Formanty serwera automatycznie wykorzystywać JavaScript, aby nie automatycznie przesłaniem formularza — ASP.NET automatycznie wprowadza kod weryfikacji formularza i stan, przede wszystkim osiągnięte przez automatyczny skrypt zasobu dołączania, klasa PostBackOptions , a klasa ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="5463d-181">Server controls automatically utilize JavaScript so that they do not automatically submit the form - ASP.NET automatically injects code for form validation and state already, primarily achieved by automatic script resource inclusion, the PostBackOptions class, and the ClientScriptManager class.</span></span>

<span data-ttu-id="5463d-182">Na przykład należy wziąć pod uwagę formantu CheckBox; Sprawdź dezasemblacji klasy w odblaskowego .NET.</span><span class="sxs-lookup"><span data-stu-id="5463d-182">For instance, consider a CheckBox control; examine the class disassembly in .NET Reflector.</span></span> <span data-ttu-id="5463d-183">Aby to zrobić, upewnij się, że zestawu System.Web został otwarty, a następnie przejdź do `System.Web.UI.WebControls.CheckBox` klasy, otwierając `RenderInputTag` metody.</span><span class="sxs-lookup"><span data-stu-id="5463d-183">To do so, ensure that your System.Web assembly is open, and navigate to the `System.Web.UI.WebControls.CheckBox` class, opening the `RenderInputTag` method.</span></span> <span data-ttu-id="5463d-184">Wyszukaj warunkowych, która sprawdza `AutoPostBack` właściwości:</span><span class="sxs-lookup"><span data-stu-id="5463d-184">Look for a conditional that checks the `AutoPostBack` property:</span></span>

[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image8.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image7.png)

<span data-ttu-id="5463d-185">([Kliknij, aby wyświetlić obraz w pełnym rozmiarze](understanding-asp-net-ajax-updatepanel-triggers/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="5463d-185">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image9.png))</span></span>

<span data-ttu-id="5463d-186">Po włączeniu automatycznego ogłaszania zwrotnego `CheckBox` Sterowanie (za pośrednictwem właściwości AutoPostBack o wartości true), wynikowe `<input>` tagu w związku z tym jest renderowany przy użyciu zdarzenia platformy ASP.NET, obsługa skryptów w jego `onclick` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="5463d-186">When automatic postback is enabled on a `CheckBox` control (via the AutoPostBack property being true), the resultant `<input>` tag is therefore rendered with an ASP.NET event handling script in its `onclick` attribute.</span></span> <span data-ttu-id="5463d-187">Przejmowanie przesyłania formularza, następnie umożliwia ASP.NET AJAX ich wstrzyknięcie do strony nonintrusively, pomaga uniknąć wszelkich potencjalnych przełomowe zmiany, które mogą wystąpić przy użyciu zastąpienia prawdopodobnie nieprecyzyjną ciągu.</span><span class="sxs-lookup"><span data-stu-id="5463d-187">The interception of the form's submission, then, allows ASP.NET AJAX to be injected into the page nonintrusively, helping to avoid any potential breaking changes that might occur by utilizing a possibly-imprecise string replacement.</span></span> <span data-ttu-id="5463d-188">Ponadto, dzięki temu *wszelkie* niestandardowy formant ASP.NET korzystanie z możliwości technologii ASP.NET AJAX bez konieczności wprowadzania dodatkowego kodu do obsługi jej użycie w kontenerze kontrolki UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5463d-188">Furthermore, this enables *any* custom ASP.NET control to utilize the power of ASP.NET AJAX without any additional code to support its use within an UpdatePanel container.</span></span>

<span data-ttu-id="5463d-189">`<triggers>` Funkcji odnosi się do wartości zainicjowane w wywołaniu PageRequestManager \_updateControls (należy zauważyć, że biblioteki skryptów klienta ASP.NET AJAX korzysta z Konwencji tej metody, zdarzenia i nazwy pól, które zaczynają się znakiem podkreślenia są oznaczone jako wewnętrzne, a nie są przeznaczone do użytku poza sama biblioteka).</span><span class="sxs-lookup"><span data-stu-id="5463d-189">The `<triggers>` functionality corresponds to the values initialized in the PageRequestManager call to \_updateControls (note that the ASP.NET AJAX client script library utilizes the convention that methods, events, and field names that begin with an underscore are marked as internal, and are not meant for use outside of the library itself).</span></span> <span data-ttu-id="5463d-190">Dzięki niemu możemy obserwować, formanty, które mają na celu spowodować ogłaszania zwrotnego AJAX.</span><span class="sxs-lookup"><span data-stu-id="5463d-190">With it, we can observe which controls are intended to cause AJAX postbacks.</span></span>

<span data-ttu-id="5463d-191">Na przykład możemy dodać dwa dodatkowe formanty do strony, pozostawiając jeden formant poza UpdatePanels całkowicie i pozostawienie niezmienionej w UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5463d-191">For example, let's add two additional controls to the page, leaving one control outside of the UpdatePanels entirely, and leaving one within an UpdatePanel.</span></span> <span data-ttu-id="5463d-192">Firma Microsoft będzie dodać kontrolkę pola wyboru w prawym górnym UpdatePanel i upuszczania kontrolki DropDownList przy liczbie kolorów zdefiniowanych w obrębie listy.</span><span class="sxs-lookup"><span data-stu-id="5463d-192">We will add a CheckBox control within the upper UpdatePanel, and drop a DropDownList with a number of colors defined within the list.</span></span> <span data-ttu-id="5463d-193">Oto nowy kod znaczników:</span><span class="sxs-lookup"><span data-stu-id="5463d-193">Here is the new markup:</span></span>

<span data-ttu-id="5463d-194">**Wyświetlanie 3: Nowy kod znaczników**</span><span class="sxs-lookup"><span data-stu-id="5463d-194">**Listing 3: New Markup**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample3.aspx)]

<span data-ttu-id="5463d-195">A Oto nowe kodem:</span><span class="sxs-lookup"><span data-stu-id="5463d-195">And here is the new code-behind:</span></span>

<span data-ttu-id="5463d-196">**Wyświetlanie 4: Plik CodeBehind**</span><span class="sxs-lookup"><span data-stu-id="5463d-196">**Listing 4: Codebehind**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample4.cs)]

<span data-ttu-id="5463d-197">Idei ta strona jest listy rozwijanej wybiera jeden z trzech kolorów, aby pokazać drugiej etykiety, że pole wyboru określa, czy jest pogrubiony i wyświetlanie etykiet na datę, a także czas.</span><span class="sxs-lookup"><span data-stu-id="5463d-197">The idea behind this page is that the drop-down list selects one of three colors to show the second label, that the check box determines both whether it is bold, and whether the labels display the date as well as the time.</span></span> <span data-ttu-id="5463d-198">Pole wyboru nie powinno powodować aktualizacji interfejsu AJAX, ale powinny listy rozwijanej, nawet jeśli nie mieści się w obrębie UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5463d-198">The check box should not cause an AJAX update, but the drop-down list should, even though it is not housed within an UpdatePanel.</span></span>

[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image11.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image10.png)

<span data-ttu-id="5463d-199">([Kliknij, aby wyświetlić obraz w pełnym rozmiarze](understanding-asp-net-ajax-updatepanel-triggers/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="5463d-199">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image12.png))</span></span>

<span data-ttu-id="5463d-200">Jest widoczny na powyższym zrzucie ekranu, można kliknąć przycisk najnowszych był prawy przycisk aktualizacji tego panelu, aktualizowane niezależnie od czasu najważniejsze czasu dolnej.</span><span class="sxs-lookup"><span data-stu-id="5463d-200">As is apparent in the above screen shot, the most-recent button to be clicked was the right button Update This Panel, which updated the top time independent of the bottom time.</span></span> <span data-ttu-id="5463d-201">Data została również przełączyć je między kliknięciami, ponieważ data jest widoczna w dolną etykietę.</span><span class="sxs-lookup"><span data-stu-id="5463d-201">The date was also switched off between clicks, as the date is visible in the bottom label.</span></span> <span data-ttu-id="5463d-202">Na koniec zainteresowań jest kolor dolną etykietę: Zaktualizowano niedawno tekst etykiety, który pokazuje, że stan formantu jest ważne, a użytkownicy mogą być zachowywane ogłaszania zwrotnego AJAX.</span><span class="sxs-lookup"><span data-stu-id="5463d-202">Finally of interest is the bottom label's color: it was updated more recently than the label's text, which demonstrates that control state is important, and users expect it to be preserved through AJAX postbacks.</span></span> <span data-ttu-id="5463d-203">*Jednak*, czas nie został zaktualizowany.</span><span class="sxs-lookup"><span data-stu-id="5463d-203">*However*, the time was not updated.</span></span> <span data-ttu-id="5463d-204">Czas został automatycznie ponownie umieszczone za pośrednictwem trwałości \_ \_pole stanu WIDOKU strony interpretowane przez środowisko uruchomieniowe programu ASP.NET, gdy kontrolka została ponownie renderowany na serwerze.</span><span class="sxs-lookup"><span data-stu-id="5463d-204">The time was automatically repopulated through the persistence of the \_\_VIEWSTATE field of the page being interpreted by the ASP.NET runtime when the control was being re-rendered on the server.</span></span> <span data-ttu-id="5463d-205">Kod serwera ASP.NET AJAX nie rozpoznaje, w której metody formanty zmieniają stan; ją po prostu repopulates ze stanu widoku, a następnie uruchamia zdarzenia, które są odpowiednie.</span><span class="sxs-lookup"><span data-stu-id="5463d-205">The ASP.NET AJAX server code does not recognize in which methods the controls are changing state; it simply repopulates from view state and then runs the events that are appropriate.</span></span>

<span data-ttu-id="5463d-206">Należy wskazać, jednak miał I zainicjowanej czasu na stronie\_załadowane zdarzenie czas będzie została zwiększona poprawnie.</span><span class="sxs-lookup"><span data-stu-id="5463d-206">It should be pointed out, however, that had I initialized the time within the Page\_Load event, the time would have been incremented correctly.</span></span> <span data-ttu-id="5463d-207">W związku z tym, deweloperzy powinien być ostrożnym, że odpowiedni kod jest uruchamiany podczas obsługi zdarzeń właściwe i Unikaj stosowania strony\_obciążenia, gdy procedurę obsługi zdarzeń kontrolki będzie odpowiedni.</span><span class="sxs-lookup"><span data-stu-id="5463d-207">Consequently, developers should be wary that the appropriate code is being run during the appropriate event handlers, and avoid use of Page\_Load when a control event handler would be appropriate.</span></span>

## <a name="summary"></a><span data-ttu-id="5463d-208">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="5463d-208">Summary</span></span>

<span data-ttu-id="5463d-209">Formant kontrolki UpdatePanel ASP.NET AJAX rozszerzenia jest uniwersalny i mogą korzystać z szeregu metod identyfikacji zdarzeń kontrolki, które powinno spowodować, że można zaktualizować.</span><span class="sxs-lookup"><span data-stu-id="5463d-209">The ASP.NET AJAX Extensions UpdatePanel control is versatile, and can utilize a number of methods for identifying control events that should cause it to be updated.</span></span> <span data-ttu-id="5463d-210">Obsługuje jest automatycznie aktualizowana przez jego formantów podrzędnych, ale również odpowiadać na zdarzenia obiektu Controls w innym miejscu na stronie.</span><span class="sxs-lookup"><span data-stu-id="5463d-210">It supports being updated automatically by its child controls, but can also respond to control events elsewhere on the page.</span></span>

<span data-ttu-id="5463d-211">Aby zmniejszyć ryzyko obciążenie serwera, zalecane jest, `ChildrenAsTriggers` można ustawić właściwości UpdatePanel `false`, i aby zdarzenia były wyrażeniu zgody na uczestnictwo w zamiast domyślnie włączone.</span><span class="sxs-lookup"><span data-stu-id="5463d-211">To reduce potential for server processing load, it is recommended that the `ChildrenAsTriggers` property of an UpdatePanel be set to `false`, and that events be opted-into rather than included by default.</span></span> <span data-ttu-id="5463d-212">To zapobiega także wszelkie niepotrzebne zdarzenia powodować potencjalnie niepożądane skutki takich jak sprawdzanie poprawności i zmian do pól wejściowych.</span><span class="sxs-lookup"><span data-stu-id="5463d-212">This also prevents any unneeded events from causing potentially-unwanted effects, including validation, and changes to input fields.</span></span> <span data-ttu-id="5463d-213">Tego rodzaju błędów może być trudne do izolowania, ponieważ strona zostanie zaktualizowana w sposób niewidoczny dla użytkownika i przyczyny w związku z tym nie można od razu widoczne.</span><span class="sxs-lookup"><span data-stu-id="5463d-213">These types of bugs may be difficult to isolate, because the page updates transparently to the user, and the cause may therefore not be immediately obvious.</span></span>

<span data-ttu-id="5463d-214">Sprawdzając przebiega w postaci kodu ASP.NET AJAX po przejęciu modelu, byliśmy w stanie ustalić, korzysta z framework już dostarczanego przez platformę ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5463d-214">By examining the inner workings of the ASP.NET AJAX form post interception model, we were able to determine that it utilizes the framework already provided by ASP.NET.</span></span> <span data-ttu-id="5463d-215">W ten sposób jej zachowuje maksymalną zgodność z formantami, zaprojektowana z wykorzystaniem tej samej struktury i narusza co najmniej na wszelkie dodatkowe JavaScript przeznaczony dla strony.</span><span class="sxs-lookup"><span data-stu-id="5463d-215">In doing so, it preserves maximum compatibility with controls designed using the same framework, and intrudes minimally on any additional JavaScript written for the page.</span></span>

## <a name="bio"></a><span data-ttu-id="5463d-216">Biografia</span><span class="sxs-lookup"><span data-stu-id="5463d-216">Bio</span></span>

<span data-ttu-id="5463d-217">Rob Paveza jest starszy Deweloper aplikacji .NET w Terralever ([www.terralever.com](http://www.terralever.com)), wiodący interaktywne przedsiębiorstwo marketingu Tempe, AZ.</span><span class="sxs-lookup"><span data-stu-id="5463d-217">Rob Paveza is a senior .NET application developer at Terralever ([www.terralever.com](http://www.terralever.com)), a leading interactive marketing firm in Tempe, AZ.</span></span> <span data-ttu-id="5463d-218">ADAM można z Tobą skontaktować w [ robpaveza@gmail.com ](mailto:robpaveza@gmail.com), a jego blog znajduje się w folderze [ http://geekswithblogs.net/robp/ ](http://geekswithblogs.net/robp/).</span><span class="sxs-lookup"><span data-stu-id="5463d-218">He can be reached at [robpaveza@gmail.com](mailto:robpaveza@gmail.com), and his blog is located at [http://geekswithblogs.net/robp/](http://geekswithblogs.net/robp/).</span></span>

<span data-ttu-id="5463d-219">Scott Cate pracował nad przy użyciu technologii Microsoft Web od 1997 r i jest Prezes myKB.com ([www.myKB.com](http://www.myKB.com)) gdzie specjalizuje się on w pisaniu ASP.NET aplikacji koncentruje się na rozwiązania programowe wiedzy opartych na.</span><span class="sxs-lookup"><span data-stu-id="5463d-219">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="5463d-220">Scott można się skontaktować za pośrednictwem poczty e-mail na [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com) lub jego blog znajduje się na [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="5463d-220">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5463d-221">[Poprzednie](understanding-partial-page-updates-with-asp-net-ajax.md)
> [dalej](understanding-asp-net-ajax-authentication-and-profile-application-services.md)</span><span class="sxs-lookup"><span data-stu-id="5463d-221">[Previous](understanding-partial-page-updates-with-asp-net-ajax.md)
[Next](understanding-asp-net-ajax-authentication-and-profile-application-services.md)</span></span>
