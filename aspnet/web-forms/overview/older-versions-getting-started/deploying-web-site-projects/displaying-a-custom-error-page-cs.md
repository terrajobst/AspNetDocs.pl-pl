---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/displaying-a-custom-error-page-cs
title: Wyświetlanie niestandardowej strony błędu (C#) | Dokumentacja firmy Microsoft
author: rick-anderson
description: Co to użytkownik widział gdy wystąpi błąd środowiska uruchomieniowego w aplikacji sieci web ASP.NET? Odpowiedź zależy od jak witryny sieci Web &lt;customErrors&gt; konfiguracji...
ms.author: riande
ms.date: 06/09/2009
ms.assetid: cb061642-faf3-41b2-9372-69e13444d458
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/displaying-a-custom-error-page-cs
msc.type: authoredcontent
ms.openlocfilehash: 0ccb1a737fdfc3cf2ffdcc22131650e1b79cd2cb
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/17/2019
ms.locfileid: "59407227"
---
# <a name="displaying-a-custom-error-page-c"></a><span data-ttu-id="75c4d-104">Wyświetlanie niestandardowej strony błędu (C#)</span><span class="sxs-lookup"><span data-stu-id="75c4d-104">Displaying a Custom Error Page (C#)</span></span>

<span data-ttu-id="75c4d-105">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="75c4d-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="75c4d-106">[Pobierz program Code](http://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_11_CS.zip) lub [Pobierz plik PDF](http://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial11_CustomErrors_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="75c4d-106">[Download Code](http://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_11_CS.zip) or [Download PDF](http://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial11_CustomErrors_cs.pdf)</span></span>

> <span data-ttu-id="75c4d-107">Co to użytkownik widział gdy wystąpi błąd środowiska uruchomieniowego w aplikacji sieci web ASP.NET?</span><span class="sxs-lookup"><span data-stu-id="75c4d-107">What does the user see when a runtime error occurs in an ASP.NET web application?</span></span> <span data-ttu-id="75c4d-108">Odpowiedź zależy od jak witryny sieci Web &lt;customErrors&gt; konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="75c4d-108">The answer depends on how the website's &lt;customErrors&gt; configuration.</span></span> <span data-ttu-id="75c4d-109">Domyślnie użytkownicy otrzymują ciemniejszego ekranu żółty, proclaiming, że wystąpił błąd w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="75c4d-109">By default, users are shown an unsightly yellow screen proclaiming that a runtime error has occurred.</span></span> <span data-ttu-id="75c4d-110">W tym samouczku pokazano, jak dostosować te ustawienia mają być aesthetically atrakcyjne Wyświetlanie niestandardowej strony błędu odpowiadający Twojej witryny wygląd i działanie.</span><span class="sxs-lookup"><span data-stu-id="75c4d-110">This tutorial shows how to customize these settings to display an aesthetically-pleasing custom error page that matches your site's look and feel.</span></span>


## <a name="introduction"></a><span data-ttu-id="75c4d-111">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="75c4d-111">Introduction</span></span>

<span data-ttu-id="75c4d-112">W idealnych byłoby bez błędów czasu wykonywania.</span><span class="sxs-lookup"><span data-stu-id="75c4d-112">In a perfect world there would be no run-time errors.</span></span> <span data-ttu-id="75c4d-113">Programiści napisać kod, używając n-argumentowości usterkę i walidacji danych wejściowych użytkownika niezawodne i zewnętrznych zasobów, takich jak serwery baz danych i serwerów poczty e-mail czy nigdy nie przejdą w tryb offline.</span><span class="sxs-lookup"><span data-stu-id="75c4d-113">Programmers would write code with nary a bug and with robust user input validation, and external resources like database servers and email servers would never go offline.</span></span> <span data-ttu-id="75c4d-114">Oczywiście w rzeczywistości błędy są nieuniknione.</span><span class="sxs-lookup"><span data-stu-id="75c4d-114">Of course, in reality errors are inevitable.</span></span> <span data-ttu-id="75c4d-115">Klasy w .NET Framework zasygnalizować błąd, zostanie zgłoszony wyjątek.</span><span class="sxs-lookup"><span data-stu-id="75c4d-115">The classes in the .NET Framework signal an error by throwing an exception.</span></span> <span data-ttu-id="75c4d-116">Na przykład element SqlConnection podczas wywoływania metody Open obiektu nawiąże połączenie z określona przez ciąg połączenia bazy danych.</span><span class="sxs-lookup"><span data-stu-id="75c4d-116">For example, calling a SqlConnection object's Open method establishes a connection to the database specified by a connection string.</span></span> <span data-ttu-id="75c4d-117">Jednakże, jeśli baza danych znajduje się w dół lub poświadczenia w parametrach połączenia są nieprawidłowe następnie metodę Open zgłasza `SqlException`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-117">However, if the database is down or if the credentials in the connection string are invalid then the Open method throws a `SqlException`.</span></span> <span data-ttu-id="75c4d-118">Wyjątki mogą być obsługiwane przy użyciu `try/catch/finally` bloków.</span><span class="sxs-lookup"><span data-stu-id="75c4d-118">Exceptions can be handled by the use of `try/catch/finally` blocks.</span></span> <span data-ttu-id="75c4d-119">Jeśli kod w ramach `try` bloku zgłasza wyjątek, kontrola jest przekazywana do bloku catch odpowiednie, gdy deweloper może próbować odzyskać sprawność po błędzie.</span><span class="sxs-lookup"><span data-stu-id="75c4d-119">If code within a `try` block throws an exception, control is transferred to the appropriate catch block where the developer can attempt to recover from the error.</span></span> <span data-ttu-id="75c4d-120">Jeśli wystąpi nie pasującego bloku catch, lub jeśli kod, który wygenerował wyjątek nie jest w bloku try, wyjątek percolates górę stosu wywołań search z `try/catch/finally` bloków.</span><span class="sxs-lookup"><span data-stu-id="75c4d-120">If there is no matching catch block, or if the code that threw the exception is not in a try block, the exception percolates up the call stack in search of `try/catch/finally` blocks.</span></span>

<span data-ttu-id="75c4d-121">Jeśli wyjątek zostanie rozpropagowany aż środowiska uruchomieniowego programu ASP.NET nie jest obsługiwany, [ `HttpApplication` klasy](https://msdn.microsoft.com/library/system.web.httpapplication.aspx)firmy [ `Error` zdarzeń](https://msdn.microsoft.com/library/system.web.httpapplication.error.aspx) jest wywoływane, a także sprawdzić skonfigurowaną *stronę błędu*  jest wyświetlana.</span><span class="sxs-lookup"><span data-stu-id="75c4d-121">If the exception bubbles all the way up to the ASP.NET runtime without being handled, the [`HttpApplication` class](https://msdn.microsoft.com/library/system.web.httpapplication.aspx)'s [`Error` event](https://msdn.microsoft.com/library/system.web.httpapplication.error.aspx) is raised and the configured *error page* is displayed.</span></span> <span data-ttu-id="75c4d-122">Domyślnie platforma ASP.NET wyświetla stronę błędu, który affectionately nazywa się [żółty ekranu śmierci](http://en.wikipedia.org/wiki/Yellow_Screen_of_Death#Yellow) (YSOD).</span><span class="sxs-lookup"><span data-stu-id="75c4d-122">By default, ASP.NET displays an error page that is affectionately referred to as the [Yellow Screen of Death](http://en.wikipedia.org/wiki/Yellow_Screen_of_Death#Yellow) (YSOD).</span></span> <span data-ttu-id="75c4d-123">Istnieją dwie wersje YSOD: Pokazuje szczegóły wyjątku, ślad stosu i inne informacje pomocne deweloperom debugowanie aplikacji (zobacz **rys.1**); Stany innych po prostu, że wystąpił błąd czasu wykonywania (patrz  **Rysunek 2**).</span><span class="sxs-lookup"><span data-stu-id="75c4d-123">There are two versions of the YSOD: one shows the exception details, a stack trace, and other information helpful to developers debugging the application (see **Figure 1**); the other simply states that there was a run-time error (see **Figure 2**).</span></span>

<span data-ttu-id="75c4d-124">Szczegóły wyjątku YSOD jest bardzo przydatne w przypadku deweloperom debugowanie aplikacji, ale wyświetlanie YSOD dla użytkowników końcowych jest tacky i nieprofesjonalnie.</span><span class="sxs-lookup"><span data-stu-id="75c4d-124">The exception details YSOD is quite helpful for developers debugging the application, but showing a YSOD to end users is tacky and unprofessional.</span></span> <span data-ttu-id="75c4d-125">Zamiast tego użytkownicy końcowi należy podjąć w celu strona błędu, która obsługuje witryny wygląd i działanie przy użyciu prose bardziej przyjazny dla użytkownika zawierająca opis sytuacji.</span><span class="sxs-lookup"><span data-stu-id="75c4d-125">Instead, end users should be taken to an error page that maintains the site's look and feel with more user-friendly prose describing the situation.</span></span> <span data-ttu-id="75c4d-126">Dobra wiadomość jest taka, jest całkiem proste tworzenie strony błędu niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-126">The good news is that creating such a custom error page is quite easy.</span></span> <span data-ttu-id="75c4d-127">Ten samouczek rozpoczyna się od przyjrzeć się ASP. Strony błędów różnych w sieci.</span><span class="sxs-lookup"><span data-stu-id="75c4d-127">This tutorial starts with a look at ASP.NET's different error pages.</span></span> <span data-ttu-id="75c4d-128">Go następnie pokazano, jak skonfigurować aplikację sieci web, aby wyświetlić użytkowników niestandardowej strony błędu w przypadku błędu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-128">It then shows how to configure the web application to show users a custom error page in the face of an error.</span></span>

### <a name="examining-the-three-types-of-error-pages"></a><span data-ttu-id="75c4d-129">Badanie trzy typy stron błędów</span><span class="sxs-lookup"><span data-stu-id="75c4d-129">Examining the Three Types of Error Pages</span></span>

<span data-ttu-id="75c4d-130">Kiedy nieobsłużony wyjątek pojawia się w aplikacji ASP.NET w jednym z trzech typów stron błędów, które są wyświetlane:</span><span class="sxs-lookup"><span data-stu-id="75c4d-130">When an unhandled exception arises in an ASP.NET application one of three types of error pages is displayed:</span></span>

- <span data-ttu-id="75c4d-131">Strona błędu wyjątku szczegóły żółty ekranem śmierci,</span><span class="sxs-lookup"><span data-stu-id="75c4d-131">The Exception Details Yellow Screen of Death error page,</span></span>
- <span data-ttu-id="75c4d-132">Strony błędów środowiska uruchomieniowego błąd żółty ekranem śmierci, lub</span><span class="sxs-lookup"><span data-stu-id="75c4d-132">The Runtime Error Yellow Screen of Death error page, or</span></span>
- <span data-ttu-id="75c4d-133">Strona błędu niestandardowego</span><span class="sxs-lookup"><span data-stu-id="75c4d-133">A custom error page</span></span>

<span data-ttu-id="75c4d-134">Deweloperzy strony błędu są najbardziej znanych jest YSOD szczegóły wyjątków.</span><span class="sxs-lookup"><span data-stu-id="75c4d-134">The error page developers are most familiar with is the Exception Details YSOD.</span></span> <span data-ttu-id="75c4d-135">Domyślnie ta strona będzie wyświetlana użytkownikom, którzy odwiedzają lokalnie i w związku z tym jest strona, która zostanie wyświetlony, gdy wystąpi błąd podczas testowania lokacji w środowisku programistycznym.</span><span class="sxs-lookup"><span data-stu-id="75c4d-135">By default, this page is displayed to users who are visiting locally and therefore is the page that you see when an error occurs when testing the site in the development environment.</span></span> <span data-ttu-id="75c4d-136">Jak sugeruje jej nazwa, YSOD szczegóły wyjątków zawiera szczegółowe informacje o wyjątku — typ, wiadomości i ślad stosu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-136">As its name implies, the Exception Details YSOD provides details about the exception - the type, the message, and the stack trace.</span></span> <span data-ttu-id="75c4d-137">Co więcej jeśli wyjątek został zgłoszony przez kod w klasie CodeBehind strony ASP.NET, a aplikacja jest skonfigurowana do debugowania następnie YSOD szczegóły dotyczące wyjątków zostaną wyświetlone również ten wiersz kodu (i kilka wierszy kodu powyżej i poniżej).</span><span class="sxs-lookup"><span data-stu-id="75c4d-137">What's more, if the exception was raised by code in your ASP.NET page's code-behind class and if the application is configured for debugging then the Exception Details YSOD will also show this line of code (and a few lines of code above and below it).</span></span>

<span data-ttu-id="75c4d-138">**Rysunek 1** stronę YSOD szczegóły wyjątków.</span><span class="sxs-lookup"><span data-stu-id="75c4d-138">**Figure 1** shows the Exception Details YSOD page.</span></span> <span data-ttu-id="75c4d-139">Zanotuj adres URL w przeglądarce adres: `http://localhost:62275/Genre.aspx?ID=foo`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-139">Note the URL in the browser's address window: `http://localhost:62275/Genre.aspx?ID=foo`.</span></span> <span data-ttu-id="75c4d-140">Pamiętamy `Genre.aspx` stronie znajduje się lista przeglądów książki określonego rodzaju.</span><span class="sxs-lookup"><span data-stu-id="75c4d-140">Recall that the `Genre.aspx` page lists the book reviews in a particular genre.</span></span> <span data-ttu-id="75c4d-141">Wymaga, aby `GenreId` wartość ( `uniqueidentifier`) przekazany ciąg zapytania; na przykład używając odpowiedniego adresu URL, aby wyświetlić te przeglądy fikcja jest `Genre.aspx?ID=7683ab5d-4589-4f03-a139-1c26044d0146`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-141">It requires that `GenreId` value (a `uniqueidentifier`) be passed through the querystring; for example, the appropriate URL to view the fiction reviews is `Genre.aspx?ID=7683ab5d-4589-4f03-a139-1c26044d0146`.</span></span> <span data-ttu-id="75c4d-142">Jeśli innej niż`uniqueidentifier` wartość jest przekazywana w za pośrednictwem ciąg zapytania (na przykład "foo") jest zgłaszany wyjątek.</span><span class="sxs-lookup"><span data-stu-id="75c4d-142">If a non-`uniqueidentifier` value is passed in through the querystring (such as "foo") an exception is thrown.</span></span>

> [!NOTE]
> <span data-ttu-id="75c4d-143">Aby odtworzyć ten błąd wystąpił w demonstracyjnej aplikacji internetowej dostępne do pobrania można albo odwiedź `Genre.aspx?ID=foo` bezpośrednio lub kliknij łącze "Generowanie błąd środowiska uruchomieniowego" w `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-143">To reproduce this error in the demo web application available for download you can either visit `Genre.aspx?ID=foo` directly or click the "Generate a Runtime Error" link in `Default.aspx`.</span></span>


<span data-ttu-id="75c4d-144">Należy pamiętać, informacje o wyjątku, przedstawione **rys.1**.</span><span class="sxs-lookup"><span data-stu-id="75c4d-144">Note the exception information presented in **Figure 1**.</span></span> <span data-ttu-id="75c4d-145">Komunikat o wyjątku, "Konwersja nie powiodła się podczas konwertowania ciągu znaków na wartość uniqueidentifier" jest obecny w górnej części strony.</span><span class="sxs-lookup"><span data-stu-id="75c4d-145">The exception message, "Conversion failed when converting from a character string to uniqueidentifier" is present at the top of the page.</span></span> <span data-ttu-id="75c4d-146">Typ wyjątku, `System.Data.SqlClient.SqlException`, znajduje się, jak również.</span><span class="sxs-lookup"><span data-stu-id="75c4d-146">The type of the exception, `System.Data.SqlClient.SqlException`, is listed, as well.</span></span> <span data-ttu-id="75c4d-147">Również znajduje się ślad stosu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-147">There's also the stack trace.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image2.png)](displaying-a-custom-error-page-cs/_static/image1.png)

<span data-ttu-id="75c4d-148">**Rysunek 1**: Szczegóły wyjątku YSOD zawiera informacje o wyjątku</span><span class="sxs-lookup"><span data-stu-id="75c4d-148">**Figure 1**: The Exception Details YSOD Includes Information About the Exception</span></span>  
 <span data-ttu-id="75c4d-149">([Kliknij, aby wyświetlić obraz w pełnym rozmiarze](displaying-a-custom-error-page-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="75c4d-149">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image3.png))</span></span>

<span data-ttu-id="75c4d-150">Inny rodzaj YSOD jest YSOD błąd środowiska uruchomieniowego i jest wyświetlany w **na rysunku 2**.</span><span class="sxs-lookup"><span data-stu-id="75c4d-150">The other type of YSOD is the Runtime Error YSOD, and is shown in **Figure 2**.</span></span> <span data-ttu-id="75c4d-151">YSOD błąd środowiska uruchomieniowego informuje obiekt odwiedzający, który wystąpił błąd w czasie wykonywania, ale nie zawiera żadnych informacji o wyjątku, który został zgłoszony.</span><span class="sxs-lookup"><span data-stu-id="75c4d-151">The Runtime Error YSOD informs the visitor that a run-time error has occurred, but it does not include any information about the exception that was thrown.</span></span> <span data-ttu-id="75c4d-152">(Jednak zawierają instrukcje dotyczącymi szczegóły błędu, modyfikując widoczne `Web.config` pliku, który jest częścią co sprawia, że takie YSOD, Szukaj nieprofesjonalnie.)</span><span class="sxs-lookup"><span data-stu-id="75c4d-152">(It does, however, provide instructions on how to make the error details viewable by modifying the `Web.config` file, which is part of what makes such a YSOD look unprofessional.)</span></span>

<span data-ttu-id="75c4d-153">Domyślnie YSOD błąd środowiska uruchomieniowego jest wyświetlana dla użytkowników odwiedzających zdalnie (za pośrednictwem http://www.yoursite.com), zgodnie z dowodem na adres URL w pasku adresu przeglądarki w **na rysunku 2**: `http://httpruntime.web703.discountasp.net/Genre.aspx?ID=foo`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-153">By default, the Runtime Error YSOD is shown to users visiting remotely (through http://www.yoursite.com), as evidenced by the URL in the browser's Address bar in **Figure 2**: `http://httpruntime.web703.discountasp.net/Genre.aspx?ID=foo`.</span></span> <span data-ttu-id="75c4d-154">Dwa różne ekrany YSOD istnieje, ponieważ deweloperzy mają chcą wiedzieć, szczegóły błędu, ale informacje te nie mają być wyświetlane na aktywnej witryny, ponieważ może spowodować ujawnienie potencjalnych luk w zabezpieczeniach lub innych informacji poufnych dla wszystkich osób odwiedzających usługi witryna.</span><span class="sxs-lookup"><span data-stu-id="75c4d-154">The two different YSOD screens exist because developers are interested in knowing the error details, but such information should not be shown on a live site as it may reveal potential security vulnerabilities or other sensitive information to anyone who visits your site.</span></span>

> [!NOTE]
> <span data-ttu-id="75c4d-155">Jeśli postępujesz zgodnie z i używają DiscountASP.NET jako hosta sieci web, można zauważyć, że YSOD błąd środowiska uruchomieniowego nie są wyświetlane podczas przeglądania witryny na żywo.</span><span class="sxs-lookup"><span data-stu-id="75c4d-155">If you are following along and are using DiscountASP.NET as your web host, you may notice that the Runtime Error YSOD does not display when visiting the live site.</span></span> <span data-ttu-id="75c4d-156">Jest to spowodowane DiscountASP.NET ma swoje serwery domyślnie skonfigurowana do wyświetlenia YSOD szczegóły wyjątków.</span><span class="sxs-lookup"><span data-stu-id="75c4d-156">This is because DiscountASP.NET has their servers configured to show the Exception Details YSOD by default.</span></span> <span data-ttu-id="75c4d-157">Dobra wiadomość jest taka, możesz to zachowanie domyślne można przesłonić, dodając `<customErrors>` sekcję usługi `Web.config` pliku.</span><span class="sxs-lookup"><span data-stu-id="75c4d-157">The good news is that you can override this default behavior by adding a `<customErrors>` section to your `Web.config` file.</span></span> <span data-ttu-id="75c4d-158">Sprawdza, czy w sekcji "Konfigurowanie którego strony zostanie wyświetlony błąd" `<customErrors>` sekcji szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="75c4d-158">The "Configuring Which Error Page is Displayed" section examines the `<customErrors>` section in detail.</span></span>


[![](displaying-a-custom-error-page-cs/_static/image5.png)](displaying-a-custom-error-page-cs/_static/image4.png)

<span data-ttu-id="75c4d-159">**Rysunek 2**: Błąd w czasie wykonywania YSOD nie zawiera żadnych szczegółów błędu</span><span class="sxs-lookup"><span data-stu-id="75c4d-159">**Figure 2**: The Runtime Error YSOD Does Not Include Any Error Details</span></span>  
 <span data-ttu-id="75c4d-160">([Kliknij, aby wyświetlić obraz w pełnym rozmiarze](displaying-a-custom-error-page-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="75c4d-160">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image6.png))</span></span>

<span data-ttu-id="75c4d-161">Trzeci typ strony błędu jest stronę błędu niestandardowego, czyli strony sieci web, którą tworzysz.</span><span class="sxs-lookup"><span data-stu-id="75c4d-161">The third type of error page is the custom error page, which is a web page that you create.</span></span> <span data-ttu-id="75c4d-162">Zaletą korzystania z niestandardowej strony błędu jest, że masz pełną kontrolę nad informacje, które jest wyświetlane użytkownikowi, wraz ze strony wygląd i działanie; Strona błędu niestandardowego, można użyć tej samej strony wzorcowej i style jako stron sieci.</span><span class="sxs-lookup"><span data-stu-id="75c4d-162">The benefit of a custom error page is that you have complete control over the information that is displayed to the user along with the page's look and feel; the custom error page can use the same master page and styles as your other pages.</span></span> <span data-ttu-id="75c4d-163">W sekcji "Za pomocą niestandardowej strony błędu" przeprowadzi Tworzenie niestandardowej strony błędu i konfigurując go do wyświetlenia w przypadku nieobsługiwanego wyjątku.</span><span class="sxs-lookup"><span data-stu-id="75c4d-163">The "Using a Custom Error Page" section walks through creating a custom error page and configuring it to display in the event of an unhandled exception.</span></span> <span data-ttu-id="75c4d-164">**Rysunek 3** udostępnia informacje szczytu tej strony błędu niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-164">**Figure 3** offers a sneak peak of this custom error page.</span></span> <span data-ttu-id="75c4d-165">Jak widać, to wygląd i działanie strony błędu, znacznie więcej profesjonalnych niż albo żółty ekrany śmierci przedstawione na rysunkach 1 i 2.</span><span class="sxs-lookup"><span data-stu-id="75c4d-165">As you can see, the look and feel of the error page is much more professional-looking than either of the Yellow Screens of Death shown in Figures 1 and 2.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image8.png)](displaying-a-custom-error-page-cs/_static/image7.png)

<span data-ttu-id="75c4d-166">**Rysunek 3**: Strona błędu niestandardowego oferuje lepiej dopasowane wygląd i działanie</span><span class="sxs-lookup"><span data-stu-id="75c4d-166">**Figure 3**: A Custom Error Page Offers a More Tailored Look and Feel</span></span>  
 <span data-ttu-id="75c4d-167">([Kliknij, aby wyświetlić obraz w pełnym rozmiarze](displaying-a-custom-error-page-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="75c4d-167">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image9.png))</span></span>

<span data-ttu-id="75c4d-168">Poświęć chwilę, aby sprawdzić paska adresu w przeglądarce w **rysunek 3**.</span><span class="sxs-lookup"><span data-stu-id="75c4d-168">Take a moment to inspect the browser's Address bar in **Figure 3**.</span></span> <span data-ttu-id="75c4d-169">Należy pamiętać, że na pasku adresu zawiera adres URL strony błędu niestandardowego (`/ErrorPages/Oops.aspx`).</span><span class="sxs-lookup"><span data-stu-id="75c4d-169">Note that the Address bar shows the URL of the custom error page (`/ErrorPages/Oops.aspx`).</span></span> <span data-ttu-id="75c4d-170">Na rysunkach 1 i 2 ekrany żółty śmierci są wyświetlane w tej samej stronie, błąd pochodzących z (`Genre.aspx`).</span><span class="sxs-lookup"><span data-stu-id="75c4d-170">In Figures 1 and 2 the Yellow Screens of Death are shown in the same page that the error originated from (`Genre.aspx`).</span></span> <span data-ttu-id="75c4d-171">Strona błędu niestandardowego jest przekazany adres URL strony, w którym wystąpił błąd przy użyciu `aspxerrorpath` parametr querystring.</span><span class="sxs-lookup"><span data-stu-id="75c4d-171">The custom error page is passed the URL of the page where the error occurred via the `aspxerrorpath` querystring parameter.</span></span>

## <a name="configuring-which-error-page-is-displayed"></a><span data-ttu-id="75c4d-172">Konfigurowanie którego strony błędu jest wyświetlana.</span><span class="sxs-lookup"><span data-stu-id="75c4d-172">Configuring Which Error Page is Displayed</span></span>

<span data-ttu-id="75c4d-173">Co trzy strony możliwy błąd ma być wyświetlane opiera się na dwóch zmiennych:</span><span class="sxs-lookup"><span data-stu-id="75c4d-173">Which of the three possible error pages is displayed is based on two variables:</span></span>

- <span data-ttu-id="75c4d-174">Informacje o konfiguracji w `<customErrors>` sekcji i</span><span class="sxs-lookup"><span data-stu-id="75c4d-174">The configuration information in the `<customErrors>` section, and</span></span>
- <span data-ttu-id="75c4d-175">Czy użytkownik jest następującej witrynie, lokalnie lub zdalnie.</span><span class="sxs-lookup"><span data-stu-id="75c4d-175">Whether the user is visiting the site locally or remotely.</span></span>

<span data-ttu-id="75c4d-176">[ `<customErrors>` Sekcji](https://msdn.microsoft.com/library/h0hfz6fc.aspx) w `Web.config` ma dwa atrybuty, które mają wpływ na stronę błędu, jakie jest wyświetlany: `defaultRedirect` i `mode`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-176">The [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx) in `Web.config` has two attributes that affect what error page is shown: `defaultRedirect` and `mode`.</span></span> <span data-ttu-id="75c4d-177">`defaultRedirect` Atrybut jest opcjonalny.</span><span class="sxs-lookup"><span data-stu-id="75c4d-177">The `defaultRedirect` attribute is optional.</span></span> <span data-ttu-id="75c4d-178">Jeśli nie dostarczono, określa adres URL strony błędu niestandardowego i wskazuje, że zamiast YSOD błąd środowiska uruchomieniowego powinna być wyświetlana strona błędu niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-178">If provided, it specifies the URL of the custom error page and indicates that the custom error page should be shown instead of the Runtime Error YSOD.</span></span> <span data-ttu-id="75c4d-179">`mode` Atrybut jest wymagany i przyjmuje jedną z trzech wartości: `On`, `Off`, lub `RemoteOnly`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-179">The `mode` attribute is required and accepts one of three values: `On`, `Off`, or `RemoteOnly`.</span></span> <span data-ttu-id="75c4d-180">Te wartości mogą być następujące zachowanie:</span><span class="sxs-lookup"><span data-stu-id="75c4d-180">These values have the following behavior:</span></span>

- <span data-ttu-id="75c4d-181">`On` -wskazuje stronę błędu niestandardowego lub YSOD błąd środowiska uruchomieniowego jest wyświetlany dla wszystkich osób odwiedzających, niezależnie od tego, czy są one lokalnym lub zdalnym.</span><span class="sxs-lookup"><span data-stu-id="75c4d-181">`On` - indicates that the custom error page or the Runtime Error YSOD is shown to all visitors, regardless of whether they are local or remote.</span></span>
- <span data-ttu-id="75c4d-182">`Off` -Określa, czy wyjątek YSOD szczegóły są wyświetlane dla wszystkich osób odwiedzających, niezależnie od tego, czy są one lokalnym lub zdalnym.</span><span class="sxs-lookup"><span data-stu-id="75c4d-182">`Off` - specifies that the Exception Details YSOD is displayed to all visitors, regardless of whether they are local or remote.</span></span>
- <span data-ttu-id="75c4d-183">`RemoteOnly` — Wskazuje, że strony błędów niestandardowych lub YSOD błąd środowiska uruchomieniowego jest wyświetlany osobom odwiedzającym zdalnego podczas YSOD szczegółów wyjątku jest wyświetlany osobom odwiedzającym lokalnego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-183">`RemoteOnly` - indicates that the custom error page or the Runtime Error YSOD is shown to remote visitors, while the Exception Details YSOD is shown to local visitors.</span></span>

<span data-ttu-id="75c4d-184">O ile nie określono inaczej, platformy ASP.NET działa tak, jakby atrybut tryb zostały ustawione `RemoteOnly` i nie podał `defaultRedirect` wartość.</span><span class="sxs-lookup"><span data-stu-id="75c4d-184">Unless you specify otherwise, ASP.NET acts as if you had set the mode attribute to `RemoteOnly` and had not specified a `defaultRedirect` value.</span></span> <span data-ttu-id="75c4d-185">Oznacza to domyślnym zachowaniem jest, że podczas YSOD błąd środowiska uruchomieniowego jest wyświetlany osobom odwiedzającym zdalnego YSOD szczegółów wyjątku jest wyświetlany osobom odwiedzającym lokalnego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-185">In other words, the default behavior is that the Exception Details YSOD is displayed to local visitors while the Runtime Error YSOD is shown to remote visitors.</span></span> <span data-ttu-id="75c4d-186">To zachowanie domyślne można przesłonić, dodając `<customErrors>` sekcji do aplikacji sieci web `Web.config file.`</span><span class="sxs-lookup"><span data-stu-id="75c4d-186">You can override this default behavior by adding a `<customErrors>` section to your web application's `Web.config file.`</span></span>

## <a name="using-a-custom-error-page"></a><span data-ttu-id="75c4d-187">Za pomocą strony błędu niestandardowego</span><span class="sxs-lookup"><span data-stu-id="75c4d-187">Using a Custom Error Page</span></span>

<span data-ttu-id="75c4d-188">Każda aplikacja sieci web powinien mieć niestandardowej strony błędu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-188">Every web application should have a custom error page.</span></span> <span data-ttu-id="75c4d-189">Zapewnia bardziej profesjonalnych zamiast YSOD błąd środowiska uruchomieniowego, ułatwia tworzenie i konfigurowanie aplikacji do korzystania z niestandardowej strony błędu zajmuje tylko chwilę.</span><span class="sxs-lookup"><span data-stu-id="75c4d-189">It provides a more professional-looking alternative to the Runtime Error YSOD, it is easy to create, and configuring the application to use the custom error page takes only a few moments.</span></span> <span data-ttu-id="75c4d-190">Pierwszym krokiem jest utworzenie niestandardowej strony błędu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-190">The first step is creating the custom error page.</span></span> <span data-ttu-id="75c4d-191">Nowy folder zostały dodane do aplikacji przeglądy książki, o nazwie `ErrorPages` i dodane do, że nowa strona programu ASP.NET o nazwie `Oops.aspx`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-191">I've added a new folder to the Book Reviews application named `ErrorPages` and added to that a new ASP.NET page named `Oops.aspx`.</span></span> <span data-ttu-id="75c4d-192">Jeszcze strony, użyj tej samej strony wzorcowej jako pozostałe strony w witrynie tak, aby automatycznie dziedziczy tego samego wygląd i działanie.</span><span class="sxs-lookup"><span data-stu-id="75c4d-192">Have the page use the same master page as the rest of the pages on your site so that it automatically inherits the same look and feel.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image11.png)](displaying-a-custom-error-page-cs/_static/image10.png)

<span data-ttu-id="75c4d-193">**Rysunek 4**: Tworzenie niestandardowej strony błędu</span><span class="sxs-lookup"><span data-stu-id="75c4d-193">**Figure 4**: Create a Custom Error Page</span></span>

<span data-ttu-id="75c4d-194">Następnie Poświęć kilka minut, tworzenie zawartości strony błędu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-194">Next, spend a few minutes creating the content for the error page.</span></span> <span data-ttu-id="75c4d-195">Zamiast prostych niestandardowej strony błędu został utworzony za pomocą komunikat wskazujący, że wystąpił nieoczekiwany błąd i łącze z powrotem do strony głównej witryny.</span><span class="sxs-lookup"><span data-stu-id="75c4d-195">I've created a rather simple custom error page with a message indicating that there was an unexpected error and a link back to the site's homepage.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image13.png)](displaying-a-custom-error-page-cs/_static/image12.png)

<span data-ttu-id="75c4d-196">**Rysunek 5**: Projektowanie strony błędu niestandardowego</span><span class="sxs-lookup"><span data-stu-id="75c4d-196">**Figure 5**: Design Your Custom Error Page</span></span>  
 <span data-ttu-id="75c4d-197">([Kliknij, aby wyświetlić obraz w pełnym rozmiarze](displaying-a-custom-error-page-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="75c4d-197">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image14.png))</span></span>

<span data-ttu-id="75c4d-198">Za pomocą strony błędu, zakończone należy skonfigurować aplikację sieci web, aby użyć niestandardowej strony błędu audytów YSOD błąd środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-198">With the error page completed, configure the web application to use the custom error page in lieu of the Runtime Error YSOD.</span></span> <span data-ttu-id="75c4d-199">Jest to osiągnąć, określając adres URL strony błędu w `<customErrors>` sekcji `defaultRedirect` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-199">This is accomplished by specifying the URL of the error page in the `<customErrors>` section's `defaultRedirect` attribute.</span></span> <span data-ttu-id="75c4d-200">Dodaj następujący kod do swojej aplikacji `Web.config` pliku:</span><span class="sxs-lookup"><span data-stu-id="75c4d-200">Add the following markup to your application's `Web.config` file:</span></span>

[!code-xml[Main](displaying-a-custom-error-page-cs/samples/sample1.xml)]

<span data-ttu-id="75c4d-201">Powyższe znaczników konfiguruje stosowanie przez aplikację do przedstawienia YSOD szczegółów wyjątku użytkowników odwiedzających lokalnie, podczas korzystania z niestandardowej strony błędu Oops.aspx dla tych użytkowników, odwiedzając zdalnie.</span><span class="sxs-lookup"><span data-stu-id="75c4d-201">The above markup configures the application to show the Exception Details YSOD to users visiting locally, while using the custom error page Oops.aspx for those users visiting remotely.</span></span> <span data-ttu-id="75c4d-202">Aby to zobaczyć w działaniu, wdrażanie witryny sieci Web w środowisku produkcyjnym, a następnie odwiedź stronę Genre.aspx w aktywnej witrynie z wartością nieprawidłowy ciąg zapytania.</span><span class="sxs-lookup"><span data-stu-id="75c4d-202">To see this in action, deploy your website to the production environment and then visit the Genre.aspx page on the live site with an invalid querystring value.</span></span> <span data-ttu-id="75c4d-203">Powinna zostać wyświetlona strona błędu niestandardowego (odnoszą się do **rysunek 3**).</span><span class="sxs-lookup"><span data-stu-id="75c4d-203">You should see the custom error page (refer back to **Figure 3**).</span></span>

<span data-ttu-id="75c4d-204">Aby sprawdzić, stronę błędu niestandardowego jest wyświetlana tylko do użytkowników zdalnych, odwiedź stronę `Genre.aspx` strony nieprawidłowy ciąg zapytania ze środowiska projektowego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-204">To verify that the custom error page is only shown to remote users, visit the `Genre.aspx` page with an invalid querystring from the development environment.</span></span> <span data-ttu-id="75c4d-205">Nadal powinien zostać wyświetlony YSOD szczegółów wyjątku (odnoszą się do **rys.1**).</span><span class="sxs-lookup"><span data-stu-id="75c4d-205">You should still see the Exception Details YSOD (refer back to **Figure 1**).</span></span> <span data-ttu-id="75c4d-206">`RemoteOnly` Ustawienie zapewni, że w środowisku produkcyjnym, odwiedzając witrynę widzą strony błędu niestandardowego podczas deweloperów pracujących lokalnie w dalszym ciągu widzieć szczegóły wyjątku.</span><span class="sxs-lookup"><span data-stu-id="75c4d-206">The `RemoteOnly` setting ensures that users visiting the site on the production environment see the custom error page while developers working locally continue to see the details of the exception.</span></span>

## <a name="notifying-developers-and-logging-error-details"></a><span data-ttu-id="75c4d-207">Powiadamianie deweloperów i rejestrowanie szczegółów błędu</span><span class="sxs-lookup"><span data-stu-id="75c4d-207">Notifying Developers and Logging Error Details</span></span>

<span data-ttu-id="75c4d-208">Błędy występujące w środowisku programistycznym były spowodowane przez dewelopera, dostępne na swoim komputerze.</span><span class="sxs-lookup"><span data-stu-id="75c4d-208">Errors that occur in the development environment were caused by the developer sitting at her computer.</span></span> <span data-ttu-id="75c4d-209">Ona przedstawiono informacje o wyjątku w YSOD szczegółów wyjątku i wie, jakie kroki ona wykonywała w momencie wystąpienia błędu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-209">She is shown the exception's information in the Exception Details YSOD, and she knows what steps she was performing when the error occurred.</span></span> <span data-ttu-id="75c4d-210">Jednak po wystąpieniu błędu w środowisku produkcyjnym, deweloper nie ma informacji, chyba że użytkownik końcowy w witrynie zajmuje czasu, aby zgłosić błąd wystąpił błąd.</span><span class="sxs-lookup"><span data-stu-id="75c4d-210">But when an error occurs on production, the developer has no knowledge that an error occurred unless the end user visiting the site takes the time to report the error.</span></span> <span data-ttu-id="75c4d-211">A nawet wtedy, gdy użytkownik wykracza poza sposób alert zespołem programistycznym, który wystąpił błąd, nie wiedząc o tym, typ wyjątku, komunikat i ślad stosu, może być trudne przyczynę błędu, nie mówiąc go naprawić.</span><span class="sxs-lookup"><span data-stu-id="75c4d-211">And even if the user goes out of his way to alert the development team that an error occurred, without knowing the exception type, message, and stack trace it can be difficult to diagnose the cause of the error, let alone fix it.</span></span>

<span data-ttu-id="75c4d-212">Z tych powodów, dla których najważniejsze, że wszelkie błędy w środowisku produkcyjnym zostanie zarejestrowany niektóre trwałego magazynu (np. bazy danych), a deweloperzy są alerty wystąpienia tego błędu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-212">For these reasons it is paramount that any error in the production environment is logged to some persistent store (such as a database) and that the developers are alerted of this error.</span></span> <span data-ttu-id="75c4d-213">Strona błędu niestandardowego może się wydawać dobrym miejscem do śledzenia tego rejestrowania i powiadomień.</span><span class="sxs-lookup"><span data-stu-id="75c4d-213">The custom error page may seem like a good place to do this logging and notification.</span></span> <span data-ttu-id="75c4d-214">Niestety stronę błędu niestandardowego nie ma dostępu do szczegóły błędu i nie można używać do logowania się te informacje.</span><span class="sxs-lookup"><span data-stu-id="75c4d-214">Unfortunately, the custom error page does not have access to the error details and therefore cannot be used to log this information.</span></span> <span data-ttu-id="75c4d-215">Dobra wiadomość jest taka, istnieje kilka sposobów przechwytywać szczegóły błędu i je rejestrować i zapoznaj się z trzech kolejnych samouczków w tym temacie bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="75c4d-215">The good news is that there are a number of ways to intercept the error details and to log them, and the next three tutorials explore this topic in more detail.</span></span>

## <a name="using-different-custom-error-pages-for-different-http-error-statuses"></a><span data-ttu-id="75c4d-216">Za pomocą różnych błędów niestandardowych stron dla stanów różnych błędów HTTP</span><span class="sxs-lookup"><span data-stu-id="75c4d-216">Using Different Custom Error Pages for Different HTTP Error Statuses</span></span>

<span data-ttu-id="75c4d-217">Gdy wyjątek jest generowany przez strony ASP.NET i nie jest obsługiwany, wyjątek percolates do środowiska uruchomieniowego programu ASP.NET, która zostanie wyświetlona strona błędu skonfigurowany.</span><span class="sxs-lookup"><span data-stu-id="75c4d-217">When an exception is thrown by an ASP.NET page and is not handled, the exception percolates up to the ASP.NET runtime, which displays the configured error page.</span></span> <span data-ttu-id="75c4d-218">Żądanie trafia do aparatu programu ASP.NET, ale nie można przetworzyć jakiegoś powodu — prawdopodobnie żądany plik jest nie można odnaleźć lub odczytać uprawnienia zostały wyłączone dla pliku — a następnie wywołuje aparat ASP.NET `HttpException`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-218">If a request comes into the ASP.NET engine but cannot be processed for some reason - perhaps the requested file is not found or Read permissions have been disabled for the file - then the ASP.NET engine raises an `HttpException`.</span></span> <span data-ttu-id="75c4d-219">Ten wyjątek, takich jak wyjątki wywoływane ze stron ASP.NET rozpropagowany do środowiska uruchomieniowego, powodując stronę odpowiedni komunikat o błędzie do wyświetlenia.</span><span class="sxs-lookup"><span data-stu-id="75c4d-219">This exception, like exceptions raised from ASP.NET pages, bubbles up to the runtime, causing the appropriate error page to be displayed.</span></span>

<span data-ttu-id="75c4d-220">Co to oznacza dla aplikacji sieci web w środowisku produkcyjnym jest to, że jeśli użytkownik zażąda strona, która nie zostanie znaleziony, a następnie ich zostanie wyświetlona strona błędu niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-220">What this means for the web application in production is that if a user requests a page that is not found then they will see the custom error page.</span></span> <span data-ttu-id="75c4d-221">**Rysunek 6** przedstawiono przykład takiego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-221">**Figure 6** shows such an example.</span></span> <span data-ttu-id="75c4d-222">Ponieważ żądanie dotyczy nieistniejącej strony (`NoSuchPage.aspx`), `HttpException` jest generowany i zostanie wyświetlona strona błędu niestandardowego (należy pamiętać, odwołanie do `NoSuchPage.aspx` w `aspxerrorpath` parametr querystring).</span><span class="sxs-lookup"><span data-stu-id="75c4d-222">Because the request is for a non-existent page (`NoSuchPage.aspx`), an `HttpException` is thrown and the custom error page is displayed (note the reference to `NoSuchPage.aspx` in the `aspxerrorpath` querystring parameter).</span></span>

[![](displaying-a-custom-error-page-cs/_static/image16.png)](displaying-a-custom-error-page-cs/_static/image15.png)

<span data-ttu-id="75c4d-223">**Rysunek 6**: Środowisko uruchomieniowe ASP.NET Wyświetla skonfigurowane strony w odpowiedzi na błąd nieprawidłowe żądanie ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](displaying-a-custom-error-page-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="75c4d-223">**Figure 6**: The ASP.NET Runtime Displays the Configured Error Page In Response to an Invalid Request ([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image17.png))</span></span>

<span data-ttu-id="75c4d-224">Domyślnie wszystkie typy błędów spowodować, że ten sam niestandardowej strony błędu mają być wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="75c4d-224">By default, all types of errors cause the same custom error page to be displayed.</span></span> <span data-ttu-id="75c4d-225">Można jednak określić różne niestandardowej strony błędu dla określonych HTTP status code za pomocą `<error>` elementy podrzędne w ramach `<customErrors>` sekcji.</span><span class="sxs-lookup"><span data-stu-id="75c4d-225">However, you can specify a different custom error page for a specific HTTP status code using `<error>` children elements within the `<customErrors>` section.</span></span> <span data-ttu-id="75c4d-226">Na przykład strona inny błąd wyświetlana w przypadku strony błąd, mającej kod stanu HTTP 404 — Nie znaleziono aktualizacji `<customErrors>` sekcji, aby uwzględnić następujące znaczniki:</span><span class="sxs-lookup"><span data-stu-id="75c4d-226">For example, to have a different error page displayed in the event of a page not found error, which has an HTTP status code of 404, update the `<customErrors>` section to include the following markup:</span></span>

[!code-xml[Main](displaying-a-custom-error-page-cs/samples/sample2.xml)]

<span data-ttu-id="75c4d-227">Dzięki tej zmianie w miejscu zawsze wtedy, gdy użytkownik odwiedzający zdalnie zażąda zasób programu ASP.NET, który nie istnieje, zostanie przekierowany do `404.aspx` niestandardowej strony błędu zamiast `Oops.aspx`.</span><span class="sxs-lookup"><span data-stu-id="75c4d-227">With this change in place, whenever a user visiting remotely requests an ASP.NET resource that does not exist, they will be redirected to the `404.aspx` custom error page instead of `Oops.aspx`.</span></span> <span data-ttu-id="75c4d-228">Jako **rysunek 7** ilustruje, `404.aspx` strony może zawierać bardziej szczegółowy komunikat o błędzie niż ogólna niestandardowej strony błędu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-228">As **Figure 7** illustrates, the `404.aspx` page can include a more specific message than the general custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="75c4d-229">Zapoznaj się z [404 stron błędów, jeden raz z bardziej](http://www.smashingmagazine.com/2009/01/29/404-error-pages-one-more-time/) wskazówki dotyczące tworzenia skutecznych stron powodujących błąd 404.</span><span class="sxs-lookup"><span data-stu-id="75c4d-229">Check out [404 Error Pages, One More Time](http://www.smashingmagazine.com/2009/01/29/404-error-pages-one-more-time/) for guidance on creating effective 404 error pages.</span></span>


<span data-ttu-id="75c4d-230">[![](displaying-a-custom-error-page-cs/_static/image19.png)](displaying-a-custom-error-page-cs/_static/image18.png)**Rysunek 7**: Strony błędu niestandardowego 404 wyświetla komunikat bardziej precyzyjnie niż `Oops.aspx`</span><span class="sxs-lookup"><span data-stu-id="75c4d-230">[![](displaying-a-custom-error-page-cs/_static/image19.png)](displaying-a-custom-error-page-cs/_static/image18.png)**Figure 7**: The Custom 404 Error Page Displays a More Targeted Message Than `Oops.aspx`</span></span>  
 <span data-ttu-id="75c4d-231">([Kliknij, aby wyświetlić obraz w pełnym rozmiarze](displaying-a-custom-error-page-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="75c4d-231">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image20.png))</span></span> 

<span data-ttu-id="75c4d-232">Ponieważ wiadomo, że `404.aspx` strony jest osiągany dopiero po użytkownik wysyła żądanie dla strony, który nie został znaleziony, można zwiększyć tę stronę błędu niestandardowego, aby oferować takie funkcje, aby pomóc użytkownikowi adresu określonego typu błędu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-232">Because you know that the `404.aspx` page is only reached when the user makes a request for a page that was not found, you can enhance this custom error page to include functionality to help the user address this specific type of error.</span></span> <span data-ttu-id="75c4d-233">Na przykład można tworzenie map znane nieprawidłowe adresy URL to dobry adresów URL tabeli bazy danych, a następnie `404.aspx` niestandardowej strony błędu uruchom zapytanie dla tabeli, która zasugerować stron, które użytkownik może próbować dotrzeć do.</span><span class="sxs-lookup"><span data-stu-id="75c4d-233">For example, you could build a database table that maps known bad URLs to good URLs, and then have the `404.aspx` custom error page run a query against that table and suggest pages the user may be trying to reach.</span></span>

> [!NOTE]
> <span data-ttu-id="75c4d-234">Tylko zostanie wyświetlona strona błędu niestandardowego, po wysłaniu żądania do zasobu, obsługiwane przez aparat programu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="75c4d-234">The custom error page is only displayed when a request is made to a resource handled by the ASP.NET engine.</span></span> <span data-ttu-id="75c4d-235">Tak jak Omówiliśmy to w [podstawowe różnice między usług IIS i programem ASP.NET Development Server](core-differences-between-iis-and-the-asp-net-development-server-cs.md) samouczków, serwer sieci web mogą obsługiwać niektórych żądań sam.</span><span class="sxs-lookup"><span data-stu-id="75c4d-235">As we discussed in the [Core Differences Between IIS and the ASP.NET Development Server](core-differences-between-iis-and-the-asp-net-development-server-cs.md) tutorial, the web server may handle certain requests itself.</span></span> <span data-ttu-id="75c4d-236">Domyślnie usługi IIS żądania sieci web serwera procesów dla zawartości statycznej, takich jak obrazy i pliki HTML bez wywoływania aparatu programu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="75c4d-236">By default, the IIS web server processes requests for static content like images and HTML files without invoking the ASP.NET engine.</span></span> <span data-ttu-id="75c4d-237">W związku z tym jeśli użytkownik zażąda pliku obrazu nieistniejącej otrzymają one ponownie komunikat błędu 404 domyślny usług IIS, a nie ASP. Strona błędu skonfigurowany w sieci.</span><span class="sxs-lookup"><span data-stu-id="75c4d-237">Consequently, if the user requests a non-existent image file they will get back IIS's default 404 error message rather than ASP.NET's configured error page.</span></span>


## <a name="summary"></a><span data-ttu-id="75c4d-238">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="75c4d-238">Summary</span></span>

<span data-ttu-id="75c4d-239">Po wystąpieniu nieobsługiwanego wyjątku w aplikacji ASP.NET, użytkownik jest wyświetlany jeden z trzech stron błędów: wyjątek szczegóły żółty ekranem śmierci; Błąd w czasie wykonywania, żółte ekran; lub niestandardowej strony błędu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-239">When an unhandled exception occurs in an ASP.NET application, the user is shown one of three error pages: the Exception Details Yellow Screen of Death; the Runtime Error Yellow Screen of Death; or a custom error page.</span></span> <span data-ttu-id="75c4d-240">Zostanie wyświetlona strona błędu, który zależy od aplikacji `<customErrors>` konfiguracji i tego, czy użytkownik odwiedził lokalnie lub zdalnie.</span><span class="sxs-lookup"><span data-stu-id="75c4d-240">Which error page is displayed depends on the application's `<customErrors>` configuration and whether the user is visiting locally or remotely.</span></span> <span data-ttu-id="75c4d-241">Zachowanie domyślne jest do przedstawienia YSOD szczegółów wyjątku do lokalnego odwiedzających i YSOD błąd środowiska uruchomieniowego odwiedzających zdalnego.</span><span class="sxs-lookup"><span data-stu-id="75c4d-241">The default behavior is to show the Exception Details YSOD to local visitors and the Runtime Error YSOD to remote visitors.</span></span>

<span data-ttu-id="75c4d-242">Gdy YSOD błąd środowiska uruchomieniowego ukrywa informacje o błędzie potencjalnie poufnych przez użytkownika w witrynie, przerywa z witryny wygląd i działanie i sprawia, że wyglądu buggy Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="75c4d-242">While the Runtime Error YSOD hides potentially sensitive error information from the user visiting the site, it breaks from your site's look and feel and makes your application look buggy.</span></span> <span data-ttu-id="75c4d-243">Lepszym rozwiązaniem jest użycie niestandardowej strony błędu, co pociąga za sobą tworzenia i projektowania strony błędu niestandardowego i określania jej adresu URL w `<customErrors>` sekcji `defaultRedirect` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="75c4d-243">A better approach is to use a custom error page, which entails creating and designing the custom error page and specifying its URL in the `<customErrors>` section's `defaultRedirect` attribute.</span></span> <span data-ttu-id="75c4d-244">Można nawet mieć wiele stron błędów niestandardowych dla różnych stanów błąd HTTP.</span><span class="sxs-lookup"><span data-stu-id="75c4d-244">You can even have multiple custom error pages for different HTTP error statuses.</span></span>

<span data-ttu-id="75c4d-245">Strona błędu niestandardowego jest pierwszym krokiem omyłkowo kompleksowej obsługi strategii dla witryny sieci Web w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="75c4d-245">The custom error page is the first step in a comprehensive error handling strategy for a website in production.</span></span> <span data-ttu-id="75c4d-246">Alerty dla deweloperów błędu i rejestrowanie szczegółowe informacje są także ważne czynności.</span><span class="sxs-lookup"><span data-stu-id="75c4d-246">Alerting the developer of the error and logging its details are also important steps.</span></span> <span data-ttu-id="75c4d-247">Techniki powiadomienia o błędzie i rejestrowania zapoznaj się z trzech kolejnych samouczków.</span><span class="sxs-lookup"><span data-stu-id="75c4d-247">The next three tutorials explore techniques for error notification and logging.</span></span>

<span data-ttu-id="75c4d-248">Wszystkiego najlepszego programowania!</span><span class="sxs-lookup"><span data-stu-id="75c4d-248">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="75c4d-249">Dalsze informacje</span><span class="sxs-lookup"><span data-stu-id="75c4d-249">Further Reading</span></span>

<span data-ttu-id="75c4d-250">Więcej informacji na tematów omówionych w tym samouczku można znaleźć w następujących zasobach:</span><span class="sxs-lookup"><span data-stu-id="75c4d-250">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="75c4d-251">Strony błędów, jeszcze raz</span><span class="sxs-lookup"><span data-stu-id="75c4d-251">Error Pages, One More Time</span></span>](http://www.smashingmagazine.com/2009/01/29/404-error-pages-one-more-time/)
- [<span data-ttu-id="75c4d-252">Wyjątki — zalecenia dotyczące projektowania</span><span class="sxs-lookup"><span data-stu-id="75c4d-252">Design Guidelines for Exceptions</span></span>](https://msdn.microsoft.com/library/ms229014.aspx)
- [<span data-ttu-id="75c4d-253">Strony błędów przyjazny dla użytkownika</span><span class="sxs-lookup"><span data-stu-id="75c4d-253">User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="75c4d-254">Obsługa i zgłaszanie wyjątków</span><span class="sxs-lookup"><span data-stu-id="75c4d-254">Handling and Throwing Exceptions</span></span>](https://msdn.microsoft.com/library/5b2yeyab.aspx)
- [<span data-ttu-id="75c4d-255">Prawidłowo przy użyciu strony błędów niestandardowych w programie ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="75c4d-255">Properly Using Custom Error Pages in ASP.NET</span></span>](http://professionalaspnet.com/archive/2007/09/30/Properly-Using-Custom-Error-Pages-in-ASP.NET.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="75c4d-256">[Poprzednie](strategies-for-database-development-and-deployment-cs.md)
> [dalej](processing-unhandled-exceptions-cs.md)</span><span class="sxs-lookup"><span data-stu-id="75c4d-256">[Previous](strategies-for-database-development-and-deployment-cs.md)
[Next](processing-unhandled-exceptions-cs.md)</span></span>
