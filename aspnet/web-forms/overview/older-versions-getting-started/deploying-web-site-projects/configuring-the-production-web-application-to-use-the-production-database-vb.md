---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/configuring-the-production-web-application-to-use-the-production-database-vb
title: Konfigurowanie produkcyjnej aplikacji sieci Web do korzystania z produkcyjnej bazy danych (VB) | Microsoft Docs
author: rick-anderson
description: Jak opisano w poprzednich samouczkach, informacje konfiguracyjne różnią się w zależności od środowiska deweloperskiego i produkcyjnego. To są es...
ms.author: riande
ms.date: 04/23/2009
ms.assetid: a64a7aa0-6608-449e-83bf-1ef8cceee504
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/configuring-the-production-web-application-to-use-the-production-database-vb
msc.type: authoredcontent
ms.openlocfilehash: 7fe4f545a76992ad687827af447d9a9e95bea73f
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/28/2019
ms.locfileid: "74633700"
---
# <a name="configuring-the-production-web-application-to-use-the-production-database-vb"></a><span data-ttu-id="aacb2-104">Konfigurowanie produkcyjnej aplikacji internetowej do korzystania z produkcyjnej bazy danych (VB)</span><span class="sxs-lookup"><span data-stu-id="aacb2-104">Configuring the Production Web Application to Use the Production Database (VB)</span></span>

<span data-ttu-id="aacb2-105">przez [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="aacb2-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="aacb2-106">[Pobierz kod](https://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_08_VB.zip) lub [Pobierz plik PDF](https://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial08_DBConfig_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="aacb2-106">[Download Code](https://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_08_VB.zip) or [Download PDF](https://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial08_DBConfig_vb.pdf)</span></span>

> <span data-ttu-id="aacb2-107">Jak opisano w poprzednich samouczkach, informacje konfiguracyjne różnią się w zależności od środowiska deweloperskiego i produkcyjnego.</span><span class="sxs-lookup"><span data-stu-id="aacb2-107">As discussed in earlier tutorials, it is not uncommon for configuration information to differ between the development and production environments.</span></span> <span data-ttu-id="aacb2-108">Jest to szczególnie istotne w przypadku aplikacji sieci Web opartych na danych, ponieważ parametry połączenia bazy danych różnią się w środowisku deweloperskim i produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="aacb2-108">This is especially true for data-driven web applications, as the database connection strings differ between the development and production environments.</span></span> <span data-ttu-id="aacb2-109">W tym samouczku przedstawiono sposoby konfigurowania środowiska produkcyjnego w celu uwzględnienia odpowiednich parametrów połączenia w bardziej szczegółowy sposób.</span><span class="sxs-lookup"><span data-stu-id="aacb2-109">This tutorial explores ways to configure the production environment to include the appropriate connection string in more detail.</span></span>

## <a name="introduction"></a><span data-ttu-id="aacb2-110">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="aacb2-110">Introduction</span></span>

<span data-ttu-id="aacb2-111">Aplikacje sieci Web oparte na danych zazwyczaj korzystają z innej bazy danych niż w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="aacb2-111">Data-driven web applications usually use a different database when in development than when in production.</span></span> <span data-ttu-id="aacb2-112">W przypadku aplikacji hostowanych przez dostawcę hosta sieci Web i opracowanych lokalnie baza danych programistycznych zazwyczaj znajduje się na komputerze dewelopera, podczas gdy produkcyjna baza danych jest hostowana na serwerze bazy danych w funkcji udostępniania w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="aacb2-112">For applications hosted by a web host provider and developed locally, the development database typically resides on the developer s computer while the production database is hosted on a database server at the web hosting company s facility.</span></span> <span data-ttu-id="aacb2-113">Wdrożenie aplikacji sieci Web opartej na danych wiąże się z kopiowaniem bazy danych programistycznych na produkcyjny serwer bazy danych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-113">Deploying a data-driven web application entails copying the development database to the production database server.</span></span> <span data-ttu-id="aacb2-114">W poprzednim samouczku przedstawiono sposoby wykonywania tego kroku.</span><span class="sxs-lookup"><span data-stu-id="aacb2-114">In the previous tutorial we looked at ways to accomplish this step.</span></span>

<span data-ttu-id="aacb2-115">Aplikacja sieci Web używa informacji w *parametrach połączenia* w celu nawiązania połączenia z bazą danych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-115">The web application uses the information in a *connection string* to establish a connection with the database.</span></span> <span data-ttu-id="aacb2-116">Parametry połączenia, które są zwykle przechowywane w `Web.config`, określa nazwę serwera bazy danych, nazwę bazy danych, kontekst zabezpieczeń i inne informacje.</span><span class="sxs-lookup"><span data-stu-id="aacb2-116">The connection string, which is typically stored in `Web.config`, specifies the database server name, the name of the database, the security context, and other information.</span></span> <span data-ttu-id="aacb2-117">Ponieważ baza danych używana przez aplikację sieci Web zależy od tego, czy aplikacja sieci Web działa w środowisku deweloperskim czy produkcyjnym, parametry połączenia muszą się różnić między tymi dwoma środowiskami.</span><span class="sxs-lookup"><span data-stu-id="aacb2-117">Because the database used by the web application depends on whether the web application is running in the development or production environments, the connection strings must differ between the two environments.</span></span>

<span data-ttu-id="aacb2-118">Informacje o konfiguracji różnią się w zależności od środowiska deweloperskiego i produkcyjnego.</span><span class="sxs-lookup"><span data-stu-id="aacb2-118">It is not uncommon for configuration information to differ between the development and production environments.</span></span> <span data-ttu-id="aacb2-119">*Typowe różnice konfiguracji między samouczkiem opracowywania i produkcji* omawiają metody obsługi osobnych informacji konfiguracyjnych między tymi dwoma środowiskami, a także krótkie omówienie parametrów połączenia bazy danych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-119">The *Common Configuration Differences Between Development and Production* tutorial discussed techniques for maintaining separate configuration information between these two environments, as well as a brief discussion on database connection strings.</span></span> <span data-ttu-id="aacb2-120">W tym samouczku przedstawiono sposoby konfigurowania środowiska produkcyjnego w celu uwzględnienia odpowiednich parametrów połączenia w bardziej szczegółowy sposób.</span><span class="sxs-lookup"><span data-stu-id="aacb2-120">This tutorial explores ways to configure the production environment to include the appropriate connection string in more detail.</span></span>

## <a name="examining-the-connection-string-information"></a><span data-ttu-id="aacb2-121">Badanie informacji o parametrach połączenia</span><span class="sxs-lookup"><span data-stu-id="aacb2-121">Examining the Connection String Information</span></span>

<span data-ttu-id="aacb2-122">Parametry połączenia używane przez aplikację sieci Web przeglądów książek są przechowywane w pliku konfiguracji aplikacji `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-122">The connection string used by the Book Reviews web application is stored in the application s configuration file, `Web.config`.</span></span> <span data-ttu-id="aacb2-123">`Web.config` zawiera specjalną sekcję do przechowywania parametrów połączenia, aptly o nazwie [&lt;connectionStrings&gt;](https://msdn.microsoft.com/library/bf7sd233.aspx).</span><span class="sxs-lookup"><span data-stu-id="aacb2-123">`Web.config` includes a special section for storing connection strings, aptly named [&lt;connectionStrings&gt;](https://msdn.microsoft.com/library/bf7sd233.aspx).</span></span> <span data-ttu-id="aacb2-124">Plik `Web.config` witryny sieci Web przeglądający książki ma jeden parametr połączenia zdefiniowany w tej sekcji o nazwie `ReviewsConnectionString`:</span><span class="sxs-lookup"><span data-stu-id="aacb2-124">The `Web.config` file for the Book Reviews website has one connection string defined in this section named `ReviewsConnectionString`:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-vb/samples/sample1.xml)]

<span data-ttu-id="aacb2-125">Parametry połączenia — źródło danych = .\SQLEXPRESS; AttachDbFilename = | Katalog DataDirectory | \Reviews.mdf; zabezpieczenia zintegrowane = true; Wystąpienie użytkownika = true — składa się z szeregu opcji i wartości, a pary Option/wartość są rozdzielane średnikami i każdej opcji i wartości rozdzielane znakiem równości.</span><span class="sxs-lookup"><span data-stu-id="aacb2-125">The connection string - Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\Reviews.mdf;Integrated Security=True;User Instance=True - is composed of a number of options and values, with option/value pairs delimited by a semicolon and each option and value delimited by an equals sign.</span></span> <span data-ttu-id="aacb2-126">Cztery opcje używane w tych parametrach połączenia to:</span><span class="sxs-lookup"><span data-stu-id="aacb2-126">The four options used in this connection string are:</span></span>

- <span data-ttu-id="aacb2-127">`Data Source` — określa lokalizację serwera bazy danych i nazwę wystąpienia serwera bazy danych (jeśli istnieje).</span><span class="sxs-lookup"><span data-stu-id="aacb2-127">`Data Source` - specifies the location of the database server and the database server instance name (if any).</span></span> <span data-ttu-id="aacb2-128">Wartość, `.\SQLEXPRESS`, to przykład, w którym występuje serwer bazy danych i nazwa wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="aacb2-128">The value, `.\SQLEXPRESS`, is an example where there is a database server and an instance name.</span></span> <span data-ttu-id="aacb2-129">Okres określa, że serwer bazy danych znajduje się na tym samym komputerze co aplikacja; Nazwa wystąpienia jest `SQLEXPRESS`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-129">The period specifies that the database server is on the same computer as the application; the instance name is `SQLEXPRESS`.</span></span>
- <span data-ttu-id="aacb2-130">`AttachDbFilename` — określa lokalizację pliku bazy danych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-130">`AttachDbFilename` - specifies the location of the database file.</span></span> <span data-ttu-id="aacb2-131">Wartość zawiera `|DataDirectory|`symbolu zastępczego, który jest rozpoznawany jako pełna ścieżka do folderu `App_Data` aplikacji w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="aacb2-131">The value contains the placeholder `|DataDirectory|`, which is resolved to the full path of the application s `App_Data` folder at runtime.</span></span>
- <span data-ttu-id="aacb2-132">`Integrated Security` — wartość logiczna wskazująca, czy podczas nawiązywania połączenia z bazą danych (false) lub bieżącym poświadczenia konta systemu Windows ma być używana określona nazwa użytkownika/hasło.</span><span class="sxs-lookup"><span data-stu-id="aacb2-132">`Integrated Security` - a Boolean value that indicates whether to use a specified username/password when connecting to the database (false) or the current Windows account credentials (true).</span></span>
- <span data-ttu-id="aacb2-133">`User Instance` — opcja konfiguracji specyficzna dla wersji SQL Server Express, która wskazuje, czy zezwolić użytkownikom nieadministracyjnym na komputerze lokalnym na dołączanie do bazy danych SQL Server Express Edition i nawiązywanie z nią połączenia.</span><span class="sxs-lookup"><span data-stu-id="aacb2-133">`User Instance` - a configuration option specific to the SQL Server Express Editions that indicates whether to allow non-Administrative users on the local computer attach and connect to a SQL Server Express Edition database.</span></span> <span data-ttu-id="aacb2-134">Aby uzyskać więcej informacji na temat tego ustawienia, zobacz [SQL Server Express wystąpień użytkownika](https://msdn.microsoft.com/library/ms254504.aspx) .</span><span class="sxs-lookup"><span data-stu-id="aacb2-134">See [SQL Server Express User Instances](https://msdn.microsoft.com/library/ms254504.aspx) for more information on this setting.</span></span>

<span data-ttu-id="aacb2-135">Opcje parametrów połączenia dozwolone są zależne od bazy danych, z którą nawiązujesz połączenie, oraz używanego dostawcy bazy danych [ADO.NET](http://ADO.NET) .</span><span class="sxs-lookup"><span data-stu-id="aacb2-135">The allowable connection string options depend on the database you are connecting to and the [ADO.NET](http://ADO.NET) database provider being used.</span></span> <span data-ttu-id="aacb2-136">Na przykład parametry połączenia w celu nawiązania połączenia z bazą danych Microsoft SQL Server różnią się od używane do nawiązywania połączeń z bazą danych Oracle.</span><span class="sxs-lookup"><span data-stu-id="aacb2-136">For example, the connection string for connecting to a Microsoft SQL Server database differs from that used to connect to an Oracle database.</span></span> <span data-ttu-id="aacb2-137">Podobnie połączenie z bazą danych Microsoft SQL Server przy użyciu dostawcy SqlClient używa innych parametrów połączenia niż w przypadku korzystania z dostawcy OLE DB.</span><span class="sxs-lookup"><span data-stu-id="aacb2-137">Likewise, connecting to a Microsoft SQL Server database using the SqlClient provider uses a different connection string than when using the OLE-DB provider.</span></span>

<span data-ttu-id="aacb2-138">Możesz ręcznie utworzyć parametry połączenia z bazą danych za pomocą witryny, takiej jak [connectionStrings.com](http://www.connectionstrings.com/) , jako zasobu dla opcji dostępnych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-138">You can build the database connection string by hand using a site like [ConnectionStrings.com](http://www.connectionstrings.com/) as a resource for what options are available.</span></span> <span data-ttu-id="aacb2-139">Łatwiej jest jednak dodać bazę danych do Eksplorator serwera w programie Visual Studio, a następnie pobrać parametry połączenia z okno Właściwości.</span><span class="sxs-lookup"><span data-stu-id="aacb2-139">However, an easier approach is to add the database to the Server Explorer in Visual Studio and then to grab the connection string from the Properties window.</span></span> <span data-ttu-id="aacb2-140">Niech s użyje tej ostatniej metody tworzenia parametrów połączenia do produkcyjnego serwera bazy danych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-140">Let s use this latter technique for constructing the connection string to the production database server.</span></span>

<span data-ttu-id="aacb2-141">Otwórz program Visual Studio, a następnie przejdź do okna Eksplorator serwera (w programie Visual Web Developer to okno nosi nazwę Eksplorator bazy danych).</span><span class="sxs-lookup"><span data-stu-id="aacb2-141">Open Visual Studio and then navigate to the Server Explorer window (in Visual Web Developer, this window is called Database Explorer).</span></span> <span data-ttu-id="aacb2-142">Kliknij prawym przyciskiem myszy opcję połączenia danych, a następnie wybierz opcję Dodaj połączenie z menu kontekstowego.</span><span class="sxs-lookup"><span data-stu-id="aacb2-142">Right-click on the Data Connections option and choose the Add Connection option from the context menu.</span></span> <span data-ttu-id="aacb2-143">Spowoduje to wyświetlenie Kreatora pokazanego na rysunku 1.</span><span class="sxs-lookup"><span data-stu-id="aacb2-143">This brings up the wizard shown in Figure 1.</span></span> <span data-ttu-id="aacb2-144">Wybierz odpowiednie źródło danych i kliknij przycisk Kontynuuj.</span><span class="sxs-lookup"><span data-stu-id="aacb2-144">Choose the appropriate data source and click Continue.</span></span>

<span data-ttu-id="aacb2-145">[![wybrać dodanie nowej bazy danych do Eksplorator serwera](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image2.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="aacb2-145">[![Choose to Add a New Database to the Server Explorer](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image2.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image1.jpg)</span></span> 

<span data-ttu-id="aacb2-146">**Rysunek 1**. Wybierz, aby dodać nową bazę danych do Eksplorator serwera ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image3.jpg))</span><span class="sxs-lookup"><span data-stu-id="aacb2-146">**Figure 1**: Choose to Add a New Database to the Server Explorer ([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image3.jpg))</span></span>

<span data-ttu-id="aacb2-147">Następnie określ różne informacje o połączeniu z bazą danych (patrz rysunek 2).</span><span class="sxs-lookup"><span data-stu-id="aacb2-147">Next, specify the various database connection information (see Figure 2).</span></span> <span data-ttu-id="aacb2-148">Po zarejestrowaniu się w firmie hostingowej w sieci Web powinny zostać podane informacje dotyczące sposobu łączenia się z bazą danych programu — nazwy serwera bazy danych, nazwy bazy danych i hasła, które ma być używane do łączenia się z bazą danych i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="aacb2-148">When you signed up with your web hosting company they should have provided information on how to connect to the database - the database server name, the database name, the username and password to use to connect to the database, and so on.</span></span> <span data-ttu-id="aacb2-149">Po wprowadzeniu tych informacji kliknij przycisk OK, aby zakończyć pracę kreatora i dodać bazę danych do Eksplorator serwera.</span><span class="sxs-lookup"><span data-stu-id="aacb2-149">After entering this information click OK to complete this wizard and to add the database to the Server Explorer.</span></span>

<span data-ttu-id="aacb2-150">[![określić informacje o połączeniu z bazą danych](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image5.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="aacb2-150">[![Specify the Database Connection Information](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image5.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image4.jpg)</span></span> 

<span data-ttu-id="aacb2-151">**Rysunek 2**. Określanie informacji o połączeniu z bazą danych ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image6.jpg))</span><span class="sxs-lookup"><span data-stu-id="aacb2-151">**Figure 2**: Specify the Database Connection Information ([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image6.jpg))</span></span>

<span data-ttu-id="aacb2-152">Baza danych środowiska produkcyjnego powinna być teraz wymieniona w Eksplorator serwera.</span><span class="sxs-lookup"><span data-stu-id="aacb2-152">The production environment database should now be listed in the Server Explorer.</span></span> <span data-ttu-id="aacb2-153">Wybierz bazę danych z Eksplorator serwera i przejdź do okno Właściwości.</span><span class="sxs-lookup"><span data-stu-id="aacb2-153">Select the database from the Server Explorer and go to the Properties window.</span></span> <span data-ttu-id="aacb2-154">Znaleziono właściwość o nazwie Connection parametrów z parametrami połączenia bazy danych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-154">There you will find a property named Connection String with the database s connection string.</span></span> <span data-ttu-id="aacb2-155">Przy założeniu, że używasz bazy danych Microsoft SQL Server w środowisku produkcyjnym i dostawcy SqlClient, parametry połączenia powinny wyglądać podobnie do następujących:</span><span class="sxs-lookup"><span data-stu-id="aacb2-155">Assuming you are using a Microsoft SQL Server database on production and the SqlClient provider your connection string should look similar to the following:</span></span>

<span data-ttu-id="aacb2-156"><strong>Źródło danych =<em>servername</em>; Katalog początkowy =<em>DatabaseName</em>; Utrwalanie informacji o zabezpieczeniach = true; Identyfikator użytkownika =<em>username</em>; Hasło =*hasło</strong>*</span><span class="sxs-lookup"><span data-stu-id="aacb2-156"><strong>Data Source=<em>serverName</em>; Initial Catalog=<em>databaseName</em>; Persist Security Info=True; User ID=<em>username</em>; Password=*password</strong>*</span></span>

<span data-ttu-id="aacb2-157">Gdzie *servername*, *DatabaseName*, *username*i *Password* ma wartości dla nazwy serwera bazy danych, nazwy bazy danych oraz nazwy użytkownika i hasła dostarczonej przez firmę hosta sieci Web.</span><span class="sxs-lookup"><span data-stu-id="aacb2-157">Where *serverName*, *databaseName*, *username*, and *password* are with the values for the database server name, the database name, and the username and password supplied to you by your web host company.</span></span>

## <a name="deploying-the-book-reviews-web-application"></a><span data-ttu-id="aacb2-158">Wdrażanie aplikacji sieci Web do przeglądu książki</span><span class="sxs-lookup"><span data-stu-id="aacb2-158">Deploying the Book Reviews Web Application</span></span>

<span data-ttu-id="aacb2-159">Poprzedni samouczek przeszedł przez Kopiowanie bazy danych programistycznych do środowiska produkcyjnego, ale nie eksploruje wdrażania aplikacji opartej na danych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-159">The preceding tutorial stepped through copying the development database to the production environment, but did not explore deploying the data-driven application.</span></span> <span data-ttu-id="aacb2-160">W tym momencie środowisko produkcyjne zawiera bazę danych, ale korzysta z wersji programu książka przeglądający w aplikacji ze statycznymi przeglądami.</span><span class="sxs-lookup"><span data-stu-id="aacb2-160">At this point the production environment contains the database but is using the version of the Book Reviews application with static reviews.</span></span> <span data-ttu-id="aacb2-161">Musimy wdrożyć nową, opartą na danych aplikację na serwerze produkcyjnym wraz ze zaktualizowanymi informacjami o konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="aacb2-161">We need to deploy the new, data-driven application to the production server along with the updated configuration information.</span></span>

<span data-ttu-id="aacb2-162">Poświęć chwilę na wdrożenie aplikacji opartej na danych ze środowiska programistycznego w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="aacb2-162">Take a moment to deploy the data-driven application from the development environment to production.</span></span> <span data-ttu-id="aacb2-163">Ten proces został szczegółowo omówiony w poprzednich samouczkach.</span><span class="sxs-lookup"><span data-stu-id="aacb2-163">This process was covered in detail in previous tutorials.</span></span> <span data-ttu-id="aacb2-164">Jeśli potrzebujesz odświeżacza, zobacz *wdrażanie witryny sieci Web przy użyciu klienta FTP* lub *wdrażanie witryny sieci Web przy użyciu samouczków programu Visual Studio* .</span><span class="sxs-lookup"><span data-stu-id="aacb2-164">If you need a refresher, see the *Deploying Your Website Using an FTP Client* or the *Deploying Your Website Using Visual Studio* tutorials.</span></span> <span data-ttu-id="aacb2-165">Należy upewnić się, że parametry połączenia produkcyjnej bazy danych są używane w środowisku produkcyjnym, co oznacza, że należy wdrożyć alternatywny plik `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-165">You will need to ensure that the production database connection string is the one used in the production environment, which means that an alternate `Web.config` file must be deployed.</span></span> <span data-ttu-id="aacb2-166">W związku z tym zmodyfikowany element `Web.config` pliku `<connectionStrings>` musi zawierać parametry połączenia produkcyjnej bazy danych i powinien wyglądać podobnie do poniższego:</span><span class="sxs-lookup"><span data-stu-id="aacb2-166">Specifically, this modified `Web.config` file s `<connectionStrings>` element needs to contain the production database connection string and should look similar to the following:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-vb/samples/sample2.xml)]

<span data-ttu-id="aacb2-167">Należy zauważyć, że parametry połączenia w elemencie `<connectionStrings>` mają takie same (`ReviewsConnectionString`), ale teraz zawierają parametry połączenia produkcyjnej bazy danych, a nie parametry połączenia z bazą danych deweloperskich.</span><span class="sxs-lookup"><span data-stu-id="aacb2-167">Note that the connection string in the `<connectionStrings>` element is named the same (`ReviewsConnectionString`), but now contains the production database connection string instead of the development database connection string.</span></span>

<span data-ttu-id="aacb2-168">Jeśli nie masz bardziej formalnego przepływu pracy wdrożenia, ręcznie zmodyfikuj plik `Web.config`, aby używał parametrów połączenia produkcyjnej bazy danych przed wdrożeniem (zapamiętywanie w celu przywrócenia z powrotem przy użyciu parametrów połączenia z bazą danych) lub Zachowaj osobny plik `Web.config` z informacjami o konfiguracji środowiska produkcyjnego, które są przekazywane do środowiska produkcyjnego w ramach procesu wdrażania.</span><span class="sxs-lookup"><span data-stu-id="aacb2-168">Unless you have a more formalized deployment workflow, either manually modify the `Web.config` file to use the production database connection string before deploying (remembering to revert it back to using the development database connection string afterwards) or maintain a separate `Web.config` file with the production environment configuration information that gets uploaded to the production environment as part of the deployment process.</span></span>

> [!NOTE]
> <span data-ttu-id="aacb2-169">Jeśli przypadkowo wdrożono plik `Web.config` zawierający parametry połączenia z bazą danych deweloperskich, wystąpi błąd podczas próby nawiązania połączenia z bazą danych przez aplikację w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="aacb2-169">If you accidentally deploy a `Web.config` file that contains the development database connection string then there will be an error when the application on production attempts to connect to the database.</span></span> <span data-ttu-id="aacb2-170">Ten błąd manifestuje jako `SqlException` z komunikatem informującym o tym, że serwer nie został odnaleziony lub był niedostępny.</span><span class="sxs-lookup"><span data-stu-id="aacb2-170">This error manifests as a `SqlException` with a message reporting that the server was not found or was not accessible.</span></span>

<span data-ttu-id="aacb2-171">Po wdrożeniu lokacji w środowisku produkcyjnym odwiedź witrynę produkcyjną za pomocą przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="aacb2-171">Once the site has been deployed to production, visit the production site through your browser.</span></span> <span data-ttu-id="aacb2-172">W przypadku lokalnego uruchamiania aplikacji opartej na danych należy zobaczyć i korzystać z tego samego środowiska użytkownika.</span><span class="sxs-lookup"><span data-stu-id="aacb2-172">You should see and enjoy the same user experience as when running the data-driven application locally.</span></span> <span data-ttu-id="aacb2-173">Oczywiście po odwiedzeniu witryny sieci Web w środowisku produkcyjnym lokacja jest obsługiwana przez produkcyjny serwer bazy danych, podczas gdy witryna sieci Web jest wykorzystywana do tworzenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="aacb2-173">Of course when you visit the website on production the site is powered by the production database server, whereas visiting the website in the development environment uses the database in development.</span></span> <span data-ttu-id="aacb2-174">Rysunek 3 przedstawia samouczek *ASP.NET 3,5 na stronie Przegląd 24-godzinny* z witryny sieci Web w środowisku produkcyjnym (należy zwrócić uwagę na adres URL na pasku adresu przeglądarki).</span><span class="sxs-lookup"><span data-stu-id="aacb2-174">Figure 3 shows the *Teach Yourself ASP.NET 3.5 in 24 Hours* review page from the website in the production environment (note the URL in the browser s Address bar).</span></span>

<span data-ttu-id="aacb2-175">[![aplikacja oparta na danych jest teraz dostępna w środowisku produkcyjnym!](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image8.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image7.jpg)</span><span class="sxs-lookup"><span data-stu-id="aacb2-175">[![The Data-Driven Application is Now Available On Production!](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image8.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image7.jpg)</span></span> 

<span data-ttu-id="aacb2-176">**Rysunek 3**. aplikacja oparta na danych jest teraz dostępna w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="aacb2-176">**Figure 3**: The Data-Driven Application is Now Available On Production!</span></span> <span data-ttu-id="aacb2-177">([Kliknij, aby wyświetlić obraz o pełnym rozmiarze](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image9.jpg))</span><span class="sxs-lookup"><span data-stu-id="aacb2-177">([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image9.jpg))</span></span>

### <a name="storing-connection-strings-in-a-separate-configuration-file"></a><span data-ttu-id="aacb2-178">Przechowywanie parametrów połączenia w osobnym pliku konfiguracji</span><span class="sxs-lookup"><span data-stu-id="aacb2-178">Storing Connection Strings in a Separate Configuration File</span></span>

<span data-ttu-id="aacb2-179">Typową techniką utrzymywania oddzielnych informacji konfiguracyjnych w środowisku deweloperskim i produkcyjnym jest posiadanie dwóch wersji `Web.config`: jeden dla środowiska programistycznego i jeden do produkcji.</span><span class="sxs-lookup"><span data-stu-id="aacb2-179">A common technique for maintaining separate configuration information on the development and production environments is to have two versions of the `Web.config`: one for the development environment and one for production.</span></span> <span data-ttu-id="aacb2-180">W czasie wdrażania odpowiednia wersja `Web.config` może zostać skopiowana do środowiska produkcyjnego.</span><span class="sxs-lookup"><span data-stu-id="aacb2-180">At deploy-time the appropriate `Web.config` version can be copied to the production environment.</span></span> <span data-ttu-id="aacb2-181">Najlepiej, aby ten proces był zautomatyzowany w ramach przepływu pracy wdrażania.</span><span class="sxs-lookup"><span data-stu-id="aacb2-181">Ideally, this process would be automated as part of the deployment workflow.</span></span>

<span data-ttu-id="aacb2-182">Zamiast utrzymywać dwa osobne pliki `Web.config`, opcjonalnie możesz uzyskać bardziej szczegółowe różnice.</span><span class="sxs-lookup"><span data-stu-id="aacb2-182">Instead of maintaining two separate `Web.config` files you can, optionally, provide more granular differences.</span></span> <span data-ttu-id="aacb2-183">Elementy wchodzące w skład pliku `Web.config` można zdefiniować w zewnętrznych plikach konfiguracji, do których następnie odwołuje się plik `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-183">The elements that make up the `Web.config` file can be defined in an external configuration files that are then referenced in the `Web.config` file.</span></span> <span data-ttu-id="aacb2-184">W Nutshell można mieć jeden plik `Web.config` dla obu środowisk odwołujących się do pliku databaseConnectionStrings. config, który będzie zawierać parametry połączenia używane przez aplikację i będą unikatowe dla każdego środowiska.</span><span class="sxs-lookup"><span data-stu-id="aacb2-184">In a nutshell you can have one `Web.config` file for both environments that references a databaseConnectionStrings.config file, which would contain the connection strings used by the application and would be unique for each environment.</span></span> <span data-ttu-id="aacb2-185">Wiemy, że oddzielając różne informacje o konfiguracji do oddzielnych plików, tidier i prostszy plik `Web.config` i bardziej jasno podkreśla różnice konfiguracji w środowiskach deweloperskich i produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-185">I find that separating the differing configuration information into separate files provides a tidier and simpler `Web.config` file and more clearly outlines the configuration differences between the development and production environments.</span></span>

<span data-ttu-id="aacb2-186">Aby użyć tej techniki, Zacznij od utworzenia nowego folderu w aplikacji sieci Web o nazwie `ConfigSections`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-186">To use this technique, start by creating a new folder in the web application named `ConfigSections`.</span></span> <span data-ttu-id="aacb2-187">Następnie Dodaj dwa pliki do tego nowego folderu o nazwie databaseConnectionStrings. dev. config i databaseConnectionStrings. Product. config. Następnie skopiuj element `<connectionStrings>` z `Web.config` do plików databaseConnectionStrings. dev. config i databaseConnectionStrings. Production. config, a następnie zmodyfikuj parametry połączenia w pliku databaseConnectionStrings. Production. config, aby określić parametry połączenia z produkcyjną bazą danych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-187">Next, add two files to this new folder named databaseConnectionStrings.dev.config and databaseConnectionStrings.production.config. Next, copy the `<connectionStrings>` element from `Web.config` into the databaseConnectionStrings.dev.config and databaseConnectionStrings.production.config files, and then modify the connection string in the databaseConnectionStrings.production.config file so that it specifies the production database connection string.</span></span> <span data-ttu-id="aacb2-188">Na przykład plik databaseConnectionStrings. dev. config powinien zawierać tylko `<connectionStrings>` element z parametrami połączenia, które odwołują się do bazy danych programu Development:</span><span class="sxs-lookup"><span data-stu-id="aacb2-188">For example, the databaseConnectionStrings.dev.config file should contain just the `<connectionStrings>` element with a connection string that references the development database:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-vb/samples/sample3.xml)]

<span data-ttu-id="aacb2-189">Podobnie plik databaseConnectionStrings. Product. config powinien zawierać tylko `<connectionStrings>` element, ale taki, który ma parametry połączenia produkcyjnej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-189">Similarly, the databaseConnectionStrings.production.config file should contain just a `<connectionStrings>` element, but one that has the production database connection string.</span></span>

<span data-ttu-id="aacb2-190">Utwórz kopię pliku databaseConnectionStrings. dev. config i nadaj jej nazwę databaseConnectionStrings. config.</span><span class="sxs-lookup"><span data-stu-id="aacb2-190">Make a copy of the databaseConnectionStrings.dev.config file and name it databaseConnectionStrings.config.</span></span>

> [!NOTE]
> <span data-ttu-id="aacb2-191">Plik konfiguracji można nazwać coś innego niż databaseConnectionStrings. config, jeśli lubisz, na przykład `connectionStrings.config` lub `dbInfo.config`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-191">You can name the configuration file something other than databaseConnectionStrings.config, if you d like, such as `connectionStrings.config` or `dbInfo.config`.</span></span> <span data-ttu-id="aacb2-192">Pamiętaj jednak, aby nazwać plik z rozszerzeniem `.config`, ponieważ pliki `.config` są domyślnie nieobsługiwane przez aparat ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aacb2-192">However, be sure to name the file with a `.config` extension as `.config` files are, by default, not served by the ASP.NET engine.</span></span> <span data-ttu-id="aacb2-193">Jeśli nazwa pliku jest inna, np. `connectionStrings.txt`, użytkownik może wskazać, aby przeglądarka [www.yoursite.com/ConfigSettings/connectionStrings.txt](http://www.yoursite.com/ConfigSettings/connectionStrings.txt) i wyświetlić zawartość pliku!</span><span class="sxs-lookup"><span data-stu-id="aacb2-193">If you name the file something else, like `connectionStrings.txt`, a user could point their browser to [www.yoursite.com/ConfigSettings/connectionStrings.txt](http://www.yoursite.com/ConfigSettings/connectionStrings.txt) and view the contents of the file!</span></span>

<span data-ttu-id="aacb2-194">W tym momencie folder `ConfigSections` powinien zawierać trzy pliki (zobacz rysunek 4).</span><span class="sxs-lookup"><span data-stu-id="aacb2-194">At this point the `ConfigSections` folder should contain three files (see Figure 4).</span></span> <span data-ttu-id="aacb2-195">Pliki databaseConnectionStrings. dev. config i databaseConnectionStrings. Production. config zawierają odpowiednio parametry połączenia dla środowisk deweloperskich i produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-195">The databaseConnectionStrings.dev.config and databaseConnectionStrings.production.config files contain the connection strings for the development and production environments, respectively.</span></span> <span data-ttu-id="aacb2-196">Plik databaseConnectionStrings. config zawiera informacje o parametrach połączenia, które będą używane przez aplikację sieci Web w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="aacb2-196">The databaseConnectionStrings.config file contains the connection string information that will be used by the web application at runtime.</span></span> <span data-ttu-id="aacb2-197">W związku z tym plik databaseConnectionStrings. config powinien być taki sam jak plik databaseConnectionStrings. dev. config w środowisku deweloperskim, natomiast w przypadku produkcji plik databaseConnectionStrings. config powinien być taki sam jak databaseConnectionStrings. Product. config.</span><span class="sxs-lookup"><span data-stu-id="aacb2-197">Consequently, the databaseConnectionStrings.config file should be identical to the databaseConnectionStrings.dev.config file in the development environment, whereas on production the databaseConnectionStrings.config file should be identical to databaseConnectionStrings.production.config.</span></span>

<span data-ttu-id="aacb2-198">[![ConfigSections](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image11.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image10.jpg)</span><span class="sxs-lookup"><span data-stu-id="aacb2-198">[![ConfigSections](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image11.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image10.jpg)</span></span> 

<span data-ttu-id="aacb2-199">**Rysunek 4**. ConfigSections ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image12.jpg))</span><span class="sxs-lookup"><span data-stu-id="aacb2-199">**Figure 4**: ConfigSections ([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image12.jpg))</span></span>

<span data-ttu-id="aacb2-200">Teraz musimy wydać `Web.config`, aby użyć pliku databaseConnectionStrings. config dla swojego magazynu parametrów połączenia.</span><span class="sxs-lookup"><span data-stu-id="aacb2-200">We now need to instruct `Web.config` to use the databaseConnectionStrings.config file for its connection string store.</span></span> <span data-ttu-id="aacb2-201">Otwórz `Web.config` i Zastąp istniejący element `<connectionStrings>` następującym:</span><span class="sxs-lookup"><span data-stu-id="aacb2-201">Open `Web.config` and replace the existing `<connectionStrings>` element with the following:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-vb/samples/sample4.xml)]

<span data-ttu-id="aacb2-202">Atrybut `configSource` określa ścieżkę fizyczną względną do pliku `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-202">The `configSource` attribute specifies a physical path relative to the `Web.config` file.</span></span> <span data-ttu-id="aacb2-203">Jeśli zewnętrzny plik `.config` znajduje się w tym samym katalogu, co `Web.config` następnie ustaw ten atrybut na nazwę pliku `.config`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-203">If the external `.config` file is in the same directory as `Web.config` then set this attribute to the file name of the `.config` file.</span></span> <span data-ttu-id="aacb2-204">Jeśli znajduje się w podkatalogu, tak jak w przypadku databaseConnectionStrings. config, określ podfolder przy użyciu ukośnika odwrotnego, aby rozdzielić nazwy folderów i plików, takie jak ConfigSections\databaseConnectionStrings.config.</span><span class="sxs-lookup"><span data-stu-id="aacb2-204">If it s in a subdirectory, as is the case with databaseConnectionStrings.config, specify the subfolder using a backslash to delimit the folder and file names, like ConfigSections\databaseConnectionStrings.config.</span></span>

<span data-ttu-id="aacb2-205">W przypadku tej modyfikacji środowiska deweloperskie i produkcyjne zawierają ten sam plik `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-205">With this modification, the development and production environments contain the same `Web.config` file.</span></span> <span data-ttu-id="aacb2-206">Teraz jedyną różnicą jest plik databaseConnectionStrings. config.</span><span class="sxs-lookup"><span data-stu-id="aacb2-206">Now the only difference is the databaseConnectionStrings.config file.</span></span> <span data-ttu-id="aacb2-207">Skopiuj plik databaseConnectionStrings. Product. config do środowiska produkcyjnego i zmień jego nazwę na databaseConnectionStrings. config. Jeśli w przyszłości istnieją zmiany parametrów połączenia produkcyjnej bazy danych, należy je wprowadzić do pliku databaseConnectionStrings. Product. config, a następnie przekazać go do środowiska produkcyjnego, zmieniając nazwę pliku databaseConnectionStrings. config.</span><span class="sxs-lookup"><span data-stu-id="aacb2-207">Copy the databaseConnectionStrings.production.config file to production and rename it to databaseConnectionStrings.config. If, in the future, there are changes to the production database connection string you will need to make them to the databaseConnectionStrings.production.config file and then upload that file to production, renaming it databaseConnectionStrings.config.</span></span>

> [!NOTE]
> <span data-ttu-id="aacb2-208">Możesz określić informacje dla każdego elementu `Web.config` w osobnym pliku i użyć atrybutu `configSource`, aby odwołać się do tego pliku z poziomu `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="aacb2-208">You may specify the information for any `Web.config` element in a separate file and use the `configSource` attribute to reference that file from within `Web.config`.</span></span>

## <a name="summary"></a><span data-ttu-id="aacb2-209">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="aacb2-209">Summary</span></span>

<span data-ttu-id="aacb2-210">Aplikacje oparte na danych zazwyczaj korzystają z różnych baz danych w środowiskach deweloperskich i produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="aacb2-210">Data-driven applications usually use different databases in the development and production environments.</span></span> <span data-ttu-id="aacb2-211">W związku z tym parametry połączenia bazy danych przechowywane w konfiguracji aplikacji sieci Web muszą być unikatowe dla danego środowiska.</span><span class="sxs-lookup"><span data-stu-id="aacb2-211">Consequently, the database connection strings stored in the web application s configuration must be unique per environment.</span></span> <span data-ttu-id="aacb2-212">W tym samouczku pokazano, jak określić parametry połączenia z produkcyjną bazą danych i sposoby zachować unikatowe informacje o parametrach połączenia w dwóch środowiskach.</span><span class="sxs-lookup"><span data-stu-id="aacb2-212">In this tutorial we looked at how to determine the production database connection string and ways to maintain unique connection string information in the two environments.</span></span>

<span data-ttu-id="aacb2-213">Szczęśliwe programowanie!</span><span class="sxs-lookup"><span data-stu-id="aacb2-213">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="aacb2-214">Dalsze informacje</span><span class="sxs-lookup"><span data-stu-id="aacb2-214">Further Reading</span></span>

<span data-ttu-id="aacb2-215">Aby uzyskać więcej informacji na temat tematów omówionych w tym samouczku, zapoznaj się z następującymi zasobami:</span><span class="sxs-lookup"><span data-stu-id="aacb2-215">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="aacb2-216">Parametry połączenia i pliki konfiguracji</span><span class="sxs-lookup"><span data-stu-id="aacb2-216">Connection Strings and Configuration Files</span></span>](https://msdn.microsoft.com/library/ms254494.aspx)
- [<span data-ttu-id="aacb2-217">Informacje o ciągach konfiguracji bazy danych @ ConnectionStrings.com</span><span class="sxs-lookup"><span data-stu-id="aacb2-217">Database Configuration Strings Information @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="aacb2-218">Przenoszenie ustawień z pliku Web. config</span><span class="sxs-lookup"><span data-stu-id="aacb2-218">Move Settings Out of the Web.config File</span></span>](http://www.asp101.com/tips/index.asp?id=154)
- [<span data-ttu-id="aacb2-219">Dokumentacja techniczna elementu &lt;connectionStrings&gt;</span><span class="sxs-lookup"><span data-stu-id="aacb2-219">Technical Documentation for the &lt;connectionStrings&gt; Element</span></span>](https://msdn.microsoft.com/library/bf7sd233.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="aacb2-220">[Poprzednie](deploying-a-database-vb.md)
> [dalej](configuring-a-website-that-uses-application-services-vb.md)</span><span class="sxs-lookup"><span data-stu-id="aacb2-220">[Previous](deploying-a-database-vb.md)
[Next](configuring-a-website-that-uses-application-services-vb.md)</span></span>
