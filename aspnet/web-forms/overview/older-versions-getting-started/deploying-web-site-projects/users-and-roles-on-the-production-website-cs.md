---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/users-and-roles-on-the-production-website-cs
title: Użytkownicy i role w produkcyjnej witrynie sieciC#Web () | Microsoft Docs
author: rick-anderson
description: Narzędzie do administrowania witryną sieci Web ASP.NET (WSAT) udostępnia internetowy interfejs użytkownika służący do konfigurowania ustawień członkostwa i ról oraz do tworzenia, edytowania, a...
ms.author: riande
ms.date: 06/09/2009
ms.assetid: dbc54313-5d05-4285-98b3-726edea6d0c9
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/users-and-roles-on-the-production-website-cs
msc.type: authoredcontent
ms.openlocfilehash: c47bd2c1661f129dd8856916de04b8ba459fbfec
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/28/2019
ms.locfileid: "74616556"
---
# <a name="users-and-roles-on-the-production-website-c"></a><span data-ttu-id="63640-103">Użytkownicy i role w produkcyjnej witrynie sieciC#Web ()</span><span class="sxs-lookup"><span data-stu-id="63640-103">Users and Roles On The Production Website (C#)</span></span>

<span data-ttu-id="63640-104">przez [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="63640-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="63640-105">Pobierz plik PDF</span><span class="sxs-lookup"><span data-stu-id="63640-105">Download PDF</span></span>](https://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial16_CustomAWAT_cs.pdf)

> <span data-ttu-id="63640-106">Narzędzie do administrowania witryną sieci Web ASP.NET (WSAT) udostępnia internetowy interfejs użytkownika służący do konfigurowania ustawień członkostwa i ról oraz do tworzenia, edytowania i usuwania użytkowników i ról.</span><span class="sxs-lookup"><span data-stu-id="63640-106">The ASP.NET Website Administration Tool (WSAT) provides a web-based user interface for configuring Membership and Roles settings and for creating, editing, and deleting users and roles.</span></span> <span data-ttu-id="63640-107">Niestety, WSAT działa tylko po odwiedzeniu z hosta lokalnego, co oznacza, że nie można skontaktować się z narzędziem administracyjnym produkcyjnej witryny sieci Web za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="63640-107">Unfortunately, the WSAT only works when visited from localhost, meaning that you cannot reach the production website's Administration Tool through your browser.</span></span> <span data-ttu-id="63640-108">Dobrym sposobem jest obejście tego problemu, które umożliwiają zarządzanie użytkownikami i rolami w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="63640-108">The good news is that there are workarounds that make it possible to manage users and roles on production.</span></span> <span data-ttu-id="63640-109">Ten samouczek analizuje te obejścia i inne.</span><span class="sxs-lookup"><span data-stu-id="63640-109">This tutorial looks at these workarounds and others.</span></span>

## <a name="introduction"></a><span data-ttu-id="63640-110">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="63640-110">Introduction</span></span>

<span data-ttu-id="63640-111">W ASP.NET 2,0 wprowadzono wiele *usług aplikacji*, które stanowią pakiet usług blokowych, które można dodać do aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="63640-111">ASP.NET 2.0 introduced a number of *application services*, which are a suite of building block services that you can add to your web application.</span></span> <span data-ttu-id="63640-112">Dodaliśmy usługi członkostwa i ról do witryny internetowej przeglądów książki w obszarze [ *Konfigurowanie witryny sieci Web korzystającej z usługi aplikacji* samouczka](configuring-a-website-that-uses-application-services-cs.md).</span><span class="sxs-lookup"><span data-stu-id="63640-112">We added the Membership and Roles services to the Book Reviews website back in the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-cs.md).</span></span> <span data-ttu-id="63640-113">Usługa członkostwa ułatwia tworzenie kont użytkowników i zarządzanie nimi; Usługa role oferuje interfejs API do kategoryzowania użytkowników w grupach.</span><span class="sxs-lookup"><span data-stu-id="63640-113">The Membership service facilitates creating and managing user accounts; the Roles service offers an API for categorizing users into groups.</span></span> <span data-ttu-id="63640-114">Witryna przeglądy książek ma trzy konta użytkowników — Scott, Jisun i Alicja — oraz jedną rolę, administratora, z Scott i Jisun w roli administratora.</span><span class="sxs-lookup"><span data-stu-id="63640-114">The Book Reviews site has three user accounts - Scott, Jisun, and Alice - and a single role, Admin, with Scott and Jisun in the Admin role.</span></span>

<span data-ttu-id="63640-115">ASP.NET. Usługi aplikacji sieci nie są powiązane z konkretną implementacją.</span><span class="sxs-lookup"><span data-stu-id="63640-115">ASP.NET's application services are not tied to a specific implementation.</span></span> <span data-ttu-id="63640-116">Zamiast tego należy nakazać usługom aplikacji użycie określonego *dostawcy*, a ten dostawca implementuje usługę przy użyciu określonej technologii.</span><span class="sxs-lookup"><span data-stu-id="63640-116">Instead, you instruct the application services to use a particular *provider*, and that provider implements the service using a particular technology.</span></span> <span data-ttu-id="63640-117">Skonfigurowano aplikację sieci Web przeglądający książki pod kątem używania dostawców `SqlMembershipProvider` i `SqlRoleProvider` dla usług członkostwa i ról.</span><span class="sxs-lookup"><span data-stu-id="63640-117">We configured the Book Reviews web application to use the `SqlMembershipProvider` and `SqlRoleProvider` providers for the Membership and Roles services.</span></span> <span data-ttu-id="63640-118">Ci dwaj dostawcy przechowują informacje o koncie użytkownika i roli w bazie danych SQL Server i są najczęściej używanymi dostawcami dla internetowych aplikacji sieci Web hostowanych w firmie hostingu w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="63640-118">These two providers store user account and role information in a SQL Server database and are the most commonly used providers for Internet-based web applications hosted at a web hosting company.</span></span>

<span data-ttu-id="63640-119">Typowym wyzwaniem dla deweloperów korzystającym z usług członkostwa i ról jest zarządzanie użytkownikami i rolami w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="63640-119">A common challenge for developers using the Membership and Roles services is managing the users and roles on the production environment.</span></span> <span data-ttu-id="63640-120">Jak usunąć konto użytkownika z produkcyjnej witryny sieci Web, dodać nową rolę lub dodać istniejącego użytkownika do istniejącej roli?</span><span class="sxs-lookup"><span data-stu-id="63640-120">How do you delete a user account from the production website, add a new role, or add an existing user to an existing role?</span></span> <span data-ttu-id="63640-121">W tym samouczku przedstawiono różne techniki zarządzania użytkownikami i rolami w produkcyjnej witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="63640-121">This tutorial explores different techniques for managing users and roles on the production website.</span></span>

## <a name="using-the-aspnet-web-site-administration-tool"></a><span data-ttu-id="63640-122">Korzystanie z narzędzia do administrowania witryną sieci Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="63640-122">Using the ASP.NET Web Site Administration Tool</span></span>

<span data-ttu-id="63640-123">ASP.NET obejmuje [Narzędzie do administrowania witryną sieci Web](https://msdn.microsoft.com/library/yy40ytx0.aspx) (WSAT), które ułatwia tworzenie kont i ról użytkowników oraz zarządzanie nimi, a także Określanie reguł autoryzacji opartych na użytkownikach i rolach.</span><span class="sxs-lookup"><span data-stu-id="63640-123">ASP.NET includes a [Web Site Administration Tool](https://msdn.microsoft.com/library/yy40ytx0.aspx) (WSAT) that makes it easy to create and manage user accounts and roles and to specify user- and role-based authorization rules.</span></span> <span data-ttu-id="63640-124">Aby użyć WSAT, kliknij ikonę konfiguracji ASP.NET w Eksplorator rozwiązań lub przejdź do menu witryny sieci Web lub projektu i wybierz opcję Konfiguracja ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="63640-124">To use the WSAT, click the ASP.NET Configuration icon in the Solution Explorer, or go to the Website or Project menu and choose the ASP.NET Configuration option.</span></span> <span data-ttu-id="63640-125">Jedno z metod uruchamia przeglądarkę internetową i wskazuje na WSAT na adres, na przykład: `http://localhost:portNumber/asp.netwebadminfiles/default.aspx?applicationPhysicalPath=pathToApplication`</span><span class="sxs-lookup"><span data-stu-id="63640-125">Either approach launches a web browser and points it to the WSAT at an address like: `http://localhost:portNumber/asp.netwebadminfiles/default.aspx?applicationPhysicalPath=pathToApplication`</span></span>

<span data-ttu-id="63640-126">WSAT jest podzielony na trzy sekcje:</span><span class="sxs-lookup"><span data-stu-id="63640-126">The WSAT is divided into three sections:</span></span>

- <span data-ttu-id="63640-127">**Zabezpieczenia** — zarządzanie użytkownikami, rolami i regułami autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="63640-127">**Security** - manage users, roles, and authorization rules.</span></span>
- <span data-ttu-id="63640-128">**ApplicationConfiguration** — w tym miejscu Zarządzaj &lt;AppSettings&gt; i ustawień SMTP.</span><span class="sxs-lookup"><span data-stu-id="63640-128">**ApplicationConfiguration** - manage the &lt;appSettings&gt; and SMTP settings from here.</span></span> <span data-ttu-id="63640-129">Możesz również przełączyć aplikację w tryb offline i zarządzać ustawieniami debugowania i śledzenia z tego miejsca, a także określić domyślną stronę błędu niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="63640-129">You can also take the application offline and manage debugging and tracing settings from here, as well as specify the default custom error page.</span></span>
- <span data-ttu-id="63640-130">**ProviderConfiguration** — Skonfiguruj dostawców używanych przez usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="63640-130">**ProviderConfiguration** - configure the providers used by the application services.</span></span>

<span data-ttu-id="63640-131">Sekcja zabezpieczenia (pokazana na **rysunku 1**) zawiera linki do tworzenia nowych użytkowników, zarządzania użytkownikami, tworzenia ról i zarządzania nimi oraz tworzenia reguł dostępu i zarządzania nimi.</span><span class="sxs-lookup"><span data-stu-id="63640-131">The Security section (shown in **Figure 1**) includes links for creating new users, managing users, creating and managing roles, and creating and managing access rules.</span></span> <span data-ttu-id="63640-132">W tym miejscu możesz dodać nową rolę do systemu, usunąć istniejącego użytkownika lub dodać lub usunąć role z określonego konta użytkownika.</span><span class="sxs-lookup"><span data-stu-id="63640-132">From here you can add a new role to the system, delete an existing user, or add or remove roles from a particular user account.</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image2.png)](users-and-roles-on-the-production-website-cs/_static/image1.png)

<span data-ttu-id="63640-133">**Rysunek 1**. sekcja zabezpieczeń WSAT zawiera opcje zarządzania użytkownikami i rolami</span><span class="sxs-lookup"><span data-stu-id="63640-133">**Figure 1**: The WSAT Security Section Includes Options for Managing Users and Roles</span></span>  
<span data-ttu-id="63640-134">([Kliknij, aby wyświetlić obraz o pełnym rozmiarze](users-and-roles-on-the-production-website-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="63640-134">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image3.png))</span></span>

<span data-ttu-id="63640-135">Niestety, WSAT jest dostępna tylko lokalnie.</span><span class="sxs-lookup"><span data-stu-id="63640-135">Unfortunately, the WSAT is only accessible locally.</span></span> <span data-ttu-id="63640-136">Nie można odwiedzić WSAT w zdalnej witrynie produkcyjnej. Jeśli odwiedzasz, `www.yoursite.com/asp.netwebadminfiles/default.aspx` nie znaleziono odpowiedzi 404.</span><span class="sxs-lookup"><span data-stu-id="63640-136">You cannot visit the WSAT on your remote production website; if you visit `www.yoursite.com/asp.netwebadminfiles/default.aspx` you get a 404 Not Found response.</span></span> <span data-ttu-id="63640-137">Kod, który ma uprawnienia WSAT, używa klas `Membership` i `Roles` w .NET Framework do tworzenia, edytowania i usuwania użytkowników i ról.</span><span class="sxs-lookup"><span data-stu-id="63640-137">The code that powers the WSAT uses the `Membership` and `Roles` classes in the .NET Framework to create, edit, and delete users and roles.</span></span> <span data-ttu-id="63640-138">Te klasy zapoznaj się z informacjami o konfiguracji aplikacji sieci Web w celu określenia dostawcy do użycia; po powrocie do [ *konfigurowania witryny sieci Web korzystającej z usługi aplikacji* samouczka](configuring-a-website-that-uses-application-services-cs.md) skonfigurujemy witrynę internetową Recenzje, aby korzystać z dostawców `SqlMembershipProvider` i `SqlRoleProvider`.</span><span class="sxs-lookup"><span data-stu-id="63640-138">These classes consult the web application's configuration information to determine what provider to use; back in the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-cs.md) we setup the Book Reviews website to use the `SqlMembershipProvider` and `SqlRoleProvider` providers.</span></span> <span data-ttu-id="63640-139">To wymagało dodania `<membership>` i `<roleManager>` sekcji do `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="63640-139">This entailed adding `<membership>` and `<roleManager>` sections to `Web.config`.</span></span>

[!code-xml[Main](users-and-roles-on-the-production-website-cs/samples/sample1.xml)]

<span data-ttu-id="63640-140">Należy zauważyć, że sekcje `<membership>` i `<roleManager>` odwołują się odpowiednio do dostawców `SqlMembershipProvider` i `SqlRoleProvider` w ich atrybutach `type`.</span><span class="sxs-lookup"><span data-stu-id="63640-140">Note that the `<membership>` and `<roleManager>` sections reference the `SqlMembershipProvider` and `SqlRoleProvider` providers in their `type` attribute, respectively.</span></span> <span data-ttu-id="63640-141">Dostawcy te przechowują informacje o użytkowniku i roli w określonej SQL Server bazie danych.</span><span class="sxs-lookup"><span data-stu-id="63640-141">These providers store the user and role information in a specified SQL Server database.</span></span> <span data-ttu-id="63640-142">Baza danych używana przez tych dostawców jest określana przez atrybut `connectionStringName`, `ReviewsConnectionString`, który jest zdefiniowany w pliku `~/ConfigSections/databaseConnectionStrings.config`.</span><span class="sxs-lookup"><span data-stu-id="63640-142">The database used by these providers is specified by the `connectionStringName` attribute, `ReviewsConnectionString`, which is defined in the `~/ConfigSections/databaseConnectionStrings.config` file.</span></span> <span data-ttu-id="63640-143">Odwołaj, że plik `databaseConnectionStrings.config` w środowisku deweloperskim zawiera parametry połączenia z bazą danych programistycznych, a plik `databaseConnectionStrings.config` na etapie produkcji zawiera parametry połączenia z produkcyjną bazą danych.</span><span class="sxs-lookup"><span data-stu-id="63640-143">Recall that the `databaseConnectionStrings.config` file in the development environment contains the connection string to the development database whereas the `databaseConnectionStrings.config` file on production contains the connection string to the production database.</span></span>

<span data-ttu-id="63640-144">W Nutshell, WSAT musi być dostępna lokalnie za pomocą środowiska programistycznego i współpracuje z informacjami o użytkowniku i roli w bazie danych określonej w pliku `databaseConnectionStrings.config`.</span><span class="sxs-lookup"><span data-stu-id="63640-144">In a nutshell, the WSAT must be accessed locally through the development environment, and it works with the user and role information in the database specified in the `databaseConnectionStrings.config` file.</span></span> <span data-ttu-id="63640-145">W związku z tym, jeśli zmienimy informacje o parametrach połączenia w pliku `databaseConnectionStrings.config` w środowisku programistycznym, można używać WSAT lokalnie do zarządzania użytkownikami i rolami w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="63640-145">Consequently, if we change the connection string information in the `databaseConnectionStrings.config` file on the development environment we can use the WSAT locally to manage users and roles in the production environment.</span></span>

<span data-ttu-id="63640-146">Aby zilustrować tę funkcję, Otwórz plik `databaseConnectionStrings.config` w programie Visual Studio w środowisku deweloperskim i Zastąp parametry połączenia z bazą danych programu Development parametrami połączenia z produkcyjną bazą danych.</span><span class="sxs-lookup"><span data-stu-id="63640-146">To illustrate this functionality, open the `databaseConnectionStrings.config` file in Visual Studio on the development environment and replace the development database connection string with the production database connection string.</span></span> <span data-ttu-id="63640-147">Następnie uruchom WSAT, przejdź na kartę Zabezpieczenia i Dodaj nowego użytkownika o nazwie sam z hasłem "Password!"</span><span class="sxs-lookup"><span data-stu-id="63640-147">Then launch the WSAT, go the Security tab, and add a new user named Sam with password "password!"</span></span> <span data-ttu-id="63640-148">(mniej znaków cudzysłowu).</span><span class="sxs-lookup"><span data-stu-id="63640-148">(less the quotation marks).</span></span> <span data-ttu-id="63640-149">**Rysunek 2** przedstawia ekran WSAT podczas tworzenia tego konta.</span><span class="sxs-lookup"><span data-stu-id="63640-149">**Figure 2** shows the WSAT screen when creating this account.</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image5.png)](users-and-roles-on-the-production-website-cs/_static/image4.png)

<span data-ttu-id="63640-150">**Rysunek 2**. Tworzenie nowego użytkownika o nazwie sam w środowisku produkcyjnym</span><span class="sxs-lookup"><span data-stu-id="63640-150">**Figure 2**: Create a New User Named Sam In the Production Environment</span></span>  
<span data-ttu-id="63640-151">([Kliknij, aby wyświetlić obraz o pełnym rozmiarze](users-and-roles-on-the-production-website-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="63640-151">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image6.png))</span></span>

<span data-ttu-id="63640-152">Ponieważ Zmieniono parametry połączenia w `databaseConnectionStrings.config`, aby wskazywały na produkcyjny serwer bazy danych, sam został dodany jako użytkownik w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="63640-152">Because we changed the connection string in `databaseConnectionStrings.config` to point to the production database server, Sam was added as a user in the production environment.</span></span> <span data-ttu-id="63640-153">Aby to sprawdzić, należy zmienić parametry połączenia w pliku `databaseConnectionStrings.config` z powrotem do programu Development Database, a następnie odwiedzić stronę `Login.aspx` w środowisku deweloperskim.</span><span class="sxs-lookup"><span data-stu-id="63640-153">To verify this, change the connection string in the `databaseConnectionStrings.config` file back to the development database and then visit the `Login.aspx` page in the development environment.</span></span> <span data-ttu-id="63640-154">Spróbuj zalogować się jako sam (zobacz **rysunek 3**).</span><span class="sxs-lookup"><span data-stu-id="63640-154">Try to sign in as Sam (see **Figure 3**).</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image8.png)](users-and-roles-on-the-production-website-cs/_static/image7.png)

<span data-ttu-id="63640-155">**Rysunek 3**: nie można zalogować się jako sam w środowisku programistycznym</span><span class="sxs-lookup"><span data-stu-id="63640-155">**Figure 3**: You Cannot Sign In As Sam in the Development Environment</span></span>  
<span data-ttu-id="63640-156">([Kliknij, aby wyświetlić obraz o pełnym rozmiarze](users-and-roles-on-the-production-website-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="63640-156">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image9.png))</span></span>

<span data-ttu-id="63640-157">Nie można zalogować się jako sam w środowisku programistycznym, ponieważ informacje o koncie użytkownika nie istnieją w lokalnej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="63640-157">You cannot sign in as Sam in the development environment because the user account information does not exist in the local database.</span></span> <span data-ttu-id="63640-158">Zamiast tego została dodana do produkcyjnej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="63640-158">Rather, is was added to the production database.</span></span> <span data-ttu-id="63640-159">Aby to sprawdzić, zapoznaj się z zawartością tabeli `aspnet_Users` w bazach danych programistycznych i produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="63640-159">To verify this, view the contents of the `aspnet_Users` table in both the development and production databases.</span></span> <span data-ttu-id="63640-160">W środowisku programistycznym dla użytkowników Scott, Jisun i Alicja powinien istnieć tylko trzy rekordy.</span><span class="sxs-lookup"><span data-stu-id="63640-160">In the development environment there should be only three records for users Scott, Jisun, and Alice.</span></span> <span data-ttu-id="63640-161">Jednak tabela `aspnet_Users` w produkcyjnej bazie danych ma cztery rekordy: Scott, Jisun, Alicja i sam.</span><span class="sxs-lookup"><span data-stu-id="63640-161">However, the `aspnet_Users` table in the production database has four records: Scott, Jisun, Alice, and Sam.</span></span> <span data-ttu-id="63640-162">W związku z tym sam może zalogować się za pomocą witryny sieci Web w środowisku produkcyjnym, ale nie za pomocą środowiska deweloperskiego.</span><span class="sxs-lookup"><span data-stu-id="63640-162">Consequently, Sam can sign in through the website in production, but not through the development environment.</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image11.png)](users-and-roles-on-the-production-website-cs/_static/image10.png)

<span data-ttu-id="63640-163">**Ilustracja 4**. sam zalogowanie się w produkcyjnej witrynie sieci Web</span><span class="sxs-lookup"><span data-stu-id="63640-163">**Figure 4**: Sam Can Sign In On the Production Website</span></span>  
<span data-ttu-id="63640-164">([Kliknij, aby wyświetlić obraz o pełnym rozmiarze](users-and-roles-on-the-production-website-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="63640-164">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image12.png))</span></span>

> [!NOTE]
> <span data-ttu-id="63640-165">Nie zapomnij zmienić parametrów połączenia w pliku `databaseConnectionStrings.config` z powrotem do ciągu połączenia z bazą danych deweloperskich po zakończeniu pracy z WSAT, w przeciwnym razie podczas testowania lokacji za pomocą środowiska programistycznego będziesz pracować z danymi produkcyjnymi.</span><span class="sxs-lookup"><span data-stu-id="63640-165">Don't forget to change the connection string in the `databaseConnectionStrings.config` file back to the development database's connect string when you're done working with the WSAT otherwise you will be working with production data when testing the site through the development environment.</span></span> <span data-ttu-id="63640-166">Należy również pamiętać, że chociaż opisana przez nas technika pozwala nam używać WSAT do zdalnego zarządzania użytkownikami i rolami, zmiany w dowolnych innych opcjach konfiguracji WSAT (reguły dostępu, ustawienia SMTP, debugowanie i śledzenie itp.) zmodyfikować plik `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="63640-166">Also keep in mind that while the technique we just discussed allows us to use the WSAT to remotely manage users and roles, changes to any of the other WSAT configuration options (access rules, SMTP settings, debugging and tracing settings, and so on) modify the `Web.config` file.</span></span> <span data-ttu-id="63640-167">W związku z tym wszelkie zmiany wprowadzone w ustawieniach dotyczą środowiska programistycznego, a nie środowiska produkcyjnego.</span><span class="sxs-lookup"><span data-stu-id="63640-167">Consequently, any changes made to the settings apply to the development environment and not to the production environment.</span></span>

## <a name="creating-custom-user-and-role-management-web-pages"></a><span data-ttu-id="63640-168">Tworzenie niestandardowych stron sieci Web zarządzania użytkownikami i rolami</span><span class="sxs-lookup"><span data-stu-id="63640-168">Creating Custom User and Role Management Web Pages</span></span>

<span data-ttu-id="63640-169">WSAT zapewnia wyjście z systemu Box do zarządzania użytkownikami i rolami, ale można je uruchomić lokalnie i wymaga wprowadzenia zmian parametrów połączenia w celu zarządzania użytkownikami i rolami w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="63640-169">The WSAT provides an out of the box system for managing users and roles, but can only be launched locally and requires making changes to the connection string information in order to manage the users and roles on production.</span></span> <span data-ttu-id="63640-170">Większość witryn sieci Web, które obsługują konta użytkowników, zawiera również wiele stron administracyjnych użytkowników i ról, które umożliwiają administratorom zarządzanie użytkownikami i rolami ze stron w tej witrynie.</span><span class="sxs-lookup"><span data-stu-id="63640-170">Most websites that support user accounts also include a number of user and role administration web pages that enable administrators to manage users and roles from pages within the site.</span></span> <span data-ttu-id="63640-171">Takie strony administracyjne oparte na sieci Web znacznie ułatwiają zarządzanie użytkownikami i rolami, a także są niezbędne w przypadku witryn, w których może istnieć wielu administratorów lub administratorów, którzy nie mają dostępu do programu Visual Studio lub w tle technicznym do uruchamiania WSAT.</span><span class="sxs-lookup"><span data-stu-id="63640-171">Such web-based administration pages make it much easier to manage users and roles and are essential for sites where there may be many administrators or administrators that do not have access to or the technical background to use Visual Studio to launch the WSAT.</span></span>

<span data-ttu-id="63640-172">ASP.NET zawiera szereg wbudowanych kontrolek sieci Web związanych z logowaniem, które umożliwiają wdrażanie wielu z tych administracyjnych stron sieci Web jako łatwych do przeciągania i upuszczania.</span><span class="sxs-lookup"><span data-stu-id="63640-172">ASP.NET includes a number of built-in Login-related Web controls that make implementing many of these administrative web pages as easy as drag and drop.</span></span> <span data-ttu-id="63640-173">Na przykład możesz utworzyć stronę dla administratorów, aby utworzyć nowe konto użytkownika, przeciągając kontrolkę formancie CreateUserWizard na stronę i ustawiając kilka właściwości.</span><span class="sxs-lookup"><span data-stu-id="63640-173">For example, you can create a page for administrators to create a new user account by dragging the CreateUserWizard control onto the page and setting a few properties.</span></span> <span data-ttu-id="63640-174">W rzeczywistości Strona do tworzenia użytkowników w WSAT pokazano na **rysunku 2** używa tego samego formantu formancie CreateUserWizard, który można dodać do stron.</span><span class="sxs-lookup"><span data-stu-id="63640-174">In fact, the page for creating users in the WSAT shown in **Figure 2** uses the same CreateUserWizard control that you can add to your pages.</span></span> <span data-ttu-id="63640-175">Ponadto funkcje usług Membership i role Services są dostępne programowo za pomocą klas `Membership` i `Roles` w .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="63640-175">Furthermore, the Membership and Roles services' functionalities are available programmatically through the `Membership` and `Roles` classes in the .NET Framework.</span></span> <span data-ttu-id="63640-176">Za pomocą tych klas można napisać kod umożliwiający tworzenie, edytowanie i usuwanie użytkowników i ról, a także dodawanie lub usuwanie użytkowników do ról, określanie użytkowników w ramach ról i wykonywanie innych zadań związanych z użytkownikami i rolami.</span><span class="sxs-lookup"><span data-stu-id="63640-176">With these classes you can write code to create, edit, and delete users and roles, as well as to add or remove users to roles, to determine what users are in what roles, and to perform other user- and role-related tasks.</span></span>

<span data-ttu-id="63640-177">W obszarze [ *Konfigurowanie witryny sieci Web korzystającej z usługi aplikacji* samouczka](configuring-a-website-that-uses-application-services-cs.md) dodano stronę do `Admin` folderu o nazwie `CreateAccount.aspx`.</span><span class="sxs-lookup"><span data-stu-id="63640-177">In the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-cs.md) I added a page to the `Admin` folder named `CreateAccount.aspx`.</span></span> <span data-ttu-id="63640-178">Ta strona umożliwia administratorowi dodanie nowego konta użytkownika do lokacji i określenie, czy nowo utworzony użytkownik należy do roli administratora (patrz **rysunek 5**).</span><span class="sxs-lookup"><span data-stu-id="63640-178">This page allows an administrator to add a new user account to the site and to specify whether or not the newly created user is in the Admin role (see **Figure 5**).</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image14.png)](users-and-roles-on-the-production-website-cs/_static/image13.png)

<span data-ttu-id="63640-179">**Rysunek 5**: Administratorzy mogą tworzyć nowe konta użytkowników</span><span class="sxs-lookup"><span data-stu-id="63640-179">**Figure 5**: Administrators Can Create New User Accounts</span></span>  
<span data-ttu-id="63640-180">([Kliknij, aby wyświetlić obraz o pełnym rozmiarze](users-and-roles-on-the-production-website-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="63640-180">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image15.png))</span></span>

<span data-ttu-id="63640-181">Aby uzyskać bardziej szczegółowy opis tworzenia stron administracyjnych użytkowników i ról oraz instrukcje krok po kroku dotyczące używania klas `Membership` i `Roles` i kontrolek sieci Web ASP.NET związanych z logowaniem, pamiętaj o odczytaniu [samouczków zabezpieczeń witryny sieci Web](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span><span class="sxs-lookup"><span data-stu-id="63640-181">For a more detailed look at building user and role administration pages, along with step-by-step instructions on using the `Membership` and `Roles` classes and the Login-related ASP.NET Web controls, be sure to read my [Website Security Tutorials](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span></span> <span data-ttu-id="63640-182">Znajdziesz wskazówki dotyczące sposobu kompilowania stron sieci Web na potrzeby tworzenia nowych kont, tworzenia ról i zarządzania nimi, przypisywania użytkowników do ról oraz innych typowych zadań administracyjnych.</span><span class="sxs-lookup"><span data-stu-id="63640-182">There you'll find guidance on how to build web pages for creating new accounts, creating and managing roles, assigning users to roles, and other common administrative tasks.</span></span>

<span data-ttu-id="63640-183">Aby zaimplementować funkcje podobne do WSAT w produkcyjnej witrynie sieci Web, zawsze możesz utworzyć własną serię stron sieci Web, które implementują funkcje WSAT.</span><span class="sxs-lookup"><span data-stu-id="63640-183">To implement WSAT-like functionality on the production website you can always build your own series of web pages that implement the WSAT's features.</span></span> <span data-ttu-id="63640-184">Aby rozpocząć, zapoznaj się z kodem źródłowym WSAT, który znajduje się w folderze `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\ASP.NETWebAdminFiles`.</span><span class="sxs-lookup"><span data-stu-id="63640-184">To help get started, check out the WSAT source code, which is located in the folder `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\ASP.NETWebAdminFiles`.</span></span> <span data-ttu-id="63640-185">Innym rozwiązaniem jest użycie Clem Dan WSAT, który jest udostępniany w jego artykule, poprzez najęcie nowego [Narzędzia do administrowania witryną sieci Web](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="63640-185">Another option is to use Dan Clem's WSAT alternative, which he shares in his article, [Rolling Your Own Web Site Administration Tool](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx).</span></span> <span data-ttu-id="63640-186">Dan przegląda czytelników przez proces tworzenia niestandardowego narzędzia przypominającego WSAT, zawiera kod źródłowy aplikacji do pobrania (w programie C#) i zawiera instrukcje krok po kroku dotyczące dodawania własnych WSAT do hostowanej witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="63640-186">Dan walks readers through the process of building a custom WSAT-like tool, includes his application's source code for download (in C#), and gives step-by-step instructions for adding his custom WSAT to a hosted website.</span></span>

## <a name="summary"></a><span data-ttu-id="63640-187">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="63640-187">Summary</span></span>

<span data-ttu-id="63640-188">Narzędzia do administrowania witryną sieci Web ASP.NET (WSAT) można używać razem z usługami aplikacji członkostwa i ról do zarządzania informacjami o użytkowniku i rolach witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="63640-188">The ASP.NET Web Site Administration Tool (WSAT) can be used in tandem with the Membership and Roles application services to manage user and role information for your website.</span></span> <span data-ttu-id="63640-189">Niestety, WSAT jest dostępna tylko lokalnie i nie można go odwiedzać z produkcyjnej witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="63640-189">Unfortunately, the WSAT is only accessible locally and cannot be visited from your production website.</span></span> <span data-ttu-id="63640-190">Jednak przez zmianę parametrów połączenia w środowisku programistycznym, aby wskazywał produkcyjną bazę danych, można użyć WSAT do zarządzania użytkownikami i rolami w produkcyjnej witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="63640-190">However, by changing the connection string in the development environment to point to the production database you can use the WSAT to manage the users and roles on the production website.</span></span>

<span data-ttu-id="63640-191">Mimo że podejście WSAT umożliwia szybkie i łatwe zarządzanie użytkownikami i rolami, wymaga ono uruchomienia WSAT z programu Visual Studio, a także tymczasowych zmian informacji o parametrach połączenia.</span><span class="sxs-lookup"><span data-stu-id="63640-191">While the WSAT approach affords a quick and easy way to manage users and roles, it necessitates launching the WSAT from Visual Studio as well as temporary changes to the connection string information.</span></span> <span data-ttu-id="63640-192">WSAT umożliwia szybkie zarządzanie użytkownikami i rolami w środowisku produkcyjnym, ale jest to bardzo skomplikowane i nie działa dobrze w przypadku witryn sieci Web z wieloma administratorami lub administratorami, którzy nie mają lub nie znają się w programie Visual Studio i WSAT.</span><span class="sxs-lookup"><span data-stu-id="63640-192">The WSAT offers a quick way to manage users and roles on production, but is cumbersome and does not work well for websites with multiple administrators or with administrators who do not have or are not familiar with Visual Studio and the WSAT.</span></span> <span data-ttu-id="63640-193">Z tego względu większość witryn sieci Web, które obsługują konta użytkowników, zawiera zestaw administracyjnych stron internetowych.</span><span class="sxs-lookup"><span data-stu-id="63640-193">For these reasons, most websites that support user accounts include a set of administrative web pages.</span></span> <span data-ttu-id="63640-194">Taki zestaw stron sieci Web eliminuje potrzebę WSAT i używany przez różnych użytkowników administracyjnych z dowolnego komputera.</span><span class="sxs-lookup"><span data-stu-id="63640-194">Such a set of web pages eliminates the need for the WSAT and used by various administrative users from any computer.</span></span>

<span data-ttu-id="63640-195">Szczęśliwe programowanie!</span><span class="sxs-lookup"><span data-stu-id="63640-195">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="63640-196">Dalsze informacje</span><span class="sxs-lookup"><span data-stu-id="63640-196">Further Reading</span></span>

<span data-ttu-id="63640-197">Aby uzyskać więcej informacji na temat tematów omówionych w tym samouczku, zapoznaj się z następującymi zasobami:</span><span class="sxs-lookup"><span data-stu-id="63640-197">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="63640-198">Badanie ASP. Członkostwo, role i profil w sieci</span><span class="sxs-lookup"><span data-stu-id="63640-198">Examining ASP.NET's Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="63640-199">Stopniowane narzędzie do administrowania witryną sieci Web</span><span class="sxs-lookup"><span data-stu-id="63640-199">Rolling Your Own Web Site Administration Tool</span></span>](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx)
- [<span data-ttu-id="63640-200">Omówienie narzędzia do administrowania witryną sieci Web</span><span class="sxs-lookup"><span data-stu-id="63640-200">Web Site Administration Tool Overview</span></span>](https://msdn.microsoft.com/library/yy40ytx0.aspx)
- [<span data-ttu-id="63640-201">Samouczki dotyczące zabezpieczeń witryny sieci Web</span><span class="sxs-lookup"><span data-stu-id="63640-201">Website Security Tutorials</span></span>](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md)

> [!div class="step-by-step"]
> <span data-ttu-id="63640-202">[Poprzednie](precompiling-your-website-cs.md)
> [dalej](asp-net-hosting-options-vb.md)</span><span class="sxs-lookup"><span data-stu-id="63640-202">[Previous](precompiling-your-website-cs.md)
[Next](asp-net-hosting-options-vb.md)</span></span>
