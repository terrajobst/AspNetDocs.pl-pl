---
uid: web-forms/overview/older-versions-getting-started/continuing-with-ef/maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application
title: Maksymalizacja wydajności przy użyciu programu Entity Framework 4.0 w aplikacji ASP.NET 4 Web | Dokumentacja firmy Microsoft
author: tdykstra
description: W tej serii samouczków opiera się na aplikacji sieci web firmy Contoso University, utworzony przez wprowadzenie do serii samouczków Entity Framework 4.0. I...
ms.author: riande
ms.date: 01/26/2011
ms.assetid: 4e43455e-dfa1-42db-83cb-c987703f04b5
msc.legacyurl: /web-forms/overview/older-versions-getting-started/continuing-with-ef/maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application
msc.type: authoredcontent
ms.openlocfilehash: 116c557ad0d6c158f983da75668e634c9eb9747c
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/17/2019
ms.locfileid: "59379595"
---
# <a name="maximizing-performance-with-the-entity-framework-40-in-an-aspnet-4-web-application"></a><span data-ttu-id="ed72f-104">Maksymalizacja wydajności przy użyciu programu Entity Framework 4.0 w aplikacji ASP.NET sieci Web 4</span><span class="sxs-lookup"><span data-stu-id="ed72f-104">Maximizing Performance with the Entity Framework 4.0 in an ASP.NET 4 Web Application</span></span>

<span data-ttu-id="ed72f-105">przez [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="ed72f-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="ed72f-106">W tej serii samouczków jest oparta na Contoso University aplikacji sieci web, który jest tworzony przez [rozpoczęcie korzystania z programu Entity Framework 4.0](https://asp.net/entity-framework/tutorials#Getting%20Started) serii samouczków.</span><span class="sxs-lookup"><span data-stu-id="ed72f-106">This tutorial series builds on the Contoso University web application that is created by the [Getting Started with the Entity Framework 4.0](https://asp.net/entity-framework/tutorials#Getting%20Started) tutorial series.</span></span> <span data-ttu-id="ed72f-107">Jeśli nie została ukończona wcześniej samouczki, jako punkt początkowy na potrzeby tego samouczka możesz [pobrać aplikację](https://code.msdn.microsoft.com/ASPNET-Web-Forms-97f8ee9a) będzie utworzony.</span><span class="sxs-lookup"><span data-stu-id="ed72f-107">If you didn't complete the earlier tutorials, as a starting point for this tutorial you can [download the application](https://code.msdn.microsoft.com/ASPNET-Web-Forms-97f8ee9a) that you would have created.</span></span> <span data-ttu-id="ed72f-108">Możesz również [pobrać aplikację](https://code.msdn.microsoft.com/ASPNET-Web-Forms-6c7197aa) tworzone przez zakończenie serii samouczków.</span><span class="sxs-lookup"><span data-stu-id="ed72f-108">You can also [download the application](https://code.msdn.microsoft.com/ASPNET-Web-Forms-6c7197aa) that is created by the complete tutorial series.</span></span> <span data-ttu-id="ed72f-109">Jeśli masz pytania dotyczące samouczków, możesz zamieścić je do [forum ASP.NET Entity Framework](https://forums.asp.net/1227.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed72f-109">If you have questions about the tutorials, you can post them to the [ASP.NET Entity Framework forum](https://forums.asp.net/1227.aspx).</span></span>


<span data-ttu-id="ed72f-110">W poprzednim samouczku pokazano, jak obsługa konfliktów współbieżności.</span><span class="sxs-lookup"><span data-stu-id="ed72f-110">In the previous tutorial, you saw how to handle concurrency conflicts.</span></span> <span data-ttu-id="ed72f-111">Ten samouczek przedstawia opcje poprawę wydajności aplikacji sieci web platformy ASP.NET, która używa programu Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="ed72f-111">This tutorial shows options for improving the performance of an ASP.NET web application that uses the Entity Framework.</span></span> <span data-ttu-id="ed72f-112">Poznasz kilka metod przeznaczonych do maksymalizacji wydajności, lub do diagnozowania problemów z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="ed72f-112">You'll learn several methods for maximizing performance or for diagnosing performance problems.</span></span>

<span data-ttu-id="ed72f-113">Informacje przedstawione w poniższych sekcjach prawdopodobnie może być przydatne do szerokiej gamy scenariuszy:</span><span class="sxs-lookup"><span data-stu-id="ed72f-113">Information presented in the following sections is likely to be useful in a broad variety of scenarios:</span></span>

- <span data-ttu-id="ed72f-114">Wydajne obciążenia powiązanych danych.</span><span class="sxs-lookup"><span data-stu-id="ed72f-114">Efficiently load related data.</span></span>
- <span data-ttu-id="ed72f-115">Zarządzanie stanem widoku.</span><span class="sxs-lookup"><span data-stu-id="ed72f-115">Manage view state.</span></span>

<span data-ttu-id="ed72f-116">Informacje przedstawione w poniższych sekcjach mogą być przydatne w przypadku pojedynczych zapytań tego się problemy z wydajnością:</span><span class="sxs-lookup"><span data-stu-id="ed72f-116">Information presented in the following sections might be useful if you have individual queries that present performance problems:</span></span>

- <span data-ttu-id="ed72f-117">Użyj `NoTracking` opcja scalania.</span><span class="sxs-lookup"><span data-stu-id="ed72f-117">Use the `NoTracking` merge option.</span></span>
- <span data-ttu-id="ed72f-118">Wstępnie skompilować zapytań LINQ.</span><span class="sxs-lookup"><span data-stu-id="ed72f-118">Pre-compile LINQ queries.</span></span>
- <span data-ttu-id="ed72f-119">Sprawdź polecenia zapytania wysyłane do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="ed72f-119">Examine query commands sent to the database.</span></span>

<span data-ttu-id="ed72f-120">Informacje przedstawione w poniższej sekcji jest potencjalnie przydatne w przypadku aplikacji, które mają bardzo dużych modeli danych:</span><span class="sxs-lookup"><span data-stu-id="ed72f-120">Information presented in the following section is potentially useful for applications that have extremely large data models:</span></span>

- <span data-ttu-id="ed72f-121">Wstępnie wygenerować widoków.</span><span class="sxs-lookup"><span data-stu-id="ed72f-121">Pre-generate views.</span></span>

> [!NOTE]
> <span data-ttu-id="ed72f-122">Wydajność aplikacji sieci Web wpływa wiele czynników, takich jak elementów, takich jak rozmiar danych żądań i odpowiedzi, szybkość zapytań do bazy danych, jak wiele żądań, że serwer można kolejkować i jak szybko może obsłużyć, a nawet efektywności dowolnego biblioteki skryptu klienta, który może być używany.</span><span class="sxs-lookup"><span data-stu-id="ed72f-122">Web application performance is affected by many factors, including things like the size of request and response data, the speed of database queries, how many requests the server can queue and how quickly it can service them, and even the efficiency of any client-script libraries you might be using.</span></span> <span data-ttu-id="ed72f-123">Jeśli wydajność ma kluczowe znaczenie dla aplikacji lub testowania lub obsługi pokazuje, że wydajność aplikacji nie jest zadowalające, należy przestrzegać normalne protokołu dotyczące dostosowywania wydajności.</span><span class="sxs-lookup"><span data-stu-id="ed72f-123">If performance is critical in your application, or if testing or experience shows that application performance isn't satisfactory, you should follow normal protocol for performance tuning.</span></span> <span data-ttu-id="ed72f-124">Miar do określenia, gdzie występują wąskie gardła wydajności, a następnie adresować obszary, które mają największy wpływ na wydajność aplikacji ogólnej.</span><span class="sxs-lookup"><span data-stu-id="ed72f-124">Measure to determine where performance bottlenecks are occurring, and then address the areas that will have the greatest impact on overall application performance.</span></span>
> 
> <span data-ttu-id="ed72f-125">Ten temat koncentruje się głównie na sposób, w którym może potencjalnie podnieść wydajność specjalnie programu Entity Framework na platformie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ed72f-125">This topic focuses mainly on ways in which you can potentially improve the performance specifically of the Entity Framework in ASP.NET.</span></span> <span data-ttu-id="ed72f-126">Sugestie, w tym miejscu są przydatne, jeśli okaże się, że dostęp do danych jest jednym z wąskich gardeł wydajności w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ed72f-126">The suggestions here are useful if you determine that data access is one of the performance bottlenecks in your application.</span></span> <span data-ttu-id="ed72f-127">Z tym, jak wspomniano, metody opisane w tym miejscu nie należy uznać za &quot;najlepsze praktyki&quot; ogólnie rzecz biorąc — wiele z nich jest odpowiednie tylko w sytuacjach wyjątkowych lub adres bardzo konkretnych rodzajów wąskich gardeł wydajności.</span><span class="sxs-lookup"><span data-stu-id="ed72f-127">Except as noted, the methods explained here shouldn't be considered &quot;best practices&quot; in general — many of them are appropriate only in exceptional situations or to address very specific kinds of performance bottlenecks.</span></span>


<span data-ttu-id="ed72f-128">Uruchom samouczek, uruchom program Visual Studio i otwarcie aplikacji sieci web firmy Contoso University pracowano w poprzednim samouczku.</span><span class="sxs-lookup"><span data-stu-id="ed72f-128">To start the tutorial, start Visual Studio and open the Contoso University web application that you were working with in the previous tutorial.</span></span>

## <a name="efficiently-loading-related-data"></a><span data-ttu-id="ed72f-129">Efektywne ładowanie powiązanych danych</span><span class="sxs-lookup"><span data-stu-id="ed72f-129">Efficiently Loading Related Data</span></span>

<span data-ttu-id="ed72f-130">Istnieje kilka sposobów, platformy Entity Framework można załadować powiązane dane do właściwości nawigacji jednostki:</span><span class="sxs-lookup"><span data-stu-id="ed72f-130">There are several ways that the Entity Framework can load related data into the navigation properties of an entity:</span></span>

- <span data-ttu-id="ed72f-131">*Powolne ładowanie*.</span><span class="sxs-lookup"><span data-stu-id="ed72f-131">*Lazy loading*.</span></span> <span data-ttu-id="ed72f-132">Podczas odczytywania jednostki powiązane dane nie są pobierane.</span><span class="sxs-lookup"><span data-stu-id="ed72f-132">When the entity is first read, related data isn't retrieved.</span></span> <span data-ttu-id="ed72f-133">Jednak użytkownik podejmie próbę dostępu do właściwości nawigacji po raz pierwszy wymagane dane dla tej właściwości nawigacji jest automatycznie pobierany.</span><span class="sxs-lookup"><span data-stu-id="ed72f-133">However, the first time you attempt to access a navigation property, the data required for that navigation property is automatically retrieved.</span></span> <span data-ttu-id="ed72f-134">Skutkiem wielu zapytań wysyłanych do bazy danych — jedną dla sam podmiot, a co za każdym razem, powiązane dane dla jednostki musi zostać pobrany.</span><span class="sxs-lookup"><span data-stu-id="ed72f-134">This results in multiple queries sent to the database — one for the entity itself and one each time that related data for the entity must be retrieved.</span></span> 

    <span data-ttu-id="ed72f-135">[![Image05](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image2.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-135">[![Image05](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image2.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image1.png)</span></span>

<span data-ttu-id="ed72f-136">*Wczesne ładowanie*.</span><span class="sxs-lookup"><span data-stu-id="ed72f-136">*Eager loading*.</span></span> <span data-ttu-id="ed72f-137">Podczas odczytywania jednostki powiązane dane są pobierane wraz z jej.</span><span class="sxs-lookup"><span data-stu-id="ed72f-137">When the entity is read, related data is retrieved along with it.</span></span> <span data-ttu-id="ed72f-138">Powoduje to zwykle w zapytaniu sprzężenia jednego, który pobiera wszystkie dane potrzebne.</span><span class="sxs-lookup"><span data-stu-id="ed72f-138">This typically results in a single join query that retrieves all of the data that's needed.</span></span> <span data-ttu-id="ed72f-139">Należy określić wczesne ładowanie za pomocą `Include` metody, jak w tym samouczku już w tych samouczkach.</span><span class="sxs-lookup"><span data-stu-id="ed72f-139">You specify eager loading by using the `Include` method, as you've seen already in these tutorials.</span></span>

<span data-ttu-id="ed72f-140">[![Image07](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image4.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-140">[![Image07](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image4.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image3.png)</span></span>

- <span data-ttu-id="ed72f-141">*Jawne ładowanie*.</span><span class="sxs-lookup"><span data-stu-id="ed72f-141">*Explicit loading*.</span></span> <span data-ttu-id="ed72f-142">Jest to podobne do ładowania z opóźnieniem, chyba że jawnie pobrać powiązanych danych w kodzie nie będzie automatycznie gdy uzyskujesz dostęp do właściwości nawigacji.</span><span class="sxs-lookup"><span data-stu-id="ed72f-142">This is similar to lazy loading, except that you explicitly retrieve the related data in code; it doesn't happen automatically when you access a navigation property.</span></span> <span data-ttu-id="ed72f-143">Ładowanie powiązanych danych ręcznie za pomocą `Load` metoda właściwości nawigacji kolekcji lub możesz użyć `Load` metoda referencyjna właściwość dla właściwości, używane do przechowywania pojedynczego obiektu.</span><span class="sxs-lookup"><span data-stu-id="ed72f-143">You load related data manually using the `Load` method of the navigation property for collections, or you use the `Load` method of the reference property for properties that hold a single object.</span></span> <span data-ttu-id="ed72f-144">(Na przykład wywołać `PersonReference.Load` metodę, aby załadować `Person` właściwość nawigacji `Department` jednostki.)</span><span class="sxs-lookup"><span data-stu-id="ed72f-144">(For example, you call the `PersonReference.Load` method to load the `Person` navigation property of a `Department` entity.)</span></span>

    <span data-ttu-id="ed72f-145">[![Image06](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image6.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-145">[![Image06](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image6.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image5.png)</span></span>

<span data-ttu-id="ed72f-146">Ponieważ nie są natychmiast pobrać wartości właściwości, powolne ładowanie i jawne ładowanie są również zarówno określane jako *odroczone ładowanie*.</span><span class="sxs-lookup"><span data-stu-id="ed72f-146">Because they don't immediately retrieve the property values, lazy loading and explicit loading are also both known as *deferred loading*.</span></span>

<span data-ttu-id="ed72f-147">Powolne ładowanie to domyślne zachowanie dla kontekstu obiektu, który został wygenerowany przez projektanta.</span><span class="sxs-lookup"><span data-stu-id="ed72f-147">Lazy loading is the default behavior for an object context that has been generated by the designer.</span></span> <span data-ttu-id="ed72f-148">Jeśli otworzysz *SchoolModel.Designer.cs* plik definiuje klasę obiektu kontekstu, znajdują się trzy konstruktory i każdy z nich zawiera następującą instrukcję:</span><span class="sxs-lookup"><span data-stu-id="ed72f-148">If you open the *SchoolModel.Designer.cs* file that defines the object context class, you'll find three constructor methods, and each of them includes the following statement:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample1.cs)]

<span data-ttu-id="ed72f-149">Ogólnie rzecz biorąc Jeśli znasz należy powiązanych danych dla każdej jednostki, które pobrane, eager ładowanie zapewnia najlepszą wydajność, ponieważ pojedynczego zapytania wysłanego do bazy danych jest zazwyczaj bardziej efektywne niż oddzielne zapytania, dla każdej jednostki pobierane.</span><span class="sxs-lookup"><span data-stu-id="ed72f-149">In general, if you know you need related data for every entity retrieved, eager loading offers the best performance, because a single query sent to the database is typically more efficient than separate queries for each entity retrieved.</span></span> <span data-ttu-id="ed72f-150">Z drugiej strony, jeśli chcesz uzyskać dostęp tylko rzadko właściwości nawigacji jednostki lub tylko dla małych i zestawu jednostek, powolne ładowanie lub jawne ładowanie może być bardziej efektywne, ponieważ wczesne ładowanie pobiera większej ilości danych niż jest Ci potrzebne.</span><span class="sxs-lookup"><span data-stu-id="ed72f-150">On the other hand, if you need to access an entity's navigation properties only infrequently or only for a small set of the entities, lazy loading or explicit loading may be more efficient, because eager loading would retrieve more data than you need.</span></span>

<span data-ttu-id="ed72f-151">W aplikacji sieci web powolne ładowanie może być stosunkowo mały wartości mimo to, ponieważ akcje użytkownika, wpływających na potrzeby powiązanych danych została wykonana w przeglądarce nie połączona z kontekstu obiektów, które renderowania strony.</span><span class="sxs-lookup"><span data-stu-id="ed72f-151">In a web application, lazy loading may be of relatively little value anyway, because user actions that affect the need for related data take place in the browser, which has no connection to the object context that rendered the page.</span></span> <span data-ttu-id="ed72f-152">Z drugiej strony, gdy można powiązać z danymi kontrolkę, zwykle wiadomo, jakie potrzebne dane i dlatego zazwyczaj jest najlepiej wybrać wczesne ładowanie lub odroczonego ładowania na podstawie co to jest właściwy dla każdego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="ed72f-152">On the other hand, when you databind a control, you typically know what data you need, and so it's generally best to choose eager loading or deferred loading based on what's appropriate in each scenario.</span></span>

<span data-ttu-id="ed72f-153">Ponadto kontrolkę powiązaną z danymi mogą używać obiektu jednostki po usunięciu kontekstu obiektów.</span><span class="sxs-lookup"><span data-stu-id="ed72f-153">In addition, a databound control might use an entity object after the object context is disposed.</span></span> <span data-ttu-id="ed72f-154">W tym przypadku próba z opóźnieniem obciążenia właściwości nawigacji może zakończyć się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="ed72f-154">In that case, an attempt to lazy-load a navigation property would fail.</span></span> <span data-ttu-id="ed72f-155">Wyczyść jest otrzymany komunikat o błędzie: &quot;`The ObjectContext instance has been disposed and can no longer be used for operations that require a connection.`&quot;</span><span class="sxs-lookup"><span data-stu-id="ed72f-155">The error message you receive is clear: &quot;`The ObjectContext instance has been disposed and can no longer be used for operations that require a connection.`&quot;</span></span>

<span data-ttu-id="ed72f-156">`EntityDataSource` Kontroli domyślnie wyłącza powolne ładowanie.</span><span class="sxs-lookup"><span data-stu-id="ed72f-156">The `EntityDataSource` control disables lazy loading by default.</span></span> <span data-ttu-id="ed72f-157">Dla `ObjectDataSource` kontroli używasz bieżący samouczek (lub możesz przejść do kontekstu obiektów z kodu strony), istnieje kilka sposobów, możesz wprowadzić z opóźnieniem ładowania domyślnie wyłączone.</span><span class="sxs-lookup"><span data-stu-id="ed72f-157">For the `ObjectDataSource` control that you're using for the current tutorial (or if you access the object context from page code), there are several ways you can make lazy loading disabled by default.</span></span> <span data-ttu-id="ed72f-158">Można ją wyłączyć, podczas tworzenia wystąpienia kontekstu obiektów.</span><span class="sxs-lookup"><span data-stu-id="ed72f-158">You can disable it when you instantiate an object context.</span></span> <span data-ttu-id="ed72f-159">Na przykład można dodać następujący wiersz do metody konstruktora `SchoolRepository` klasy:</span><span class="sxs-lookup"><span data-stu-id="ed72f-159">For example, you can add the following line to the constructor method of the `SchoolRepository` class:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample2.cs)]

<span data-ttu-id="ed72f-160">Dla aplikacji Contoso University wprowadzisz kontekst automatycznie wyłączyć powolne ładowanie tak, aby ta właściwość nie muszą być ustawione w każdym przypadku, gdy zostanie uruchomiony w kontekście.</span><span class="sxs-lookup"><span data-stu-id="ed72f-160">For the Contoso University application, you'll make the object context automatically disable lazy loading so that this property doesn't have to be set whenever a context is instantiated.</span></span>

<span data-ttu-id="ed72f-161">Otwórz *SchoolModel.edmx* modelu danych, kliknij na powierzchnię projektową, a następnie w okienku właściwości ustaw **powolne ładowanie włączone** właściwość `False`.</span><span class="sxs-lookup"><span data-stu-id="ed72f-161">Open the *SchoolModel.edmx* data model, click the design surface, and then in the properties pane set the **Lazy Loading Enabled** property to `False`.</span></span> <span data-ttu-id="ed72f-162">Zapisz i zamknij modelu danych.</span><span class="sxs-lookup"><span data-stu-id="ed72f-162">Save and close the data model.</span></span>

<span data-ttu-id="ed72f-163">[![Image04](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image8.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-163">[![Image04](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image8.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image7.png)</span></span>

## <a name="managing-view-state"></a><span data-ttu-id="ed72f-164">Wyświetl stan zarządzania</span><span class="sxs-lookup"><span data-stu-id="ed72f-164">Managing View State</span></span>

<span data-ttu-id="ed72f-165">Aby zapewnić funkcji aktualizacji, na stronie sieci web platformy ASP.NET muszą być przechowywane oryginalnej wartości właściwości jednostki Po wyrenderowaniu strony.</span><span class="sxs-lookup"><span data-stu-id="ed72f-165">In order to provide update functionality, an ASP.NET web page must store the original property values of an entity when a page is rendered.</span></span> <span data-ttu-id="ed72f-166">Podczas przetwarzania kontrolki zwrotu można ponownie utworzyć oryginalnej jednostki i wywołać jednostki `Attach` metody przed stosowanie zmian i wywoływać metodę `SaveChanges` metody.</span><span class="sxs-lookup"><span data-stu-id="ed72f-166">During postback processing the control can re-create the original state of the entity and call the entity's `Attach` method before applying changes and calling the `SaveChanges` method.</span></span> <span data-ttu-id="ed72f-167">Domyślnie przez kontrolki danych wzorca ASP.NET Web Forms umożliwiają wyświetlanie stanu przechowywanie oryginalnych wartości.</span><span class="sxs-lookup"><span data-stu-id="ed72f-167">By default, ASP.NET Web Forms data controls use view state to store the original values.</span></span> <span data-ttu-id="ed72f-168">Jednak stan widoku może wpłynąć na wydajność, ponieważ jest ona przechowywana w ukrytych polach, które może znacznie zwiększyć rozmiar strony, które są przesyłane do i z przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="ed72f-168">However, view state can affect performance, because it's stored in hidden fields that can substantially increase the size of the page that's sent to and from the browser.</span></span>

<span data-ttu-id="ed72f-169">Techniki zarządzania stanu widoku ani rozwiązań alternatywnych, takich jak stan sesji nie są unikatowe dla platformy Entity Framework, więc w tym samouczku nie jest akceptowana w tym temacie szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="ed72f-169">Techniques for managing view state, or alternatives such as session state, aren't unique to the Entity Framework, so this tutorial doesn't go into this topic in detail.</span></span> <span data-ttu-id="ed72f-170">Aby uzyskać więcej informacji zobacz linki na końcu tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="ed72f-170">For more information see the links at the end of the tutorial.</span></span>

<span data-ttu-id="ed72f-171">Jednak w wersji 4 programu ASP.NET oferuje nowy sposób pracy z stan widoku, które każdy Deweloper platformy ASP.NET Web Forms aplikacji należy pamiętać o: `ViewStateMode` właściwości.</span><span class="sxs-lookup"><span data-stu-id="ed72f-171">However, version 4 of ASP.NET provides a new way of working with view state that every ASP.NET developer of Web Forms applications should be aware of: the `ViewStateMode` property.</span></span> <span data-ttu-id="ed72f-172">Tej nowej właściwości można ustawić na poziomie strony lub kontroli i pozwala wyłączyć stan widoku domyślnie dla strony, a następnie ją włączyć tylko w przypadku kontrolek, które go potrzebują.</span><span class="sxs-lookup"><span data-stu-id="ed72f-172">This new property can be set at the page or control level, and it enables you to disable view state by default for a page and enable it only for controls that need it.</span></span>

<span data-ttu-id="ed72f-173">W przypadku aplikacji, gdzie wydajność ma kluczowe znaczenie dobrym rozwiązaniem jest zawsze wyłączyć stanu widoku na poziomie strony i ją włączyć tylko w przypadku kontrolek, które tego wymagają.</span><span class="sxs-lookup"><span data-stu-id="ed72f-173">For applications where performance is critical, a good practice is to always disable view state at the page level and enable it only for controls that require it.</span></span> <span data-ttu-id="ed72f-174">Rozmiar stanu widoku na stronach University firmy Contoso w takich sytuacjach przydałaby znacznie zmniejszyć przez tę metodę, ale aby zobaczyć, jak to działa, należy to zrobić go *Instructors.aspx* strony.</span><span class="sxs-lookup"><span data-stu-id="ed72f-174">The size of view state in the Contoso University pages wouldn't be substantially decreased by this method, but to see how it works, you'll do it for the *Instructors.aspx* page.</span></span> <span data-ttu-id="ed72f-175">Ta strona zawiera wiele kontrolek, w tym `Label` formantu, który ma stan widoku wyłączone.</span><span class="sxs-lookup"><span data-stu-id="ed72f-175">That page contains many controls, including a `Label` control that has view state disabled.</span></span> <span data-ttu-id="ed72f-176">Brak kontrolek na tej stronie rzeczywiście konieczne Wyświetl stan włączony.</span><span class="sxs-lookup"><span data-stu-id="ed72f-176">None of the controls on this page actually need to have view state enabled.</span></span> <span data-ttu-id="ed72f-177">( `DataKeyNames` Właściwość `GridView` kontroli określa stan, który utrzymuje się między ogłoszeniami wstecznymi, ale te wartości są przechowywane w stan formantu, który nie ma wpływu na `ViewStateMode` właściwości.)</span><span class="sxs-lookup"><span data-stu-id="ed72f-177">(The `DataKeyNames` property of the `GridView` control specifies state that must be maintained between postbacks, but these values are kept in control state, which isn't affected by the `ViewStateMode` property.)</span></span>

<span data-ttu-id="ed72f-178">`Page` Dyrektywy i `Label` kodu znaczników kontrolki obecnie podobnego do następującego:</span><span class="sxs-lookup"><span data-stu-id="ed72f-178">The `Page` directive and `Label` control markup currently resembles the following example:</span></span>

[!code-aspx[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample3.aspx)]

<span data-ttu-id="ed72f-179">Wprowadź następujące zmiany:</span><span class="sxs-lookup"><span data-stu-id="ed72f-179">Make the following changes:</span></span>

- <span data-ttu-id="ed72f-180">Dodaj `ViewStateMode="Disabled"` do `Page` dyrektywy.</span><span class="sxs-lookup"><span data-stu-id="ed72f-180">Add `ViewStateMode="Disabled"` to the `Page` directive.</span></span>
- <span data-ttu-id="ed72f-181">Usuń `ViewStateMode="Disabled"` z `Label` kontroli.</span><span class="sxs-lookup"><span data-stu-id="ed72f-181">Remove `ViewStateMode="Disabled"` from the `Label` control.</span></span>

<span data-ttu-id="ed72f-182">Znaczniki są teraz podobne w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="ed72f-182">The markup now resembles the following example:</span></span>

[!code-aspx[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample4.aspx)]

<span data-ttu-id="ed72f-183">Wyświetl stan została wyłączona dla wszystkich kontrolek.</span><span class="sxs-lookup"><span data-stu-id="ed72f-183">View state is now disabled for all controls.</span></span> <span data-ttu-id="ed72f-184">Jeśli później dodasz formant, który trzeba użyć stanu widoku, wszystko, czego potrzebujesz, aby zrobić to obejmują `ViewStateMode="Enabled"` atrybutu dla tej kontrolki.</span><span class="sxs-lookup"><span data-stu-id="ed72f-184">If you later add a control that does need to use view state, all you need to do is include the `ViewStateMode="Enabled"` attribute for that control.</span></span>

## <a name="using-the-notracking-merge-option"></a><span data-ttu-id="ed72f-185">Przy użyciu opcji scalania NoTracking</span><span class="sxs-lookup"><span data-stu-id="ed72f-185">Using The NoTracking Merge Option</span></span>

<span data-ttu-id="ed72f-186">Kontekst pobiera wiersze z bazy danych i tworzy obiekty jednostki, które reprezentują je, domyślnie on również śledzi te obiekty jednostki przy użyciu swojego menedżera stanu obiektu.</span><span class="sxs-lookup"><span data-stu-id="ed72f-186">When an object context retrieves database rows and creates entity objects that represent them, by default it also tracks those entity objects using its object state manager.</span></span> <span data-ttu-id="ed72f-187">Te dane śledzenia działa jak pamięć podręczna i jest używany podczas aktualizowania jednostki.</span><span class="sxs-lookup"><span data-stu-id="ed72f-187">This tracking data acts as a cache and is used when you update an entity.</span></span> <span data-ttu-id="ed72f-188">Ponieważ aplikacja sieci web ma zwykle wystąpienia kontekstu krótkotrwałych obiektów, zapytania często zwracają dane, które nie muszą być śledzone, ponieważ kontekst obiektu, który odczytuje je, zostaną usunięte przed dowolnej jednostki, które odczytuje są ponownie używane lub aktualizowane.</span><span class="sxs-lookup"><span data-stu-id="ed72f-188">Because a web application typically has short-lived object context instances, queries often return data that doesn't need to be tracked, because the object context that reads them will be disposed before any of the entities it reads are used again or updated.</span></span>

<span data-ttu-id="ed72f-189">Platformy Entity Framework można określić, czy kontekst śledzi obiekty jednostki, ustawiając *merge — opcja*.</span><span class="sxs-lookup"><span data-stu-id="ed72f-189">In the Entity Framework, you can specify whether the object context tracks entity objects by setting a *merge option*.</span></span> <span data-ttu-id="ed72f-190">Można ustawić opcji scalania dla pojedynczych zapytań lub zestawy jednostek.</span><span class="sxs-lookup"><span data-stu-id="ed72f-190">You can set the merge option for individual queries or for entity sets.</span></span> <span data-ttu-id="ed72f-191">Jeśli ustawisz dla zestawu jednostek oznacza to, że ustawiasz domyślna opcja scalania dla wszystkich zapytań, które zostały utworzone dla tego zestawu jednostek.</span><span class="sxs-lookup"><span data-stu-id="ed72f-191">If you set it for an entity set, that means that you're setting the default merge option for all queries that are created for that entity set.</span></span>

<span data-ttu-id="ed72f-192">Dla aplikacji Contoso University śledzenia nie jest wymagane dla żadnego z zestawów jednostek, do których dostęp z repozytorium, dzięki czemu można ustawić opcji scalania `NoTracking` dla tych zestawów jednostki podczas tworzenia wystąpienia kontekstu obiektów w klasie repozytorium.</span><span class="sxs-lookup"><span data-stu-id="ed72f-192">For the Contoso University application, tracking isn't needed for any of the entity sets that you access from the repository, so you can set the merge option to `NoTracking` for those entity sets when you instantiate the object context in the repository class.</span></span> <span data-ttu-id="ed72f-193">(Zwróć uwagę, że w tym samouczku ustawienie opcji scalania nie będziesz mieć znaczącego wpływu na wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ed72f-193">(Note that in this tutorial, setting the merge option won't have a noticeable effect on the application's performance.</span></span> <span data-ttu-id="ed72f-194">`NoTracking` Opcja jest mogą spowodować poprawę wydajności zauważalne, tylko w niektórych scenariuszach dotyczących dużych ilości danych.)</span><span class="sxs-lookup"><span data-stu-id="ed72f-194">The `NoTracking` option is likely to make an observable performance improvement only in certain high-data-volume scenarios.)</span></span>

<span data-ttu-id="ed72f-195">W folderze DAL Otwórz *SchoolRepository.cs* pliku i Dodaj metody konstruktora, która ustawia opcję scalania dla jednostki zestawów, że repozytorium ma dostęp do:</span><span class="sxs-lookup"><span data-stu-id="ed72f-195">In the DAL folder, open the *SchoolRepository.cs* file and add a constructor method that sets the merge option for the entity sets that the repository accesses:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample5.cs)]

## <a name="pre-compiling-linq-queries"></a><span data-ttu-id="ed72f-196">Wstępne kompilowanie zapytań LINQ</span><span class="sxs-lookup"><span data-stu-id="ed72f-196">Pre-Compiling LINQ Queries</span></span>

<span data-ttu-id="ed72f-197">Przy pierwszym Entity Framework wykonuje zapytanie SQL jednostki w ramach cyklu życia danego `ObjectContext` wystąpienia, dopiero po pewnym czasie można skompilować zapytania.</span><span class="sxs-lookup"><span data-stu-id="ed72f-197">The first time that the Entity Framework executes an Entity SQL query within the life of a given `ObjectContext` instance, it takes some time to compile the query.</span></span> <span data-ttu-id="ed72f-198">Wynik kompilacji są buforowane, co oznacza, że kolejne wykonania zapytania są znacznie szybciej.</span><span class="sxs-lookup"><span data-stu-id="ed72f-198">The result of compilation is cached, which means that subsequent executions of the query are much quicker.</span></span> <span data-ttu-id="ed72f-199">Zapytania LINQ wykonaj podobny wzorzec, z tą różnicą, że niektóre ilości pracy wymaganej do kompilowania zapytanie jest wykonywane za każdym razem, gdy zapytanie jest wykonywane.</span><span class="sxs-lookup"><span data-stu-id="ed72f-199">LINQ queries follow a similar pattern, except that some of the work required to compile the query is done every time the query is executed.</span></span> <span data-ttu-id="ed72f-200">Innymi słowy do kwerend LINQ, domyślnie nie wszystkie wyniki kompilacji są buforowane.</span><span class="sxs-lookup"><span data-stu-id="ed72f-200">In other words, for LINQ queries, by default not all of the results of compilation are cached.</span></span>

<span data-ttu-id="ed72f-201">Jeśli zapytanie LINQ, która ma być cyklicznie uruchamiany z uprawnieniami obiektu życia, można napisać kod, który powoduje, że wszystkie wyniki kompilacji w pamięci podręcznej podczas pierwszego zapytania LINQ.</span><span class="sxs-lookup"><span data-stu-id="ed72f-201">If you have a LINQ query that you expect to run repeatedly in the life of an object context, you can write code that causes all of the results of compilation to be cached the first time the LINQ query is run.</span></span>

<span data-ttu-id="ed72f-202">Ilustracją, możesz to zrobić na dwa `Get` metod w `SchoolRepository` klasy, z których jedna nie przyjmuje żadnych parametrów ( `GetInstructorNames` metoda) oraz jedną, która wymaga parametru ( `GetDepartmentsByAdministrator` metody).</span><span class="sxs-lookup"><span data-stu-id="ed72f-202">As an illustration, you'll do this for two `Get` methods in the `SchoolRepository` class, one of which doesn't take any parameters (the `GetInstructorNames` method), and one that does require a parameter (the `GetDepartmentsByAdministrator` method).</span></span> <span data-ttu-id="ed72f-203">Te metody są w niezmienionej formie teraz faktycznie nie ma potrzeby kompilowana, ponieważ nie są one zapytań LINQ:</span><span class="sxs-lookup"><span data-stu-id="ed72f-203">These methods as they stand now actually don't need to be compiled because they aren't LINQ queries:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample6.cs)]

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample7.cs)]

<span data-ttu-id="ed72f-204">Jednak tak, aby wypróbować zapytania skompilowane, można będzie kontynuować tak, jakby było został zapisany jako następujące zapytania LINQ:</span><span class="sxs-lookup"><span data-stu-id="ed72f-204">However, so that you can try out compiled queries, you'll proceed as if these had been written as the following LINQ queries:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample8.cs)]

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample9.cs)]

<span data-ttu-id="ed72f-205">Można zmienić kod w tych metodach, co ma powyżej i uruchomić aplikację, aby sprawdzić, czy to działa, przed kontynuowaniem.</span><span class="sxs-lookup"><span data-stu-id="ed72f-205">You could change the code in these methods to what's shown above and run the application to verify that it works before continuing.</span></span> <span data-ttu-id="ed72f-206">Jednak zgodnie z poniższymi instrukcjami przejść bezpośrednio do procesu tworzenia wstępnie skompilowanym ich wersje.</span><span class="sxs-lookup"><span data-stu-id="ed72f-206">But the following instructions jump right into creating pre-compiled versions of them.</span></span>

<span data-ttu-id="ed72f-207">Utwórz plik klasy w *DAL* folderu, nadaj jej nazwę *SchoolEntities.cs*i Zastąp istniejący kod następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="ed72f-207">Create a class file in the *DAL* folder, name it *SchoolEntities.cs*, and replace the existing code with the following code:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample10.cs)]

<span data-ttu-id="ed72f-208">Ten kod tworzy częściową klasą, która rozszerza klasę kontekstu automatycznie generowanych obiektów.</span><span class="sxs-lookup"><span data-stu-id="ed72f-208">This code creates a partial class that extends the automatically generated object context class.</span></span> <span data-ttu-id="ed72f-209">Częściowa klasa zawiera dwa zapytania LINQ skompilowane przy użyciu `Compile` metody `CompiledQuery` klasy.</span><span class="sxs-lookup"><span data-stu-id="ed72f-209">The partial class includes two compiled LINQ queries using the `Compile` method of the `CompiledQuery` class.</span></span> <span data-ttu-id="ed72f-210">Tworzy również metody używane do wywoływania zapytania.</span><span class="sxs-lookup"><span data-stu-id="ed72f-210">It also creates methods that you can use to call the queries.</span></span> <span data-ttu-id="ed72f-211">Zapisz i zamknij ten plik.</span><span class="sxs-lookup"><span data-stu-id="ed72f-211">Save and close this file.</span></span>

<span data-ttu-id="ed72f-212">Następnie w *SchoolRepository.cs*, zmień istniejące `GetInstructorNames` i `GetDepartmentsByAdministrator` klasy metod w repozytorium, dzięki czemu mogą wywołać zapytania skompilowane:</span><span class="sxs-lookup"><span data-stu-id="ed72f-212">Next, in *SchoolRepository.cs*, change the existing `GetInstructorNames` and `GetDepartmentsByAdministrator` methods in the repository class so that they call the compiled queries:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample11.cs)]

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample12.cs)]

<span data-ttu-id="ed72f-213">Uruchom *Departments.aspx* strony, aby sprawdzić, czy działa tak jak poprzednio.</span><span class="sxs-lookup"><span data-stu-id="ed72f-213">Run the *Departments.aspx* page to verify that it works as it did before.</span></span> <span data-ttu-id="ed72f-214">`GetInstructorNames` Metoda jest wywoływana w celu wypełnienia listy rozwijanej administratora, a `GetDepartmentsByAdministrator` metoda jest wywoływana po kliknięciu **aktualizacji** w celu sprawdzenia, czy instruktora nie jest administratorem więcej niż jeden Dział.</span><span class="sxs-lookup"><span data-stu-id="ed72f-214">The `GetInstructorNames` method is called in order to populate the administrator drop-down list, and the `GetDepartmentsByAdministrator` method is called when you click **Update** in order to verify that no instructor is an administrator of more than one department.</span></span>

<span data-ttu-id="ed72f-215">[![Image03](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image10.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-215">[![Image03](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image10.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image9.png)</span></span>

<span data-ttu-id="ed72f-216">W aplikacji Contoso University tylko po to, aby dowiedzieć się, jak to zrobić, nie, ponieważ nie będzie widoczny poprawić wydajność, które zostały wstępnie skompilowanym zapytania.</span><span class="sxs-lookup"><span data-stu-id="ed72f-216">You've pre-compiled queries in the Contoso University application only to see how to do it, not because it would measurably improve performance.</span></span> <span data-ttu-id="ed72f-217">Prekompilowanie zapytań LINQ Dodaj poziom złożoności kodu, więc upewnij się, że można wykonać tylko w przypadku zapytań, które faktycznie stanowi wąskie gardła wydajności w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ed72f-217">Pre-compiling LINQ queries does add a level of complexity to your code, so make sure you do it only for queries that actually represent performance bottlenecks in your application.</span></span>

## <a name="examining-queries-sent-to-the-database"></a><span data-ttu-id="ed72f-218">Badanie zapytań wysłanych do bazy danych</span><span class="sxs-lookup"><span data-stu-id="ed72f-218">Examining Queries Sent to the Database</span></span>

<span data-ttu-id="ed72f-219">Jeśli badasz problemy z wydajnością, czasami jest przydatne dokładnie poleceń SQL, które wysyła do bazy danych programu Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="ed72f-219">When you're investigating performance issues, sometimes it's helpful to know the exact SQL commands that the Entity Framework is sending to the database.</span></span> <span data-ttu-id="ed72f-220">Jeśli pracujesz z `IQueryable` obiekt o jeden ze sposobów jest użycie `ToTraceString` metody.</span><span class="sxs-lookup"><span data-stu-id="ed72f-220">If you're working with an `IQueryable` object, one way to do this is to use the `ToTraceString` method.</span></span>

<span data-ttu-id="ed72f-221">W *SchoolRepository.cs*, Zmień kod w `GetDepartmentsByName` metody zgodnie z poniższym przykładem:</span><span class="sxs-lookup"><span data-stu-id="ed72f-221">In *SchoolRepository.cs*, change the code in the `GetDepartmentsByName` method to match the following example:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample13.cs)]

<span data-ttu-id="ed72f-222">`departments` Musi być rzutowany zmienną `ObjectQuery` typu tylko w przypadku, ponieważ `Where` metoda na końcu poprzedni wiersz tworzy `IQueryable` obiektu; bez `Where` metody Rzutowanie nie jest konieczne.</span><span class="sxs-lookup"><span data-stu-id="ed72f-222">The `departments` variable must be cast to an `ObjectQuery` type only because the `Where` method at the end of the preceding line creates an `IQueryable` object; without the `Where` method, the cast would not be necessary.</span></span>

<span data-ttu-id="ed72f-223">Ustaw punkt przerwania na `return` wiersza, a następnie uruchom *Departments.aspx* strony w debugerze.</span><span class="sxs-lookup"><span data-stu-id="ed72f-223">Set a breakpoint on the `return` line, and then run the *Departments.aspx* page in the debugger.</span></span> <span data-ttu-id="ed72f-224">Po osiągnięciu punktu przerwania zbadać `commandText` zmienną **lokalne** okno i użyj Wizualizator tekstu (ikonę lupy w **wartość** kolumny) do wyświetlania wartości w **Wizualizator tekstu** okna.</span><span class="sxs-lookup"><span data-stu-id="ed72f-224">When you hit the breakpoint, examine the `commandText` variable in the **Locals** window and use the text visualizer (the magnifying glass in the **Value** column) to display its value in the **Text Visualizer** window.</span></span> <span data-ttu-id="ed72f-225">Możesz zobaczyć całą polecenia SQL, która wynika z tego kodu:</span><span class="sxs-lookup"><span data-stu-id="ed72f-225">You can see the entire SQL command that results from this code:</span></span>

<span data-ttu-id="ed72f-226">[![Image08](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image12.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-226">[![Image08](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image12.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image11.png)</span></span>

<span data-ttu-id="ed72f-227">Jako alternatywę funkcji IntelliTrace w programie Visual Studio Ultimate zapewnia sposób wyświetlania poleceń SQL, generowane przez program Entity Framework, która nie wymaga zmian w kodzie lub nawet Ustaw punkt przerwania.</span><span class="sxs-lookup"><span data-stu-id="ed72f-227">As an alternative, the IntelliTrace feature in Visual Studio Ultimate provides a way to view SQL commands generated by the Entity Framework that doesn't require you to change your code or even set a breakpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="ed72f-228">Poniższych procedur można wykonywać tylko wtedy, gdy masz programu Visual Studio Ultimate.</span><span class="sxs-lookup"><span data-stu-id="ed72f-228">You can perform the following procedures only if you have Visual Studio Ultimate.</span></span>


<span data-ttu-id="ed72f-229">Przywrócić oryginalny kod w `GetDepartmentsByName` metody, a następnie uruchom *Departments.aspx* strony w debugerze.</span><span class="sxs-lookup"><span data-stu-id="ed72f-229">Restore the original code in the `GetDepartmentsByName` method, and then run the *Departments.aspx* page in the debugger.</span></span>

<span data-ttu-id="ed72f-230">W programie Visual Studio, wybierz **debugowania** menu, a następnie **IntelliTrace**, a następnie **zdarzenia IntelliTrace**.</span><span class="sxs-lookup"><span data-stu-id="ed72f-230">In Visual Studio, select the **Debug** menu, then **IntelliTrace**, and then **IntelliTrace Events**.</span></span>

<span data-ttu-id="ed72f-231">[![Image11](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image14.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-231">[![Image11](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image14.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image13.png)</span></span>

<span data-ttu-id="ed72f-232">W **IntelliTrace** okna, kliknij przycisk **Przerwij wszystko**.</span><span class="sxs-lookup"><span data-stu-id="ed72f-232">In the **IntelliTrace** window, click **Break All**.</span></span>

<span data-ttu-id="ed72f-233">[![Image12](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image16.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-233">[![Image12](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image16.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image15.png)</span></span>

<span data-ttu-id="ed72f-234">**IntelliTrace** okna wyświetla listę ostatnie zdarzenia:</span><span class="sxs-lookup"><span data-stu-id="ed72f-234">The **IntelliTrace** window displays a list of recent events:</span></span>

<span data-ttu-id="ed72f-235">[![Image09](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image18.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-235">[![Image09](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image18.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image17.png)</span></span>

<span data-ttu-id="ed72f-236">Kliknij przycisk **ADO.NET** wiersza.</span><span class="sxs-lookup"><span data-stu-id="ed72f-236">Click the **ADO.NET** line.</span></span> <span data-ttu-id="ed72f-237">Rozszerza on dowiesz się, tekst polecenia:</span><span class="sxs-lookup"><span data-stu-id="ed72f-237">It expands to show you the command text:</span></span>

<span data-ttu-id="ed72f-238">[![Image10](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image20.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-238">[![Image10](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image20.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image19.png)</span></span>

<span data-ttu-id="ed72f-239">Możesz skopiować polecenie cały ciąg tekstowy do Schowka z **lokalne** okna.</span><span class="sxs-lookup"><span data-stu-id="ed72f-239">You can copy the entire command text string to the clipboard from the **Locals** window.</span></span>

<span data-ttu-id="ed72f-240">Załóżmy, że pracujesz z bazą danych przy użyciu więcej tabel, relacje i kolumn niż prostą `School` bazy danych.</span><span class="sxs-lookup"><span data-stu-id="ed72f-240">Suppose you were working with a database with more tables, relationships, and columns than the simple `School` database.</span></span> <span data-ttu-id="ed72f-241">Może się okazać, że kwerendę, która zbiera wszystkie informacje wymagane w ramach pojedynczej `Select` instrukcji zawierającej wiele `Join` klauzule staje się zbyt złożona, aby pracować wydajnie.</span><span class="sxs-lookup"><span data-stu-id="ed72f-241">You might find that a query that gathers all the information you need in a single `Select` statement containing multiple `Join` clauses becomes too complex to work efficiently.</span></span> <span data-ttu-id="ed72f-242">W takim przypadku możesz przełączyć eager ładowania na potrzeby jawnego ładowania, aby uprościć zapytanie.</span><span class="sxs-lookup"><span data-stu-id="ed72f-242">In that case you can switch from eager loading to explicit loading to simplify the query.</span></span>

<span data-ttu-id="ed72f-243">Na przykład, spróbuj zmienić kod w `GetDepartmentsByName` method in Class metoda *SchoolRepository.cs*.</span><span class="sxs-lookup"><span data-stu-id="ed72f-243">For example, try changing the code in the `GetDepartmentsByName` method in *SchoolRepository.cs*.</span></span> <span data-ttu-id="ed72f-244">Obecnie w tym metoda ma zapytań obiekt, który ma `Include` metody `Person` i `Courses` właściwości nawigacji.</span><span class="sxs-lookup"><span data-stu-id="ed72f-244">Currently in that method you have an object query that has `Include` methods for the `Person` and `Courses` navigation properties.</span></span> <span data-ttu-id="ed72f-245">Zastąp `return` instrukcji z kodem, który wykonuje jawne ładowanie, jak pokazano w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="ed72f-245">Replace the `return` statement with code that performs explicit loading, as shown in the following example:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample14.cs)]

<span data-ttu-id="ed72f-246">Uruchom *Departments.aspx* strony w debugerze, a następnie sprawdź **IntelliTrace** oknie ponownie poprzednio.</span><span class="sxs-lookup"><span data-stu-id="ed72f-246">Run the *Departments.aspx* page in the debugger and check the **IntelliTrace** window again as you did before.</span></span> <span data-ttu-id="ed72f-247">Teraz w przypadku, gdy było pojedyncze zapytanie przed, zobaczysz długo sekwencja.</span><span class="sxs-lookup"><span data-stu-id="ed72f-247">Now, where there was a single query before, you see a long sequence of them.</span></span>

<span data-ttu-id="ed72f-248">[![Image13](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image22.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-248">[![Image13](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image22.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image21.png)</span></span>

<span data-ttu-id="ed72f-249">Kliknij pierwszy **ADO.NET** wiersza, aby zobaczyć, co się stało złożonego zapytania można wyświetlić wcześniej.</span><span class="sxs-lookup"><span data-stu-id="ed72f-249">Click the first **ADO.NET** line to see what has happened to the complex query you viewed earlier.</span></span>

<span data-ttu-id="ed72f-250">[![Image14](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image24.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-250">[![Image14](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image24.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image23.png)</span></span>

<span data-ttu-id="ed72f-251">Zapytanie z działów stał się prostej `Select` zapytania bez `Join` klauzuli, ale następuje oddzielne zapytania, które pobierają Kursy pokrewne i administrator, przy użyciu zestawu dwóch zapytań dla każdego działu zwrócony przez oryginalny Zapytanie.</span><span class="sxs-lookup"><span data-stu-id="ed72f-251">The query from Departments has become a simple `Select` query with no `Join` clause, but it's followed by separate queries that retrieve related courses and an administrator, using a set of two queries for each department returned by the original query.</span></span>

> [!NOTE]
> <span data-ttu-id="ed72f-252">Pozostawienie powolne ładowanie włączone, wzorzec, widocznej w tym miejscu, za pomocą tego samego zapytania powtarzać wiele razy, mogą być wynikiem powolne ładowanie.</span><span class="sxs-lookup"><span data-stu-id="ed72f-252">If you leave lazy loading enabled, the pattern you see here, with the same query repeated many times, might result from lazy loading.</span></span> <span data-ttu-id="ed72f-253">Wzorzec, który chcesz uniknąć zwykle jest powolne ładowanie powiązanych danych dla każdego wiersza w tabeli podstawowej.</span><span class="sxs-lookup"><span data-stu-id="ed72f-253">A pattern that you typically want to avoid is lazy-loading related data for every row of the primary table.</span></span> <span data-ttu-id="ed72f-254">Chyba, że gdy masz pewność, że pojedynczy kwerendy jest zbyt złożona, aby były skuteczne, zazwyczaj będzie można poprawić wydajność w takich sytuacjach, zmieniając podstawowego zapytania, aby użyć wczesne ładowanie.</span><span class="sxs-lookup"><span data-stu-id="ed72f-254">Unless you've verified that a single join query is too complex to be efficient, you'd typically be able to improve performance in such cases by changing the primary query to use eager loading.</span></span>


## <a name="pre-generating-views"></a><span data-ttu-id="ed72f-255">Wstępnie generowanie widoków</span><span class="sxs-lookup"><span data-stu-id="ed72f-255">Pre-Generating Views</span></span>

<span data-ttu-id="ed72f-256">Gdy `ObjectContext` najpierw tworzony jest obiekt w nowej domeny aplikacji, platformy Entity Framework generuje zestaw klas używanych do dostępu do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="ed72f-256">When an `ObjectContext` object is first created in a new application domain, the Entity Framework generates a set of classes that it uses to access the database.</span></span> <span data-ttu-id="ed72f-257">Te klasy są nazywane *widoków*, i w przypadku modelu bardzo dużej ilości danych generowanie tych widoków można opóźnić witryny sieci web odpowiedzi na pierwsze żądanie strony po zainicjowaniu nowej domeny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ed72f-257">These classes are called *views*, and if you have a very large data model, generating these views can delay the web site's response to the first request for a page after a new application domain is initialized.</span></span> <span data-ttu-id="ed72f-258">Tworząc widoki, w czasie kompilacji, a nie w czasie wykonywania, można zmniejszyć to opóźnienie pierwszego żądania.</span><span class="sxs-lookup"><span data-stu-id="ed72f-258">You can reduce this first-request delay by creating the views at compile time rather than at run time.</span></span>

> [!NOTE]
> <span data-ttu-id="ed72f-259">Jeśli aplikacja nie ma modelu bardzo dużych ilości danych lub jeśli niesie ze sobą modelu dużych ilości danych, ale nie ma zajmującym się problem z wydajnością, który wpływa na tylko pierwsze żądanie strony po recyklingu usług IIS, można pominąć tę sekcję.</span><span class="sxs-lookup"><span data-stu-id="ed72f-259">If your application doesn't have an extremely large data model, or if it does have a large data model but you aren't concerned about a performance problem that affects only the very first page request after IIS is recycled, you can skip this section.</span></span> <span data-ttu-id="ed72f-260">Wyświetl tworzenia nie jest realizowane za każdym razem, gdy tworzenia wystąpienia `ObjectContext` obiektu, ponieważ opinie są buforowane w domenie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ed72f-260">View creation doesn't happen every time you instantiate an `ObjectContext` object, because the views are cached in the application domain.</span></span> <span data-ttu-id="ed72f-261">W związku z tym chyba że są często odtwarzanie aplikacji w usługach IIS, bardzo mało żądań strony używającym wstępnie wygenerowanych widoków.</span><span class="sxs-lookup"><span data-stu-id="ed72f-261">Therefore, unless you're frequently recycling your application in IIS, very few page requests would benefit from pre-generated views.</span></span>


<span data-ttu-id="ed72f-262">Można wstępnie wygenerować widoków przy użyciu *EdmGen.exe* narzędzia wiersza polecenia lub przy użyciu *Toolkit przekształcania szablonu tekstu* szablonu (T4).</span><span class="sxs-lookup"><span data-stu-id="ed72f-262">You can pre-generate views using the *EdmGen.exe* command-line tool or by using a *Text Template Transformation Toolkit* (T4) template.</span></span> <span data-ttu-id="ed72f-263">W tym samouczku użyjesz szablon T4.</span><span class="sxs-lookup"><span data-stu-id="ed72f-263">In this tutorial you'll use a T4 template.</span></span>

<span data-ttu-id="ed72f-264">W *DAL* folderu, Dodaj plik przy użyciu **szablon tekstowy** szablonu (znajduje się pod **ogólne** w węźle **zainstalowane szablony** listy), i nadaj mu nazwę *SchoolModel.Views.tt*.</span><span class="sxs-lookup"><span data-stu-id="ed72f-264">In the *DAL* folder, add a file using the **Text Template** template (it's under the **General** node in the **Installed Templates** list), and name it *SchoolModel.Views.tt*.</span></span> <span data-ttu-id="ed72f-265">Zastąp istniejący kod w pliku następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="ed72f-265">Replace the existing code in the file with the following code:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample15.cs)]

<span data-ttu-id="ed72f-266">Ten kod generuje widoków *edmx* pliku, który znajduje się w tym samym folderze co szablon i który ma taką samą nazwę jak plik szablonu.</span><span class="sxs-lookup"><span data-stu-id="ed72f-266">This code generates views for an *.edmx* file that's located in the same folder as the template and that has the same name as the template file.</span></span> <span data-ttu-id="ed72f-267">Na przykład, jeśli w nazwie pliku szablonu *SchoolModel.Views.tt*, będzie szukać pliku modelu danych o nazwie *SchoolModel.edmx*.</span><span class="sxs-lookup"><span data-stu-id="ed72f-267">For example, if your template file is named *SchoolModel.Views.tt*, it will look for a data model file named *SchoolModel.edmx*.</span></span>

<span data-ttu-id="ed72f-268">Zapisz plik, a następnie kliknij prawym przyciskiem myszy plik w **Eksploratora rozwiązań** i wybierz **Uruchom narzędzie niestandardowe**.</span><span class="sxs-lookup"><span data-stu-id="ed72f-268">Save the file, then right-click the file in **Solution Explorer** and select **Run Custom Tool**.</span></span>

<span data-ttu-id="ed72f-269">[![Image02](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image26.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-269">[![Image02](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image26.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image25.png)</span></span>

<span data-ttu-id="ed72f-270">Program Visual Studio generuje kod pliku, który tworzy widoków, które nosi *SchoolModel.Views.cs* na podstawie szablonu.</span><span class="sxs-lookup"><span data-stu-id="ed72f-270">Visual Studio generates a code file that creates the views, which is named *SchoolModel.Views.cs* based on the template.</span></span> <span data-ttu-id="ed72f-271">(Zwróć uwagę, że generowany jest plik kodu, nawet w przypadku, przed wybraniem **Uruchom narzędzie niestandardowe**, zaraz po zapisaniu pliku szablonu.)</span><span class="sxs-lookup"><span data-stu-id="ed72f-271">(You might have noticed that the code file is generated even before you select **Run Custom Tool**, as soon as you save the template file.)</span></span>

<span data-ttu-id="ed72f-272">[![Image01](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image28.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="ed72f-272">[![Image01](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image28.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image27.png)</span></span>

<span data-ttu-id="ed72f-273">Możesz teraz uruchomić aplikację i sprawdzić, czy działa tak jak poprzednio.</span><span class="sxs-lookup"><span data-stu-id="ed72f-273">You can now run the application and verify that it works as it did before.</span></span>

<span data-ttu-id="ed72f-274">Aby uzyskać więcej informacji na temat wstępnie wygenerowanych widoków zobacz następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="ed72f-274">For more information about pre-generated views, see the following resources:</span></span>

- <span data-ttu-id="ed72f-275">[Instrukcje: Wstępnie wygenerować widoków, aby poprawić wydajność zapytań](https://msdn.microsoft.com/library/bb896240.aspx) w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ed72f-275">[How to: Pre-Generate Views to Improve Query Performance](https://msdn.microsoft.com/library/bb896240.aspx) on the MSDN web site.</span></span> <span data-ttu-id="ed72f-276">Opis sposobu użycia `EdmGen.exe` narzędzie wiersza polecenia można wstępnie wygenerować widoków.</span><span class="sxs-lookup"><span data-stu-id="ed72f-276">Explains how to use the `EdmGen.exe` command-line tool to pre-generate views.</span></span>
- <span data-ttu-id="ed72f-277">[Izolowanie wydajności za pomocą prekompilowany/wstępnej-generated widoków w programie Entity Framework 4](https://blogs.msdn.com/b/appfabriccat/archive/2010/08/06/isolating-performance-with-precompiled-pre-generated-views-in-the-entity-framework-4.aspx) na blogu zespołu doradczego klientów systemu Windows Server AppFabric.</span><span class="sxs-lookup"><span data-stu-id="ed72f-277">[Isolating Performance with Precompiled/Pre-generated Views in the Entity Framework 4](https://blogs.msdn.com/b/appfabriccat/archive/2010/08/06/isolating-performance-with-precompiled-pre-generated-views-in-the-entity-framework-4.aspx) on the Windows Server AppFabric Customer Advisory Team blog.</span></span>

<span data-ttu-id="ed72f-278">Na tym kończy się wprowadzenie do zwiększania wydajności w aplikacji sieci web ASP.NET, który używa programu Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="ed72f-278">This completes the introduction to improving performance in an ASP.NET web application that uses the Entity Framework.</span></span> <span data-ttu-id="ed72f-279">Aby uzyskać więcej informacji, zobacz następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="ed72f-279">For more information, see the following resources:</span></span>

- <span data-ttu-id="ed72f-280">[Zagadnienia dotyczące wydajności (Entity Framework)](https://msdn.microsoft.com/library/cc853327.aspx) w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ed72f-280">[Performance Considerations (Entity Framework)](https://msdn.microsoft.com/library/cc853327.aspx) on the MSDN web site.</span></span>
- <span data-ttu-id="ed72f-281">[Związane z wydajnością wpisy na blogu zespołu Framework jednostki](https://blogs.msdn.com/b/adonet/archive/tags/performance/).</span><span class="sxs-lookup"><span data-stu-id="ed72f-281">[Performance-related posts on the Entity Framework Team blog](https://blogs.msdn.com/b/adonet/archive/tags/performance/).</span></span>
- <span data-ttu-id="ed72f-282">[Scal EF, opcji i zapytania skompilowane](https://blogs.msdn.com/b/dsimmons/archive/2010/01/12/ef-merge-options-and-compiled-queries.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed72f-282">[EF Merge Options and Compiled Queries](https://blogs.msdn.com/b/dsimmons/archive/2010/01/12/ef-merge-options-and-compiled-queries.aspx).</span></span> <span data-ttu-id="ed72f-283">Wpis w blogu, który objaśnia, nieoczekiwane wyniki zapytania skompilowane i scalanie opcje, takie jak `NoTracking`.</span><span class="sxs-lookup"><span data-stu-id="ed72f-283">Blog post that explains unexpected behaviors of compiled queries and merge options such as `NoTracking`.</span></span> <span data-ttu-id="ed72f-284">Jeśli planujesz użyć zapytania skompilowane i modyfikować ustawienia opcji scalania w aplikacji, zapoznaj się z pierwszej.</span><span class="sxs-lookup"><span data-stu-id="ed72f-284">If you plan to use compiled queries or manipulate merge option settings in your application, read this first.</span></span>
- <span data-ttu-id="ed72f-285">[Entity Framework, powiązane wpisy w blogu dane i modelowanie zespół doradczy klientów](https://blogs.msdn.com/b/dmcat/archive/tags/entity+framework/).</span><span class="sxs-lookup"><span data-stu-id="ed72f-285">[Entity Framework-related posts in the Data and Modeling Customer Advisory Team blog](https://blogs.msdn.com/b/dmcat/archive/tags/entity+framework/).</span></span> <span data-ttu-id="ed72f-286">Zawiera wpisy na zapytania skompilowane i przy użyciu Profiler 2010 usługi Visual Studio, aby wykryć problemy z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="ed72f-286">Includes posts on compiled queries and using the Visual Studio 2010 Profiler to discover performance issues.</span></span>
- <span data-ttu-id="ed72f-287">[Entity Framework forum wątku z porady dotyczące poprawy wydajności zapytań bardzo złożone](https://social.msdn.microsoft.com/Forums/adodotnetentityframework/thread/ffe8b2ab-c5b5-4331-8988-33a872d0b5f6).</span><span class="sxs-lookup"><span data-stu-id="ed72f-287">[Entity Framework forum thread with advice on improving performance of highly complex queries](https://social.msdn.microsoft.com/Forums/adodotnetentityframework/thread/ffe8b2ab-c5b5-4331-8988-33a872d0b5f6).</span></span>
- <span data-ttu-id="ed72f-288">[Zalecenia dotyczące zarządzania stanu ASP.NET](https://msdn.microsoft.com/library/z1hkazw7.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed72f-288">[ASP.NET State Management Recommendations](https://msdn.microsoft.com/library/z1hkazw7.aspx).</span></span>
- <span data-ttu-id="ed72f-289">[Korzystanie z programu Entity Framework i kontrolki ObjectDataSource: Niestandardowe stronicowania](http://geekswithblogs.net/Frez/articles/using-the-entity-framework-and-the-objectdatasource-custom-paging.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed72f-289">[Using the Entity Framework and the ObjectDataSource: Custom Paging](http://geekswithblogs.net/Frez/articles/using-the-entity-framework-and-the-objectdatasource-custom-paging.aspx).</span></span> <span data-ttu-id="ed72f-290">Wpis w blogu, który tworzy aplikacji ContosoUniversity utworzone w tych samouczkach, aby wyjaśnić sposób zaimplementowania stronicowania w *Departments.aspx* strony.</span><span class="sxs-lookup"><span data-stu-id="ed72f-290">Blog post that builds on the ContosoUniversity application created in these tutorials to explain how to implement paging in the *Departments.aspx* page.</span></span>

<span data-ttu-id="ed72f-291">Następnego samouczka, przegląd niektórych ważnych ulepszeń w programie Entity Framework, które stanowią nowość w wersji 4.</span><span class="sxs-lookup"><span data-stu-id="ed72f-291">The next tutorial reviews some of the important enhancements to the Entity Framework that are new in version 4.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ed72f-292">[Poprzednie](handling-concurrency-with-the-entity-framework-in-an-asp-net-web-application.md)
> [dalej](what-s-new-in-the-entity-framework-4.md)</span><span class="sxs-lookup"><span data-stu-id="ed72f-292">[Previous](handling-concurrency-with-the-entity-framework-in-an-asp-net-web-application.md)
[Next](what-s-new-in-the-entity-framework-4.md)</span></span>
