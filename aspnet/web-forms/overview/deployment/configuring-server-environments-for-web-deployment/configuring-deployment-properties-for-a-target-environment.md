---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
title: Konfigurowanie właściwości wdrożenia dla środowiska docelowego | Dokumentacja firmy Microsoft
author: jrjlee
description: W tym temacie opisano sposób konfigurowania właściwości specyficzne dla środowiska, aby wdrożyć przykładowe rozwiązanie Contact Manager do danego środowiska docelowego...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: b5b86e03-b8ed-46e6-90fa-e1da88ef34e9
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
msc.type: authoredcontent
ms.openlocfilehash: 9742be7d718384c1b108d5f2c0c43e8e8d4fe8a9
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/06/2019
ms.locfileid: "65108675"
---
# <a name="configuring-deployment-properties-for-a-target-environment"></a>Konfigurowanie właściwości wdrożenia dla środowiska docelowego

przez [Jason Lee](https://github.com/jrjlee)

[Pobierz plik PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> W tym temacie opisano sposób konfigurowania właściwości specyficzne dla środowiska, aby wdrożyć przykładowe rozwiązanie Contact Manager do danego środowiska docelowego.

Ten temat jest częścią serii samouczków na podstawie wymagania dotyczące wdrażania enterprise fikcyjnej firmy o nazwie firmy Fabrikam, Inc. Przykładowe rozwiązanie korzysta z tej serii samouczków&#x2014; [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) rozwiązania&#x2014;do reprezentowania aplikacji sieci web przy użyciu realistycznej stopień złożoności, łącznie z aplikacją ASP.NET MVC 3 komunikacji Windows Usługa Foundation (WCF), a projekt bazy danych.

Metody wdrażania w ramach tego samouczka opiera się na podejście pliku projektu Podziel opisane w [objaśnienie procesu kompilacji](../web-deployment-in-the-enterprise/understanding-the-build-process.md), w którym proces kompilacji jest kontrolowana przez dwa pliki projektu&#x2014;jeden zawierający Tworzenie instrukcji, które mają zastosowanie do każdego środowiska docelowego i jeden zawierający ustawienia specyficzne dla środowiska kompilacji i wdrażania. W czasie kompilacji pliku projektu specyficznymi dla środowiska jest scalana w pliku projektu niezależnego od środowiska w celu utworzenia kompletny zestaw instrukcji kompilacji.

## <a name="process-overview"></a>Omówienie procesu

Plik projektu, które będzie używane do tworzenia i wdrażania rozwiązania Contact Manager zostanie podzielona na dwa pliki fizyczne:

- Jeden zawierający uniwersalnego kompilacji, ustawienia i instrukcje ( *Publish.proj* pliku).
- Jeden zawierający specyficznymi dla środowiska ustawienia kompilacji (*Env Dev.proj*, *Env Stage.proj*i tak dalej).

W czasie kompilacji pliku odpowiednią projektu specyficznymi dla środowiska jest scalany z uniwersalny *Publish.proj* pliku w celu utworzenia kompletny zestaw instrukcji kompilacji. Można skonfigurować wdrożenie do określonego miejsca docelowego środowiska, tworzenie lub dostosowywanie plików projektu specyficznego dla środowiska przy użyciu ustawień, które opisują scenariusza wdrażania.

Wiele z tych wartości zależą od sposobu skonfigurowania środowiska docelowego&#x2014;w szczególności, czy z docelowego serwera sieci web jest skonfigurowany do używania usługi sieci Web Deployment Agent (agent zdalny) lub program obsługi wdrażania sieci Web. Aby uzyskać więcej informacji na temat tych metod i wskazówki na temat wybierania właściwego podejścia do własnego środowiska, zobacz [Wybieranie podejścia prawo do wdrażania w Internecie](choosing-the-right-approach-to-web-deployment.md).

[Scenariusza Contact Manager](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) wymagane są dwa pliki projektu specyficznego dla środowiska:

- Wdrażanie w środowisku testowym dla deweloperów (*Env Dev.proj*). Środowisko testowe dla deweloperów jest skonfigurowany do akceptowania zdalnych wdrożeń przy użyciu agenta zdalnego, zgodnie z opisem w [scenariusza: Konfigurowanie środowiska testowego na potrzeby wdrażania w Internecie](scenario-configuring-a-test-environment-for-web-deployment.md). Ten plik musi zapewnić agenta zdalnego adresu punktu końcowego, a także ustawienia specyficzne dla lokalizacji, takie jak parametry połączenia i punktów końcowych usługi.
- Wdrożenie w środowisku przejściowym (*Env Stage.proj*). Środowisko przejściowe jest skonfigurowany do akceptowania zdalnych wdrożeń za pomocą obsługi wdrażania sieci Web, zgodnie z opisem w [scenariusza: Konfigurowanie środowiska przejściowego na potrzeby wdrażania w Internecie](scenario-configuring-a-staging-environment-for-web-deployment.md). Ten plik musi podać adres punktu końcowego obsługi wdrażania sieci Web, a także ustawienia specyficzne dla lokalizacji, takie jak parametry połączenia i punkty końcowe usługi.

Należy pamiętać, że ustawienia należy skonfigurować w pliku projektu specyficznymi dla środowiska nie wpływają na zawartość pakietu w sieci web jest&#x2014;zamiast tego należy kontrolować sposób wdrożenia pakietu i jakie wartości parametrów są dostarczane, gdy pakiet jest wyodrębnione. W przypadku importowania pakietu sieci web w środowisku produkcyjnym ręcznie, zgodnie z opisem w [scenariusza: Konfigurowanie środowiska produkcyjnego na potrzeby wdrażania w Internecie](scenario-configuring-a-production-environment-for-web-deployment.md) i [ręczne instalowanie pakietów internetowych](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), więc nie ma znaczenia, jakie ustawienia używane w pliku projektu specyficznymi dla środowiska, podczas generowania pakietu. Internet Information Services (IIS) Manager wyświetli monit dla każdej wartości sparametryzowane, takich jak parametry połączenia i punktów końcowych usługi, po zaimportowaniu pakietu.

Aby wdrożyć rozwiązanie Contact Manager w środowisku docelowym, można dostosować ten plik lub użyć go jako szablon i Utwórz własny plik.

**Aby skonfigurować ustawienia specyficzne dla środowiska wdrażania rozwiązania Contact Manager**

1. Otwórz rozwiązanie ContactManager WCF w programie Visual Studio 2010.
2. W **Eksploratora rozwiązań** okna, rozwiń węzeł **Publikuj** folder, rozwiń węzeł **EnvConfig** folder, a następnie kliknij dwukrotnie plik **Env-Dev.proj**.

    ![](configuring-deployment-properties-for-a-target-environment/_static/image1.png)
3. Zastąp wartości właściwości w *Env Dev.proj* pliku przy użyciu prawidłowych wartości dla środowiska testowego.

    > [!NOTE]
    > Tabela, z tą procedurą zawiera więcej informacji dotyczących każdej z tych właściwości.
4. Zapisz swoją pracę, a następnie Zamknij *Env Dev.proj* pliku.

## <a name="choosing-the-right-deployment-properties"></a>Wybieranie właściwości wdrożenia w prawo

Poniższa tabela zawiera opis przeznaczenia każdej właściwości w przykładowym pliku projektu specyficznego dla środowiska *Env Dev.proj*i zawiera pewne wskazówki dotyczące wartości, należy podać.

|                                                        Nazwa właściwości                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Szczegóły                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              <strong>MSDeployComputerName</strong> nazwę docelowej sieci web lub serwer punktu końcowego.               |                                                                                                                                                                                                                                              Jeśli wdrażana usługa agenta zdalnego na docelowym serwerze sieci web, można określić nazwy komputera docelowego (na przykład <strong>TESTWEB1</strong> lub <strong>TESTWEB1.fabrikam.net</strong>), albo określić zdalne Agent endpoint (na przykład `http://TESTWEB1/MSDEPLOYAGENTSERVICE`). Wdrożenie działa tak samo w każdym przypadku. Jeśli wdrażasz do obsługi wdrażania sieci Web na serwerze docelowym, należy określić punkt końcowy usługi i należy dołączyć nazwę witryny sieci Web usług IIS jako parametr ciągu zapytania (na przykład `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).                                                                                                                                                                                                                                              |
|         <strong>MSDeployAuth</strong> metody, która narzędzia Web Deploy powinna być używana do uwierzytelniania na komputerze zdalnym.          |                                                                                                                                                                                                                          To powinien być ustawiony na <strong>NTLM</strong> lub <strong>podstawowe</strong>. Zazwyczaj użyjesz <strong>NTLM</strong> Jeżeli wdrażasz usługi agenta zdalnego i <strong>podstawowe</strong> Jeśli wdrażasz do obsługi wdrażania sieci Web. Jeśli używasz uwierzytelniania podstawowego, należy określić nazwę użytkownika i hasło, które narzędzie wdrażania sieci Web usług IIS (Web Deploy) powinien personifikacji w celu wykonywania wdrożenia. W tym przykładzie te wartości są realizowane za pośrednictwem <strong>MSDeployUsername</strong> i <strong>MSDeployPassword</strong> właściwości. Jeśli używasz uwierzytelniania NTLM, można pominąć te właściwości lub pozostawić je puste.                                                                                                                                                                                                                          |
| <strong>MSDeployUsername</strong> użycie uwierzytelniania podstawowego narzędzia Web Deploy będzie używał tego konta na komputerze zdalnym.  |                                                                                                                                                                                                                                                                                                                                                                                                                       To powinno mieć postać <em>domeny</em>\*username * (na przykład <strong>FABRIKAM\matt</strong>). Ta wartość jest używana tylko wtedy, jeśli określisz uwierzytelniania podstawowego. Jeśli używasz uwierzytelniania NTLM, można pominąć właściwości. Jeśli wartość zostanie podany, zostanie zignorowany.                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <strong>MSDeployPassword</strong> użycie uwierzytelniania podstawowego narzędzia Web Deploy użyje tego hasła na komputerze zdalnym. |                                                                                                                                                                                                                                                                                                                                                                                                                    Jest to hasło dla konta użytkownika określonego w <strong>MSDeployUsername</strong> właściwości. Ta wartość jest używana tylko wtedy, jeśli określisz uwierzytelniania podstawowego. Jeśli używasz uwierzytelniania NTLM, można pominąć właściwości. Jeśli wartość zostanie podany, zostanie zignorowany.                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     <strong>ContactManagerIisPath</strong> ścieżka IIS, na którym chcesz wdrożyć aplikację MVC Contact Manager.     |                                                                                                                                                                                                                                                                                                                                                                        Powinna to być ścieżka, wyświetlaną w Menedżerze usług IIS w formie [<em>nazwa witryny sieci Web usług IIS</em>] / [<em>web</em><em>Nazwa aplikacji</em>]. Należy pamiętać, że witryny sieci Web usług IIS musi istnieć przed wdrożeniem aplikacji. Na przykład jeśli utworzono witrynę IIS sieci Web o nazwie DemoSite jako DemoSite/ContactManager można określić ścieżkę programu IIS dla aplikacji MVC.                                                                                                                                                                                                                                                                                                                                                                        |
|   <strong>ContactManagerServiceIisPath</strong> ścieżka IIS, na którym chcesz wdrożyć usługę WCF Contact Manager.    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Na przykład, jeśli zostały utworzone w witrynie sieci Web usług IIS o nazwie DemoSite, możesz określić ścieżkę usług IIS dla usługi WCF, ponieważ <strong>DemoSite/ContactManagerService</strong>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                  <strong>ContactManagerTargetUrl</strong> adres URL, w którym można osiągnąć usługi WCF.                   |                                                                                                                                                     To będzie mieć postać [<em>adresu URL katalogu głównego witryny sieci Web usług IIS</em>] / [<em>Nazwa aplikacji usługi</em>] / [<em>punktu końcowego usługi</em>]. Na przykład, jeśli po utworzeniu witryny sieci Web usług IIS na porcie 85, adres URL będzie mieć postać `http://localhost:85/ContactManagerService/ContactService.svc`. Należy pamiętać, że aplikacji MVC i usługi WCF są wdrażane na tym samym serwerze. W wyniku tego adresu URL jest tylko uzyskuje się dostęp z komputera, na którym jest zainstalowany. W związku z tym lepiej jest używać localhost lub adres IP zamiast nazwy komputera lub nagłówka hosta w adresie URL. Jeśli używasz nazwy komputera lub nagłówek hosta, [wyboru sprzężenia zwrotnego](https://go.microsoft.com/?linkid=9805131) funkcja zabezpieczeń w usługach IIS może blokować adresy URL i zwracają <strong>HTTP 401.1 — Dostęp nieautoryzowany</strong> błąd.                                                                                                                                                     |
|                  <strong>CmDatabaseConnectionString</strong> ciąg połączenia dla serwera bazy danych.                  | Parametry połączenia określa zarówno poświadczeń używanych VSDBCMD skontaktować się z serwerem bazy danych i tworzenie bazy danych i poświadczeń używanych puli aplikacji serwera sieci web do skontaktowania się z serwerem bazy danych i interakcji z bazą danych. Zasadniczo dostępne są dwie opcje w tym miejscu. Można określić <strong>zabezpieczenia zintegrowane = true</strong>, w którym to przypadku jest stosowane zintegrowane uwierzytelnianie Windows: <strong>Źródło danych = TESTDB1; Integrated Security = true</strong> w takim przypadku baza danych zostanie utworzona przy użyciu poświadczeń użytkownika, który jest uruchamiany plik wykonywalny VSDBCMD, a aplikacja będzie uzyskiwać dostęp do bazy danych przy użyciu tożsamości komputera serwera sieci web konto. Alternatywnie można określić nazwę użytkownika i hasło dla konta programu SQL Server. W tym przypadku poświadczeń programu SQL Server są używane zarówno przez VSDBCMD utworzyć bazę danych, jak i przez pulę aplikacji do interakcji z bazą danych: <strong>Źródło danych = TESTDB1; Nazwa użytkownika = ASqlUser; Hasło = Pa$ $w0rd</strong> wskazówki w tym temacie przyjęto założenie, których będziesz używać zintegrowane uwierzytelnianie Windows. |
|        <strong>CmTargetDatabase</strong> nazwę bazy danych, utworzysz na serwerze bazy danych.        |                                                                                                                                                                                                                                                                                                                                                                                                                                                     Wartość, którą podane w tym miejscu zostanie dodany do polecenia VSDBCMD jako parametr. Służy również do skonstruowania ciągu pełne połączenie, używanego przez pulę aplikacji na serwerze sieci web do interakcji z bazą danych.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

Poniższe przykłady pokazują, jak można skonfigurować te właściwości dla konkretnych scenariuszach wdrażania.

### <a name="example-1x2014deployment-to-the-remote-agent-service"></a>Przykład 1&#x2014;wdrożenia w usłudze agenta zdalnego

W tym przykładzie:

- Wdrażana usługa agenta zdalnego na TESTWEB1.
- W przypadku poinstruowanie, Web Deploy w celu korzystania z uwierzytelniania NTLM. Narzędzie Web Deploy zostanie uruchomiony przy użyciu poświadczeń, którego użyto do wywołania aparatu Microsoft Build Engine (MSBuild).
- Za pomocą uwierzytelniania zintegrowanego wdrażanie **ContactManager** TESTDB1 bazy danych. Baza danych zostanie wdrożony przy użyciu poświadczeń, których użyto do wywołania programu MSBuild.

[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample1.xml)]

### <a name="example-2x2014deployment-to-the-web-deploy-handler-endpoint"></a>Przykład 2&#x2014;wdrażania w sieci Web wdrażanie obsługi punktu końcowego

W tym przykładzie:

- Wyświetlany jest wdrażany na punkt końcowy usługi sieci Web wdrażanie obsługi na STAGEWEB1.
- W przypadku poinstruowanie, narzędzie Web Deploy na uwierzytelnianie podstawowe.
- Określasz, że narzędzie Web Deploy należy Personifikuj konto FABRIKAM\stagingdeployer na komputerze zdalnym.
- Używasz uwierzytelniania programu SQL Server, aby wdrożyć **ContactManager** STAGEDB1 bazy danych.

[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample2.xml)]

## <a name="conclusion"></a>Wniosek

W tym momencie plików projektu w pełni są skonfigurowane do tworzenia i wdrażania rozwiązania Contact Manager do jednego lub kilku środowisk docelowego.

Aby użyć tych plików projektu w ramach procesu wdrażania pojedynczy krok, powtarzalnych, należy wykonać *Publish.proj* plików, korzystając z programu MSBuild i przekazać w lokalizacji pliku projektu określonego środowiska jako parametr. Można to zrobić na różne sposoby:

- Omówienie programu MSBuild i zapoznać się z wprowadzeniem do plików projektów niestandardowych, zobacz [objaśnienie pliku projektu](../web-deployment-in-the-enterprise/understanding-the-project-file.md).
- Aby uzyskać informacje na temat sposobu sformułować wykonuje plików projektu niestandardowe polecenie MSBuild, zobacz [wdrażanie pakietów internetowych](../web-deployment-in-the-enterprise/deploying-web-packages.md).
- Aby uzyskać informacje o tym, jak włączanie poleceń MSBuild do pliku poleceń dla kroku pojedynczej i powtarzalnej wdrożeń, zobacz [tworzenie i uruchamianie pliku poleceń wdrażania](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).
- Aby uzyskać informacje na temat sposobu wykonywania plików projektu niestandardowe poziomu kompilacji zespołowej, zobacz [tworząc definicję kompilacji tego wdrożenia obsługuje](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).

> [!div class="step-by-step"]
> [Poprzednie](creating-a-server-farm-with-the-web-farm-framework.md)
