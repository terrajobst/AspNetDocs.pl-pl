---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
title: Konfigurowanie serwera bazy danych na potrzeby publikowania Web Deploy | Microsoft Docs
author: jrjlee
description: W tym temacie opisano sposób konfigurowania serwera bazy danych SQL Server 2008 R2 do obsługi wdrażania i publikowania w sieci Web. Zadania opisane w tym temacie to...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: e7c447f9-eddf-4bbe-9f18-3326d965d093
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
msc.type: authoredcontent
ms.openlocfilehash: ade3c1ba1c470092f512436f39b8831458408c2c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78634618"
---
# <a name="configuring-a-database-server-for-web-deploy-publishing"></a><span data-ttu-id="6799a-104">Konfigurowanie serwera bazy danych dla usługi publikowania Web Deploy</span><span class="sxs-lookup"><span data-stu-id="6799a-104">Configuring a Database Server for Web Deploy Publishing</span></span>

<span data-ttu-id="6799a-105">Autor [Jason Lewandowski](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="6799a-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="6799a-106">Pobierz plik PDF</span><span class="sxs-lookup"><span data-stu-id="6799a-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="6799a-107">W tym temacie opisano sposób konfigurowania serwera bazy danych SQL Server 2008 R2 do obsługi wdrażania i publikowania w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="6799a-107">This topic describes how to configure a SQL Server 2008 R2 database server to support web deployment and publishing.</span></span>
> 
> <span data-ttu-id="6799a-108">Zadania opisane w tym temacie są wspólne dla każdego scenariusza&#x2014;wdrażania, bez względu na to, czy serwery sieci Web są skonfigurowane do korzystania z usługi zdalnego agenta wdrażania usług IIS (Web Deploy), programu obsługi Web Deploy lub wdrożenia w trybie offline lub aplikacji uruchomionej na jednym serwerze sieci Web lub w farmie serwerów.</span><span class="sxs-lookup"><span data-stu-id="6799a-108">The tasks described in this topic are common to every deployment scenario&#x2014;it doesn't matter whether your web servers are configured to use the IIS Web Deployment Tool (Web Deploy) Remote Agent Service, the Web Deploy Handler, or offline deployment or your application is running on a single web server or a server farm.</span></span> <span data-ttu-id="6799a-109">Sposób wdrażania bazy danych może ulec zmianie zgodnie z wymaganiami dotyczącymi zabezpieczeń i innymi kwestiami.</span><span class="sxs-lookup"><span data-stu-id="6799a-109">The way you deploy the database may change according to security requirements and other considerations.</span></span> <span data-ttu-id="6799a-110">Można na przykład wdrożyć bazę danych z przykładowymi danymi lub bez nich i można wdrożyć mapowania roli użytkownika lub skonfigurować je ręcznie po wdrożeniu.</span><span class="sxs-lookup"><span data-stu-id="6799a-110">For example, you might deploy the database with or without sample data, and you might deploy user role mappings or configure them manually after deployment.</span></span> <span data-ttu-id="6799a-111">Jednak sposób konfigurowania serwera bazy danych pozostaje taki sam.</span><span class="sxs-lookup"><span data-stu-id="6799a-111">However, the way you configure the database server remains the same.</span></span>

<span data-ttu-id="6799a-112">Nie trzeba instalować żadnych dodatkowych produktów ani narzędzi, aby skonfigurować serwer bazy danych do obsługi wdrażania w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="6799a-112">You don't have to install any additional products or tools to configuring a database server to support web deployment.</span></span> <span data-ttu-id="6799a-113">Przy założeniu, że serwer bazy danych i serwer sieci Web działają na różnych komputerach, wystarczy wykonać następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="6799a-113">Assuming that your database server and your web server run on different machines, you simply need to:</span></span>

- <span data-ttu-id="6799a-114">Zezwól SQL Server na komunikację przy użyciu protokołu TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="6799a-114">Permit SQL Server to communicate using TCP/IP.</span></span>
- <span data-ttu-id="6799a-115">Zezwalaj na ruch SQL Server przez zapory.</span><span class="sxs-lookup"><span data-stu-id="6799a-115">Allow SQL Server traffic through any firewalls.</span></span>
- <span data-ttu-id="6799a-116">Nadaj kontu komputera serwera sieci Web nazwę logowania SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6799a-116">Give the web server machine account a SQL Server login.</span></span>
- <span data-ttu-id="6799a-117">Zamapuj logowanie do konta komputera na wszystkie wymagane role bazy danych.</span><span class="sxs-lookup"><span data-stu-id="6799a-117">Map the machine account login to any required database roles.</span></span>
- <span data-ttu-id="6799a-118">Nadaj kontu, które będą uruchamiać wdrożenie, SQL Server uprawnienia użytkownika i twórcę bazy danych.</span><span class="sxs-lookup"><span data-stu-id="6799a-118">Give the account that will run the deployment a SQL Server login and database creator permissions.</span></span>
- <span data-ttu-id="6799a-119">Aby można było obsługiwać powtarzające się wdrożenia, należy zamapować logowanie do konta wdrożenia na rolę bazy danych **właściciela\_DB** .</span><span class="sxs-lookup"><span data-stu-id="6799a-119">To support repeat deployments, map the deployment account login to the **db\_owner** database role.</span></span>

<span data-ttu-id="6799a-120">W tym temacie przedstawiono sposób wykonywania każdej z tych procedur.</span><span class="sxs-lookup"><span data-stu-id="6799a-120">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="6799a-121">W zadaniach i przewodnikach w tym temacie przyjęto założenie, że rozpoczynasz pracę z domyślnym wystąpieniem SQL Server 2008 R2 uruchomionym w systemie Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="6799a-121">The tasks and walkthroughs in this topic assume that you're starting with a default instance of SQL Server 2008 R2 running on Windows Server 2008 R2.</span></span> <span data-ttu-id="6799a-122">Przed kontynuowaniem upewnij się, że:</span><span class="sxs-lookup"><span data-stu-id="6799a-122">Before you continue, ensure that:</span></span>

- <span data-ttu-id="6799a-123">System Windows Server 2008 R2 z dodatkiem Service Pack 1 i wszystkie dostępne aktualizacje są zainstalowane.</span><span class="sxs-lookup"><span data-stu-id="6799a-123">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="6799a-124">Serwer jest przyłączony do domeny.</span><span class="sxs-lookup"><span data-stu-id="6799a-124">The server is domain-joined.</span></span>
- <span data-ttu-id="6799a-125">Serwer ma statyczny adres IP.</span><span class="sxs-lookup"><span data-stu-id="6799a-125">The server has a static IP address.</span></span>
- <span data-ttu-id="6799a-126">SQL Server 2008 R2 z dodatkiem Service Pack 1 oraz wszystkie dostępne aktualizacje.</span><span class="sxs-lookup"><span data-stu-id="6799a-126">SQL Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>

<span data-ttu-id="6799a-127">Wystąpienie SQL Server musi zawierać tylko rolę **usługi aparatu bazy danych** , która jest włączana automatycznie podczas instalacji SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6799a-127">The SQL Server instance only needs to include the **Database Engine Services** role, which is included automatically in any SQL Server installation.</span></span> <span data-ttu-id="6799a-128">Jednak w celu ułatwienia konfiguracji i konserwacji zaleca się dołączenie **narzędzi do zarządzania — podstawowe** i narzędzia do **zarządzania — kompletne** role serwera.</span><span class="sxs-lookup"><span data-stu-id="6799a-128">However, for ease of configuration and maintenance, we recommend that you include the **Management Tools – Basic** and **Management Tools – Complete** server roles.</span></span>

> [!NOTE]
> <span data-ttu-id="6799a-129">Aby uzyskać więcej informacji na temat dołączania komputerów do domeny, zobacz [dołączanie komputerów do domeny i logowanie](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="6799a-129">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="6799a-130">Aby uzyskać więcej informacji na temat konfigurowania statycznych adresów IP, zobacz [Konfigurowanie statycznego adresu IP](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="6799a-130">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="6799a-131">Aby uzyskać więcej informacji na temat instalowania SQL Server, zobacz [instalowanie SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span><span class="sxs-lookup"><span data-stu-id="6799a-131">For more information on installing SQL Server, see [Installing SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span></span>

## <a name="enable-remote-access-to-sql-server"></a><span data-ttu-id="6799a-132">Włączanie dostępu zdalnego do SQL Server</span><span class="sxs-lookup"><span data-stu-id="6799a-132">Enable Remote Access to SQL Server</span></span>

<span data-ttu-id="6799a-133">SQL Server używa protokołu TCP/IP do komunikowania się z komputerami zdalnymi.</span><span class="sxs-lookup"><span data-stu-id="6799a-133">SQL Server uses TCP/IP to communicate with remote computers.</span></span> <span data-ttu-id="6799a-134">Jeśli serwer bazy danych i serwer sieci Web znajdują się na różnych komputerach, należy:</span><span class="sxs-lookup"><span data-stu-id="6799a-134">If your database server and your web server are on different machines, you need to:</span></span>

- <span data-ttu-id="6799a-135">Skonfiguruj ustawienia sieci SQL Server, aby umożliwić komunikację za pośrednictwem protokołu TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="6799a-135">Configure SQL Server networking settings to allow communication over TCP/IP.</span></span>
- <span data-ttu-id="6799a-136">Skonfiguruj wszelkie zapory sprzętowe lub programowe w taki sposób, aby zezwalały na ruch TCP (oraz w niektórych przypadkach ruch UDP) na portach używanych przez wystąpienie SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6799a-136">Configure any hardware or software firewalls to allow TCP traffic (and in some cases User Datagram Protocol (UDP) traffic) on the ports that the SQL Server instance uses.</span></span>

<span data-ttu-id="6799a-137">Aby umożliwić SQL Server komunikację za pośrednictwem protokołu TCP/IP, należy użyć SQL Server Configuration Manager do zmiany konfiguracji sieci dla wystąpienia SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6799a-137">To enable SQL Server to communicate over TCP/IP, use SQL Server Configuration Manager to change the network configuration for your SQL Server instance.</span></span>

<span data-ttu-id="6799a-138">**Aby włączyć komunikację SQL Server przy użyciu protokołu TCP/IP**</span><span class="sxs-lookup"><span data-stu-id="6799a-138">**To enable SQL Server to communicate using TCP/IP**</span></span>

1. <span data-ttu-id="6799a-139">W menu **Start** wskaż polecenie **Wszystkie programy**, kliknij pozycję **Microsoft SQL Server 2008 R2**, kliknij pozycję **Narzędzia konfiguracji**, a następnie kliknij pozycję **SQL Server Configuration Manager**.</span><span class="sxs-lookup"><span data-stu-id="6799a-139">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, click **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="6799a-140">W okienku widoku drzewa rozwiń węzeł **Konfiguracja sieci SQL Server**, a następnie kliknij pozycję **Protokoły dla MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="6799a-140">In the tree view pane, expand **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="6799a-141">Jeśli zainstalowano wiele wystąpień SQL Server, zobaczysz <strong>Protokoły dla</strong>elementu<em>[nazwa wystąpienia]</em> dla każdego wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="6799a-141">If you have installed multiple instances of SQL Server, you'll see a <strong>Protocols for</strong><em>[instance name]</em> item for each instance.</span></span> <span data-ttu-id="6799a-142">Należy skonfigurować ustawienia sieciowe na podstawie wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="6799a-142">You need to configure network settings on an instance-by-instance basis.</span></span>
3. <span data-ttu-id="6799a-143">W okienku szczegółów kliknij prawym przyciskiem myszy wiersz **TCP/IP** , a następnie kliknij pozycję **Włącz**.</span><span class="sxs-lookup"><span data-stu-id="6799a-143">In the details pane, right-click the **TCP/IP** row, and then click **Enable**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image1.png)
4. <span data-ttu-id="6799a-144">W oknie dialogowym **ostrzeżenia** kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="6799a-144">In the **Warning** dialog box, click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image2.png)
5. <span data-ttu-id="6799a-145">Aby nowa konfiguracja sieci zaczęła obowiązywać, należy ponownie uruchomić usługę MSSQLSERVER.</span><span class="sxs-lookup"><span data-stu-id="6799a-145">You need to restart the MSSQLSERVER service before your new network configuration will take effect.</span></span> <span data-ttu-id="6799a-146">Można to zrobić w wierszu polecenia, z poziomu konsoli usługi lub z SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6799a-146">You can do that at a command prompt, from the Services console, or from SQL Server Management Studio.</span></span> <span data-ttu-id="6799a-147">W tej procedurze zostanie użyta SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6799a-147">In this procedure, you'll use SQL Server Management Studio.</span></span>
6. <span data-ttu-id="6799a-148">Zamknij Menedżera konfiguracji programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6799a-148">Close SQL Server Configuration Manager.</span></span>
7. <span data-ttu-id="6799a-149">W menu **Start** wskaż polecenie **Wszystkie programy**, kliknij pozycję **Microsoft SQL Server 2008 R2**, a następnie kliknij pozycję **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="6799a-149">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
8. <span data-ttu-id="6799a-150">W oknie dialogowym **łączenie z serwerem** w polu **Nazwa serwera** wpisz nazwę serwera bazy danych, a następnie kliknij przycisk **Połącz**.</span><span class="sxs-lookup"><span data-stu-id="6799a-150">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image3.png)
9. <span data-ttu-id="6799a-151">W okienku **Eksplorator obiektów** kliknij prawym przyciskiem myszy węzeł serwera nadrzędnego (na przykład **TESTDB1**), a następnie kliknij pozycję **Uruchom ponownie**.</span><span class="sxs-lookup"><span data-stu-id="6799a-151">In the **Object Explorer** pane, right-click the parent server node (for example, **TESTDB1**), and then click **Restart**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image4.png)
10. <span data-ttu-id="6799a-152">W oknie dialogowym **Management Studio Microsoft SQL Server** kliknij przycisk **tak**.</span><span class="sxs-lookup"><span data-stu-id="6799a-152">In the **Microsoft SQL Server Management Studio** dialog box, click **Yes**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image5.png)
11. <span data-ttu-id="6799a-153">Po ponownym uruchomieniu usługi Zamknij SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6799a-153">When the service has restarted, close SQL Server Management Studio.</span></span>

<span data-ttu-id="6799a-154">Aby zezwolić na ruch SQL Server przez zaporę, najpierw musisz wiedzieć, które porty są używane przez wystąpienie SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6799a-154">To allow SQL Server traffic through a firewall, you first need to know which ports your SQL Server instance is using.</span></span> <span data-ttu-id="6799a-155">Zależą od tego, jak wystąpienie SQL Server zostało utworzone i skonfigurowane:</span><span class="sxs-lookup"><span data-stu-id="6799a-155">This will depend on how the SQL Server instance was created and configured:</span></span>

- <span data-ttu-id="6799a-156">*Domyślne wystąpienie* SQL Server nasłuchuje żądań (i odpowiada na nie) na porcie TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="6799a-156">A *default instance* of SQL Server listens for (and responds to) requests on TCP port 1433.</span></span>
- <span data-ttu-id="6799a-157">*Nazwane wystąpienie* SQL Server nasłuchuje żądań (i reaguje na nie) na dynamicznie przypisanym porcie TCP.</span><span class="sxs-lookup"><span data-stu-id="6799a-157">A *named instance* of SQL Server listens for (and responds to) requests on a dynamically assigned TCP port.</span></span>
- <span data-ttu-id="6799a-158">Jeśli usługa SQL Server Browser jest włączona, klienci mogą wysyłać zapytania do usługi na porcie UDP 1434, aby dowiedzieć się, który port TCP ma być używany dla określonego wystąpienia SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6799a-158">If the SQL Server Browser service is enabled, clients can query the service on UDP port 1434 to find out which TCP port to use for a particular SQL Server instance.</span></span> <span data-ttu-id="6799a-159">Ta usługa jest jednak często wyłączona ze względów bezpieczeństwa.</span><span class="sxs-lookup"><span data-stu-id="6799a-159">However, this service is often disabled for security reasons.</span></span>

<span data-ttu-id="6799a-160">Przy założeniu, że używasz domyślnego wystąpienia SQL Server, musisz skonfigurować zaporę tak, aby zezwalała na ruch.</span><span class="sxs-lookup"><span data-stu-id="6799a-160">Assuming that you're using a default instance of SQL Server, you need to configure your firewall to allow traffic.</span></span>

| <span data-ttu-id="6799a-161">Kierunek</span><span class="sxs-lookup"><span data-stu-id="6799a-161">Direction</span></span> | <span data-ttu-id="6799a-162">Z portu</span><span class="sxs-lookup"><span data-stu-id="6799a-162">From Port</span></span> | <span data-ttu-id="6799a-163">Do portu</span><span class="sxs-lookup"><span data-stu-id="6799a-163">To Port</span></span> | <span data-ttu-id="6799a-164">Typ portu</span><span class="sxs-lookup"><span data-stu-id="6799a-164">Port Type</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6799a-165">Przychodzący</span><span class="sxs-lookup"><span data-stu-id="6799a-165">Inbound</span></span> | <span data-ttu-id="6799a-166">Dowolne</span><span class="sxs-lookup"><span data-stu-id="6799a-166">Any</span></span> | <span data-ttu-id="6799a-167">1433</span><span class="sxs-lookup"><span data-stu-id="6799a-167">1433</span></span> | <span data-ttu-id="6799a-168">TCP</span><span class="sxs-lookup"><span data-stu-id="6799a-168">TCP</span></span> |
| <span data-ttu-id="6799a-169">Wychodzący</span><span class="sxs-lookup"><span data-stu-id="6799a-169">Outbound</span></span> | <span data-ttu-id="6799a-170">1433</span><span class="sxs-lookup"><span data-stu-id="6799a-170">1433</span></span> | <span data-ttu-id="6799a-171">Dowolne</span><span class="sxs-lookup"><span data-stu-id="6799a-171">Any</span></span> | <span data-ttu-id="6799a-172">TCP</span><span class="sxs-lookup"><span data-stu-id="6799a-172">TCP</span></span> |

> [!NOTE]
> <span data-ttu-id="6799a-173">Technicznie komputery klienckie będą używać losowo przypisanego portu TCP między 1024 i 5000, aby komunikować się z SQL Server i można odpowiednio ograniczyć reguły zapory.</span><span class="sxs-lookup"><span data-stu-id="6799a-173">Technically, a client computer will use a randomly assigned TCP port between 1024 and 5000 to communicate with SQL Server, and you can restrict your firewall rules accordingly.</span></span> <span data-ttu-id="6799a-174">Aby uzyskać więcej informacji na SQL Server portów i zapór, zobacz [numery portów TCP/IP wymagane do komunikacji z usługą SQL przez zaporę](https://go.microsoft.com/?linkid=9805125) i [instrukcje: Konfigurowanie serwera do nasłuchiwania na konkretnym porcie TCP (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span><span class="sxs-lookup"><span data-stu-id="6799a-174">For more information on SQL Server ports and firewalls, see [TCP/IP port numbers required to communicate to SQL over a firewall](https://go.microsoft.com/?linkid=9805125) and [How to: Configure a Server to Listen on a Specific TCP Port (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span></span>

<span data-ttu-id="6799a-175">W większości środowisk systemu Windows Server prawdopodobnie trzeba będzie skonfigurować zaporę systemu Windows na serwerze bazy danych.</span><span class="sxs-lookup"><span data-stu-id="6799a-175">In most Windows Server environments, you'll likely have to configure Windows Firewall on the database server.</span></span> <span data-ttu-id="6799a-176">Domyślnie Zapora systemu Windows zezwala na cały ruch wychodzący, chyba że reguła zabrania go.</span><span class="sxs-lookup"><span data-stu-id="6799a-176">By default, Windows Firewall allows all outbound traffic unless a rule specifically prohibits it.</span></span> <span data-ttu-id="6799a-177">Aby umożliwić serwerowi sieci Web dostęp do bazy danych, należy skonfigurować regułę ruchu przychodzącego, która zezwala na ruch TCP na numer portu, którego używa wystąpienie SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6799a-177">To enable your web server to reach your database, you need to configure an inbound rule that allows TCP traffic on the port number that the SQL Server instance uses.</span></span> <span data-ttu-id="6799a-178">Jeśli używasz domyślnego wystąpienia SQL Server, możesz użyć następnej procedury, aby skonfigurować tę regułę.</span><span class="sxs-lookup"><span data-stu-id="6799a-178">If you're using a default instance of SQL Server, you can use the next procedure to configure this rule.</span></span>

<span data-ttu-id="6799a-179">**Aby skonfigurować zaporę systemu Windows w celu zezwalania na komunikację z domyślnym wystąpieniem SQL Server**</span><span class="sxs-lookup"><span data-stu-id="6799a-179">**To configure Windows Firewall to allow communication with a default SQL Server instance**</span></span>

1. <span data-ttu-id="6799a-180">Na serwerze bazy danych w menu **Start** wskaż polecenie **Narzędzia administracyjne**, a następnie kliknij pozycję **Zapora systemu Windows z zabezpieczeniami zaawansowanymi**.</span><span class="sxs-lookup"><span data-stu-id="6799a-180">On the database server, on the **Start** menu, point to **Administrative Tools**, and then click **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="6799a-181">W okienku widoku drzewa kliknij pozycję **reguły ruchu przychodzącego**.</span><span class="sxs-lookup"><span data-stu-id="6799a-181">In the tree view pane, click **Inbound Rules**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image6.png)
3. <span data-ttu-id="6799a-182">W okienku **Akcje** w obszarze **reguły ruchu przychodzącego**kliknij pozycję **Nowa reguła**.</span><span class="sxs-lookup"><span data-stu-id="6799a-182">In the **Actions** pane, under **Inbound Rules**, click **New Rule**.</span></span>
4. <span data-ttu-id="6799a-183">W Kreatorze nowej reguły ruchu przychodzącego na stronie **Typ reguły** wybierz pozycję **port**, a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="6799a-183">In the New Inbound Rule Wizard, on the **Rule Type** page, select **Port**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image7.png)
5. <span data-ttu-id="6799a-184">Na stronie **Protokół i porty** upewnij się, że wybrano opcję **TCP** i w polu **określone porty lokalne** wpisz **1433**, a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="6799a-184">On the **Protocol and Ports** page, ensure that **TCP** is selected, and in the **Specific local ports** box, type **1433**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image8.png)
6. <span data-ttu-id="6799a-185">Na stronie **Akcja** pozostaw zaznaczone pole wyboru **Zezwalaj na połączenie** , a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="6799a-185">On the **Action** page, leave **Allow the connection** selected and click **Next**.</span></span>
7. <span data-ttu-id="6799a-186">Na stronie **profil** pozostaw wybraną **domenę** , wyczyść pola wyboru **prywatne** i **publiczne** , a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="6799a-186">On the **Profile** page, leave **Domain** selected, clear the **Private** and **Public** check boxes, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image9.png)
8. <span data-ttu-id="6799a-187">Na stronie **Nazwa** nadaj regule odpowiednio nazwę opisową (na przykład **SQL Server domyślne wystąpienie — dostęp do sieci**), a następnie kliknij przycisk **Zakończ**.</span><span class="sxs-lookup"><span data-stu-id="6799a-187">On the **Name** page, give the rule a suitably descriptive name (for example, **SQL Server default instance – network access**), and then click **Finish**.</span></span>

<span data-ttu-id="6799a-188">Aby uzyskać więcej informacji na temat konfigurowania zapory systemu Windows dla SQL Server, szczególnie jeśli chcesz komunikować się z SQL Server za pośrednictwem portów niestandardowych lub dynamicznych, zobacz [How to: Configure a Zapora systemu Windows na potrzeby dostępu do aparatu bazy danych](https://technet.microsoft.com/library/ms175043.aspx).</span><span class="sxs-lookup"><span data-stu-id="6799a-188">For more information on configuring Windows Firewall for SQL Server, particularly if you need to communicate with SQL Server over non-standard or dynamic ports, see [How to: Configure a Windows Firewall for Database Engine Access](https://technet.microsoft.com/library/ms175043.aspx).</span></span>

## <a name="configure-logins-and-database-permissions"></a><span data-ttu-id="6799a-189">Konfigurowanie logowań i uprawnień bazy danych</span><span class="sxs-lookup"><span data-stu-id="6799a-189">Configure Logins and Database Permissions</span></span>

<span data-ttu-id="6799a-190">Podczas wdrażania aplikacji sieci Web do Internet Information Services (IIS) aplikacja jest uruchamiana przy użyciu tożsamości puli aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6799a-190">When you deploy a web application to Internet Information Services (IIS), the application runs using the identity of the application pool.</span></span> <span data-ttu-id="6799a-191">W środowisku domeny tożsamości puli aplikacji używają konta komputera serwera, na którym są uruchamiane w celu uzyskania dostępu do zasobów sieciowych.</span><span class="sxs-lookup"><span data-stu-id="6799a-191">In a domain environment, application pool identities use the machine account of the server on which they run to access network resources.</span></span> <span data-ttu-id="6799a-192">Konta komputerów przyjmują postać <em>[Domain Name]</em><strong>\</strong ><em>[nazwa komputera]</em> <strong>$</strong> &#x2014;na przykład <strong>FABRIKAM\TESTWEB1 $</strong>.</span><span class="sxs-lookup"><span data-stu-id="6799a-192">Machine accounts take the form <em>[domain name]</em><strong>\</strong><em>[machine name]</em><strong>$</strong>&#x2014;for example, <strong>FABRIKAM\TESTWEB1$</strong>.</span></span> <span data-ttu-id="6799a-193">Aby umożliwić aplikacji sieci Web dostęp do bazy danych w sieci, należy:</span><span class="sxs-lookup"><span data-stu-id="6799a-193">To allow your web application to access a database across the network, you need to:</span></span>

- <span data-ttu-id="6799a-194">Dodaj nazwę logowania dla konta komputera serwera sieci Web do wystąpienia SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6799a-194">Add a login for the web server machine account to the SQL Server instance.</span></span>
- <span data-ttu-id="6799a-195">Zamapuj logowanie do konta komputera na wszystkie wymagane role bazy danych (zazwyczaj **db\_DataReader** i **DB\_datawriteer**).</span><span class="sxs-lookup"><span data-stu-id="6799a-195">Map the machine account login to any required database roles (typically **db\_datareader** and **db\_datawriter**).</span></span>

<span data-ttu-id="6799a-196">Jeśli aplikacja sieci Web jest uruchomiona w farmie serwerów, a nie na pojedynczym serwerze, należy powtórzyć te procedury dla każdego serwera sieci Web w farmie serwerów.</span><span class="sxs-lookup"><span data-stu-id="6799a-196">If your web application is running on a server farm, rather than a single server, you'll need to repeat these procedures for every web server in the server farm.</span></span>

> [!NOTE]
> <span data-ttu-id="6799a-197">Aby uzyskać więcej informacji na temat tożsamości puli aplikacji i uzyskiwania dostępu do zasobów sieciowych, zobacz [tożsamość puli aplikacji](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="6799a-197">For more information on application pool identities and accessing network resources, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>

<span data-ttu-id="6799a-198">Te zadania można podejścia na różne sposoby.</span><span class="sxs-lookup"><span data-stu-id="6799a-198">You can approach these tasks in various ways.</span></span> <span data-ttu-id="6799a-199">Aby utworzyć identyfikator logowania, można wykonać jedną z:</span><span class="sxs-lookup"><span data-stu-id="6799a-199">To create the login, you can either:</span></span>

- <span data-ttu-id="6799a-200">Ręcznie Utwórz identyfikator logowania na serwerze bazy danych przy użyciu języka Transact-SQL lub SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6799a-200">Create the login manually on the database server, using Transact-SQL or SQL Server Management Studio.</span></span>
- <span data-ttu-id="6799a-201">Użyj projektu serwera SQL Server 2008 w programie Visual Studio, aby utworzyć i wdrożyć nazwę logowania.</span><span class="sxs-lookup"><span data-stu-id="6799a-201">Use a SQL Server 2008 Server Project in Visual Studio to create and deploy the login.</span></span>

<span data-ttu-id="6799a-202">Logowanie SQL Server jest obiektem na poziomie serwera, a nie obiektem na poziomie bazy danych, więc nie zależy od bazy danych, którą chcesz wdrożyć.</span><span class="sxs-lookup"><span data-stu-id="6799a-202">A SQL Server login is a server-level object, rather than a database-level object, so it's not dependent on the database you want to deploy.</span></span> <span data-ttu-id="6799a-203">W związku z tym można utworzyć identyfikator logowania w dowolnym momencie, a najprostszym podejściem jest często ręczne utworzenie nazwy logowania na serwerze bazy danych przed rozpoczęciem wdrażania baz danych.</span><span class="sxs-lookup"><span data-stu-id="6799a-203">As such, you can create the login at any point, and the easiest approach is often to create the login manually on the database server before you start deploying databases.</span></span> <span data-ttu-id="6799a-204">Przy użyciu następnej procedury można utworzyć identyfikator logowania w SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6799a-204">You can use the next procedure to create a login in SQL Server Management Studio.</span></span>

<span data-ttu-id="6799a-205">**Aby utworzyć identyfikator logowania SQL Server dla konta komputera serwera sieci Web**</span><span class="sxs-lookup"><span data-stu-id="6799a-205">**To create a SQL Server login for the web server machine account**</span></span>

1. <span data-ttu-id="6799a-206">Na serwerze bazy danych w menu **Start** wskaż polecenie **Wszystkie programy**, kliknij pozycję **Microsoft SQL Server 2008 R2**, a następnie kliknij pozycję **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="6799a-206">On the database server, on the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
2. <span data-ttu-id="6799a-207">W oknie dialogowym **łączenie z serwerem** w polu **Nazwa serwera** wpisz nazwę serwera bazy danych, a następnie kliknij przycisk **Połącz**.</span><span class="sxs-lookup"><span data-stu-id="6799a-207">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image10.png)
3. <span data-ttu-id="6799a-208">W okienku **Eksplorator obiektów** kliknij prawym przyciskiem myszy pozycję **zabezpieczenia**, wskaż polecenie **Nowy**, a następnie kliknij pozycję **Zaloguj**.</span><span class="sxs-lookup"><span data-stu-id="6799a-208">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
4. <span data-ttu-id="6799a-209">W oknie dialogowym **Logowanie — nowy** w polu **Nazwa logowania** wpisz nazwę konta komputera serwera sieci Web (na przykład **FABRIKAM\TESTWEB1 $** ).</span><span class="sxs-lookup"><span data-stu-id="6799a-209">In the **Login – New** dialog box, in the **Login name** box, type the name of your web server machine account (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image11.png)
5. <span data-ttu-id="6799a-210">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="6799a-210">Click **OK**.</span></span>

<span data-ttu-id="6799a-211">Na tym etapie serwer bazy danych jest gotowy do publikowania Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="6799a-211">At this point, your database server is ready for Web Deploy publishing.</span></span> <span data-ttu-id="6799a-212">Jednak wdrożone rozwiązania nie będą działały, dopóki nie zostanie zmapowane logowanie do konta komputera w wymaganych rolach bazy danych.</span><span class="sxs-lookup"><span data-stu-id="6799a-212">However, any solutions you deploy won't work until you map the machine account login to the required database roles.</span></span> <span data-ttu-id="6799a-213">Mapowanie logowania do ról bazy danych wymaga dużej liczby myśli, ponieważ nie można mapować ról do momentu, gdy baza danych zostanie wdrożona.</span><span class="sxs-lookup"><span data-stu-id="6799a-213">Mapping the login to database roles requires a lot more thought, as you can't map roles until after you've deployed the database.</span></span> <span data-ttu-id="6799a-214">Aby zmapować logowanie do konta komputera do wymaganych ról bazy danych, można wykonać jedną z następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="6799a-214">To map the machine account login to the required database roles, you can either:</span></span>

- <span data-ttu-id="6799a-215">Ręcznie Przypisz role bazy danych do nazwy logowania po wdrożeniu bazy danych po raz pierwszy.</span><span class="sxs-lookup"><span data-stu-id="6799a-215">Assign the database roles to the login manually, after you've deployed the database for the first time.</span></span>
- <span data-ttu-id="6799a-216">Użyj skryptu powdrożeniowego, aby przypisać role bazy danych do nazwy logowania.</span><span class="sxs-lookup"><span data-stu-id="6799a-216">Use a post-deployment script to assign the database roles to the login.</span></span>

<span data-ttu-id="6799a-217">Aby uzyskać więcej informacji na temat automatyzowania tworzenia identyfikatorów logowania i mapowania ról bazy danych, zobacz [wdrażanie członkostw ról bazy danych w środowiskach testowych](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="6799a-217">For more information on automating the creation of logins and database role mappings, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="6799a-218">Można też użyć następnej procedury, aby ręcznie zmapować logowanie do konta komputera do wymaganej roli bazy danych.</span><span class="sxs-lookup"><span data-stu-id="6799a-218">Alternatively, you can use the next procedure to map the machine account login to the required database roles manually.</span></span> <span data-ttu-id="6799a-219">Należy pamiętać, że nie można wykonać tej procedury dopiero *po* wdrożeniu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="6799a-219">Remember that you can't perform this procedure until *after* you've deployed the database.</span></span>

<span data-ttu-id="6799a-220">**Aby zamapować role bazy danych na logowanie do konta komputera serwera sieci Web**</span><span class="sxs-lookup"><span data-stu-id="6799a-220">**To map database roles to the web server machine account login**</span></span>

1. <span data-ttu-id="6799a-221">Otwórz SQL Server Management Studio jak wcześniej.</span><span class="sxs-lookup"><span data-stu-id="6799a-221">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="6799a-222">W okienku **Eksplorator obiektów** rozwiń węzeł **zabezpieczenia** , rozwiń węzeł **logowania** , a następnie kliknij dwukrotnie pozycję Logowanie do konta komputera (na przykład **FABRIKAM\TESTWEB1 $** ).</span><span class="sxs-lookup"><span data-stu-id="6799a-222">In the **Object Explorer** pane, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image12.png)
3. <span data-ttu-id="6799a-223">W oknie dialogowym **Właściwości logowania** kliknij pozycję **Mapowanie użytkownika**.</span><span class="sxs-lookup"><span data-stu-id="6799a-223">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="6799a-224">W tabeli **Użytkownicy zamapowane na tę nazwę logowania** wybierz nazwę bazy danych (na przykład **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="6799a-224">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="6799a-225">Na liście **członkostwo w roli bazy danych dla:** *[nazwa bazy danych]* wybierz wymagane uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="6799a-225">In the **Database role membership for:** *[database name]* list, select the permissions required.</span></span> <span data-ttu-id="6799a-226">W przypadku przykładowego rozwiązania Contact Manager należy wybrać role **bazy danych\_DataReader** i **baza danych\_** .</span><span class="sxs-lookup"><span data-stu-id="6799a-226">In the case of the Contact Manager sample solution, you must select the **db\_datareader** and **db\_datawriter** roles.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image13.png)
6. <span data-ttu-id="6799a-227">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="6799a-227">Click **OK**.</span></span>

<span data-ttu-id="6799a-228">Podczas ręcznego mapowania ról bazy danych jest często większa niż odpowiednia dla środowisk testowych, ale jest mniej pożądane dla wdrożeń zautomatyzowanych lub jednym kliknięciem w środowisku przejściowym lub produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="6799a-228">While manually mapping database roles is often more than adequate for test environments, it's less desirable for automated or one-click deployments to staging or production environments.</span></span> <span data-ttu-id="6799a-229">Więcej informacji na temat automatyzowania tego rodzaju zadania za pomocą skryptów po wdrożeniu można znaleźć w temacie [wdrażanie członkostw roli bazy danych w środowiskach testowych](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="6799a-229">You can find more information on automating this kind of task using post-deployment scripts in [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span>

> [!NOTE]
> <span data-ttu-id="6799a-230">Aby uzyskać więcej informacji na temat projektów serwera i projektów bazy danych, zobacz [Visual Studio 2010 SQL Server projects Database](https://msdn.microsoft.com/library/ff678491.aspx).</span><span class="sxs-lookup"><span data-stu-id="6799a-230">For more information on server projects and database projects, see [Visual Studio 2010 SQL Server Database Projects](https://msdn.microsoft.com/library/ff678491.aspx).</span></span>

## <a name="configure-permissions-for-the-deployment-account"></a><span data-ttu-id="6799a-231">Konfigurowanie uprawnień dla konta wdrożenia</span><span class="sxs-lookup"><span data-stu-id="6799a-231">Configure Permissions for the Deployment Account</span></span>

<span data-ttu-id="6799a-232">Jeśli konto, którego będziesz używać do uruchamiania wdrożenia, nie jest administratorem SQL Server, należy również utworzyć identyfikator logowania dla tego konta.</span><span class="sxs-lookup"><span data-stu-id="6799a-232">If the account that you'll use to run the deployment is not a SQL Server administrator, you'll also need to create a login for this account.</span></span> <span data-ttu-id="6799a-233">Aby można było utworzyć bazę danych, konto musi być członkiem roli serwera **dbcreator** lub mieć równoważne uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="6799a-233">In order to create the database, the account must be a member of the **dbcreator** server role or have equivalent permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="6799a-234">W przypadku używania Web Deploy lub VSDBCMD do wdrożenia bazy danych można użyć poświadczeń systemu Windows lub poświadczeń SQL Server (Jeśli wystąpienie SQL Server jest skonfigurowane do obsługi uwierzytelniania w trybie mieszanym).</span><span class="sxs-lookup"><span data-stu-id="6799a-234">When you use Web Deploy or VSDBCMD to deploy a database, you can use Windows credentials or SQL Server credentials (if your SQL Server instance is configured to support mixed mode authentication).</span></span> <span data-ttu-id="6799a-235">W następnej procedurze przyjęto założenie, że użytkownik chce używać poświadczeń systemu Windows, ale nie ma żadnego zatrzymywania podania nazwy użytkownika SQL Server i hasła w parametrach połączenia podczas konfigurowania wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="6799a-235">The next procedure assumes that you want to use Windows credentials, but there's nothing stopping you from specifying a SQL Server user name and password in your connection string when you configure the deployment.</span></span>

<span data-ttu-id="6799a-236">**Aby skonfigurować uprawnienia dla konta wdrożenia**</span><span class="sxs-lookup"><span data-stu-id="6799a-236">**To set up permissions for the deployment account**</span></span>

1. <span data-ttu-id="6799a-237">Otwórz SQL Server Management Studio jak wcześniej.</span><span class="sxs-lookup"><span data-stu-id="6799a-237">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="6799a-238">W okienku **Eksplorator obiektów** kliknij prawym przyciskiem myszy pozycję **zabezpieczenia**, wskaż polecenie **Nowy**, a następnie kliknij pozycję **Zaloguj**.</span><span class="sxs-lookup"><span data-stu-id="6799a-238">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
3. <span data-ttu-id="6799a-239">W oknie dialogowym **login — nowe** w polu **Nazwa logowania** wpisz nazwę konta wdrożenia (na przykład **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="6799a-239">In the **Login – New** dialog box, in the **Login name** box, type the name of your deployment account (for example, **FABRIKAM\matt**).</span></span>
4. <span data-ttu-id="6799a-240">W okienku **Wybierz stronę** kliknij pozycję **role serwera**.</span><span class="sxs-lookup"><span data-stu-id="6799a-240">In the **Select a page** pane, click **Server Roles**.</span></span>
5. <span data-ttu-id="6799a-241">Wybierz pozycję **dbcreator**, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="6799a-241">Select **dbcreator**, and then click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image14.png)

<span data-ttu-id="6799a-242">Aby obsłużyć kolejne wdrożenia, należy również dodać konto wdrażania do roli **właściciela bazy danych\_** w bazie danych programu po pierwszym wdrożeniu.</span><span class="sxs-lookup"><span data-stu-id="6799a-242">To support subsequent deployments, you'll also need to add the deploying account to the **db\_owner** role on the database after the first deployment.</span></span> <span data-ttu-id="6799a-243">Dzieje się tak, ponieważ w przypadku kolejnych wdrożeń modyfikujących schemat istniejącej bazy danych zamiast tworzenia nowej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="6799a-243">This is because on subsequent deployments you're modifying the schema of an existing database, rather than creating a new database.</span></span> <span data-ttu-id="6799a-244">Zgodnie z opisem w poprzedniej sekcji nie można dodać użytkownika do roli bazy danych, dopóki baza danych nie zostanie utworzona z oczywistych powodów.</span><span class="sxs-lookup"><span data-stu-id="6799a-244">As described in the previous section, you can't add a user to a database role until you've created the database, for obvious reasons.</span></span>

<span data-ttu-id="6799a-245">**Aby zmapować logowanie do konta wdrożenia do roli bazy danych właściciela\_**</span><span class="sxs-lookup"><span data-stu-id="6799a-245">**To map the deployment account login to the db\_owner database role**</span></span>

1. <span data-ttu-id="6799a-246">Otwórz SQL Server Management Studio jak wcześniej.</span><span class="sxs-lookup"><span data-stu-id="6799a-246">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="6799a-247">W oknie **Eksplorator obiektów** rozwiń węzeł **zabezpieczenia** , rozwiń węzeł **logowania** , a następnie kliknij dwukrotnie pozycję Logowanie do konta komputera (na przykład **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="6799a-247">In the **Object Explorer** window, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\matt**).</span></span>
3. <span data-ttu-id="6799a-248">W oknie dialogowym **Właściwości logowania** kliknij pozycję **Mapowanie użytkownika**.</span><span class="sxs-lookup"><span data-stu-id="6799a-248">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="6799a-249">W tabeli **Użytkownicy zamapowane na tę nazwę logowania** wybierz nazwę bazy danych (na przykład **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="6799a-249">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="6799a-250">Z listy **członkostwo w roli bazy danych dla:** *[nazwa bazy danych]* wybierz rolę **właściciela\_bazy danych** .</span><span class="sxs-lookup"><span data-stu-id="6799a-250">In the **Database role membership for:** *[database name]* list, select the **db\_owner** role.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image15.png)
6. <span data-ttu-id="6799a-251">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="6799a-251">Click **OK**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="6799a-252">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="6799a-252">Conclusion</span></span>

<span data-ttu-id="6799a-253">Serwer bazy danych powinien teraz być gotowy do akceptowania zdalnych wdrożeń baz danych i zezwalania zdalnym serwerom sieci Web usług IIS na dostęp do baz danych.</span><span class="sxs-lookup"><span data-stu-id="6799a-253">Your database server should now be ready to accept remote database deployments and to allow remote IIS web servers to access your databases.</span></span> <span data-ttu-id="6799a-254">Przed podjęciem próby wdrożenia baz danych i korzystania z nich warto sprawdzić następujące kluczowe punkty:</span><span class="sxs-lookup"><span data-stu-id="6799a-254">Before you attempt to deploy and use databases, you may want to check these key points:</span></span>

- <span data-ttu-id="6799a-255">Czy skonfigurowano SQL Server do akceptowania zdalnych połączeń TCP/IP?</span><span class="sxs-lookup"><span data-stu-id="6799a-255">Have you configured SQL Server to accept remote TCP/IP connections?</span></span>
- <span data-ttu-id="6799a-256">Czy skonfigurowano zapory zezwalające na ruch SQL Server?</span><span class="sxs-lookup"><span data-stu-id="6799a-256">Have you configured any firewalls to permit SQL Server traffic?</span></span>
- <span data-ttu-id="6799a-257">Czy utworzono logowanie do konta komputera dla każdego serwera sieci Web, który będzie miał dostęp SQL Server?</span><span class="sxs-lookup"><span data-stu-id="6799a-257">Have you created a machine account login for every web server that will access SQL Server?</span></span>
- <span data-ttu-id="6799a-258">Czy wdrożenie bazy danych obejmuje skrypt służący do tworzenia mapowań roli użytkownika, czy też należy je utworzyć ręcznie po wdrożeniu bazy danych po raz pierwszy?</span><span class="sxs-lookup"><span data-stu-id="6799a-258">Does your database deployment include a script to create user role mappings, or do you need to create these manually after you deploy the database for the first time?</span></span>
- <span data-ttu-id="6799a-259">Czy utworzono identyfikator logowania dla konta wdrożenia i został on dodany do roli serwera **dbcreator** ?</span><span class="sxs-lookup"><span data-stu-id="6799a-259">Have you created a login for the deployment account and added it to the **dbcreator** server role?</span></span>

## <a name="further-reading"></a><span data-ttu-id="6799a-260">Dalsze informacje</span><span class="sxs-lookup"><span data-stu-id="6799a-260">Further Reading</span></span>

<span data-ttu-id="6799a-261">Aby uzyskać wskazówki dotyczące wdrażania projektów bazy danych, zobacz [wdrażanie projektów bazy danych](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="6799a-261">For guidance on deploying database projects, see [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="6799a-262">Aby uzyskać wskazówki dotyczące tworzenia członkostw roli bazy danych, uruchamiając skrypt powdrożeniowy, zobacz [wdrażanie członkostw roli bazy danych w środowiskach testowych](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="6799a-262">For guidance on creating database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="6799a-263">Aby uzyskać informacje na temat sposobu zaspokajania unikatowych wyzwań związanych z wdrażaniem, które są przeznaczone dla baz danych, zobacz [wdrażanie baz danych członkostwa w środowiskach przedsiębiorstw](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="6799a-263">For guidance on how to meet the unique deployment challenges that membership databases pose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="6799a-264">[Poprzednie](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
> [dalej](creating-a-server-farm-with-the-web-farm-framework.md)</span><span class="sxs-lookup"><span data-stu-id="6799a-264">[Previous](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Next](creating-a-server-farm-with-the-web-farm-framework.md)</span></span>
