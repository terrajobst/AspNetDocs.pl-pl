---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-project-file
title: Objaśnienie pliku projektu | Dokumentacja firmy Microsoft
author: jrjlee
description: Pliki projektu aparatu Microsoft Build Engine (MSBuild) znajdują się w ramach procesu kompilacji i wdrażania. W tym temacie zaczyna się omówienie pojęć dotyczących programu MSBuild...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 07978d9d-341c-4524-bcba-62976f390f77
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-project-file
msc.type: authoredcontent
ms.openlocfilehash: d774a8e13e108d1be4c39e1e909d3d9683968a0d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/09/2019
ms.locfileid: "59404926"
---
# <a name="understanding-the-project-file"></a><span data-ttu-id="ed3b6-104">Objaśnienie pliku projektu</span><span class="sxs-lookup"><span data-stu-id="ed3b6-104">Understanding the Project File</span></span>

<span data-ttu-id="ed3b6-105">przez [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="ed3b6-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="ed3b6-106">Pobierz plik PDF</span><span class="sxs-lookup"><span data-stu-id="ed3b6-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="ed3b6-107">Pliki projektu aparatu Microsoft Build Engine (MSBuild) znajdują się w ramach procesu kompilacji i wdrażania.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-107">Microsoft Build Engine (MSBuild) project files lie at the heart of the build and deployment process.</span></span> <span data-ttu-id="ed3b6-108">W tym temacie zaczyna się omówienie pojęć dotyczących programu MSBuild i pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-108">This topic starts with a conceptual overview of MSBuild and the project file.</span></span> <span data-ttu-id="ed3b6-109">Opisuje najważniejsze składniki, które będzie trafisz na podczas pracy z plikami projektu i działa za pośrednictwem przykład sposobu użycia plików projektu w celu wdrażania aplikacji w rzeczywistych warunkach.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-109">It describes the key components you'll come across when you work with project files, and it works through an example of how you can use project files to deploy real-world applications.</span></span>
> 
> <span data-ttu-id="ed3b6-110">Zawartość:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-110">What you'll learn:</span></span>
> 
> - <span data-ttu-id="ed3b6-111">Jak program MSBuild używa plików projektu MSBuild do kompilowania projektów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-111">How MSBuild uses MSBuild project files to build projects.</span></span>
> - <span data-ttu-id="ed3b6-112">Jak MSBuild integruje się z wdrożenia technologii, takich jak Internet Information Services (IIS) Narzędzie wdrażania sieci Web (Web Deploy).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-112">How MSBuild integrates with deployment technologies, like the Internet Information Services (IIS) Web Deployment Tool (Web Deploy).</span></span>
> - <span data-ttu-id="ed3b6-113">Jak zrozumieć kluczowe składniki pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-113">How to understand the key components of a project file.</span></span>
> - <span data-ttu-id="ed3b6-114">Jak można użyć plików projektu, tworzyć i wdrażać złożone aplikacje.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-114">How you can use project files to build and deploy complex applications.</span></span>


## <a name="msbuild-and-the-project-file"></a><span data-ttu-id="ed3b6-115">MSBuild i pliku projektu</span><span class="sxs-lookup"><span data-stu-id="ed3b6-115">MSBuild and the Project File</span></span>

<span data-ttu-id="ed3b6-116">Podczas tworzenia i tworzyć rozwiązania w programie Visual Studio, Visual Studio używa MSBuild do tworzenia każdego projektu w rozwiązaniu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-116">When you create and build solutions in Visual Studio, Visual Studio uses MSBuild to build each project in your solution.</span></span> <span data-ttu-id="ed3b6-117">Każdy projekt programu Visual Studio zawiera plik projektu MSBuild z rozszerzeniem pliku, który odzwierciedla typu projektu&#x2014;na przykład projekt C# (.csproj), języku wizualnego projektu (.vbproj) lub projekt bazy danych (.dbproj).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-117">Every Visual Studio project includes an MSBuild project file, with a file extension that reflects the type of project&#x2014;for example, a C# project (.csproj), a Visual Basic.NET project (.vbproj), or a database project (.dbproj).</span></span> <span data-ttu-id="ed3b6-118">Aby skompilować projekt, program MSBuild musi przetworzyć plik projektu skojarzony z projektem.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-118">In order to build a project, MSBuild must process the project file associated with the project.</span></span> <span data-ttu-id="ed3b6-119">Plik projektu jest dokumentu XML, który zawiera wszystkie informacje i instrukcje, że program MSBuild wymaga w celu kompilowania projektu, takich jak zawartość, aby uwzględnić wymagania dotyczące platformy, informacji o wersji, serwer sieci web lub ustawienia serwera bazy danych, a zadania, które muszą być wykonywane.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-119">The project file is an XML document that contains all the information and instructions that MSBuild needs in order to build your project, like the content to include, the platform requirements, versioning information, web server or database server settings, and the tasks that must be performed.</span></span>

<span data-ttu-id="ed3b6-120">Pliki projektu MSBuild opierają się na [schematu MSBuild XML](https://msdn.microsoft.com/library/5dy88c2e.aspx), i dzięki temu proces kompilacji jest całkowicie otwarty i przejrzysty.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-120">MSBuild project files are based on the [MSBuild XML schema](https://msdn.microsoft.com/library/5dy88c2e.aspx), and as a result the build process is entirely open and transparent.</span></span> <span data-ttu-id="ed3b6-121">Ponadto nie trzeba zainstalować program Visual Studio aby można było używać aparatu MSBuild&#x2014;MSBuild.exe pliku wykonywalnego, który jest częścią programu .NET Framework i można go uruchomić z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-121">In addition, you don't need to install Visual Studio in order to use the MSBuild engine&#x2014;the MSBuild.exe executable is part of the .NET Framework, and you can run it from a command prompt.</span></span> <span data-ttu-id="ed3b6-122">Jako deweloper możesz tworzyć we własnych plikach projektu programu MSBuild nakładają wyrafinowane i szczegółową kontrolę nad jak swoje projekty są zbudowane i wdrażane przy użyciu schematu MSBuild XML.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-122">As a developer, you can craft your own MSBuild project files, using the MSBuild XML schema, to impose sophisticated and fine-grained control over how your projects are built and deployed.</span></span> <span data-ttu-id="ed3b6-123">Te pliki projektu niestandardowe działają w taki sam sposób, jak pliki projektów odnoszących się program Visual Studio generuje automatycznie.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-123">These custom project files work in exactly the same way as the project files that Visual Studio generates automatically.</span></span>

> [!NOTE]
> <span data-ttu-id="ed3b6-124">Umożliwia także pliki projektów programu MSBuild z usługą Team Build w Team Foundation Server (TFS).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-124">You can also use MSBuild project files with the Team Build service in Team Foundation Server (TFS).</span></span> <span data-ttu-id="ed3b6-125">Na przykład można użyć plików projektu w scenariuszach ciągłej integracji (CI) zautomatyzować wdrożenia w środowisku testowym, gdy nowy kod jest zaewidencjonowany.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-125">For example, you can use project files in continuous integration (CI) scenarios to automate deployment to a test environment when new code is checked in.</span></span> <span data-ttu-id="ed3b6-126">Aby uzyskać więcej informacji, zobacz [Konfigurowanie serwera Team Foundation Server dla automatycznego wdrażania w Internecie](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-126">For more information, see [Configuring Team Foundation Server for Automated Web Deployment](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span></span>


### <a name="project-file-naming-conventions"></a><span data-ttu-id="ed3b6-127">Plik projektu, konwencje nazewnictwa</span><span class="sxs-lookup"><span data-stu-id="ed3b6-127">Project File Naming Conventions</span></span>

<span data-ttu-id="ed3b6-128">Podczas tworzenia plików projektu, można użyć dowolnego rozszerzenia pliku, które chcesz.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-128">When you create your own project files, you can use any file extension you like.</span></span> <span data-ttu-id="ed3b6-129">Jednak aby ułatwić rozwiązania dla innych użytkowników dowiedzieć się, należy użyć tych typowych Konwencji:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-129">However, to make your solutions easier for others to understand, you should use these common conventions:</span></span>

- <span data-ttu-id="ed3b6-130">Użyj rozszerzenia plików Proj, podczas tworzenia pliku projektu, który kompiluje projekty.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-130">Use the .proj extension when you create a project file that builds projects.</span></span>
- <span data-ttu-id="ed3b6-131">Użyj rozszerzenia .targets, podczas tworzenia pliku projektu do wielokrotnego użytku, aby zaimportować do innych plików projektów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-131">Use the .targets extension when you create a reusable project file to import into other project files.</span></span> <span data-ttu-id="ed3b6-132">Pliki z rozszerzeniem .targets zwykle nie zbudować prawie wszystko samodzielnie, po prostu zawierają instrukcje, które można importować do plików .proj.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-132">Files with a .targets extension typically don't build anything themselves, they simply contain instructions that you can import into your .proj files.</span></span>

### <a name="integration-with-deployment-technologies"></a><span data-ttu-id="ed3b6-133">Integracja z usługą technologie wdrażania</span><span class="sxs-lookup"><span data-stu-id="ed3b6-133">Integration with Deployment Technologies</span></span>

<span data-ttu-id="ed3b6-134">Jeśli znasz już projektów aplikacji sieci web w programie Visual Studio 2010, takich jak aplikacje sieci web ASP.NET i aplikacji sieci web platformy ASP.NET MVC, będziesz wiedzieć, że te projekty zawierają wbudowaną obsługę pakowanie i wdrażanie aplikacji sieci web w środowisku docelowym.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-134">If you've worked with web application projects in Visual Studio 2010, like ASP.NET web applications and ASP.NET MVC web applications, you'll know that these projects include built-in support for packaging and deploying the web application to a target environment.</span></span> <span data-ttu-id="ed3b6-135">**Właściwości** strony, aby uwzględnić te projekty **pakowaniu/publikowaniu Web** i **Pakuj/Publikuj SQL** kart, które umożliwiają skonfigurowanie sposobu składniki usługi Aplikacja są spakowane i wdrażane.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-135">The **Properties** pages for these projects include **Package/Publish Web** and **Package/Publish SQL** tabs that you can use to configure how the components of your application are packaged and deployed.</span></span> <span data-ttu-id="ed3b6-136">Pokazuje to **pakowaniu/publikowaniu Web** karty:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-136">This shows the **Package/Publish Web** tab:</span></span>

![](understanding-the-project-file/_static/image1.png)

<span data-ttu-id="ed3b6-137">Podstawową używaną technologią za te możliwości jest znany jako Web potok publikowania (WPP).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-137">The underlying technology behind these capabilities is known as the Web Publishing Pipeline (WPP).</span></span> <span data-ttu-id="ed3b6-138">Potok WPP zasadniczo oferuje MSBuild i [narzędzia Web Deploy](https://go.microsoft.com/?linkid=9805122) ze sobą w celu zapewnienia kompletnego procesu kompilacji, tworzenie pakietów i wdrażanie aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-138">The WPP essentially brings MSBuild and [Web Deploy](https://go.microsoft.com/?linkid=9805122) together to provide a complete build, package, and deployment process for your web applications.</span></span>

<span data-ttu-id="ed3b6-139">Dobra wiadomość jest taka, możesz skorzystać z punktów integracji udostępnianych przez potok WPP podczas tworzenia plików niestandardowego projektu dla projektów sieci web.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-139">The good news is that you can take advantage of the integration points that the WPP provides when you create custom project files for web projects.</span></span> <span data-ttu-id="ed3b6-140">Instrukcje dotyczące wdrażania można uwzględnić w pliku projektu, co pozwala na kompilowanie projektów, tworzyć pakiety wdrażania sieci web i zainstalować te pakiety na serwerach zdalnych za pośrednictwem pliku pojedynczego projektu i jedno wywołanie do programu MSBuild.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-140">You can include deployment instructions in your project file, which allows you to build your projects, create web deployment packages, and install these packages on remote servers through a single project file and a single call to MSBuild.</span></span> <span data-ttu-id="ed3b6-141">Można również wywołać inne pliki wykonywalne, jako część procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-141">You can also call any other executables as part of your build process.</span></span> <span data-ttu-id="ed3b6-142">Na przykład można uruchomić narzędzie wiersza polecenia VSDBCMD.exe wdrożyć bazę danych z pliku schematu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-142">For example, you can run the VSDBCMD.exe command-line tool to deploy a database from a schema file.</span></span> <span data-ttu-id="ed3b6-143">W miarę upływu w tym temacie zobaczysz, jak można było korzystać z tych możliwości, aby spełnić wymagania organizacji scenariuszy wdrażania.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-143">Over the course of this topic, you'll see how you can take advantage of these capabilities to meet the requirements of your enterprise deployment scenarios.</span></span>

> [!NOTE]
> <span data-ttu-id="ed3b6-144">Aby uzyskać więcej informacji na temat sposobu działania procesu wdrażania aplikacji sieci web, zobacz [ASP.NET Web Application Project Deployment Overview](https://msdn.microsoft.com/library/dd394698.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-144">For more information on how the web application deployment process works, see [ASP.NET Web Application Project Deployment Overview](https://msdn.microsoft.com/library/dd394698.aspx).</span></span>


## <a name="the-anatomy-of-a-project-file"></a><span data-ttu-id="ed3b6-145">Struktura pliku projektu</span><span class="sxs-lookup"><span data-stu-id="ed3b6-145">The Anatomy of a Project File</span></span>

<span data-ttu-id="ed3b6-146">Zanim przyjrzymy się proces kompilacji, które bardziej szczegółowo, warto trwa kilka minut, aby zapoznać się z podstawowa struktura pliku projektu programu MSBuild.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-146">Before you look at the build process in more detail, it's worth taking a few moments to familiarize yourself with the basic structure of an MSBuild project file.</span></span> <span data-ttu-id="ed3b6-147">W tej sekcji omówiono typowe elementy, które będzie występować podczas przeglądu, edytowania lub tworzenia pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-147">This section provides an overview of the more common elements that you'll encounter when you review, edit, or create a project file.</span></span> <span data-ttu-id="ed3b6-148">W szczególności dowiesz się:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-148">In particular, you'll learn:</span></span>

- <span data-ttu-id="ed3b6-149">Jak używać *właściwości* Zarządzanie zmienne dla procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-149">How to use *properties* to manage variables for the build process.</span></span>
- <span data-ttu-id="ed3b6-150">Jak używać *elementów* do identyfikowania danych wejściowych do procesu kompilacji, takie jak pliki kodu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-150">How to use *items* to identify the inputs to the build process, like code files.</span></span>
- <span data-ttu-id="ed3b6-151">Jak używać *cele* i *zadania* zapewnienie instrukcje wykonania MSBuild, za pomocą *właściwości* i *elementów* zdefiniowanej w innym miejscu w plik projektu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-151">How to use *targets* and *tasks* to provide execution instructions to MSBuild, using *properties* and *items* defined elsewhere in the project file.</span></span>

<span data-ttu-id="ed3b6-152">To pokazuje relację między kluczami elementów w pliku projektu programu MSBuild:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-152">This shows the relationship between the key elements in an MSBuild project file:</span></span>

![](understanding-the-project-file/_static/image2.png)

### <a name="the-project-element"></a><span data-ttu-id="ed3b6-153">Element projektu</span><span class="sxs-lookup"><span data-stu-id="ed3b6-153">The Project Element</span></span>

<span data-ttu-id="ed3b6-154">[Projektu](https://msdn.microsoft.com/library/bcxfsh87.aspx) element jest elementem głównym każdego pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-154">The [Project](https://msdn.microsoft.com/library/bcxfsh87.aspx) element is the root element of every project file.</span></span> <span data-ttu-id="ed3b6-155">Oprócz identyfikowania schemat XML pliku projektu **projektu** element może zawierać atrybutów, aby określić punkty wejścia dla procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-155">In addition to identifying the XML schema for the project file, the **Project** element can include attributes to specify the entry points for the build process.</span></span> <span data-ttu-id="ed3b6-156">Na przykład w [Contact Manager przykładowe rozwiązanie](the-contact-manager-solution.md), *Publish.proj* plik Określa, czy kompilacja powinna być uruchamiana, wywołując element docelowy o nazwie **FullPublish**.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-156">For example, in the [Contact Manager sample solution](the-contact-manager-solution.md), the *Publish.proj* file specifies that the build should start by calling the target named **FullPublish**.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample1.xml)]


### <a name="properties-and-conditions"></a><span data-ttu-id="ed3b6-157">Właściwości i warunki</span><span class="sxs-lookup"><span data-stu-id="ed3b6-157">Properties and Conditions</span></span>

<span data-ttu-id="ed3b6-158">Plik projektu musi zwykle zapewniają wiele różnych rodzajów informacji, aby pomyślnie tworzyć i wdrażać swoje projekty.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-158">A project file typically needs to provide lots of different pieces of information in order to successfully build and deploy your projects.</span></span> <span data-ttu-id="ed3b6-159">Te elementy informacje mogą obejmować nazwy serwera, parametry połączenia, poświadczenia, konfiguracje kompilacji, źródłowe i docelowe ścieżki plików i wszelkie inne informacje, które chcesz dołączyć do obsługi dostosowywania.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-159">These pieces of information could include server names, connection strings, credentials, build configurations, source and destination file paths, and any other information you want to include to support customization.</span></span> <span data-ttu-id="ed3b6-160">W pliku projektu, właściwości muszą być zdefiniowane w ramach [PropertyGroup](https://msdn.microsoft.com/library/t4w159bs.aspx) elementu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-160">In a project file, properties must be defined within a [PropertyGroup](https://msdn.microsoft.com/library/t4w159bs.aspx) element.</span></span> <span data-ttu-id="ed3b6-161">Właściwości programu MSBuild składają się z pary klucz wartość.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-161">MSBuild properties consist of key-value pairs.</span></span> <span data-ttu-id="ed3b6-162">W ramach **PropertyGroup** elementu, nazwa elementu definiuje klucz właściwości i zawartość elementu definiuje wartości właściwości.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-162">Within the **PropertyGroup** element, the element name defines the property key and the content of the element defines the property value.</span></span> <span data-ttu-id="ed3b6-163">Na przykład można zdefiniować właściwości o nazwie **ServerName** i **ConnectionString** do przechowywania statycznej serwera nazwę i parametry połączenia.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-163">For example, you could define properties named **ServerName** and **ConnectionString** to store a static server name and connection string.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample2.xml)]


<span data-ttu-id="ed3b6-164">Aby pobrać wartości właściwości, należy użyć formatu \*\*$(***PropertyName***) \*\**.*</span><span class="sxs-lookup"><span data-stu-id="ed3b6-164">To retrieve a property value, you use the format \**$(***PropertyName***)\*\*\*.*</span></span> <span data-ttu-id="ed3b6-165">Na przykład, aby pobrać wartość **ServerName** właściwość, należy wpisać:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-165">For example, to retrieve the value of the **ServerName** property, you would type:</span></span>


[!code-powershell[Main](understanding-the-project-file/samples/sample3.ps1)]


> [!NOTE]
> <span data-ttu-id="ed3b6-166">Zostaną wyświetlone zapoznać się z przykładami i kiedy należy używać wartości właściwości w dalszej części tego tematu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-166">You'll see examples of how and when to use property values later in this topic.</span></span>


<span data-ttu-id="ed3b6-167">Osadzanie informacji o jako właściwości statycznych w pliku projektu nie zawsze jest idealnym rozwiązaniem podejście do zarządzania procesem kompilacji.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-167">Embedding information as static properties in a project file is not always the ideal approach to managing the build process.</span></span> <span data-ttu-id="ed3b6-168">W wielu scenariuszach będziesz chciał uzyskania informacji z innych źródeł lub zwiększenie możliwości dostępnych dla użytkownika o podanie informacji z poziomu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-168">In a lot of scenarios, you'll want to obtain the information from other sources or empower the user to provide the information from the command prompt.</span></span> <span data-ttu-id="ed3b6-169">Program MSBuild umożliwia określenie dowolnej wartości właściwości jako parametr wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-169">MSBuild allows you to specify any property value as a command-line parameter.</span></span> <span data-ttu-id="ed3b6-170">Na przykład użytkownik może podać wartość dla **ServerName** po użytkownik uruchamia MSBuild.exe w wierszu polecenia.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-170">For example, the user could provide a value for **ServerName** when he or she runs MSBuild.exe from the command line.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample4.cmd)]


> [!NOTE]
> <span data-ttu-id="ed3b6-171">Aby uzyskać więcej informacji na temat argumentów i parametrów można używać z MSBuild.exe, zobacz [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-171">For more information on the arguments and switches you can use with MSBuild.exe, see [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span></span>


<span data-ttu-id="ed3b6-172">Aby uzyskać wartości zmiennych środowiskowych i właściwości projektu wbudowanych, można użyć tej samej składni właściwości.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-172">You can use the same property syntax to obtain the values of environment variables and built-in project properties.</span></span> <span data-ttu-id="ed3b6-173">Wiele powszechnie używanych właściwości są zdefiniowane dla Ciebie, a następnie używać w plikach projektu, łącznie z nazwą odpowiedniego parametru.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-173">Lots of commonly used properties are defined for you, and you can use them in your project files by including the relevant parameter name.</span></span> <span data-ttu-id="ed3b6-174">Na przykład, aby pobrać Bieżąca platforma projektu&#x2014;na przykład **x86** lub **AnyCpu**&#x2014;mogą obejmować **$(Platform)** odwołaniem do właściwości w plik projektu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-174">For example, to retrieve the current project platform&#x2014;for example, **x86** or **AnyCpu**&#x2014;you can include the **$(Platform)** property reference in your project file.</span></span> <span data-ttu-id="ed3b6-175">Aby uzyskać więcej informacji, zobacz [makra dla poleceń i właściwości kompilacji](https://msdn.microsoft.com/library/c02as0cs.aspx), [wspólne właściwości projektów MSBuild](https://msdn.microsoft.com/library/bb629394.aspx), i [właściwości zastrzeżonych](https://msdn.microsoft.com/library/ms164309.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-175">For more information, see [Macros for Build Commands and Properties](https://msdn.microsoft.com/library/c02as0cs.aspx), [Common MSBuild Project Properties](https://msdn.microsoft.com/library/bb629394.aspx), and [Reserved Properties](https://msdn.microsoft.com/library/ms164309.aspx).</span></span>

<span data-ttu-id="ed3b6-176">Właściwości są często używane w połączeniu z *warunki*.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-176">Properties are often used in conjunction with *conditions*.</span></span> <span data-ttu-id="ed3b6-177">Obsługuje większość elementów MSBuild **warunek** atrybut, który pozwala określić kryteria, na których program MSBuild należy ocenić element.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-177">Most MSBuild elements support the **Condition** attribute, which lets you specify the criteria upon which MSBuild should evaluate the element.</span></span> <span data-ttu-id="ed3b6-178">Na przykład należy wziąć pod uwagę tę definicję właściwości:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-178">For example, consider this property definition:</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample5.xml)]


<span data-ttu-id="ed3b6-179">Gdy program MSBuild przetwarza tę definicję właściwości, najpierw sprawdza, czy **$(OutputRoot)** wartość właściwości jest dostępna.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-179">When MSBuild processes this property definition, it first checks to see whether an **$(OutputRoot)** property value is available.</span></span> <span data-ttu-id="ed3b6-180">Jeśli wartość właściwości jest puste&#x2014;innymi słowy, użytkownik nie dostarczył wartość tej właściwości&#x2014;warunek to **true** i wartość właściwości jest równa **... \Publish\Out**. Jeśli użytkownik udostępnił wartość tej właściwości, warunek jest **false** i nie jest używana wartość właściwości statycznej.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-180">If the property value is blank&#x2014;in other words, the user hasn't provided a value for this property&#x2014;the condition evaluates to **true** and the property value is set to **..\Publish\Out**. If the user has provided a value for this property, the condition evaluates to **false** and the static property value is not used.</span></span>

<span data-ttu-id="ed3b6-181">Aby uzyskać więcej informacji na temat różnych sposobów, w którym można określić warunki, zobacz [warunki MSBuild](https://msdn.microsoft.com/library/7szfhaft.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-181">For more information on the different ways in which you can specify conditions, see [MSBuild Conditions](https://msdn.microsoft.com/library/7szfhaft.aspx).</span></span>

### <a name="items-and-item-groups"></a><span data-ttu-id="ed3b6-182">Elementy i grupy elementów</span><span class="sxs-lookup"><span data-stu-id="ed3b6-182">Items and Item Groups</span></span>

<span data-ttu-id="ed3b6-183">Jedną z ważnych ról w pliku projektu jest zdefiniowanie danych wejściowych do procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-183">One of the important roles of the project file is to define the inputs to the build process.</span></span> <span data-ttu-id="ed3b6-184">Zazwyczaj te dane wejściowe są pliki&#x2014;kodu pliki, pliki konfiguracji, pliki poleceń i innych plików, które należy przetworzyć lub Kopiuj jako część procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-184">Typically, these inputs are files&#x2014;code files, configuration files, command files, and any other files that you need to process or copy as part of the build process.</span></span> <span data-ttu-id="ed3b6-185">W schemacie projektu MSBuild te dane wejściowe są reprezentowane przez [elementu](https://msdn.microsoft.com/library/ms164283.aspx) elementów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-185">In the MSBuild project schema, these inputs are represented by [Item](https://msdn.microsoft.com/library/ms164283.aspx) elements.</span></span> <span data-ttu-id="ed3b6-186">W pliku projektu, elementy muszą być zdefiniowane w ramach [ItemGroup](https://msdn.microsoft.com/library/646dk05y.aspx) elementu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-186">In a project file, items must be defined within an [ItemGroup](https://msdn.microsoft.com/library/646dk05y.aspx) element.</span></span> <span data-ttu-id="ed3b6-187">Podobnie jak w przypadku **właściwość** elementów można nazwać **elementu** elementu dowolny sposób.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-187">Just like **Property** elements, you can name an **Item** element however you like.</span></span> <span data-ttu-id="ed3b6-188">Jednakże, należy określić **Include** atrybut do identyfikowania plików lub symbolu wieloznacznego, który reprezentuje element.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-188">However, you must specify an **Include** attribute to identify the file or wildcard that the item represents.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample6.xml)]


<span data-ttu-id="ed3b6-189">Określając wielu **elementu** elementów o takiej samej nazwie, efektywnie tworzysz nazwana Lista zasobów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-189">By specifying multiple **Item** elements with the same name, you're effectively creating a named list of resources.</span></span> <span data-ttu-id="ed3b6-190">Dobrym sposobem, aby zobaczyć to w akcji jest zapoznaj się z jednego z plików projektu, tworzonych w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-190">A good way to see this in action is to take a look inside one of the project files that Visual Studio creates.</span></span> <span data-ttu-id="ed3b6-191">Na przykład *ContactManager.Mvc.csproj* plik w przykładowym rozwiązaniu zawiera wiele elementów grup, każda z kilku identycznie nazwane **elementu** elementów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-191">For example, the *ContactManager.Mvc.csproj* file in the sample solution includes a lot of item groups, each with several identically named **Item** elements.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample7.xml)]


<span data-ttu-id="ed3b6-192">W ten sposób w pliku projektu jest poinstruować program MSBuild do tworzenia list plików, które muszą zostać przetworzone w taki sam sposób&#x2014; **odwołania** lista zawiera zestawy, które muszą być spełnione dla udanej kompilacji  **Skompilować** lista zawiera pliki kodu, które muszą być skompilowane, oraz **zawartości** lista zawiera zasoby, które muszą zostać skopiowane niezmieniony.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-192">In this way, the project file is instructing MSBuild to construct lists of files that need to be processed in the same way&#x2014;the **Reference** list includes assemblies that must be in place for a successful build, the **Compile** list includes code files that must be compiled, and the **Content** list includes resources that must be copied unaltered.</span></span> <span data-ttu-id="ed3b6-193">Omówimy sposób odwołuje się do procesu kompilacji i używa tych elementów w dalszej części tego tematu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-193">We'll look at how the build process references and uses these items later in this topic.</span></span>

<span data-ttu-id="ed3b6-194">Elementy może również obejmować [itemmetadata —](https://msdn.microsoft.com/library/ms164284.aspx) elementów podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-194">Item elements can also include [ItemMetadata](https://msdn.microsoft.com/library/ms164284.aspx) child elements.</span></span> <span data-ttu-id="ed3b6-195">Te są zdefiniowane przez użytkownika pary klucz wartość i zasadniczo reprezentuje właściwości, które są specyficzne dla tego elementu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-195">These are user-defined key-value pairs and essentially represent properties that are specific to that item.</span></span> <span data-ttu-id="ed3b6-196">Na przykład wiele **skompilować** obejmują elementy w pliku projektu **DependentUpon** elementów podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-196">For example, a lot of the **Compile** item elements in the project file include **DependentUpon** child elements.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample8.xml)]


> [!NOTE]
> <span data-ttu-id="ed3b6-197">Oprócz metadanych elementu utworzone przez użytkownika wszystkie elementy są przypisane różne metadane wspólne przy tworzeniu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-197">In addition to user-created item metadata, all items are assigned various common metadata on creation.</span></span> <span data-ttu-id="ed3b6-198">Aby uzyskać więcej informacji, zobacz [metadane dobrze znanego elementu](https://msdn.microsoft.com/library/ms164313.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-198">For more information, see [Well-known Item Metadata](https://msdn.microsoft.com/library/ms164313.aspx).</span></span>


<span data-ttu-id="ed3b6-199">Możesz utworzyć **ItemGroup** elementów w obrębie głównego poziomu **projektu** element lub w ramach określonych **docelowej** elementów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-199">You can create **ItemGroup** elements within the root-level **Project** element or within specific **Target** elements.</span></span> <span data-ttu-id="ed3b6-200">**ItemGroup** obsługują także elementy **warunek** atrybuty, które umożliwia dostosowywanie danych wejściowych do procesu kompilacji, zgodnie z warunkami, takich jak konfiguracja projektu lub platformy.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-200">**ItemGroup** elements also support **Condition** attributes, which lets you tailor the inputs to the build process according to conditions like the project configuration or platform.</span></span>

### <a name="targets-and-tasks"></a><span data-ttu-id="ed3b6-201">Elementy docelowe i zadania</span><span class="sxs-lookup"><span data-stu-id="ed3b6-201">Targets and Tasks</span></span>

<span data-ttu-id="ed3b6-202">W schemacie MSBuild [zadań](https://msdn.microsoft.com/library/77f2hx1s.aspx) element reprezentuje poszczególnych kompilacji instrukcji (lub zadań).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-202">In the MSBuild schema, a [Task](https://msdn.microsoft.com/library/77f2hx1s.aspx) element represents an individual build instruction (or task).</span></span> <span data-ttu-id="ed3b6-203">Program MSBuild obejmuje wiele wstępnie zdefiniowanych zadań.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-203">MSBuild includes a multitude of predefined tasks.</span></span> <span data-ttu-id="ed3b6-204">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-204">For example:</span></span>

- <span data-ttu-id="ed3b6-205">**Kopiowania** zadania kopiowania plików do nowej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-205">The **Copy** task copies files to a new location.</span></span>
- <span data-ttu-id="ed3b6-206">**Csc** zadanie wywołuje kompilatora Visual C#.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-206">The **Csc** task invokes the Visual C# compiler.</span></span>
- <span data-ttu-id="ed3b6-207">**Vbc** zadanie wywołuje kompilatora Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-207">The **Vbc** task invokes the Visual Basic compiler.</span></span>
- <span data-ttu-id="ed3b6-208">**Exec** zadanie jest uruchamiane określonego programu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-208">The **Exec** task runs a specified program.</span></span>
- <span data-ttu-id="ed3b6-209">**Komunikat** zadań zapisuje komunikat do rejestratora.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-209">The **Message** task writes a message to a logger.</span></span>

> [!NOTE]
> <span data-ttu-id="ed3b6-210">Aby uzyskać szczegółowe informacje, które są dostępne gotowych zadań, zobacz [odwołanie do zadania MSBuild](https://msdn.microsoft.com/library/7z253716.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-210">For full details of the tasks that are available out of the box, see [MSBuild Task Reference](https://msdn.microsoft.com/library/7z253716.aspx).</span></span> <span data-ttu-id="ed3b6-211">Aby uzyskać więcej informacji na temat zadań, w tym jak utworzyć własne zadania niestandardowe zobacz [zadania programu MSBuild](https://msdn.microsoft.com/library/ms171466.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-211">For more information on tasks, including how to create your own custom tasks, see [MSBuild Tasks](https://msdn.microsoft.com/library/ms171466.aspx).</span></span>


<span data-ttu-id="ed3b6-212">Zadania zawsze musi być zawarta w [docelowej](https://msdn.microsoft.com/library/t50z2hka.aspx) elementów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-212">Tasks must always be contained within [Target](https://msdn.microsoft.com/library/t50z2hka.aspx) elements.</span></span> <span data-ttu-id="ed3b6-213">A **docelowej** element to zbiór jednego lub więcej zadań, które są wykonywane sekwencyjnie, a plik projektu może zawierać wiele elementów docelowych.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-213">A **Target** element is a set of one or more tasks that are executed sequentially, and a project file can contain multiple targets.</span></span> <span data-ttu-id="ed3b6-214">Jeśli chcesz uruchamiać zadania lub zestawu zadań, można wywołać docelowy, który je zawiera.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-214">When you want to run a task, or a set of tasks, you invoke the target that contains them.</span></span> <span data-ttu-id="ed3b6-215">Załóżmy na przykład, która rejestruje komunikat pliku prostego projektu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-215">For example, suppose you have a simple project file that logs a message.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample9.xml)]


<span data-ttu-id="ed3b6-216">Obiekt docelowy z wiersza polecenia, można wywołać za pomocą **/t** przełącznik, aby określić cel.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-216">You can invoke the target from the command line, by using the **/t** switch to specify the target.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample10.cmd)]


<span data-ttu-id="ed3b6-217">Alternatywnie, można dodać **defaulttargets —** atrybutu **projektu** element, aby określić cele, które chcesz wywołać.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-217">Alternatively, you can add a **DefaultTargets** attribute to the **Project** element, to specify the targets that you want to invoke.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample11.xml)]


<span data-ttu-id="ed3b6-218">W takim przypadku nie trzeba określić obiekt docelowy z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-218">In this case, you don't need to specify the target from the command line.</span></span> <span data-ttu-id="ed3b6-219">Można po prostu określić w pliku projektu i wywoła MSBuild **FullPublish** docelowego dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-219">You can simply specify the project file, and MSBuild will invoke the **FullPublish** target for you.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample12.cmd)]


<span data-ttu-id="ed3b6-220">Obiekty docelowe i zadania mogą obejmować **warunek** atrybutów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-220">Both targets and tasks can include **Condition** attributes.</span></span> <span data-ttu-id="ed3b6-221">W efekcie można pominąć cały elementów docelowych lub poszczególne zadania, jeśli są spełnione określone warunki.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-221">As such, you can choose to omit entire targets or individual tasks if certain conditions are met.</span></span>

<span data-ttu-id="ed3b6-222">Ogólnie rzecz biorąc podczas tworzenia użytecznych zadań i obiektów docelowych, konieczne będzie odwoływać się do właściwości i elementy, które zostały zdefiniowane w innym miejscu w pliku projektu:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-222">Generally speaking, when you create useful tasks and targets, you'll need to refer to the properties and items that you've defined elsewhere in the project file:</span></span>

- <span data-ttu-id="ed3b6-223">Aby użyć wartości właściwości, wpisz **$(***PropertyName***)**, gdzie *PropertyName* nazywa się **właściwość** elementu lub nazwa parametr.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-223">To use a property value, type **$(***PropertyName***)**, where *PropertyName* is the name of the **Property** element or the name of the parameter.</span></span>
- <span data-ttu-id="ed3b6-224">Aby użyć elementu, wpisz **@(***ItemName***)**, gdzie *ItemName* nazywa się **elementu** elementu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-224">To use an item, type **@(***ItemName***)**, where *ItemName* is the name of the **Item** element.</span></span>

> [!NOTE]
> <span data-ttu-id="ed3b6-225">Należy pamiętać, że jeśli tworzysz wiele elementów o takiej samej nazwie, którą tworzysz listy.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-225">Remember that if you create multiple items with the same name, you're building a list.</span></span> <span data-ttu-id="ed3b6-226">Z kolei jeśli tworzysz wiele właściwości o takiej samej nazwie, ostatnią wartość właściwości, należy podać zastąpią wszelkie poprzednie właściwości o takiej samej nazwie&#x2014;właściwość może zawierać tylko jedną wartość.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-226">In contrast, if you create multiple properties with the same name, the last property value you provide will overwrite any previous properties with the same name&#x2014;a property can only contain a single value.</span></span>


<span data-ttu-id="ed3b6-227">Na przykład w *Publish.proj* plików w przykładowym rozwiązaniu, Przyjrzyj się **BuildProjects** docelowej.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-227">For example, in the *Publish.proj* file in the sample solution, take a look at the **BuildProjects** target.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample13.xml)]


<span data-ttu-id="ed3b6-228">W tym przykładzie można zaobserwować tych kluczowych zagadnieniach:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-228">In this sample, you can observe these key points:</span></span>

- <span data-ttu-id="ed3b6-229">Jeśli **BuildingInTeamBuild** parametr jest określony i ma wartość **true**, żadne zadania należące do tego elementu zostanie wykonana.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-229">If the **BuildingInTeamBuild** parameter is specified and has a value of **true**, none of the tasks within this target will be executed.</span></span>
- <span data-ttu-id="ed3b6-230">Element docelowy zawiera jedno wystąpienie [MSBuild](https://msdn.microsoft.com/library/z7f65y0d.aspx) zadania.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-230">The target contains a single instance of the [MSBuild](https://msdn.microsoft.com/library/z7f65y0d.aspx) task.</span></span> <span data-ttu-id="ed3b6-231">To zadanie pozwala tworzyć innych projektów programu MSBuild.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-231">This task lets you build other MSBuild projects.</span></span>
- <span data-ttu-id="ed3b6-232">**ProjectsToBuild** element jest przekazywany do zadania.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-232">The **ProjectsToBuild** item is passed to the task.</span></span> <span data-ttu-id="ed3b6-233">Ten element może reprezentować listę plików projektu lub rozwiązania, wszystko to zdefiniowane przez **ProjectsToBuild** elementu elementów w obrębie grupy elementów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-233">This item could represent a list of project or solution files, all defined by **ProjectsToBuild** item elements within an item group.</span></span> <span data-ttu-id="ed3b6-234">W tym przypadku **ProjectsToBuild** element odwołuje się do pliku jednego rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-234">In this case, the **ProjectsToBuild** item refers to a single solution file.</span></span>

    [!code-xml[Main](understanding-the-project-file/samples/sample14.xml)]
- <span data-ttu-id="ed3b6-235">Wartości właściwości przekazany do **MSBuild** zadanie obejmuje parametrów o nazwie **OutputRoot** i **konfiguracji**.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-235">The property values passed to the **MSBuild** task include parameters named **OutputRoot** and **Configuration**.</span></span> <span data-ttu-id="ed3b6-236">Jeśli nie są ustawione na wartości parametrów, jeśli są one udostępniane lub wartości właściwości statycznej.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-236">These are set to parameter values if they are provided, or static property values if they are not.</span></span>

    [!code-xml[Main](understanding-the-project-file/samples/sample15.xml)]

<span data-ttu-id="ed3b6-237">Możesz również zobaczyć, że **MSBuild** zadanie wywołuje obiekt docelowy o nazwie **kompilacji**.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-237">You can also see that the **MSBuild** task invokes a target named **Build**.</span></span> <span data-ttu-id="ed3b6-238">Jest to jeden z kilku wbudowanych obiektów docelowych, które są powszechnie używane w plikach projektu programu Visual Studio i są dostępne w plikach projektu niestandardowych, jak **kompilacji**, **czysty**, **odbudować**, i **publikowania**.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-238">This is one of several built-in targets that are widely used in Visual Studio project files and are available to you in your custom project files, like **Build**, **Clean**, **Rebuild**, and **Publish**.</span></span> <span data-ttu-id="ed3b6-239">Dowiesz się więcej o korzystaniu z obiektów docelowych i zadań, do kontroli procesu kompilacji, a także o **MSBuild** zadań w szczególności w dalszej części tego tematu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-239">You'll learn more about using targets and tasks to control the build process, and about the **MSBuild** task in particular, later in this topic.</span></span>

> [!NOTE]
> <span data-ttu-id="ed3b6-240">Aby uzyskać więcej informacji na temat elementów docelowych, zobacz [elementów docelowych MSBuild](https://msdn.microsoft.com/library/ms171462.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-240">For more information on targets, see [MSBuild Targets](https://msdn.microsoft.com/library/ms171462.aspx).</span></span>


## <a name="splitting-project-files-to-support-multiple-environments"></a><span data-ttu-id="ed3b6-241">Podział plików projektu w celu obsługi wielu środowisk</span><span class="sxs-lookup"><span data-stu-id="ed3b6-241">Splitting Project Files to Support Multiple Environments</span></span>

<span data-ttu-id="ed3b6-242">Załóżmy, że chcesz można było wdrożyć rozwiązanie w wielu środowiskach, takich jak serwery testowe, tymczasowe platformy i środowisk produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-242">Suppose you want to be able to deploy a solution to multiple environments, like test servers, staging platforms, and production environments.</span></span> <span data-ttu-id="ed3b6-243">Konfiguracja może znacząco różnią się między tymi środowiskami&#x2014;nie tylko pod względem serwerów nazw, parametry połączenia i tak dalej, ale też potencjalnie pod względem poświadczeń, ustawienia zabezpieczeń i wiele innych czynników.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-243">The configuration may vary substantially between these environments&#x2014;not just in terms of server names, connection strings, and so on, but also potentially in terms of credentials, security settings, and lots of other factors.</span></span> <span data-ttu-id="ed3b6-244">Jeśli potrzebujesz to zrobić regularnie, nie jest tak naprawdę wskazane edytować wiele właściwości w pliku projektu, za każdym razem, gdy przełączasz się środowiska docelowego.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-244">If you need to do this regularly, it's not really expedient to edit multiple properties in your project file every time you switch the target environment.</span></span> <span data-ttu-id="ed3b6-245">Nie jest to idealne rozwiązanie będą musieli nieskończone listę wartości właściwości do procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-245">Nor is it an ideal solution to require an endless list of property values to be provided to the build process.</span></span>

<span data-ttu-id="ed3b6-246">Na szczęście jest alternatywą.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-246">Fortunately there is an alternative.</span></span> <span data-ttu-id="ed3b6-247">Program MSBuild umożliwia podzielić konfiguracji kompilacji na wielu plikach projektów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-247">MSBuild lets you split your build configuration across multiple project files.</span></span> <span data-ttu-id="ed3b6-248">Aby zobaczyć, jak to działa, w przykładowym rozwiązaniu, zwróć uwagę, że istnieją dwa pliki niestandardowego projektu:</span><span class="sxs-lookup"><span data-stu-id="ed3b6-248">To see how this works, in the sample solution, notice that there are two custom project files:</span></span>

- <span data-ttu-id="ed3b6-249">*Publish.Proj*, który zawiera właściwości, elementy, i obiekty docelowe, które są wspólne dla wszystkich środowisk.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-249">*Publish.proj*, which contains properties, items, and targets that are common to all environments.</span></span>
- <span data-ttu-id="ed3b6-250">*ENV Dev.proj*, który zawiera właściwości, które są specyficzne dla środowiska deweloperskiego.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-250">*Env-Dev.proj*, which contains properties that are specific to a developer environment.</span></span>

<span data-ttu-id="ed3b6-251">Teraz należy zauważyć, że *Publish.proj* plik zawiera [importu](https://msdn.microsoft.com/library/92x05xfs.aspx) elementu tuż poniżej otwarcia **projektu** tagu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-251">Now notice that the *Publish.proj* file includes an [Import](https://msdn.microsoft.com/library/92x05xfs.aspx) element, immediately beneath the opening **Project** tag.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample16.xml)]


<span data-ttu-id="ed3b6-252">**Zaimportować** element jest używany w celu zaimportowania zawartości innego pliku projektu MSBuild do bieżącego pliku projektu MSBuild.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-252">The **Import** element is used to import the contents of another MSBuild project file into the current MSBuild project file.</span></span> <span data-ttu-id="ed3b6-253">W tym przypadku **TargetEnvPropsFile** parametr zawiera nazwę pliku projektu, który chcesz zaimportować.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-253">In this case, the **TargetEnvPropsFile** parameter provides the filename of the project file you want to import.</span></span> <span data-ttu-id="ed3b6-254">Po uruchomieniu programu MSBuild, możesz podać wartość dla tego parametru.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-254">You can provide a value for this parameter when you run MSBuild.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample17.cmd)]


<span data-ttu-id="ed3b6-255">To skutecznie Scala zawartość tych dwóch plików pliku pojedynczego projektu.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-255">This effectively merges the contents of the two files into a single project file.</span></span> <span data-ttu-id="ed3b6-256">W ten sposób można utworzyć jeden projekt zawierający konfigurację kompilacji uniwersalnych i wiele plików dodatkowych projekt zawierający właściwości specyficzne dla środowiska.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-256">Using this approach, you can create one project file containing your universal build configuration and multiple supplementary project files containing environment-specific properties.</span></span> <span data-ttu-id="ed3b6-257">W rezultacie po prostu uruchomienie polecenia za pomocą wartości parametru różnych pozwala wdrażać rozwiązania do innego środowiska.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-257">As a result, simply running a command with a different parameter value lets you deploy your solution to a different environment.</span></span>

![](understanding-the-project-file/_static/image3.png)

<span data-ttu-id="ed3b6-258">Podział plików projektu w ten sposób jest dobrym rozwiązaniem, należy wykonać.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-258">Splitting your project files in this way is a good practice to follow.</span></span> <span data-ttu-id="ed3b6-259">Umożliwia deweloperom wdrażanie w wielu środowiskach za pomocą jednego polecenia unikając dublowania właściwości kompilacji uniwersalnych w wielu plikach projektów.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-259">It allows developers to deploy to multiple environments by running a single command, while avoiding the duplication of universal build properties across multiple project files.</span></span>

> [!NOTE]
> <span data-ttu-id="ed3b6-260">Aby uzyskać wskazówki dotyczące dostosowywania pliki projektu specyficznego dla środowiska dla środowisk serwera, zobacz [Konfigurowanie właściwości wdrożenia dla środowiska docelowego](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="ed3b6-260">For guidance on how to customize the environment-specific project files for your own server environments, see [Configuring Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


## <a name="conclusion"></a><span data-ttu-id="ed3b6-261">Wniosek</span><span class="sxs-lookup"><span data-stu-id="ed3b6-261">Conclusion</span></span>

<span data-ttu-id="ed3b6-262">W tym temacie podano ogólne wprowadzenie do plików projektu MSBuild i wyjaśniono sposób tworzenia własnych niestandardowych plików projektu do kontrolowania procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-262">This topic provided a general introduction to MSBuild project files and explained how you can create your own custom project files to control the build process.</span></span> <span data-ttu-id="ed3b6-263">Również wprowadzonymi koncepcji dzielenia plików projektu w instrukcje universal kompilacji i właściwości specyficzne dla środowiska kompilacji, aby ułatwić tworzenie i wdrażanie projektów do wielu miejsc docelowych.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-263">It also introduced the concept of splitting project files into universal build instructions and environment-specific build properties, to make it easy to build and deploy projects to multiple destinations.</span></span>

<span data-ttu-id="ed3b6-264">Następny temat [objaśnienie procesu kompilacji](understanding-the-build-process.md), zapewnia lepszy wgląd w sposób korzystania plików projektu w celu sterowania kompilowania i wdrażania przez wdrożenie rozwiązania przy użyciu realistycznej stopień złożoności.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-264">The next topic, [Understanding the Build Process](understanding-the-build-process.md), provides more insight into how you can use project files to control build and deployment by walking you through the deployment of a solution with a realistic level of complexity.</span></span>

## <a name="further-reading"></a><span data-ttu-id="ed3b6-265">Dalsze informacje</span><span class="sxs-lookup"><span data-stu-id="ed3b6-265">Further Reading</span></span>

<span data-ttu-id="ed3b6-266">Aby uzyskać bardziej szczegółowe wprowadzenie do plików projektu i potok WPP, zobacz [wewnątrz aparatu Microsoft Build Engine: Przy użyciu programu MSBuild i Team Foundation Build](http://amzn.com/0735645248) Sayed Ibrahim Hashimi i William Bartholomew, ISBN: 978-0-7356-4524-0.</span><span class="sxs-lookup"><span data-stu-id="ed3b6-266">For a more in-depth introduction to project files and the WPP, see [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://amzn.com/0735645248) by Sayed Ibrahim Hashimi and William Bartholomew, ISBN: 978-0-7356-4524-0.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ed3b6-267">[Poprzednie](setting-up-the-contact-manager-solution.md)
> [dalej](understanding-the-build-process.md)</span><span class="sxs-lookup"><span data-stu-id="ed3b6-267">[Previous](setting-up-the-contact-manager-solution.md)
[Next](understanding-the-build-process.md)</span></span>
