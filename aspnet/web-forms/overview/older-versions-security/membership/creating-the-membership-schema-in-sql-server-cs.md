---
uid: web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-cs
title: Tworzenie schematu członkostwa w programie SQL Server (C#) | Dokumentacja firmy Microsoft
author: rick-anderson
description: Ten samouczek rozpoczyna się przez badanie metod dodawania niezbędne schematu do bazy danych, aby można było używać SqlMembershipProvider. Poniżej firma Microsoft wi...
ms.author: riande
ms.date: 01/18/2008
ms.assetid: b4ac129d-1b8e-41ca-a38f-9b19d7c7bb0e
msc.legacyurl: /web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-cs
msc.type: authoredcontent
ms.openlocfilehash: 8a2cc19ea2ebd0e3be8ba5de40cd6c0c94dbc9dd
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/09/2019
ms.locfileid: "59409281"
---
# <a name="creating-the-membership-schema-in-sql-server-c"></a><span data-ttu-id="7bb81-104">Tworzenie schematu członkostwa w programie SQL Server (C#)</span><span class="sxs-lookup"><span data-stu-id="7bb81-104">Creating the Membership Schema in SQL Server (C#)</span></span>

<span data-ttu-id="7bb81-105">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7bb81-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="7bb81-106">[Pobierz program Code](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_CS.zip) lub [Pobierz plik PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="7bb81-106">[Download Code](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_CS.zip) or [Download PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_cs.pdf)</span></span>

> <span data-ttu-id="7bb81-107">Ten samouczek rozpoczyna się przez badanie metod dodawania niezbędne schematu do bazy danych, aby można było używać SqlMembershipProvider.</span><span class="sxs-lookup"><span data-stu-id="7bb81-107">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the SqlMembershipProvider.</span></span> <span data-ttu-id="7bb81-108">Poniżej firma Microsoft zbadać klucza tabel w schemacie i omówić, ich przeznaczenia i ważności.</span><span class="sxs-lookup"><span data-stu-id="7bb81-108">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="7bb81-109">W tym samouczku kończy się jak sprawdzić, który dostawca należy używać w ramach członkostwa aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7bb81-109">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>


## <a name="introduction"></a><span data-ttu-id="7bb81-110">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="7bb81-110">Introduction</span></span>

<span data-ttu-id="7bb81-111">Poprzednich samouczkach dwa badania, aby zidentyfikować osoby odwiedzające witrynę sieci Web za pomocą uwierzytelniania formularzy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-111">The previous two tutorials examined using forms authentication to identify website visitors.</span></span> <span data-ttu-id="7bb81-112">Środowiska uwierzytelniania formularzy ułatwia deweloperom do zalogowania się użytkownika do witryny sieci Web i zapamiętasz między odwiedzin strony za pomocą biletów uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="7bb81-112">The forms authentication framework makes it easy for developers to log a user into a website and to remember them across page visits through the use of authentication tickets.</span></span> <span data-ttu-id="7bb81-113">`FormsAuthentication` Klasa zawiera metody do generowania--ticket i dodanie go do plików cookie przez obiekt odwiedzający.</span><span class="sxs-lookup"><span data-stu-id="7bb81-113">The `FormsAuthentication` class includes methods for generating the ticket and adding it to the visitor's cookies.</span></span> <span data-ttu-id="7bb81-114">`FormsAuthenticationModule` Sprawdza wszystkie żądania przychodzące, a osobom prawidłowego biletu, tworzy i kojarzy `GenericPrincipal` i `FormsIdentity` obiekt z bieżącego żądania.</span><span class="sxs-lookup"><span data-stu-id="7bb81-114">The `FormsAuthenticationModule` examines all incoming requests and, for those with a valid authentication ticket, creates and associates a `GenericPrincipal` and a `FormsIdentity` object with the current request.</span></span> <span data-ttu-id="7bb81-115">Uwierzytelnianie formularzy jest jedynie mechanizm do przyznania biletu uwierzytelniania obiekt odwiedzający, podczas logowania się w, a kolejne żądania, analizowania tego biletu, aby ustalić tożsamość użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-115">Forms authentication is merely a mechanism for granting an authentication ticket to a visitor when logging in and, on subsequent requests, parsing that ticket to determine the user's identity.</span></span> <span data-ttu-id="7bb81-116">Dla aplikacji sieci web do obsługi kont użytkowników nadal musimy zaimplementować magazyn użytkownika i dodawania funkcjonalności do walidacji poświadczenia, rejestrowanie nowych użytkowników i wiele innych zadań związanych z kontem użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-116">For a web application to support user accounts, we still need to implement a user store and add functionality to validate credentials, register new users, and the myriad of other user account-related tasks.</span></span>

<span data-ttu-id="7bb81-117">Przed ASP.NET 2.0 deweloperzy były na punkt zaczepienia wykonywania wszystkich zadań związanych z kontem użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-117">Prior to ASP.NET 2.0, developers were on the hook for implementing all of these user account-related tasks.</span></span> <span data-ttu-id="7bb81-118">Na szczęście zespół programu ASP.NET rozpoznaje tego braku i wprowadzone w ramach członkostwa ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="7bb81-118">Fortunately the ASP.NET team recognized this shortcoming and introduced the Membership framework with ASP.NET 2.0.</span></span> <span data-ttu-id="7bb81-119">W ramach członkostwa jest zestaw klas .NET Framework, które zapewniają interfejs programistyczny dla wykonywania zadań związanych z kontem użytkownika core.</span><span class="sxs-lookup"><span data-stu-id="7bb81-119">The Membership framework is a set of classes in the .NET Framework that provide a programmatic interface for accomplishing core user account-related tasks.</span></span> <span data-ttu-id="7bb81-120">Ta struktura jest kompilowanych [modelu dostawca](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), które umożliwia deweloperom Podłącz implementacji dostosowane do standardowych interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="7bb81-120">This framework is built atop the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which allows developers to plug a customized implementation into a standardized API.</span></span>

<span data-ttu-id="7bb81-121">Zgodnie z opisem w <a id="Tutorial1"> </a> [ *podstawy zabezpieczeń i Obsługa platformy ASP.NET* ](../introduction/security-basics-and-asp-net-support-cs.md) samouczek, .NET Framework jest dostarczany z dwóch wbudowanych dostawców członkostwa: [ `ActiveDirectoryMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) i [ `SqlMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="7bb81-121">As discussed in the <a id="Tutorial1"></a>[*Security Basics and ASP.NET Support*](../introduction/security-basics-and-asp-net-support-cs.md) tutorial, the .NET Framework ships with two built-in Membership providers: [`ActiveDirectoryMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) and [`SqlMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span></span> <span data-ttu-id="7bb81-122">Jak sugeruje jej nazwa, `SqlMembershipProvider` korzysta z bazy danych programu Microsoft SQL Server do przechowywania użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-122">As its name implies, the `SqlMembershipProvider` uses a Microsoft SQL Server database as the user store.</span></span> <span data-ttu-id="7bb81-123">Aby korzystać z tego dostawcę w aplikacji, dlatego trzeba poinformować dostawcę z jakiej bazy danych do użycia jako magazyn.</span><span class="sxs-lookup"><span data-stu-id="7bb81-123">In order to use this provider in an application, we need to tell the provider what database to use as the store.</span></span> <span data-ttu-id="7bb81-124">Oczywiście, `SqlMembershipProvider` oczekuje, że bazy danych magazynu użytkownika, aby niektórych tabel bazy danych, widoków i procedur składowanych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-124">As you might imagine, the `SqlMembershipProvider` expects the user store database to have certain database tables, views, and stored procedures.</span></span> <span data-ttu-id="7bb81-125">Musimy dodać tego Oczekiwano schematu z wybraną bazą danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-125">We need to add this expected schema to the selected database.</span></span>

<span data-ttu-id="7bb81-126">Ten samouczek rozpoczyna od zbadania techniki Dodawanie niezbędne schematu do bazy danych, aby można było używać `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-126">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the `SqlMembershipProvider`.</span></span> <span data-ttu-id="7bb81-127">Poniżej firma Microsoft zbadać klucza tabel w schemacie i omówić, ich przeznaczenia i ważności.</span><span class="sxs-lookup"><span data-stu-id="7bb81-127">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="7bb81-128">W tym samouczku kończy się jak sprawdzić, który dostawca należy używać w ramach członkostwa aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7bb81-128">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>

<span data-ttu-id="7bb81-129">Zaczynajmy!</span><span class="sxs-lookup"><span data-stu-id="7bb81-129">Let's get started!</span></span>

## <a name="step-1-deciding-where-to-place-the-user-store"></a><span data-ttu-id="7bb81-130">Krok 1. Decydowanie o miejscu Store użytkownika</span><span class="sxs-lookup"><span data-stu-id="7bb81-130">Step 1: Deciding Where to Place the User Store</span></span>

<span data-ttu-id="7bb81-131">Dane aplikacji ASP.NET często są przechowywane w wielu tabel w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-131">An ASP.NET application's data is commonly stored in a number of tables in a database.</span></span> <span data-ttu-id="7bb81-132">Podczas implementowania `SqlMembershipProvider` schemat bazy danych, które firma Microsoft należy zdecydować, czy umieszczać schematu członkostwa w tej samej bazy danych jako dane aplikacji lub alternatywnej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-132">When implementing the `SqlMembershipProvider` database schema we must decide whether to place the Membership schema in the same database as the application data or in an alternate database.</span></span>

<span data-ttu-id="7bb81-133">Zalecam Lokalizowanie schematu członkostwa w tej samej bazy danych jako dane aplikacji z następujących powodów:</span><span class="sxs-lookup"><span data-stu-id="7bb81-133">I recommend locating the Membership schema in the same database as the application data for the following reasons:</span></span>

- <span data-ttu-id="7bb81-134">**Łatwość konserwacji** aplikację, której dane są hermetyzowane w jednej bazie danych jest łatwiejsze do zrozumienia, obsługa i wdrażania niż aplikacja, która ma dwie osobne bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-134">**Maintainability** � an application whose data is encapsulated in one database is easier to understand, maintain, and deploy than an application that has two separate databases.</span></span>
- <span data-ttu-id="7bb81-135">**Relacyjna integralność** , znajdując tabele powiązane członkostwa w tej samej bazy danych, jak aplikacja tabele go jest możliwe ustalenie [ograniczenia klucza obcego](http://en.wikipedia.org/wiki/Foreign_key) między kluczy podstawowych w Tabele powiązane członkostwa i tabel powiązanych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-135">**Relational Integrity** � by locating the Membership-related tables in the same database as the application tables it is possible to establish [foreign key constraints](http://en.wikipedia.org/wiki/Foreign_key) between the primary keys in the Membership-related tables and related application tables.</span></span>

<span data-ttu-id="7bb81-136">Oddzielenie danych użytkownika sklepu i aplikacji do osobnych baz danych tylko sens, jeśli masz wiele aplikacji każdego użycia osobnych baz danych, ale musisz udostępniać wspólnym magazynie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-136">Decoupling the user store and application data into separate databases only makes sense if you have multiple applications that each use separate databases, but need to share a common user store.</span></span>

### <a name="creating-a-database"></a><span data-ttu-id="7bb81-137">Tworzenie bazy danych</span><span class="sxs-lookup"><span data-stu-id="7bb81-137">Creating a Database</span></span>

<span data-ttu-id="7bb81-138">Aplikacji, które tworzymy w drugim samouczku — od bazy danych nie ma jeszcze potrzebne.</span><span class="sxs-lookup"><span data-stu-id="7bb81-138">The application we have been building since the second tutorial has not yet needed a database.</span></span> <span data-ttu-id="7bb81-139">Potrzebujemy teraz jednak magazynu użytkowników.</span><span class="sxs-lookup"><span data-stu-id="7bb81-139">We need one now, however, for the user store.</span></span> <span data-ttu-id="7bb81-140">Teraz utwórz ją, a następnie dodaj do niego schemat wymagany przez `SqlMembershipProvider` dostawcy (zobacz krok 2).</span><span class="sxs-lookup"><span data-stu-id="7bb81-140">Let's create one and then add to it the schema required by the `SqlMembershipProvider` provider (see Step 2).</span></span>

> [!NOTE]
> <span data-ttu-id="7bb81-141">W tej serii samouczków użyjemy [programu Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) bazy danych do przechowywania tabel naszej aplikacji i `SqlMembershipProvider` schematu.</span><span class="sxs-lookup"><span data-stu-id="7bb81-141">Throughout this tutorial series we will be using a [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) database to store our application tables and the `SqlMembershipProvider` schema.</span></span> <span data-ttu-id="7bb81-142">Tę decyzję podjęliśmy dwóch powodów: po pierwsze, ze względu na jej koszt — wersja bezpłatna — Express Edition jest najbardziej readably dostępną wersję programu SQL Server 2005; Po drugie, baz danych programu SQL Server 2005 Express Edition, można umieścić bezpośrednio w aplikacji sieci web `App_Data` folderu, dzięki czemu z łatwością pakietu bazy danych i aplikacji sieci web ze sobą w jednym pliku ZIP i wdrażając go ponownie bez wszelkie instrukcje specjalne ustawienia lub opcje konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-142">This decision was made for two reasons: first, due to its cost - free - the Express Edition is the most readably accessible version of SQL Server 2005; second, SQL Server 2005 Express Edition databases can be placed directly in the web application's `App_Data` folder, making it a cinch to package the database and web application together in one ZIP file and to redeploy it without any special setup instructions or configuration options.</span></span> <span data-ttu-id="7bb81-143">Jeśli wolisz samodzielnie, przy użyciu innego niż Express Edition w wersji programu SQL Server, możesz ją.</span><span class="sxs-lookup"><span data-stu-id="7bb81-143">If you'd prefer to follow along using a non-Express Edition version of SQL Server, feel free.</span></span> <span data-ttu-id="7bb81-144">Kroki są prawie identyczne.</span><span class="sxs-lookup"><span data-stu-id="7bb81-144">The steps are virtually identical.</span></span> <span data-ttu-id="7bb81-145">`SqlMembershipProvider` Schematu będzie pracować z dowolnej wersji programu Microsoft SQL Server 2000 i konfigurowanie.</span><span class="sxs-lookup"><span data-stu-id="7bb81-145">The `SqlMembershipProvider` schema will work with any version of Microsoft SQL Server 2000 and up.</span></span>


<span data-ttu-id="7bb81-146">W Eksploratorze rozwiązań kliknij prawym przyciskiem myszy `App_Data` folder i wybierz opcję Dodaj nowy element.</span><span class="sxs-lookup"><span data-stu-id="7bb81-146">From the Solution Explorer, right-click on the `App_Data` folder and choose to Add New Item.</span></span> <span data-ttu-id="7bb81-147">(Jeśli nie widzisz `App_Data` folder w projekcie, kliknij prawym przyciskiem myszy projekt w Eksploratorze rozwiązań, wybierz opcję Dodaj Folder programu ASP.NET i wybierz `App_Data`.) W oknie dialogowym Dodaj nowy element, wybierz polecenie do dodania nowej bazy danych SQL o nazwie `SecurityTutorials.mdf`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-147">(If you do not see an `App_Data` folder in your project, right-click on the project in Solution Explorer, select Add ASP.NET Folder, and pick `App_Data`.) From the Add New Item dialog box, choose to add a new SQL Database named `SecurityTutorials.mdf`.</span></span> <span data-ttu-id="7bb81-148">W tym samouczku dodamy `SqlMembershipProvider` schematu do tej bazy danych; w kolejnych samouczkach zostaną utworzone dodatkowe tabele do przechwytywania danych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-148">In this tutorial we will add the `SqlMembershipProvider` schema to this database; in subsequent tutorials we will create additional tables to capture our application data.</span></span>


[![A<span data-ttu-id="7bb81-149">Dodaj nowe bazy danych o nazwie SecurityTutorials.mdf bazy danych SQL w folderze App_Data]</span><span class="sxs-lookup"><span data-stu-id="7bb81-149">dd a New SQL Database Named SecurityTutorials.mdf Database to the App_Data Folder]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image2.png)](creating-the-membership-schema-in-sql-server-cs/_static/image1.png)

<span data-ttu-id="7bb81-150">**Rysunek 1**: Dodawanie nowej bazy danych SQL, o nazwie `SecurityTutorials.mdf` bazy danych do `App_Data` Folder ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-150">**Figure 1**: Add a New SQL Database Named `SecurityTutorials.mdf` Database to the `App_Data` Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image3.png))</span></span>


<span data-ttu-id="7bb81-151">Dodawanie bazy danych do `App_Data` folderu automatycznie dołącza go w widoku Eksplorator bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-151">Adding a database to the `App_Data` folder automatically includes it in the Database Explorer view.</span></span> <span data-ttu-id="7bb81-152">(W wersji niż Express Edition programu Visual Studio, Eksplorator bazy danych jest nazywane Eksploratora serwera). Przejdź do Eksploratora bazy danych i rozwiń, po prostu dodane `SecurityTutorials` bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-152">(In the non-Express Edition version of Visual Studio, the Database Explorer is called the Server Explorer.) Go to the Database Explorer and expand the just-added `SecurityTutorials` database.</span></span> <span data-ttu-id="7bb81-153">Jeśli nie widzisz Eksplorator bazy danych na ekranie, przejdź do menu Widok wybierz Eksplorator bazy danych i naciśnij klawisze Ctrl + Alt + S.</span><span class="sxs-lookup"><span data-stu-id="7bb81-153">If you do not see the Database Explorer on screen, go to the View menu and choose Database Explorer, or hit Ctrl+Alt+S.</span></span> <span data-ttu-id="7bb81-154">Jak pokazano na rysunku 2, `SecurityTutorials` baza danych jest pusta — zawiera on żadnych tabel, nie widoków i nie procedur składowanych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-154">As Figure 2 shows, the `SecurityTutorials` database is empty - it contains no tables, no views, and no stored procedures.</span></span>


[![T<span data-ttu-id="7bb81-155">SecurityTutorials bazy danych jest obecnie pusty]</span><span class="sxs-lookup"><span data-stu-id="7bb81-155">he SecurityTutorials Database is Currently Empty]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image5.png)](creating-the-membership-schema-in-sql-server-cs/_static/image4.png)

<span data-ttu-id="7bb81-156">**Rysunek 2**: `SecurityTutorials` Baza danych jest obecnie pusta ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-156">**Figure 2**: The `SecurityTutorials` Database is Currently Empty ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image6.png))</span></span>


## <a name="step-2-adding-thesqlmembershipproviderschema-to-the-database"></a><span data-ttu-id="7bb81-157">Krok 2. Dodawanie`SqlMembershipProvider`schematu do bazy danych</span><span class="sxs-lookup"><span data-stu-id="7bb81-157">Step 2: Adding the`SqlMembershipProvider`Schema to the Database</span></span>

<span data-ttu-id="7bb81-158">`SqlMembershipProvider` Wymaga określonego zestawu tabel, widoków i procedur składowanych, ma być zainstalowany w bazie danych magazynu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-158">The `SqlMembershipProvider` requires a particular set of tables, views, and stored procedures to be installed in the user store database.</span></span> <span data-ttu-id="7bb81-159">Te obiekty wymagania bazy danych można dodać za pomocą [ `aspnet_regsql.exe` narzędzie](https://msdn.microsoft.com/library/ms229862.aspx).</span><span class="sxs-lookup"><span data-stu-id="7bb81-159">These requisite database objects can be added using the [`aspnet_regsql.exe` tool](https://msdn.microsoft.com/library/ms229862.aspx).</span></span> <span data-ttu-id="7bb81-160">Ten plik znajduje się w `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folderu.</span><span class="sxs-lookup"><span data-stu-id="7bb81-160">This file is located in the `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb81-161">`aspnet_regsql.exe` Narzędzie oferuje funkcje wiersza polecenia i graficzny interfejs użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-161">The `aspnet_regsql.exe` tool offers both command line functionality and a graphical user interface.</span></span> <span data-ttu-id="7bb81-162">Interfejs graficzny jest bardziej przyjazny dla użytkownika i co zostanie omówiony w tym samouczku.</span><span class="sxs-lookup"><span data-stu-id="7bb81-162">The graphical interface is more user friendly and is what we will examine in this tutorial.</span></span> <span data-ttu-id="7bb81-163">Interfejs wiersza polecenia jest przydatne, gdy dodanie `SqlMembershipProvider` schemat musi być zautomatyzowane, takich jak kompilacja skrypty lub zautomatyzowane scenariuszy testowania.</span><span class="sxs-lookup"><span data-stu-id="7bb81-163">The command line interface is useful when the addition of the `SqlMembershipProvider` schema needs to be automated, such as in build scripts or automated testing scenarios.</span></span>


<span data-ttu-id="7bb81-164">`aspnet_regsql.exe` Narzędzie służy do dodawania lub usuwania *usług aplikacji ASP.NET* określonej bazy danych SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7bb81-164">The `aspnet_regsql.exe` tool is used to add or remove *ASP.NET application services* to a specified SQL Server database.</span></span> <span data-ttu-id="7bb81-165">Usługi aplikacji ASP.NET uwzględniający schematów dla `SqlMembershipProvider` i `SqlRoleProvider`, wraz z schematów dla dostawcy oparci na usłudze SQL dla innych platform ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="7bb81-165">The ASP.NET application services encompass the schemas for the `SqlMembershipProvider` and `SqlRoleProvider`, along with the schemas for the SQL-based providers for other ASP.NET 2.0 frameworks.</span></span> <span data-ttu-id="7bb81-166">Należy podać dwa bity informacji `aspnet_regsql.exe` narzędzie:</span><span class="sxs-lookup"><span data-stu-id="7bb81-166">We need to provide two bits of information to the `aspnet_regsql.exe` tool:</span></span>

- <span data-ttu-id="7bb81-167">Czy chcesz dodać lub usunąć usługi aplikacji i</span><span class="sxs-lookup"><span data-stu-id="7bb81-167">Whether we want to add or remove application services, and</span></span>
- <span data-ttu-id="7bb81-168">Bazy danych, z którego można dodawać lub usuwać schemat usług aplikacji</span><span class="sxs-lookup"><span data-stu-id="7bb81-168">The database from which to add or remove the application services schema</span></span>

<span data-ttu-id="7bb81-169">W monitowania dla bazy danych do użycia, `aspnet_regsql.exe` narzędzie prosi nam podać nazwę serwera bazy danych znajduje się na poświadczenia bezpieczeństwa dla łączenia z bazą danych i nazwę bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-169">In prompting for the database to use, the `aspnet_regsql.exe` tool asks us to provide the name of the server the database resides on, the security credentials for connecting to the database, and the database name.</span></span> <span data-ttu-id="7bb81-170">Jeśli używasz innych niż Express Edition programu SQL Server, użytkownik powinien już wiedzieć tych informacji, ponieważ te same informacje, które należy podać przy użyciu parametrów połączenia podczas pracy z bazą danych za pośrednictwem strony sieci web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7bb81-170">If you are using the non-Express Edition of SQL Server, you should already know this information, as it is the same information you must provide through a connection string when working with the database through an ASP.NET web page.</span></span> <span data-ttu-id="7bb81-171">Określanie nazwy serwera i bazy danych, korzystając z bazy danych programu SQL Server 2005 Express Edition w `App_Data` folderu, jest jednak nieco bardziej skomplikowane.</span><span class="sxs-lookup"><span data-stu-id="7bb81-171">Determining the server and database name when using a SQL Server 2005 Express Edition database in the `App_Data` folder, however, is a bit more involved.</span></span>

<span data-ttu-id="7bb81-172">Następujące części są rozpatrywane prosty sposób określania nazwy serwera i bazy danych dla bazy danych programu SQL Server 2005 Express Edition w `App_Data` folderu.</span><span class="sxs-lookup"><span data-stu-id="7bb81-172">The following section examines a straightforward way for specifying the server and database name for a SQL Server 2005 Express Edition database in the `App_Data` folder.</span></span> <span data-ttu-id="7bb81-173">Jeśli nie używasz programu SQL Server 2005 Express Edition możesz przejść od razu do Instalowanie sekcji usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-173">If you are not using SQL Server 2005 Express Edition feel free to skip ahead to the Installing the Application Services section.</span></span>

### <a name="determining-the-server-and-database-name-for-a-sql-server-2005-express-edition-database-in-theappdatafolder"></a><span data-ttu-id="7bb81-174">Określanie serwera i nazwę bazy danych programu SQL Server 2005 Express Edition bazy danych w`App_Data`folderu</span><span class="sxs-lookup"><span data-stu-id="7bb81-174">Determining the Server and Database Name for a SQL Server 2005 Express Edition Database in the`App_Data`Folder</span></span>

<span data-ttu-id="7bb81-175">Aby można było używać `aspnet_regsql.exe` narzędzie, które należy znać nazwy serwera i bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-175">In order to use the `aspnet_regsql.exe` tool we need to know the server and database names.</span></span> <span data-ttu-id="7bb81-176">Nazwa serwera jest `localhost\InstanceName`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-176">The server name is `localhost\InstanceName`.</span></span> <span data-ttu-id="7bb81-177">Najbardziej prawdopodobną *InstanceName* jest `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-177">Most likely, the *InstanceName* is `SQLExpress`.</span></span> <span data-ttu-id="7bb81-178">Jednakże jeśli został zainstalowany ręcznie program SQL Server 2005 Express Edition (oznacza to, że nie zainstalowano go automatycznie podczas instalowania programu Visual Studio), jest możliwe, że wybrana nazwa innego wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="7bb81-178">However, if you installed SQL Server 2005 Express Edition manually (that is, you did not install it automatically while installing Visual Studio), then it is possible that you selected a different instance name.</span></span>

<span data-ttu-id="7bb81-179">Nazwa bazy danych jest nieco trudniejszy do określenia.</span><span class="sxs-lookup"><span data-stu-id="7bb81-179">The database name is a bit trickier to determine.</span></span> <span data-ttu-id="7bb81-180">Bazy danych w `App_Data` folderu zwykle mają nazwę bazy danych, która obejmuje [Unikatowy identyfikator globalny](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) oraz ścieżkę do pliku bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-180">Databases in the `App_Data` folder typically have a database name that includes a [globally unique identifier](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) along with the path to the database file.</span></span> <span data-ttu-id="7bb81-181">Należy określić to nazwa bazy danych, aby można było dodać schematu usług aplikacji za pomocą `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-181">We need to determine this database name in order to add the application services schema through `aspnet_regsql.exe`.</span></span>

<span data-ttu-id="7bb81-182">Najprostszym sposobem ustalenia, nazwa bazy danych jest zbadanie programu SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="7bb81-182">The easiest way to ascertain the database name is to examine it through SQL Server Management Studio.</span></span> <span data-ttu-id="7bb81-183">SQL Server Management Studio udostępnia interfejs graficzny do zarządzania bazami danych programu SQL Server 2005, ale nie jest dostarczany z Express Edition dla programu SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="7bb81-183">SQL Server Management Studio provides a graphical interface for managing SQL Server 2005 databases, but it does not ship with the Express Edition of SQL Server 2005.</span></span> <span data-ttu-id="7bb81-184">Dobra wiadomość jest fakt, że [można pobrać](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) bezpłatne Express Edition programu SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="7bb81-184">The good news is that [you can download](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) the free Express Edition of SQL Server Management Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb81-185">Jeśli masz inne niż Express Edition wersję SQL Server 2005 zainstalowanego na pulpicie pełnej wersji programu Management Studio prawdopodobnie zostanie zainstalowana.</span><span class="sxs-lookup"><span data-stu-id="7bb81-185">If you also have a non-Express Edition version of SQL Server 2005 installed on your desktop then the full version of Management Studio is likely installed.</span></span> <span data-ttu-id="7bb81-186">Można ustalić nazwy bazy danych, wykonując czynności przedstawione poniżej Express Edition, można użyć pełnej wersji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-186">You can use the full version to determine the database name, following the same steps as outlined below for the Express Edition.</span></span>


<span data-ttu-id="7bb81-187">Rozpocznij od zamknięcia programu Visual Studio, aby upewnić się, że wszystkie blokady nałożone przez program Visual Studio w pliku bazy danych są zamknięte.</span><span class="sxs-lookup"><span data-stu-id="7bb81-187">Start by closing Visual Studio to ensure that any locks imposed by Visual Studio on the database file are closed.</span></span> <span data-ttu-id="7bb81-188">Następnie uruchom program SQL Server Management Studio i połącz się z `localhost\InstanceName` bazy danych dla programu SQL Server 2005 Express Edition.</span><span class="sxs-lookup"><span data-stu-id="7bb81-188">Next, launch SQL Server Management Studio and connect to the `localhost\InstanceName` database for SQL Server 2005 Express Edition.</span></span> <span data-ttu-id="7bb81-189">Jak wspomniano wcześniej, jest szansa, nazwa wystąpienia jest `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-189">As noted earlier, chances are the instance name is `SQLExpress`.</span></span> <span data-ttu-id="7bb81-190">Dla opcji uwierzytelniania wybierz uwierzytelnianie Windows.</span><span class="sxs-lookup"><span data-stu-id="7bb81-190">For the Authentication option, select Windows Authentication.</span></span>


[![C<span data-ttu-id="7bb81-191">Nawiąż połączenie z wystąpieniem programu SQL Server 2005 Express Edition]</span><span class="sxs-lookup"><span data-stu-id="7bb81-191">onnect to the SQL Server 2005 Express Edition Instance]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image8.png)](creating-the-membership-schema-in-sql-server-cs/_static/image7.png)

<span data-ttu-id="7bb81-192">**Rysunek 3**: Nawiązać połączenie z wystąpieniem programu SQL Server 2005 Express Edition ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-192">**Figure 3**: Connect to the SQL Server 2005 Express Edition Instance ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image9.png))</span></span>


<span data-ttu-id="7bb81-193">Po nawiązaniu połączenia z wystąpieniem programu SQL Server 2005 Express Edition Management Studio Wyświetla folderów dla baz danych, ustawienia zabezpieczeń, obiekty serwera i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="7bb81-193">After connecting to the SQL Server 2005 Express Edition instance, Management Studio displays folders for the Databases, the Security settings, the Server Objects, and so on.</span></span> <span data-ttu-id="7bb81-194">Po rozwinięciu pola na karcie bazy danych będzie zobaczysz, że `SecurityTutorials.mdf` baza danych jest *nie* zarejestrowana w wystąpieniu bazy danych — musimy najpierw dołączyć bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-194">If you expand the Databases tab you will see that the `SecurityTutorials.mdf` database is *not* registered in the database instance - we need to attach the database first.</span></span>

<span data-ttu-id="7bb81-195">Kliknij prawym przyciskiem myszy na folder baz danych, a następnie z menu kontekstowego wybierz polecenie Attach.</span><span class="sxs-lookup"><span data-stu-id="7bb81-195">Right-click on the Databases folder and choose Attach from the context menu.</span></span> <span data-ttu-id="7bb81-196">Spowoduje to wyświetlenie okna dialogowego Dołączanie bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-196">This will display the Attach Databases dialog box.</span></span> <span data-ttu-id="7bb81-197">W tym miejscu, kliknij przycisk Dodaj, przejdź do `SecurityTutorials.mdf` bazy danych, a następnie kliknij przycisk OK.</span><span class="sxs-lookup"><span data-stu-id="7bb81-197">From here, click the Add button, browse to the `SecurityTutorials.mdf` database, and click OK.</span></span> <span data-ttu-id="7bb81-198">Rysunek 4 przedstawia okno dialogowe dołączanie bazy danych po `SecurityTutorials.mdf` baza danych została wybrana.</span><span class="sxs-lookup"><span data-stu-id="7bb81-198">Figure 4 shows the Attach Databases dialog box after the `SecurityTutorials.mdf` database has been selected.</span></span> <span data-ttu-id="7bb81-199">Rysunek 5. pokazuje Eksploratora obiektów programu Management Studio po pomyślnie dołączyć bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-199">Figure 5 shows Management Studio's Object Explorer after the database has been successfully attached.</span></span>


[![A<span data-ttu-id="7bb81-200">Dołą SecurityTutorials.mdf bazy danych]</span><span class="sxs-lookup"><span data-stu-id="7bb81-200">ttach the SecurityTutorials.mdf Database]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image11.png)](creating-the-membership-schema-in-sql-server-cs/_static/image10.png)

<span data-ttu-id="7bb81-201">**Rysunek 4**: Dołącz `SecurityTutorials.mdf` bazy danych ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-201">**Figure 4**: Attach the `SecurityTutorials.mdf` Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image12.png))</span></span>


[![T<span data-ttu-id="7bb81-202">ADAM SecurityTutorials.mdf baza danych pojawia się w folderze bazy danych]</span><span class="sxs-lookup"><span data-stu-id="7bb81-202">he SecurityTutorials.mdf Database Appears in the Databases Folder]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image14.png)](creating-the-membership-schema-in-sql-server-cs/_static/image13.png)

<span data-ttu-id="7bb81-203">**Rysunek 5**: `SecurityTutorials.mdf` Baza danych pojawia się w folderze bazy danych ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-203">**Figure 5**: The `SecurityTutorials.mdf` Database Appears in the Databases Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image15.png))</span></span>


<span data-ttu-id="7bb81-204">Jak pokazano na rysunku 5, `SecurityTutorials.mdf` bazy danych o nazwie zamiast abstruse.</span><span class="sxs-lookup"><span data-stu-id="7bb81-204">As Figure 5 shows, the `SecurityTutorials.mdf` database has a rather abstruse name.</span></span> <span data-ttu-id="7bb81-205">Teraz zmieniać, aby łatwiej zapamiętać (i łatwiejsze do typu) nazwa.</span><span class="sxs-lookup"><span data-stu-id="7bb81-205">Let's change it to a more memorable (and easier to type) name.</span></span> <span data-ttu-id="7bb81-206">Kliknij prawym przyciskiem myszy w bazie danych, z menu kontekstowego wybierz polecenie Zmień nazwę i zmień jego nazwę `SecurityTutorialsDatabase`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-206">Right-click on the database, choose Rename from the context menu, and rename it `SecurityTutorialsDatabase`.</span></span> <span data-ttu-id="7bb81-207">Nie ma to wpływu na nazwę pliku, po prostu nazwę bazy danych używa do identyfikacji do programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7bb81-207">This does not change the filename, just the name the database uses to identify itself to SQL Server.</span></span>


[![R<span data-ttu-id="7bb81-208">Zmień nazwę bazy danych do SecurityTutorialsDatabase]</span><span class="sxs-lookup"><span data-stu-id="7bb81-208">ename the Database to SecurityTutorialsDatabase]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image17.png)](creating-the-membership-schema-in-sql-server-cs/_static/image16.png)

<span data-ttu-id="7bb81-209">**Rysunek 6**: Zmiana nazwy bazy danych do `SecurityTutorialsDatabase`([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-209">**Figure 6**: Rename the Database to `SecurityTutorialsDatabase`([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image18.png))</span></span>


<span data-ttu-id="7bb81-210">W tym momencie wiemy, że nazwy serwera i bazy danych dla `SecurityTutorials.mdf` plik bazy danych: `localhost\InstanceName` i `SecurityTutorialsDatabase`, odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="7bb81-210">At this point we know the server and database names for the `SecurityTutorials.mdf` database file: `localhost\InstanceName` and `SecurityTutorialsDatabase`, respectively.</span></span> <span data-ttu-id="7bb81-211">Firma Microsoft są teraz gotowe do zainstalowania usług aplikacji za pośrednictwem `aspnet_regsql.exe` narzędzia.</span><span class="sxs-lookup"><span data-stu-id="7bb81-211">We are now ready to install the application services through the `aspnet_regsql.exe` tool.</span></span>

### <a name="installing-the-application-services"></a><span data-ttu-id="7bb81-212">Instalowanie usługi aplikacji</span><span class="sxs-lookup"><span data-stu-id="7bb81-212">Installing the Application Services</span></span>

<span data-ttu-id="7bb81-213">Aby uruchomić `aspnet_regsql.exe` narzędzie, przejdź do start menu i wybierz polecenie Uruchom.</span><span class="sxs-lookup"><span data-stu-id="7bb81-213">To launch the `aspnet_regsql.exe` tool, go to the start menu and choose Run.</span></span> <span data-ttu-id="7bb81-214">Wprowadź `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` w polu tekstowym i kliknij przycisk OK.</span><span class="sxs-lookup"><span data-stu-id="7bb81-214">Enter `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` into the textbox and click OK.</span></span> <span data-ttu-id="7bb81-215">Alternatywnie można użyć Eksploratora Windows można przejść do odpowiedniego folderu, a następnie kliknij dwukrotnie ikonę `aspnet_regsql.exe` pliku.</span><span class="sxs-lookup"><span data-stu-id="7bb81-215">Alternatively, you can use Windows Explorer to drill down to the appropriate folder and double-click the `aspnet_regsql.exe` file.</span></span> <span data-ttu-id="7bb81-216">Każda z tych metod będzie net takie same wyniki.</span><span class="sxs-lookup"><span data-stu-id="7bb81-216">Either approach will net the same results.</span></span>

<span data-ttu-id="7bb81-217">Uruchamianie `aspnet_regsql.exe` narzędzia bez żadnych argumentów wiersza polecenia uruchamia Kreatora instalacji serwera SQL programu ASP.NET graficznego interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-217">Running the `aspnet_regsql.exe` tool without any command line arguments launches the ASP.NET SQL Server Setup Wizard graphical user interface.</span></span> <span data-ttu-id="7bb81-218">Kreator ułatwia dodawanie lub usuwanie usług aplikacji ASP.NET w określonej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-218">The wizard makes it easy to add or remove the ASP.NET application services on a specified database.</span></span> <span data-ttu-id="7bb81-219">Na pierwszym ekranie kreatora, pokazano na rysunku 7 opisuje przeznaczenie tego narzędzia.</span><span class="sxs-lookup"><span data-stu-id="7bb81-219">The first screen of the wizard, shown in Figure 7, describes the purpose of the tool.</span></span>


[![U<span data-ttu-id="7bb81-220">SE ASP.NET programu SQL Server Instalator Kreatora sprawia, że można dodać schematu członkostwa]</span><span class="sxs-lookup"><span data-stu-id="7bb81-220">se the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image20.png)](creating-the-membership-schema-in-sql-server-cs/_static/image19.png)

<span data-ttu-id="7bb81-221">**Rysunek 7**: Użyj programu ASP.NET programu SQL Server Instalator Kreatora sprawia, że można dodać schematu członkostwa ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-221">**Figure 7**: Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image21.png))</span></span>


<span data-ttu-id="7bb81-222">Drugi etap w Kreatorze pyta, czy nam czy chcemy dodać usługi aplikacji lub usuń je.</span><span class="sxs-lookup"><span data-stu-id="7bb81-222">The second step in the wizard asks us whether we want to add the application services or remove them.</span></span> <span data-ttu-id="7bb81-223">Ponieważ chcemy dodać tabel, widoków i procedur składowanych, które są niezbędne do `SqlMembershipProvider`, wybierz pozycję Konfiguruj serwer SQL dla opcji usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-223">Since we want to add the tables, views, and stored procedures necessary for the `SqlMembershipProvider`, choose the Configure SQL Server for application services option.</span></span> <span data-ttu-id="7bb81-224">Później Jeśli chcesz usunąć ten schemat z bazy danych, uruchom ponownie tego kreatora, ale zamiast tego wybierz informacje o usługach aplikacji Usuń z istniejących opcji bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-224">Later, if you want to remove this schema from your database, re-run this wizard, but instead choose the Remove application services information from an existing database option.</span></span>


[![C<span data-ttu-id="7bb81-225">bierz Configure SQL Server dla opcji usługi aplikacji]</span><span class="sxs-lookup"><span data-stu-id="7bb81-225">hoose the Configure SQL Server for Application Services Option]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image23.png)](creating-the-membership-schema-in-sql-server-cs/_static/image22.png)

<span data-ttu-id="7bb81-226">**Rysunek 8**: Wybierz pozycję Konfiguruj serwer SQL dla opcji usług aplikacji ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-226">**Figure 8**: Choose the Configure SQL Server for Application Services Option ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image24.png))</span></span>


<span data-ttu-id="7bb81-227">Trzeci krok monituje o podanie informacji o bazie danych: Nazwa serwera, informacje o uwierzytelnianiu i nazwę bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-227">The third step prompts for the database information: the server name, authentication information, and the database name.</span></span> <span data-ttu-id="7bb81-228">Jeśli zostały następujące wraz z tego samouczka i dodano `SecurityTutorials.mdf` bazy danych do `App_Data`, dołączone do `localhost\InstanceName`, zmienić jego nazwę i `SecurityTutorialsDatabase`, następnie użyj następujących wartości:</span><span class="sxs-lookup"><span data-stu-id="7bb81-228">If you have been following along with this tutorial and have added the `SecurityTutorials.mdf` database to `App_Data`, attached it to `localhost\InstanceName`, and renamed it to `SecurityTutorialsDatabase`, then use the following values:</span></span>

- <span data-ttu-id="7bb81-229">Serwer:</span><span class="sxs-lookup"><span data-stu-id="7bb81-229">Server:</span></span> `localhost\InstanceName`
- <span data-ttu-id="7bb81-230">Uwierzytelnianie systemu Windows</span><span class="sxs-lookup"><span data-stu-id="7bb81-230">Windows authentication</span></span>
- <span data-ttu-id="7bb81-231">Baza danych:</span><span class="sxs-lookup"><span data-stu-id="7bb81-231">Database:</span></span> `SecurityTutorialsDatabase`


[![E<span data-ttu-id="7bb81-232">Wprowadź informacje o bazie danych]</span><span class="sxs-lookup"><span data-stu-id="7bb81-232">nter the Database Information]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image26.png)](creating-the-membership-schema-in-sql-server-cs/_static/image25.png)

<span data-ttu-id="7bb81-233">**Rysunek 9**: Wprowadź informacje o bazie danych ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-233">**Figure 9**: Enter the Database Information ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image27.png))</span></span>


<span data-ttu-id="7bb81-234">Po wprowadzeniu informacji o bazie danych, kliknij przycisk Dalej.</span><span class="sxs-lookup"><span data-stu-id="7bb81-234">After entering the database information, click Next.</span></span> <span data-ttu-id="7bb81-235">Ostatnim krokiem zawiera podsumowanie czynności, które zostaną wykonane.</span><span class="sxs-lookup"><span data-stu-id="7bb81-235">The final step summarizes the steps that will be taken.</span></span> <span data-ttu-id="7bb81-236">Kliknij przycisk Dalej, aby zainstalować usługi aplikacji, a następnie Zakończ, aby zakończyć działanie kreatora.</span><span class="sxs-lookup"><span data-stu-id="7bb81-236">Click Next to install the application services and then Finish to complete the wizard.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb81-237">Jeśli używasz programu Management Studio można dołączyć bazy danych, a następnie zmień nazwę pliku bazy danych, pamiętaj odłączyć bazę danych, a następnie zamknij program Management Studio przed ponownym otwarciu programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7bb81-237">If you used Management Studio to attach the database and rename the database file, be sure to detach the database and close Management Studio before reopening Visual Studio.</span></span> <span data-ttu-id="7bb81-238">Aby odłączyć `SecurityTutorialsDatabase` bazy danych, kliknij prawym przyciskiem myszy nazwę bazy danych i z menu zadań wybierz odłączania.</span><span class="sxs-lookup"><span data-stu-id="7bb81-238">To detach the `SecurityTutorialsDatabase` database, right-click on the database name and, from the Tasks menu, choose Detach.</span></span>


<span data-ttu-id="7bb81-239">Po zakończeniu działania kreatora wróć do programu Visual Studio, a następnie przejdź do Eksploratora bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-239">Upon completion of the wizard, return to Visual Studio and navigate to the Database Explorer.</span></span> <span data-ttu-id="7bb81-240">Rozwiń folder tabel.</span><span class="sxs-lookup"><span data-stu-id="7bb81-240">Expand the Tables folder.</span></span> <span data-ttu-id="7bb81-241">Powinien zostać wyświetlony serii tabel, których nazwy rozpoczynają się prefiksem `aspnet_`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-241">You should see a series of tables whose names start with the prefix `aspnet_`.</span></span> <span data-ttu-id="7bb81-242">Podobnie można znaleźć różnych widoków i procedur składowanych w folderach widoków i procedur składowanych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-242">Likewise, a variety of views and stored procedures can be found under the Views and Stored Procedures folders.</span></span> <span data-ttu-id="7bb81-243">Te obiekty bazy danych tworzą schemat usług aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-243">These database objects make up the application services schema.</span></span> <span data-ttu-id="7bb81-244">Będziemy sprawdzać obiekty bazy danych członkostwa i ról określonych w kroku 3.</span><span class="sxs-lookup"><span data-stu-id="7bb81-244">We will examine the membership- and role-specific database objects in Step 3.</span></span>


[![A <span data-ttu-id="7bb81-245">Wiele tabel, widoków i procedur składowanych zostały dodane do bazy danych]</span><span class="sxs-lookup"><span data-stu-id="7bb81-245">Variety of Tables, Views, and Stored Procedures Have Been Added to the Database]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image29.png)](creating-the-membership-schema-in-sql-server-cs/_static/image28.png)

<span data-ttu-id="7bb81-246">**Na rysunku nr 10**: Wiele tabel, widoków i przechowywane procedury zostały dodane do bazy danych ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-246">**Figure 10**: A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image30.png))</span></span>


> [!NOTE]
> <span data-ttu-id="7bb81-247">`aspnet_regsql.exe` Narzędzia graficznego interfejsu użytkownika instaluje schemat usług całej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-247">The `aspnet_regsql.exe` tool's graphical user interface installs the entire application services schema.</span></span> <span data-ttu-id="7bb81-248">Jednak podczas wykonywania `aspnet_regsql.exe` z wiersza polecenia można określić, jakie określonej aplikacji usług składników, aby zainstalować (lub usunąć).</span><span class="sxs-lookup"><span data-stu-id="7bb81-248">But when executing `aspnet_regsql.exe` from the command-line you can specify what particular application services components to install (or remove).</span></span> <span data-ttu-id="7bb81-249">W związku z tym, jeśli chcesz dodać tylko tabele, widoki i przechowywane procedury niezbędne dla `SqlMembershipProvider` i `SqlRoleProvider` dostawców, uruchamianie `aspnet_regsql.exe` z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="7bb81-249">Therefore, if you want to add just the tables, views, and stored procedures necessary for the `SqlMembershipProvider` and `SqlRoleProvider` providers, run `aspnet_regsql.exe` from the command-line.</span></span> <span data-ttu-id="7bb81-250">Alternatywnie, możesz ręcznie uruchomić odpowiednie podzbiór języka T-SQL tworzenia skryptów używanych przez `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-250">Alternatively, you can manually run the appropriate subset of T-SQL create scripts used by `aspnet_regsql.exe`.</span></span> <span data-ttu-id="7bb81-251">Skrypty te znajdują się w `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folderu z nazwami, takich jak `InstallCommon.sql`,`InstallMembership.sql`,`InstallRoles.sql`, `InstallProfile.sql`,`InstallSqlState.sql`i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="7bb81-251">These scripts are located in the `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder with names like `InstallCommon.sql`,`InstallMembership.sql`,`InstallRoles.sql`, `InstallProfile.sql`,`InstallSqlState.sql`, and so on.</span></span>


<span data-ttu-id="7bb81-252">W tym momencie zostały utworzone obiekty bazy danych wymagane przez `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-252">At this point we have created the database objects needed by the `SqlMembershipProvider`.</span></span> <span data-ttu-id="7bb81-253">Jednak nadal trzeba wydać polecenie framework członkostwa, należy użyć `SqlMembershipProvider` (versus, powiedz, `ActiveDirectoryMembershipProvider`) oraz że `SqlMembershipProvider` należy używać `SecurityTutorials` bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-253">However, we still need to instruct the Membership framework that it should use the `SqlMembershipProvider` (versus, say, the `ActiveDirectoryMembershipProvider`) and that the `SqlMembershipProvider` should use the `SecurityTutorials` database.</span></span> <span data-ttu-id="7bb81-254">Omówimy sposób określić, jakie dostawca do użycia oraz dostosować ustawienia wybranego dostawcy w kroku 4.</span><span class="sxs-lookup"><span data-stu-id="7bb81-254">We'll look at how to specify what provider to use and how to customize the selected provider's settings in Step 4.</span></span> <span data-ttu-id="7bb81-255">Jednak najpierw Przyjrzyjmy się bardziej na obiekty bazy danych, które właśnie zostały utworzone.</span><span class="sxs-lookup"><span data-stu-id="7bb81-255">But first, let's take a deeper look at the database objects that were just created.</span></span>

## <a name="step-3-a-look-at-the-schemas-core-tables"></a><span data-ttu-id="7bb81-256">Krok 3. Zobacz tabele podstawowe schematu</span><span class="sxs-lookup"><span data-stu-id="7bb81-256">Step 3: A Look at the Schema's Core Tables</span></span>

<span data-ttu-id="7bb81-257">Podczas pracy z platformami członkostwo i role w aplikacji ASP.NET, szczegóły implementacji są hermetyzowane przez dostawcę.</span><span class="sxs-lookup"><span data-stu-id="7bb81-257">When working with the Membership and Roles frameworks in an ASP.NET application, the implementation details are encapsulated by the provider.</span></span> <span data-ttu-id="7bb81-258">W przyszłości samouczków firma Microsoft będzie współpracować z tych platform za pomocą programu .NET Framework `Membership` i `Roles` klasy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-258">In future tutorials we will interface with these frameworks via the .NET Framework's `Membership` and `Roles` classes.</span></span> <span data-ttu-id="7bb81-259">Korzystając z tych interfejsy API wysokiego poziomu nie musimy dotyczą osoby za pomocą szczegóły niskiego poziomu, takich jak zapytania, które są wykonywane lub tabele są modyfikowane przez `SqlMembershipProvider` i `SqlRoleProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-259">When using these high-level APIs we do not need to concern ourselves with the low-level details, like what queries are executed or what tables are modified by the `SqlMembershipProvider` and `SqlRoleProvider`.</span></span>

<span data-ttu-id="7bb81-260">Biorąc pod uwagę to, można bezpiecznie używamy struktury członkostwa i ról bez konieczności zbadano schemat bazy danych utworzone w kroku 2.</span><span class="sxs-lookup"><span data-stu-id="7bb81-260">Given this, we could confidently use the Membership and Roles frameworks without having explored the database schema created in Step 2.</span></span> <span data-ttu-id="7bb81-261">Jednak podczas tworzenia tabel do przechowywania danych aplikacji firma Microsoft może być konieczne utworzenie jednostek, które odnoszą się do użytkowników lub ról.</span><span class="sxs-lookup"><span data-stu-id="7bb81-261">However, when creating the tables to store application data we may need to create entities that relate to users or roles.</span></span> <span data-ttu-id="7bb81-262">Warto mieć znajomość `SqlMembershipProvider` i `SqlRoleProvider` schematów podczas ustanawiania obcego klucza ograniczenia między tabelami danych aplikacji i tych tabel, utworzony w kroku 2.</span><span class="sxs-lookup"><span data-stu-id="7bb81-262">It helps to have a familiarity with the `SqlMembershipProvider` and `SqlRoleProvider` schemas when establishing foreign key constraints between the application data tables and those tables created in Step 2.</span></span> <span data-ttu-id="7bb81-263">Ponadto w pewnych sytuacjach szczególnych firma Microsoft może być konieczne interfejsu użytkownika i roli są przechowywane bezpośrednio na poziomie bazy danych (a nie poprzez `Membership` lub `Roles` klasy).</span><span class="sxs-lookup"><span data-stu-id="7bb81-263">Moreover, in certain rare circumstances we may need to interface with the user and role stores directly at the database level (instead of through the `Membership` or `Roles` classes).</span></span>

### <a name="partitioning-the-user-store-into-applications"></a><span data-ttu-id="7bb81-264">Partycjonowanie Store użytkownika do aplikacji</span><span class="sxs-lookup"><span data-stu-id="7bb81-264">Partitioning the User Store Into Applications</span></span>

<span data-ttu-id="7bb81-265">Struktury członkostwa i ról zostały zaprojektowane w taki sposób, że jeden magazyn użytkownika i roli mogą być współużytkowane przez wiele aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-265">The Membership and Roles frameworks are designed such that a single user and role store can be shared among many different applications.</span></span> <span data-ttu-id="7bb81-266">Aplikacji ASP.NET, który używa struktury członkostwa lub ról, należy określić partycji aplikacji do użycia.</span><span class="sxs-lookup"><span data-stu-id="7bb81-266">An ASP.NET application that uses the Membership or Roles frameworks must specify what application partition to use.</span></span> <span data-ttu-id="7bb81-267">Krótko mówiąc wielu aplikacji sieci web można użyć tego samego magazynów użytkownika i roli.</span><span class="sxs-lookup"><span data-stu-id="7bb81-267">In short, multiple web applications can use the same user and role stores.</span></span> <span data-ttu-id="7bb81-268">Rysunek 11 zebrano magazynów użytkownika i roli, które są partycjonowane na trzech aplikacji: HRSite CustomerSite i SalesSite.</span><span class="sxs-lookup"><span data-stu-id="7bb81-268">Figure 11 depicts user and role stores that are partitioned into three applications: HRSite, CustomerSite, and SalesSite.</span></span> <span data-ttu-id="7bb81-269">Te trzy aplikacje sieci web każdy mają własne unikatowych użytkowników i ról, ale wszystkie fizycznie przechowują swoje konto i roli informacje o użytkowniku w tych samych tabelach bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-269">These three web applications each have their own unique users and roles, yet they all physically store their user account and role information in the same database tables.</span></span>


[![U<span data-ttu-id="7bb81-270">ser konta może być podzielona na partycje w wielu aplikacjach]</span><span class="sxs-lookup"><span data-stu-id="7bb81-270">ser Accounts May Be Partitioned Across Multiple Applications]</span></span>(creating-the-membership-schema-in-sql-server-cs/_static/image32.png)](creating-the-membership-schema-in-sql-server-cs/_static/image31.png)

<span data-ttu-id="7bb81-271">**Rysunek 11**: Użytkownika konta może być podzielona na partycje w wielu aplikacjach ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](creating-the-membership-schema-in-sql-server-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="7bb81-271">**Figure 11**: User Accounts May Be Partitioned Across Multiple Applications ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image33.png))</span></span>


<span data-ttu-id="7bb81-272">`aspnet_Applications` Tabela jest definiuje tych partycji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-272">The `aspnet_Applications` table is what defines these partitions.</span></span> <span data-ttu-id="7bb81-273">Każdej aplikacji korzystającej z bazy danych do przechowywania informacji o koncie użytkownika jest reprezentowany przez wiersza w tej tabeli.</span><span class="sxs-lookup"><span data-stu-id="7bb81-273">Each application that uses the database to store user account information is represented by a row in this table.</span></span> <span data-ttu-id="7bb81-274">`aspnet_Applications` Tabela ma cztery kolumny: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, i `Description`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-274">The `aspnet_Applications` table has four columns: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, and `Description`.</span></span> `ApplicationId` <span data-ttu-id="7bb81-275">Typ jest [ `uniqueidentifier` ](https://msdn.microsoft.com/library/ms187942.aspx) i klucz podstawowy tabeli; `ApplicationName` zapewnia unikatową nazwę przyjaznego dla człowieka dla każdej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-275">is of type [`uniqueidentifier`](https://msdn.microsoft.com/library/ms187942.aspx) and is the table's primary key; `ApplicationName` provides a unique human-friendly name for each application.</span></span>

<span data-ttu-id="7bb81-276">Inne tabele powiązane członkostwa i ról prowadzą z powrotem do `ApplicationId` pole `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-276">The other Membership- and Role-related tables link back to the `ApplicationId` field in `aspnet_Applications`.</span></span> <span data-ttu-id="7bb81-277">Na przykład `aspnet_Users` tabeli, która zawiera rekord dla każdego konta użytkownika, ma `ApplicationId` pola klucza obcego; jw. Aby uzyskać `aspnet_Roles` tabeli.</span><span class="sxs-lookup"><span data-stu-id="7bb81-277">For example, the `aspnet_Users` table, which contains a record for each user account, has an `ApplicationId` foreign key field; ditto for the `aspnet_Roles` table.</span></span> <span data-ttu-id="7bb81-278">`ApplicationId` Partycji aplikacji Określa pole w tych tabelach, konto użytkownika lub rola.</span><span class="sxs-lookup"><span data-stu-id="7bb81-278">The `ApplicationId` field in these tables specifies the application partition the user account or role belongs to.</span></span>

### <a name="storing-user-account-information"></a><span data-ttu-id="7bb81-279">Przechowywanie informacji o koncie użytkownika</span><span class="sxs-lookup"><span data-stu-id="7bb81-279">Storing User Account Information</span></span>

<span data-ttu-id="7bb81-280">Informacje o koncie użytkownika są przechowywane w dwóch tabelach: `aspnet_Users` i `aspnet_Membership`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-280">User account information is housed in two tables: `aspnet_Users` and `aspnet_Membership`.</span></span> <span data-ttu-id="7bb81-281">`aspnet_Users` Tabela zawiera pola, których przechowywane są informacje o kontach użytkowników podstawowych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-281">The `aspnet_Users` table contains fields that hold the essential user account information.</span></span> <span data-ttu-id="7bb81-282">Trzy kolumny najbardziej potrzebne są:</span><span class="sxs-lookup"><span data-stu-id="7bb81-282">The three most pertinent columns are:</span></span>

- `UserId`
- `UserName`
- `ApplicationId`

`UserId` <span data-ttu-id="7bb81-283">jest to klucz podstawowy (i typu `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="7bb81-283">is the primary key (and of type `uniqueidentifier`).</span></span> `UserName` <span data-ttu-id="7bb81-284">Typ jest `nvarchar(256)` i wraz z hasłem, tworzy poświadczenia użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-284">is of type `nvarchar(256)` and, along with the password, makes up the user's credentials.</span></span> <span data-ttu-id="7bb81-285">(Hasła użytkownika są przechowywane w `aspnet_Membership` tabeli.) `ApplicationId` łączy konto użytkownika do konkretnej aplikacji w `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-285">(A user's password is stored in the `aspnet_Membership` table.) `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="7bb81-286">Brak złożonego [ `UNIQUE` ograniczenie](https://msdn.microsoft.com/library/ms191166.aspx) na `UserName` i `ApplicationId` kolumn.</span><span class="sxs-lookup"><span data-stu-id="7bb81-286">There is a composite [`UNIQUE` constraint](https://msdn.microsoft.com/library/ms191166.aspx) on the `UserName` and `ApplicationId` columns.</span></span> <span data-ttu-id="7bb81-287">Daje to gwarancję, że w danej aplikacji jest unikatowa nazwa każdego użytkownika, ale daje takie same `UserName` ma być używany w różnych aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="7bb81-287">This ensures that in a given application each UserName is unique, yet it allows for the same `UserName` to be used in different applications.</span></span>

<span data-ttu-id="7bb81-288">`aspnet_Membership` Tabela zawiera dodatkowe informacje, takie jak hasło użytkownika, adres e-mail, ostatnie logowania daty i godziny oraz itd.</span><span class="sxs-lookup"><span data-stu-id="7bb81-288">The `aspnet_Membership` table includes additional user account information, like the user's password, email address, the last login date and time, and so forth.</span></span> <span data-ttu-id="7bb81-289">Ma relację między rekordami w `aspnet_Users` i `aspnet_Membership` tabel.</span><span class="sxs-lookup"><span data-stu-id="7bb81-289">There is a one-to-one correspondence between records in the `aspnet_Users` and `aspnet_Membership` tables.</span></span> <span data-ttu-id="7bb81-290">Ta relacja jest zapewniana przez `UserId` pole `aspnet_Membership`, który służy jako klucz podstawowy tabeli.</span><span class="sxs-lookup"><span data-stu-id="7bb81-290">This relationship is ensured by the `UserId` field in `aspnet_Membership`, which serves as the table's primary key.</span></span> <span data-ttu-id="7bb81-291">Podobnie jak `aspnet_Users` tabeli `aspnet_Membership` obejmuje `ApplicationId` pola, która tych informacji do określonej partycji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-291">Like the `aspnet_Users` table, `aspnet_Membership` includes an `ApplicationId` field that ties this information to a particular application partition.</span></span>

### <a name="securing-passwords"></a><span data-ttu-id="7bb81-292">Zabezpieczanie haseł</span><span class="sxs-lookup"><span data-stu-id="7bb81-292">Securing Passwords</span></span>

<span data-ttu-id="7bb81-293">Informacje dotyczące hasła są przechowywane w `aspnet_Membership` tabeli.</span><span class="sxs-lookup"><span data-stu-id="7bb81-293">Password information is stored in the `aspnet_Membership` table.</span></span> <span data-ttu-id="7bb81-294">`SqlMembershipProvider` Umożliwia haseł, które mają być przechowywane w bazie danych przy użyciu jednej z trzech następujących technik:</span><span class="sxs-lookup"><span data-stu-id="7bb81-294">The `SqlMembershipProvider` allows for passwords to be stored in the database using one of the following three techniques:</span></span>

- <span data-ttu-id="7bb81-295">**Wyczyść** — hasło jest przechowywane w bazie danych w postaci zwykłego tekstu.</span><span class="sxs-lookup"><span data-stu-id="7bb81-295">**Clear** - the password is stored in the database as plain-text.</span></span> <span data-ttu-id="7bb81-296">I zdecydowanie odradzamy przy użyciu tej opcji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-296">I strongly discourage using this option.</span></span> <span data-ttu-id="7bb81-297">Jeśli baza danych zostanie naruszony — są to przez hakera, który umożliwia znalezienie drzwi wstecz lub niezadowoleni pracownika, który ma dostęp do bazy danych — poświadczenia każdego pojedynczego użytkownika czy istnieją pobierania.</span><span class="sxs-lookup"><span data-stu-id="7bb81-297">If the database is compromised - be it by a hacker who finds a back door or a disgruntled employee who has database access - every single user's credentials are there for the taking.</span></span>
- <span data-ttu-id="7bb81-298">**Mieszana** -hasła mają formę skrótu, za pomocą jednokierunkowego algorytmu skrótu i generowanej losowo wartości zaburzającej.</span><span class="sxs-lookup"><span data-stu-id="7bb81-298">**Hashed** - passwords are hashed using a one-way hash algorithm and a randomly generated salt value.</span></span> <span data-ttu-id="7bb81-299">Ta wartość skrótu (wraz z ziarna) są przechowywane w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-299">This hashed value (along with the salt) is stored in the database.</span></span>
- <span data-ttu-id="7bb81-300">**Szyfrowane** -zaszyfrowana wersja hasła są przechowywane w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-300">**Encrypted** - an encrypted version of the password is stored in the database.</span></span>

<span data-ttu-id="7bb81-301">Hasło magazynu zastosowanych jest zależna od `SqlMembershipProvider` ustawienia określone w `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-301">The password storage technique used depends on the `SqlMembershipProvider` settings specified in `Web.config`.</span></span> <span data-ttu-id="7bb81-302">Przyjrzymy się dostosowywanie `SqlMembershipProvider` ustawień w kroku 4.</span><span class="sxs-lookup"><span data-stu-id="7bb81-302">We will look at customizing the `SqlMembershipProvider` settings in Step 4.</span></span> <span data-ttu-id="7bb81-303">Zachowanie domyślne jest do przechowywania skrótów haseł.</span><span class="sxs-lookup"><span data-stu-id="7bb81-303">The default behavior is to store the hash of the password.</span></span>

<span data-ttu-id="7bb81-304">Są zobowiązani do przechowywania hasła kolumny `Password`, `PasswordFormat`, i `PasswordSalt`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-304">The columns responsible for storing the password are `Password`, `PasswordFormat`, and `PasswordSalt`.</span></span> `PasswordFormat` <span data-ttu-id="7bb81-305">To pole typu `int` wskazuje, którego wartość techniki używane do przechowywania hasła: 0 w przypadku zwykłego; 1 Hashed; 2-zaszyfrowane.</span><span class="sxs-lookup"><span data-stu-id="7bb81-305">is a field of type `int` whose value indicates the technique used for storing the password: 0 for Clear; 1 for Hashed; 2 for Encrypted.</span></span> `PasswordSalt` <span data-ttu-id="7bb81-306">przypisano losowo generowany ciągu, niezależnie od tego hasła magazynu zastosowanych; wartość `PasswordSalt` jest używana tylko podczas obliczania skrótu hasła.</span><span class="sxs-lookup"><span data-stu-id="7bb81-306">is assigned a randomly generated string regardless of the password storage technique used; the value of `PasswordSalt` is only used when computing the hash of the password.</span></span> <span data-ttu-id="7bb81-307">Na koniec `Password` kolumna zawiera dane rzeczywiste hasło, należy go hasła jako zwykły tekst, skrót hasła lub zaszyfrowane hasło.</span><span class="sxs-lookup"><span data-stu-id="7bb81-307">Finally, the `Password` column contains the actual password data, be it the plain-text password, the hash of the password, or the encrypted password.</span></span>

<span data-ttu-id="7bb81-308">Tabela 1 przedstawiono te trzy kolumny jak może wyglądać dla różnych technik przetwarzania magazynu podczas zapisywania haseł MySecret!</span><span class="sxs-lookup"><span data-stu-id="7bb81-308">Table 1 illustrates what these three columns might look like for the various storage techniques when storing the password MySecret!</span></span> <span data-ttu-id="7bb81-309">.</span><span class="sxs-lookup"><span data-stu-id="7bb81-309">.</span></span>

| **<span data-ttu-id="7bb81-310">Technika magazynu&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="7bb81-310">Storage Technique&lt;\_o3a\_p /&gt;</span></span>** | **<span data-ttu-id="7bb81-311">Hasło&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="7bb81-311">Password&lt;\_o3a\_p /&gt;</span></span>** | **<span data-ttu-id="7bb81-312">PasswordFormat&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="7bb81-312">PasswordFormat&lt;\_o3a\_p /&gt;</span></span>** | **<span data-ttu-id="7bb81-313">PasswordSalt&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="7bb81-313">PasswordSalt&lt;\_o3a\_p /&gt;</span></span>** |
| --- | --- | --- | --- |
| <span data-ttu-id="7bb81-314">Clear</span><span class="sxs-lookup"><span data-stu-id="7bb81-314">Clear</span></span> | <span data-ttu-id="7bb81-315">MySecret!</span><span class="sxs-lookup"><span data-stu-id="7bb81-315">MySecret!</span></span> | <span data-ttu-id="7bb81-316">0</span><span class="sxs-lookup"><span data-stu-id="7bb81-316">0</span></span> | <span data-ttu-id="7bb81-317">tTnkPlesqissc2y2SMEygA==</span><span class="sxs-lookup"><span data-stu-id="7bb81-317">tTnkPlesqissc2y2SMEygA==</span></span> |
| <span data-ttu-id="7bb81-318">Mieszana</span><span class="sxs-lookup"><span data-stu-id="7bb81-318">Hashed</span></span> | <span data-ttu-id="7bb81-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span><span class="sxs-lookup"><span data-stu-id="7bb81-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span></span> | <span data-ttu-id="7bb81-320">1</span><span class="sxs-lookup"><span data-stu-id="7bb81-320">1</span></span> | <span data-ttu-id="7bb81-321">wFgjUfhdUFOCKQiI61vtiQ==</span><span class="sxs-lookup"><span data-stu-id="7bb81-321">wFgjUfhdUFOCKQiI61vtiQ==</span></span> |
| <span data-ttu-id="7bb81-322">Szyfrowane</span><span class="sxs-lookup"><span data-stu-id="7bb81-322">Encrypted</span></span> | <span data-ttu-id="7bb81-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span><span class="sxs-lookup"><span data-stu-id="7bb81-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span></span> | <span data-ttu-id="7bb81-324">2</span><span class="sxs-lookup"><span data-stu-id="7bb81-324">2</span></span> | <span data-ttu-id="7bb81-325">LSRzhGS/aa/oqAXGLHJNBw==</span><span class="sxs-lookup"><span data-stu-id="7bb81-325">LSRzhGS/aa/oqAXGLHJNBw==</span></span> |

<span data-ttu-id="7bb81-326">**Tabela 1**: Przykładowe wartości pól skojarzone z hasłem w przypadku przechowywania MySecret hasło!</span><span class="sxs-lookup"><span data-stu-id="7bb81-326">**Table 1**: Example Values for the Password-Related Fields When Storing the Password MySecret!</span></span>

> [!NOTE]
> <span data-ttu-id="7bb81-327">Algorytmu wyznaczania wartości skrótu używanego przez serwer lub określonej szyfrowania `SqlMembershipProvider` zależy od ustawienia w `<machineKey>` elementu.</span><span class="sxs-lookup"><span data-stu-id="7bb81-327">The particular encryption or hashing algorithm used by the `SqlMembershipProvider` is determined by the settings in the `<machineKey>` element.</span></span> <span data-ttu-id="7bb81-328">Omówiliśmy ten element konfiguracji w kroku 3 <a id="Tutorial3"> </a> [ *Konfiguracja uwierzytelniania formularzy i Tematy zaawansowane* ](../introduction/forms-authentication-configuration-and-advanced-topics-cs.md) samouczka.</span><span class="sxs-lookup"><span data-stu-id="7bb81-328">We discussed this configuration element in Step 3 of the <a id="Tutorial3"></a>[*Forms Authentication Configuration and Advanced Topics*](../introduction/forms-authentication-configuration-and-advanced-topics-cs.md) tutorial.</span></span>


### <a name="storing-roles-and-role-associations"></a><span data-ttu-id="7bb81-329">Przechowywanie ról i skojarzenia roli</span><span class="sxs-lookup"><span data-stu-id="7bb81-329">Storing Roles and Role Associations</span></span>

<span data-ttu-id="7bb81-330">W ramach ról umożliwia deweloperom Definiowanie zestawu ról i określić, jakie użytkownicy należą do jakich ról.</span><span class="sxs-lookup"><span data-stu-id="7bb81-330">The Roles framework allows developers to define a set of roles and specify what users belong to what roles.</span></span> <span data-ttu-id="7bb81-331">Te informacje są przechwytywane w bazie danych za pośrednictwem dwóch tabel: `aspnet_Roles` i `aspnet_UsersInRoles`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-331">This information is captured in the database through two tables: `aspnet_Roles` and `aspnet_UsersInRoles`.</span></span> <span data-ttu-id="7bb81-332">Każdy rekord w `aspnet_Roles` tabeli reprezentuje rolę dla określonej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-332">Each record in the `aspnet_Roles` table represents a role for a particular application.</span></span> <span data-ttu-id="7bb81-333">Podobnie jak `aspnet_Users` tabeli `aspnet_Roles` tabela ma trzy kolumny dotyczących naszych dyskusji:</span><span class="sxs-lookup"><span data-stu-id="7bb81-333">Much like the `aspnet_Users` table, the `aspnet_Roles` table has three columns pertinent to our discussion:</span></span>

- `RoleId`
- `RoleName`
- `ApplicationId`

`RoleId` <span data-ttu-id="7bb81-334">jest to klucz podstawowy (i typu `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="7bb81-334">is the primary key (and of type `uniqueidentifier`).</span></span> `RoleName` <span data-ttu-id="7bb81-335">Typ jest `nvarchar(256)`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-335">is of type `nvarchar(256)`.</span></span> <span data-ttu-id="7bb81-336">I `ApplicationId` łączy konto użytkownika do konkretnej aplikacji w `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-336">And `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="7bb81-337">Brak złożonego `UNIQUE` ograniczenie `RoleName` i `ApplicationId` kolumn, zapewnia, że każda nazwa roli w danej aplikacji jest unikatowy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-337">There is a composite `UNIQUE` constraint on the `RoleName` and `ApplicationId` columns, ensuring that in a given application each role name is unique.</span></span>

<span data-ttu-id="7bb81-338">`aspnet_UsersInRoles` Tabeli służy jako mapowania między użytkownikami i rolami.</span><span class="sxs-lookup"><span data-stu-id="7bb81-338">The `aspnet_UsersInRoles` table serves as a mapping between users and roles.</span></span> <span data-ttu-id="7bb81-339">Istnieją tylko dwie kolumny — `UserId` i `RoleId` — a razem tworzą one złożony klucz podstawowy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-339">There are only two columns - `UserId` and `RoleId` - and together they make up a composite primary key.</span></span>

## <a name="step-4-specifying-the-provider-and-customizing-its-settings"></a><span data-ttu-id="7bb81-340">Krok 4. Określanie dostawcy i dostosowywanie jej ustawienia</span><span class="sxs-lookup"><span data-stu-id="7bb81-340">Step 4: Specifying the Provider and Customizing Its Settings</span></span>

<span data-ttu-id="7bb81-341">Wszystkie strukturami, które obsługują modelu dostawca — takie jak struktury członkostwa i ról — Brak szczegółów implementacji, samodzielnie i zamiast tego przekazać to zadanie do klasy dostawcy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-341">All of the frameworks that support the provider model - such as the Membership and Roles frameworks - lack implementation details themselves and instead delegate that responsibility to a provider class.</span></span> <span data-ttu-id="7bb81-342">W przypadku członkostwa w ramach `Membership` klasa definiuje interfejs API do zarządzania kontami użytkowników, ale go nie bezpośrednią interakcję z dowolnego Sklepu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-342">In the case of the Membership framework, the `Membership` class defines the API for managing user accounts, but it does not interact directly with any user store.</span></span> <span data-ttu-id="7bb81-343">Zamiast `Membership` żądanie skonfigurowany dostawca — Dostarcz metody tej klasy użyjemy `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-343">Rather, the `Membership` class's methods hand off the request to the configured provider - we will be using the `SqlMembershipProvider`.</span></span> <span data-ttu-id="7bb81-344">Gdy firma Microsoft wywołania jednej z metod w `Membership` klasy, jak framework członkostwa, aby delegować wywołanie `SqlMembershipProvider`?</span><span class="sxs-lookup"><span data-stu-id="7bb81-344">When we invoke one of the methods in the `Membership` class, how does the Membership framework know to delegate the call to the `SqlMembershipProvider`?</span></span>

<span data-ttu-id="7bb81-345">`Membership` Klasa ma [ `Providers` właściwość](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) zawiera odwołanie do wszystkich klas zarejestrowanego dostawcy dostępne do użycia przez platformę, członkostwo.</span><span class="sxs-lookup"><span data-stu-id="7bb81-345">The `Membership` class has a [`Providers` property](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) that contains a reference to all of the registered provider classes available for use by the Membership framework.</span></span> <span data-ttu-id="7bb81-346">Każdy zarejestrowany dostawca ma skojarzone nazwy i typu.</span><span class="sxs-lookup"><span data-stu-id="7bb81-346">Each registered provider has an associated name and type.</span></span> <span data-ttu-id="7bb81-347">Nazwa oferuje sposób przyjaznego dla człowieka odwoływać się do określonego dostawcy w `Providers` kolekcji, gdy typ identyfikuje klasy dostawcy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-347">The name offers a human-friendly way to reference a particular provider in the `Providers` collection, while the type identifies the provider class.</span></span> <span data-ttu-id="7bb81-348">Ponadto każdego zarejestrowanego dostawcy mogą obejmować ustawienia konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-348">Moreover, each registered provider may include configuration settings.</span></span> <span data-ttu-id="7bb81-349">Ustawienia konfiguracji dla struktury członkostwa obejmują `passwordFormat` i `requiresUniqueEmail`, wiele innych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-349">Configuration settings for the Membership framework include `passwordFormat` and `requiresUniqueEmail`, among many others.</span></span> <span data-ttu-id="7bb81-350">Patrz tabela 2, aby uzyskać pełną listę ustawień konfiguracji używane przez `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-350">See Table 2 for a complete list of configuration settings used by the `SqlMembershipProvider`.</span></span>

<span data-ttu-id="7bb81-351">`Providers` Zawartość właściwości są określone w ustawieniach konfiguracji aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="7bb81-351">The `Providers` property's contents are specified through the web application's configuration settings.</span></span> <span data-ttu-id="7bb81-352">Domyślnie wszystkie aplikacje sieci web mają dostawcę o nazwie `AspNetSqlMembershipProvider` typu `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-352">By default, all web applications have a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span> <span data-ttu-id="7bb81-353">Domyślny dostawca członkostwa jest zarejestrowany w `machine.config` (znajdujący się w `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG)`:</span><span class="sxs-lookup"><span data-stu-id="7bb81-353">This default Membership provider is registered in `machine.config` (located at `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG)`:</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample1.xml)]

<span data-ttu-id="7bb81-354">Jako kod znaczników powyżej przedstawiono [ `<membership>` elementu](https://msdn.microsoft.com/library/1b9hw62f.aspx) definiuje ustawienia konfiguracji dla struktury członkostwa, podczas [ `<providers>` element podrzędny](https://msdn.microsoft.com/library/6d4936ht.aspx) Określa zarejestrowaną dostawcy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-354">As the markup above shows, the [`<membership>` element](https://msdn.microsoft.com/library/1b9hw62f.aspx) defines the configuration settings for the Membership framework while the [`<providers>` child element](https://msdn.microsoft.com/library/6d4936ht.aspx) specifies the registered providers.</span></span> <span data-ttu-id="7bb81-355">Dostawcy mogą zostać dodane lub usunięte za pomocą [ `<add>` ](https://msdn.microsoft.com/library/whae3t94.aspx) lub [ `<remove>` ](https://msdn.microsoft.com/library/aykw9a6d.aspx) elementów; użyj [ `<clear>` ](https://msdn.microsoft.com/library/t062y6yc.aspx) elementu do usunięcia wszystkich aktualnie zarejestrowanych dostawców.</span><span class="sxs-lookup"><span data-stu-id="7bb81-355">Providers may be added or removed using the [`<add>`](https://msdn.microsoft.com/library/whae3t94.aspx) or [`<remove>`](https://msdn.microsoft.com/library/aykw9a6d.aspx) elements; use the [`<clear>`](https://msdn.microsoft.com/library/t062y6yc.aspx) element to remove all currently registered providers.</span></span> <span data-ttu-id="7bb81-356">Jako kod znaczników powyżej przedstawiono `machine.config` Dodaje dostawcę o nazwie `AspNetSqlMembershipProvider` typu `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-356">As the markup above shows, `machine.config` adds a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span>

<span data-ttu-id="7bb81-357">Oprócz `name` i `type` atrybutów, `<add>` element zawiera atrybuty, które określają wartości dla różnych konfigurowania ustawień.</span><span class="sxs-lookup"><span data-stu-id="7bb81-357">In addition to the `name` and `type` attributes, the `<add>` element contains attributes that define the values for various configuring settings.</span></span> <span data-ttu-id="7bb81-358">Tabela 2 zawiera listę dostępnych `SqlMembershipProvider`-określonych ustawień konfiguracji, wraz z opisem każdego z nich.</span><span class="sxs-lookup"><span data-stu-id="7bb81-358">Table 2 lists the available `SqlMembershipProvider`-specific configuration settings, along with a description of each.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb81-359">Domyślne wartości podane w tabeli 2 odnoszą się do wartości domyślnych, zdefiniowane w `SqlMembershipProvider` klasy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-359">Any default values noted in Table 2 refer to the default values defined in the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="7bb81-360">Należy pamiętać, że nie wszystkie ustawienia konfiguracji w `AspNetSqlMembershipProvider` zgodne z wartościami domyślnymi `SqlMembershipProvider` klasy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-360">Note that not all of the configuration settings in `AspNetSqlMembershipProvider` correspond to the default values of the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="7bb81-361">Na przykład, jeśli nie określono dostawcy członkostwa `requiresUniqueEmail` ustawień domyślnych na wartość true.</span><span class="sxs-lookup"><span data-stu-id="7bb81-361">For example, if not specified in a Membership provider, the `requiresUniqueEmail` setting defaults to true.</span></span> <span data-ttu-id="7bb81-362">Jednak `AspNetSqlMembershipProvider` zastępuje tę wartość domyślną, jawnie ustawiając wartość `false`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-362">However, the `AspNetSqlMembershipProvider` overrides this default value by explicitly specifying a value of `false`.</span></span>


| **<span data-ttu-id="7bb81-363">Ustawienie&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="7bb81-363">Setting&lt;\_o3a\_p /&gt;</span></span>** | **<span data-ttu-id="7bb81-364">Opis&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="7bb81-364">Description&lt;\_o3a\_p /&gt;</span></span>** |
| --- | --- |
| `ApplicationName` | <span data-ttu-id="7bb81-365">Pamiętaj, że framework członkostwa pozwala magazynu jednego użytkownika do podzielenia na partycje dla wielu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-365">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="7bb81-366">To ustawienie wskazuje nazwę partycji aplikacji używanej przez dostawcę członkostwa.</span><span class="sxs-lookup"><span data-stu-id="7bb81-366">This setting indicates the name of the application partition used by the Membership provider.</span></span> <span data-ttu-id="7bb81-367">Jeśli ta wartość nie jawnie określono, jest on ustawiony, w czasie wykonywania wartość ścieżka wirtualnego katalogu głównego aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-367">If this value is not explicitly specified, it is set, at runtime, to the value of the application's virtual root path.</span></span> |
| `commandTimeout` | <span data-ttu-id="7bb81-368">Określa wartość limitu czasu polecenia SQL (w sekundach).</span><span class="sxs-lookup"><span data-stu-id="7bb81-368">Specifies the SQL command timeout value (in seconds).</span></span> <span data-ttu-id="7bb81-369">Wartość domyślna to 30.</span><span class="sxs-lookup"><span data-stu-id="7bb81-369">The default value is 30.</span></span> |
| `connectionStringName` | <span data-ttu-id="7bb81-370">Nazwa parametrów połączenia w `<connectionStrings>` elementu używanego do łączenia z bazą danych magazynu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-370">The name of the connection string in the `<connectionStrings>` element to use to connect to the user store database.</span></span> <span data-ttu-id="7bb81-371">Ta wartość jest wymagana.</span><span class="sxs-lookup"><span data-stu-id="7bb81-371">This value is required.</span></span> |
| `description` | <span data-ttu-id="7bb81-372">Zawiera opis przyjaznego dla człowieka zarejestrowanego dostawcy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-372">Provides a human-friendly description of the registered provider.</span></span> |
| `enablePasswordRetrieval` | <span data-ttu-id="7bb81-373">Określa, czy użytkownicy mogą pobrać zapomnianego hasła.</span><span class="sxs-lookup"><span data-stu-id="7bb81-373">Specifies whether users may retrieve their forgotten password.</span></span> <span data-ttu-id="7bb81-374">Wartość domyślna to `false`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-374">The default value is `false`.</span></span> |
| `enablePasswordReset` | <span data-ttu-id="7bb81-375">Wskazuje, czy użytkownicy mogą zresetować swoje hasło.</span><span class="sxs-lookup"><span data-stu-id="7bb81-375">Indicates whether users are allowed to reset their password.</span></span> <span data-ttu-id="7bb81-376">Wartość domyślna to `true`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-376">Defaults to `true`.</span></span> |
| `maxInvalidPasswordAttempts` | <span data-ttu-id="7bb81-377">Maksymalną liczbę prób Nieudane logowanie, które mogą wystąpić dla danego użytkownika podczas określonego `passwordAttemptWindow` przed zablokowaniem użytkownika. Wartość domyślna to 5.</span><span class="sxs-lookup"><span data-stu-id="7bb81-377">The maximum number of unsuccessful login attempts that may occur for a given user during the specified `passwordAttemptWindow` before the user is locked out. The default value is 5.</span></span> |
| `minRequiredNonalphanumericCharacters` | <span data-ttu-id="7bb81-378">Minimalna liczba znaków innych niż alfanumeryczne, które muszą być ujęte w hasła użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7bb81-378">The minimum number of non-alphanumeric characters that must appear in a user's password.</span></span> <span data-ttu-id="7bb81-379">Ta wartość musi być z zakresu od 0 do 128; Wartość domyślna to 1.</span><span class="sxs-lookup"><span data-stu-id="7bb81-379">This value must be between 0 and 128; the default is 1.</span></span> |
| `minRequiredPasswordLength` | <span data-ttu-id="7bb81-380">Minimalna liczba znaków w haśle.</span><span class="sxs-lookup"><span data-stu-id="7bb81-380">The minimum number of characters required in a password.</span></span> <span data-ttu-id="7bb81-381">Ta wartość musi być z zakresu od 0 do 128; Wartość domyślna to 7.</span><span class="sxs-lookup"><span data-stu-id="7bb81-381">This value must be between 0 and 128; the default is 7.</span></span> |
| `name` | <span data-ttu-id="7bb81-382">Nazwa zarejestrowanego dostawcy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-382">The name of the registered provider.</span></span> <span data-ttu-id="7bb81-383">Ta wartość jest wymagana.</span><span class="sxs-lookup"><span data-stu-id="7bb81-383">This value is required.</span></span> |
| `passwordAttemptWindow` | <span data-ttu-id="7bb81-384">Liczba minut, podczas którego nieudanych prób są śledzone.</span><span class="sxs-lookup"><span data-stu-id="7bb81-384">The number of minutes during which failed login attempts are tracked.</span></span> <span data-ttu-id="7bb81-385">Jeśli użytkownik poda nieprawidłowych poświadczeń logowania `maxInvalidPasswordAttempts` razy w ramach tej określony okna, są zablokowane. Wartość domyślna to 10.</span><span class="sxs-lookup"><span data-stu-id="7bb81-385">If a user supplies invalid login credentials `maxInvalidPasswordAttempts` times within this specified window, they are locked out. The default value is 10.</span></span> |
| `PasswordFormat` | <span data-ttu-id="7bb81-386">Format przechowywania haseł: `Clear`, `Hashed`, lub `Encrypted`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-386">The password storage format: `Clear`, `Hashed`, or `Encrypted`.</span></span> <span data-ttu-id="7bb81-387">Wartość domyślna to `Hashed`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-387">The default is `Hashed`.</span></span> |
| `passwordStrengthRegularExpression` | <span data-ttu-id="7bb81-388">Jeśli nie dostarczono, to wyrażenie regularne jest używane do oceny siły hasła wybranego użytkownika podczas tworzenia nowego konta lub podczas zmiany hasła.</span><span class="sxs-lookup"><span data-stu-id="7bb81-388">If provided, this regular expression is used to evaluate the strength of the user's selected password when creating a new account or when changing their password.</span></span> <span data-ttu-id="7bb81-389">Wartością domyślną jest ciąg pusty.</span><span class="sxs-lookup"><span data-stu-id="7bb81-389">The default value is an empty string.</span></span> |
| `requiresQuestionAndAnswer` | <span data-ttu-id="7bb81-390">Określa, czy użytkownik musi odpowiedzieć na pytanie zabezpieczające, jego podczas pobierania lub resetowanie własnego hasła.</span><span class="sxs-lookup"><span data-stu-id="7bb81-390">Specifies whether a user must answer his security question when retrieving or resetting his password.</span></span> <span data-ttu-id="7bb81-391">Wartość domyślna to `true`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-391">The default value is `true`.</span></span> |
| `requiresUniqueEmail` | <span data-ttu-id="7bb81-392">Wskazuje, czy wszystkie konta użytkowników w danej aplikacji partycji musi mieć unikatowego adresu e-mail.</span><span class="sxs-lookup"><span data-stu-id="7bb81-392">Indicates whether all user accounts in a given application partition must have a unique email address.</span></span> <span data-ttu-id="7bb81-393">Wartość domyślna to `true`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-393">The default value is `true`.</span></span> |
| `type` | <span data-ttu-id="7bb81-394">Określa typ dostawcy.</span><span class="sxs-lookup"><span data-stu-id="7bb81-394">Specifies the type of the provider.</span></span> <span data-ttu-id="7bb81-395">Ta wartość jest wymagana.</span><span class="sxs-lookup"><span data-stu-id="7bb81-395">This value is required.</span></span> |

<span data-ttu-id="7bb81-396">**Tabela 2**: Członkostwo i `SqlMembershipProvider` ustawień konfiguracji</span><span class="sxs-lookup"><span data-stu-id="7bb81-396">**Table 2**: Membership and `SqlMembershipProvider` Configuration Settings</span></span>

<span data-ttu-id="7bb81-397">Oprócz `AspNetSqlMembershipProvider`, innych dostawców członkostwa mogą być zarejestrowane na podstawie aplikacji, aplikacji, dodając znaczników podobny do `Web.config` pliku.</span><span class="sxs-lookup"><span data-stu-id="7bb81-397">In addition to `AspNetSqlMembershipProvider`, other Membership providers may be registered on an application-by-application basis by adding similar markup to the `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb81-398">W ramach ról działa w taki sam sposób: Brak domyślnego dostawcę roli zarejestrowanego w `machine.config` i zarejestrowanych dostawców można dostosować na podstawie aplikacji przez aplikację w `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-398">The Roles framework works in much the same way: there is a default registered role provider in `machine.config` and the registered providers may be customized on an application-by-application basis in `Web.config`.</span></span> <span data-ttu-id="7bb81-399">Będziemy sprawdzać framework ról i jego znaczników konfiguracji szczegółowo w przyszłości zapoznać się z samouczkiem.</span><span class="sxs-lookup"><span data-stu-id="7bb81-399">We will examine the Roles framework and its configuration markup in detail in a future tutorial.</span></span>


### <a name="customizing-thesqlmembershipprovidersettings"></a><span data-ttu-id="7bb81-400">Dostosowywanie`SqlMembershipProvider`ustawienia</span><span class="sxs-lookup"><span data-stu-id="7bb81-400">Customizing the`SqlMembershipProvider`Settings</span></span>

<span data-ttu-id="7bb81-401">Wartość domyślna `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) ma jego `connectionStringName` ustawioną wartość atrybutu `LocalSqlServer`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-401">The default `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) has its `connectionStringName` attribute set to `LocalSqlServer`.</span></span> <span data-ttu-id="7bb81-402">Podobnie jak `AspNetSqlMembershipProvider` dostawcy, nazwa parametrów połączenia `LocalSqlServer` jest zdefiniowany w `machine.config`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-402">Like the `AspNetSqlMembershipProvider` provider, the connection string name `LocalSqlServer` is defined in `machine.config`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample2.xml)]

<span data-ttu-id="7bb81-403">Jak widać, te parametry połączenia definiuje SQL 2005 Express Edition bazy danych znajdujące się u | DataDirectory|aspnetdb.mdf.</span><span class="sxs-lookup"><span data-stu-id="7bb81-403">As you can see, this connection string defines a SQL 2005 Express Edition database located at |DataDirectory|aspnetdb.mdf�.</span></span> <span data-ttu-id="7bb81-404">Ciąg | DataDirectory | jest tłumaczony w czasie wykonywania, aby wskazywał `~/App_Data/` katalogu, więc ścieżka bazy danych | DataDirectory|aspnetdb.mdf"przekłada się na `~/App_Data` / `aspnet.mdf`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-404">The string |DataDirectory|� is translated at runtime to point to the `~/App_Data/` directory, so the database path |DataDirectory|aspnetdb.mdf" translates to `~/App_Data`/`aspnet.mdf`.</span></span>

<span data-ttu-id="7bb81-405">Jeśli firma Microsoft nie określono żadnych informacji o dostawcy członkostwa w naszej aplikacji `Web.config` plik, aplikacja używa dostawcy członkostwa domyślna zarejestrowana, `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-405">If we did not specify any Membership provider information in our application's `Web.config` file, the application uses the default registered Membership provider, `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="7bb81-406">Jeśli `~/App_Data/aspnet.mdf` bazy danych nie istnieje, środowisko uruchomieniowe ASP.NET utworzyć automatycznie i Dodaj schemat usług aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-406">If the `~/App_Data/aspnet.mdf` database does not exist, the ASP.NET runtime will automatically create it and add the application services schema.</span></span> <span data-ttu-id="7bb81-407">Jednak firma Microsoft nie chcesz używać `aspnet.mdf` bazy danych; zamiast chcemy do użycia `SecurityTutorials.mdf` bazy danych utworzonej w kroku 2.</span><span class="sxs-lookup"><span data-stu-id="7bb81-407">However, we don't want to use the `aspnet.mdf` database; rather, we want to use the `SecurityTutorials.mdf` database we created in Step 2.</span></span> <span data-ttu-id="7bb81-408">Ta modyfikacja można zrobić na dwa sposoby:</span><span class="sxs-lookup"><span data-stu-id="7bb81-408">This modification can be accomplished in one of two ways:</span></span>

- <span data-ttu-id="7bb81-409"><strong>Określ wartość dla</strong><strong>`LocalSqlServer`</strong><strong>nazwa parametrów połączenia w</strong><strong>`Web.config`</strong><strong>.</strong></span><span class="sxs-lookup"><span data-stu-id="7bb81-409"><strong>Specify a value for the</strong><strong>`LocalSqlServer`</strong><strong>connection string name in</strong><strong>`Web.config`</strong><strong>.</strong></span></span> <span data-ttu-id="7bb81-410">Przez zastąpienie `LocalSqlServer` wartość Nazwa parametrów połączenia w `Web.config`, możemy użyć zarejestrowanych domyślnym dostawcą członkostwa (`AspNetSqlMembershipProvider`) i jest poprawnie pracować `SecurityTutorials.mdf` bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-410">By overwriting the `LocalSqlServer` connection string name value in `Web.config`, we can use the default registered Membership provider (`AspNetSqlMembershipProvider`) and have it correctly work with the `SecurityTutorials.mdf` database.</span></span> <span data-ttu-id="7bb81-411">To podejście jest odpowiednie w przypadku zawartości przy użyciu ustawień konfiguracyjnych, określony przez `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-411">This approach is fine if you are content with the configuration settings specified by `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="7bb81-412">Aby uzyskać więcej informacji na temat tej techniki, zobacz [Scott Guthrie](https://weblogs.asp.net/scottgu/)firmy wpis w blogu [Konfigurowanie platformy ASP.NET 2.0 usługi aplikacji, użyj programu SQL Server 2000 lub SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span><span class="sxs-lookup"><span data-stu-id="7bb81-412">For more information on this technique, see [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span></span>
- <span data-ttu-id="7bb81-413"><strong>Dodaj nowego dostawcę zarejestrowanego typu</strong><strong>`SqlMembershipProvider`</strong><strong>i konfigurowania jej</strong><strong>`connectionStringName`</strong><strong>ustawienie, aby wskazywał</strong> <strong>`SecurityTutorials.mdf`</strong> <strong>bazy danych.</strong></span><span class="sxs-lookup"><span data-stu-id="7bb81-413"><strong>Add a new registered provider of type</strong><strong>`SqlMembershipProvider`</strong><strong>and configure its</strong><strong>`connectionStringName`</strong><strong>setting to point to the</strong><strong>`SecurityTutorials.mdf`</strong><strong>database.</strong></span></span> <span data-ttu-id="7bb81-414">Takie podejście jest przydatne w scenariuszach, w którym chcesz dostosować inne właściwości konfiguracji, oprócz parametry połączenia bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-414">This approach is useful in scenarios where you want to customize other configuration properties in addition to the database connection string.</span></span> <span data-ttu-id="7bb81-415">W projektach I zawsze używaj tego podejścia ze względu na swoją elastyczność i czytelności.</span><span class="sxs-lookup"><span data-stu-id="7bb81-415">In my own projects I always use this approach because of its flexibility and readability.</span></span>

<span data-ttu-id="7bb81-416">Zanim dodamy nowy zarejestrowanego dostawcy, który odwołuje się do `SecurityTutorials.mdf` bazy danych, najpierw musimy dodać wartość ciągu połączenia w `<connectionStrings>` sekcji `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-416">Before we can add a new registered provider that references the `SecurityTutorials.mdf` database, we first need to add an appropriate connection string value in the `<connectionStrings>` section in `Web.config`.</span></span> <span data-ttu-id="7bb81-417">Następujący kod znaczników umożliwia dodanie nowych parametrów połączenia o nazwie `SecurityTutorialsConnectionString` odwołujący się program SQL Server 2005 Express Edition `SecurityTutorials.mdf` bazy danych w `App_Data` folderu.</span><span class="sxs-lookup"><span data-stu-id="7bb81-417">The following markup adds a new connection string named `SecurityTutorialsConnectionString` that references the SQL Server 2005 Express Edition `SecurityTutorials.mdf` database in the `App_Data` folder.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample3.xml)]

> [!NOTE]
> <span data-ttu-id="7bb81-418">Jeśli używasz pliku alternatywnej bazy danych, należy zaktualizować parametry połączenia, zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="7bb81-418">If you are using an alternate database file, update the connection string as needed.</span></span> <span data-ttu-id="7bb81-419">Aby uzyskać więcej informacji na temat stanowiący prawidłowych parametrów połączenia, zobacz [ConnectionStrings.com](http://www.connectionstrings.com/).</span><span class="sxs-lookup"><span data-stu-id="7bb81-419">For more information on forming the correct connection string, refer to [ConnectionStrings.com](http://www.connectionstrings.com/).</span></span>

<span data-ttu-id="7bb81-420">Następnie dodaj poniższe znaczników członkostwa w konfiguracji w celu `Web.config` pliku.</span><span class="sxs-lookup"><span data-stu-id="7bb81-420">Next, add the following Membership configuration markup to the `Web.config` file.</span></span> <span data-ttu-id="7bb81-421">Ten kod znaczników rejestruje nowego dostawcę o nazwie `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-421">This markup registers a new provider named `SecurityTutorialsSqlMembershipProvider`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample4.xml)]

<span data-ttu-id="7bb81-422">Oprócz rejestrowania `SecurityTutorialsSqlMembershipProvider` definiuje powyżej znaczników dostawcy `SecurityTutorialsSqlMembershipProvider` jako domyślnego dostawcę (za pośrednictwem `defaultProvider` atrybutu w `<membership>` elementu).</span><span class="sxs-lookup"><span data-stu-id="7bb81-422">In addition to registering the `SecurityTutorialsSqlMembershipProvider` provider, the above markup defines the `SecurityTutorialsSqlMembershipProvider` as the default provider (via the `defaultProvider` attribute in the `<membership>` element).</span></span> <span data-ttu-id="7bb81-423">Pamiętaj, że w ramach członkostwa mogą mieć wiele zarejestrowanych dostawców.</span><span class="sxs-lookup"><span data-stu-id="7bb81-423">Recall that the Membership framework can have multiple registered providers.</span></span> <span data-ttu-id="7bb81-424">Ponieważ `AspNetSqlMembershipProvider` jest zarejestrowany jako pierwszy dostawca w `machine.config`, chyba że wskazaliśmy, w przeciwnym razie służy jako domyślnego dostawcę.</span><span class="sxs-lookup"><span data-stu-id="7bb81-424">Since `AspNetSqlMembershipProvider` is registered as the first provider in `machine.config`, it serves as the default provider unless we indicate otherwise.</span></span>

<span data-ttu-id="7bb81-425">Obecnie nasza aplikacja ma dwóch dostawców zarejestrowanych: `AspNetSqlMembershipProvider` i `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-425">Currently, our application has two registered providers: `AspNetSqlMembershipProvider` and `SecurityTutorialsSqlMembershipProvider`.</span></span> <span data-ttu-id="7bb81-426">Jednak przed zarejestrowaniem `SecurityTutorialsSqlMembershipProvider` dostawcą, firma Microsoft może mieć wyczyszczone wszystkie wcześniej zarejestrowanego dostawcę, dodając [ `<clear />` elementu](https://msdn.microsoft.com/library/t062y6yc.aspx) bezpośrednio przed naszych `<add>` elementu.</span><span class="sxs-lookup"><span data-stu-id="7bb81-426">However, before registering the `SecurityTutorialsSqlMembershipProvider` provider we could have cleared out all previously registered providers by adding a [`<clear />` element](https://msdn.microsoft.com/library/t062y6yc.aspx) immediately before our `<add>` element.</span></span> <span data-ttu-id="7bb81-427">Spowoduje to wyczyszczenie `AspNetSqlMembershipProvider` z listy zarejestrowanych dostawców, co oznacza, że `SecurityTutorialsSqlMembershipProvider` będzie tylko zarejestrowanego dostawcy członkostwa.</span><span class="sxs-lookup"><span data-stu-id="7bb81-427">This would clear out the `AspNetSqlMembershipProvider` from the list of registered providers, meaning that the `SecurityTutorialsSqlMembershipProvider` would be the only registered Membership provider.</span></span> <span data-ttu-id="7bb81-428">Jeśli użyto tego podejścia, a następnie firma Microsoft nie jest wymagane oznaczyć `SecurityTutorialsSqlMembershipProvider` jako domyślnego dostawcę, ponieważ jest tylko zarejestrowanego dostawcy członkostwa.</span><span class="sxs-lookup"><span data-stu-id="7bb81-428">If we used this approach, then we would not need to mark the `SecurityTutorialsSqlMembershipProvider` as the default provider, since it would be the only registered Membership provider.</span></span> <span data-ttu-id="7bb81-429">Aby uzyskać więcej informacji na temat korzystania z `<clear />`, zobacz [Using `<clear />` podczas dodawania dostawcy](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span><span class="sxs-lookup"><span data-stu-id="7bb81-429">For more information on using `<clear />`, see [Using `<clear />` When Adding Providers](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span></span>

<span data-ttu-id="7bb81-430">Należy pamiętać, że `SecurityTutorialsSqlMembershipProvider`firmy `connectionStringName` ustawienie odwołania, po prostu dodane `SecurityTutorialsConnectionString` nazwa parametrów połączenia, a jego `applicationName` ustawieniu nadano wartość SecurityTutorials.</span><span class="sxs-lookup"><span data-stu-id="7bb81-430">Note that the `SecurityTutorialsSqlMembershipProvider`'s `connectionStringName` setting references the just-added `SecurityTutorialsConnectionString` connection string name, and that its `applicationName` setting has been set to a value of SecurityTutorials.</span></span> <span data-ttu-id="7bb81-431">Ponadto `requiresUniqueEmail` ustawiono ustawienie `true`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-431">Additionally, the `requiresUniqueEmail` setting has been set to `true`.</span></span> <span data-ttu-id="7bb81-432">Inne opcje konfiguracji są identyczne do wartości w `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="7bb81-432">All other configuration options are identical to the values in `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="7bb81-433">Możesz wprowadzać żadnych zmian konfiguracji, w tym miejscu, w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="7bb81-433">Feel free to make any configuration modifications here, if you wish.</span></span> <span data-ttu-id="7bb81-434">Na przykład można zwiększyć siły hasła, wymagając dwa znaki inne niż alfanumeryczne, zamiast jednego lub przez zwiększenie długości hasła do ośmiu znaków zamiast siedem.</span><span class="sxs-lookup"><span data-stu-id="7bb81-434">For example, you could tighten the password strength by requiring two non-alphanumeric characters instead of one, or by increasing the password length to eight characters instead of seven.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb81-435">Pamiętaj, że framework członkostwa pozwala magazynu jednego użytkownika do podzielenia na partycje dla wielu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-435">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="7bb81-436">Dostawca członkostwa `applicationName` ustawienie wskazuje, dostawca używa podczas pracy z magazynu użytkowników aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-436">The Membership provider's `applicationName` setting indicates what application the provider uses when working with the user store.</span></span> <span data-ttu-id="7bb81-437">Należy jawnie ustawić wartość `applicationName` ustawienia konfiguracji, ponieważ jeśli `applicationName` nie jest jawnie ustawiona, jest ona przypisana do ścieżka wirtualnego katalogu głównego aplikacji sieci web w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="7bb81-437">It is important that you explicitly set a value for the `applicationName` configuration setting because if the `applicationName` is not explicitly set, it is assigned to the web application's virtual root path at runtime.</span></span> <span data-ttu-id="7bb81-438">Działa to prawidłowo tak długo, jak ścieżka wirtualnego katalogu głównego aplikacji nie powoduje zmiany, ale przenieść aplikację na inną ścieżkę `applicationName` zbyt zmieni ustawienie.</span><span class="sxs-lookup"><span data-stu-id="7bb81-438">This works fine as long as the application's virtual root path doesn't change, but if you move the application to a different path, the `applicationName` setting will change too.</span></span> <span data-ttu-id="7bb81-439">W takim przypadku Dostawca członkostwa rozpocznie się praca z partycji innej aplikacji, niż był wcześniej używany.</span><span class="sxs-lookup"><span data-stu-id="7bb81-439">When this happens, the Membership provider will start working with a different application partition than was previously used.</span></span> <span data-ttu-id="7bb81-440">Konta użytkowników utworzone przed przeniesienie będą znajdować się na partycji innej aplikacji i Ci użytkownicy już nie będzie można zalogować się do witryny.</span><span class="sxs-lookup"><span data-stu-id="7bb81-440">User accounts created prior to the move will reside in a different application partition and those users will no longer be able to log into the site.</span></span> <span data-ttu-id="7bb81-441">Aby uzyskać szczegółowe omówienie w tej sprawie, zobacz [zawsze wartość `applicationName` właściwości podczas konfigurowania programu ASP.NET 2.0 członkostwa i innych dostawców](https://weblogs.asp.net/scottgu/443634).</span><span class="sxs-lookup"><span data-stu-id="7bb81-441">For a more in-depth discussion on this matter, see [Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other Providers](https://weblogs.asp.net/scottgu/443634).</span></span>


## <a name="summary"></a><span data-ttu-id="7bb81-442">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="7bb81-442">Summary</span></span>

<span data-ttu-id="7bb81-443">W tym momencie mamy bazę danych przy użyciu usług aplikacji skonfigurowany (`SecurityTutorials.mdf`) i skonfigurowano naszej aplikacji sieci web, aby używał w ramach członkostwa `SecurityTutorialsSqlMembershipProvider` dostawcy, które właśnie zostało zarejestrowane.</span><span class="sxs-lookup"><span data-stu-id="7bb81-443">At this point we have a database with the configured application services (`SecurityTutorials.mdf`) and have configured our web application so that the Membership framework uses the `SecurityTutorialsSqlMembershipProvider` provider we just registered.</span></span> <span data-ttu-id="7bb81-444">Jest to zarejestrowanego dostawcy typu `SqlMembershipProvider` i ma jego `connectionStringName` ustawiony na ciąg połączenia (`SecurityTutorialsConnectionString`) i jego `applicationName` jawnie ustawić wartość.</span><span class="sxs-lookup"><span data-stu-id="7bb81-444">This registered provider is of type `SqlMembershipProvider` and has its `connectionStringName` set to the appropriate connection string (`SecurityTutorialsConnectionString`) and its `applicationName` value explicitly set.</span></span>

<span data-ttu-id="7bb81-445">Firma Microsoft są teraz gotowe do użycia w ramach członkostwa z naszej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7bb81-445">We are now ready to use the Membership framework from our application.</span></span> <span data-ttu-id="7bb81-446">W następnym samouczku zostanie omówiony sposób tworzenia nowych kont użytkowników.</span><span class="sxs-lookup"><span data-stu-id="7bb81-446">In the next tutorial we will examine how to create new user accounts.</span></span> <span data-ttu-id="7bb81-447">Po, że przeanalizujemy, uwierzytelnianie użytkowników, wykonywania autoryzacji opartej na użytkownika i przechowuje dodatkowe informacje dotyczące użytkowników w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="7bb81-447">Following that we will explore authenticating users, performing user-based authorization, and storing additional user-related information in the database.</span></span>

<span data-ttu-id="7bb81-448">Wszystkiego najlepszego programowania!</span><span class="sxs-lookup"><span data-stu-id="7bb81-448">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="7bb81-449">Dalsze informacje</span><span class="sxs-lookup"><span data-stu-id="7bb81-449">Further Reading</span></span>

<span data-ttu-id="7bb81-450">Więcej informacji na tematów omówionych w tym samouczku można znaleźć w następujących zasobach:</span><span class="sxs-lookup"><span data-stu-id="7bb81-450">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="7bb81-451">Zawsze wartość `applicationName` właściwości podczas konfigurowania programu ASP.NET 2.0 członkostwa i innych dostawców</span><span class="sxs-lookup"><span data-stu-id="7bb81-451">Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other Providers</span></span>](https://weblogs.asp.net/scottgu/443634)
- [<span data-ttu-id="7bb81-452">Konfigurowanie programu ASP.NET 2.0 usługi aplikacji, użyj programu SQL Server 2000 lub SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="7bb81-452">Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005</span></span>](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx)
- [<span data-ttu-id="7bb81-453">Download SQL Server Management Studio Express Edition</span><span class="sxs-lookup"><span data-stu-id="7bb81-453">Download SQL Server Management Studio Express Edition</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en)
- [<span data-ttu-id="7bb81-454">Badanie programu ASP.NET 2.0 s członkostwo, role i profilu</span><span class="sxs-lookup"><span data-stu-id="7bb81-454">Examining ASP.NET 2.0�s Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="7bb81-455">`<add>` Elementu dla dostawców członkostwa</span><span class="sxs-lookup"><span data-stu-id="7bb81-455">The `<add>` Element for Providers for Membership</span></span>](https://msdn.microsoft.com/library/whae3t94.aspx)
- [<span data-ttu-id="7bb81-456">`<membership>` — Element</span><span class="sxs-lookup"><span data-stu-id="7bb81-456">The `<membership>` Element</span></span>](https://msdn.microsoft.com/library/1b9hw62f.aspx)
- [<span data-ttu-id="7bb81-457">`<providers>` Element członkostwa</span><span class="sxs-lookup"><span data-stu-id="7bb81-457">The `<providers>` Element for Membership</span></span>](https://msdn.microsoft.com/library/6d4936ht.aspx)
- [<span data-ttu-id="7bb81-458">Za pomocą `<clear />` podczas dodawania dostawców</span><span class="sxs-lookup"><span data-stu-id="7bb81-458">Using `<clear />` When Adding Providers</span></span>](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx)
- [<span data-ttu-id="7bb81-459">Praca bezpośrednio z</span><span class="sxs-lookup"><span data-stu-id="7bb81-459">Working Directly with the</span></span> `SqlMembershipProvider`](http://aspnet.4guysfromrolla.com/articles/091207-1.aspx)

### <a name="video-training-on-topics-contained-in-this-tutorial"></a><span data-ttu-id="7bb81-460">Szkolenie wideo na tematy zawarte w tym samouczku</span><span class="sxs-lookup"><span data-stu-id="7bb81-460">Video Training on Topics Contained in this Tutorial</span></span>

- [<span data-ttu-id="7bb81-461">Objaśnienie członkostwa platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="7bb81-461">Understanding ASP.NET Memberships</span></span>](../../../videos/authentication/understanding-aspnet-memberships.md)
- [<span data-ttu-id="7bb81-462">Konfigurowanie programu SQL do pracy ze schematami członkostwa</span><span class="sxs-lookup"><span data-stu-id="7bb81-462">Configuring SQL To Work with Membership Schemas</span></span>](../../../videos/authentication/configuring-sql-to-work-with-membership-schemas.md)
- [<span data-ttu-id="7bb81-463">Modyfikowanie ustawień członkostwa w domyślnym schemacie członkostwa</span><span class="sxs-lookup"><span data-stu-id="7bb81-463">Changing Membership Settings in the Default Membership Schema</span></span>](../../../videos/authentication/changing-membership-settings-in-the-default-membership-schema.md)

### <a name="about-the-author"></a><span data-ttu-id="7bb81-464">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="7bb81-464">About the Author</span></span>

<span data-ttu-id="7bb81-465">Pracował nad Bento Scottem, autor wiele książek ASP/ASP.NET i założyciel 4GuysFromRolla.com, przy użyciu technologii Microsoft Web od 1998 r.</span><span class="sxs-lookup"><span data-stu-id="7bb81-465">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="7bb81-466">Scott działa jako niezależny Konsultant, trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="7bb81-466">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="7bb81-467">Jego najnowszą książkę Stephena  *[Sams uczyć się ASP.NET 2.0 w ciągu 24 godzin](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span><span class="sxs-lookup"><span data-stu-id="7bb81-467">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="7bb81-468">Scott można z Tobą skontaktować w [ mitchell@4guysfromrolla.com ](mailto:mitchell@4guysfromrolla.com) lub za pośrednictwem jego blog znajduje się na [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="7bb81-468">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="7bb81-469">Specjalne podziękowania dla</span><span class="sxs-lookup"><span data-stu-id="7bb81-469">Special Thanks To</span></span>

<span data-ttu-id="7bb81-470">W tej serii samouczków został zrecenzowany przez wielu recenzentów pomocne.</span><span class="sxs-lookup"><span data-stu-id="7bb81-470">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="7bb81-471">Weryfikacja potencjalnych klientów w ramach tego samouczka został Alicja Maziarz.</span><span class="sxs-lookup"><span data-stu-id="7bb81-471">Lead reviewer for this tutorial was Alicja Maziarz.</span></span> <span data-ttu-id="7bb81-472">Zainteresowani zapoznaniem Moje kolejnych artykułów MSDN?</span><span class="sxs-lookup"><span data-stu-id="7bb81-472">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="7bb81-473">Jeśli tak, Porzuć mnie linii w [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4guysfromrolla.com).</span><span class="sxs-lookup"><span data-stu-id="7bb81-473">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4guysfromrolla.com).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="7bb81-474">Next</span><span class="sxs-lookup"><span data-stu-id="7bb81-474">Next</span></span>](creating-user-accounts-cs.md)
