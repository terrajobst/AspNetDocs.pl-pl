---
uid: web-forms/overview/moving-to-aspnet-20/configuration-and-instrumentation
title: Konfiguracja i Instrumentacja | Dokumentacja firmy Microsoft
author: microsoft
description: Istnieją istotne zmiany w konfiguracji i instrumentacji w programie ASP.NET 2.0. Nowy interfejs API konfiguracji ASP.NET umożliwia na żądanie ściągnięcia wprowadzanie zmian w konfiguracji...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 21ebbaee-7ed8-45ae-b6c1-c27c88342e48
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/configuration-and-instrumentation
msc.type: authoredcontent
ms.openlocfilehash: b06f105b16087f97788e0ab360af41f538d2c1ac
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/17/2019
ms.locfileid: "59400805"
---
# <a name="configuration-and-instrumentation"></a><span data-ttu-id="bfd23-104">Konfiguracja i instrumentacja</span><span class="sxs-lookup"><span data-stu-id="bfd23-104">Configuration and Instrumentation</span></span>

<span data-ttu-id="bfd23-105">przez [firmy Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="bfd23-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="bfd23-106">Istnieją istotne zmiany w konfiguracji i instrumentacji w programie ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="bfd23-106">There are major changes in configuration and instrumentation in ASP.NET 2.0.</span></span> <span data-ttu-id="bfd23-107">Nowy interfejs API konfiguracji ASP.NET umożliwia programowe wprowadzone zmiany w konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-107">The new ASP.NET configuration API allows for configuration changes to be made programmatically.</span></span> <span data-ttu-id="bfd23-108">Ponadto istnieje wiele nowych ustawień konfiguracji umożliwiają nowe konfiguracje i instrumentacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-108">In addition, many new configuration settings exist allow for new configurations and instrumentation.</span></span>


<span data-ttu-id="bfd23-109">Istnieją istotne zmiany w konfiguracji i instrumentacji w programie ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="bfd23-109">There are major changes in configuration and instrumentation in ASP.NET 2.0.</span></span> <span data-ttu-id="bfd23-110">Nowy interfejs API konfiguracji ASP.NET umożliwia programowe wprowadzone zmiany w konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-110">The new ASP.NET configuration API allows for configuration changes to be made programmatically.</span></span> <span data-ttu-id="bfd23-111">Ponadto istnieje wiele nowych ustawień konfiguracji umożliwiają nowe konfiguracje i instrumentacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-111">In addition, many new configuration settings exist allow for new configurations and instrumentation.</span></span>

<span data-ttu-id="bfd23-112">W tym module omówimy interfejs API konfiguracji platformy ASP.NET on odnosi się do odczytywanie z oraz zapisywanie do plików konfiguracji programu ASP.NET, a firma Microsoft będzie również obejmowała Instrumentacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="bfd23-112">In this module, we will discuss ASP.NET the configuration API as it relates to reading from and writing to ASP.NET configuration files, and we will also cover ASP.NET instrumentation.</span></span> <span data-ttu-id="bfd23-113">Omówimy również nowe funkcje dostępne w śledzenie na platformie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="bfd23-113">We will also cover the new features available in ASP.NET tracing.</span></span>

## <a name="aspnet-configuration-api"></a><span data-ttu-id="bfd23-114">Interfejs API konfiguracji platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="bfd23-114">ASP.NET Configuration API</span></span>

<span data-ttu-id="bfd23-115">Interfejs API konfiguracji ASP.NET umożliwia tworzenie, wdrażanie i zarządzanie danymi konfiguracyjnymi aplikacji przy użyciu pojedynczego interfejsu programowania.</span><span class="sxs-lookup"><span data-stu-id="bfd23-115">The ASP.NET configuration API allows you to develop, deploy, and manage application configuration data by using a single programming interface.</span></span> <span data-ttu-id="bfd23-116">Interfejs API konfiguracji umożliwia rozwijać i modyfikować Dokończ konfigurację ASP.NET programowo bez konieczności bezpośredniego edytowania kodu XML w plikach konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-116">You can use the configuration API to develop and modify complete ASP.NET configurations programmatically without directly editing the XML in the configuration files.</span></span> <span data-ttu-id="bfd23-117">Ponadto można użyć konfiguracji interfejsu API w aplikacji konsoli i skrypty, które tworzysz, narzędzia do zarządzania opartego na sieci Web i przystawek programu Microsoft Management Console (MMC).</span><span class="sxs-lookup"><span data-stu-id="bfd23-117">In addition, you can use the configuration API in console applications and scripts that you develop, in Web-based management tools, and in Microsoft Management Console (MMC) snap-ins.</span></span>

<span data-ttu-id="bfd23-118">Następujące dwa narzędzia zarządzania konfiguracją korzystania z konfiguracji interfejsu API i są uwzględniane przy użyciu platformy .NET Framework w wersji 2.0:</span><span class="sxs-lookup"><span data-stu-id="bfd23-118">The following two configuration-management tools use the configuration API and are included with the .NET Framework version 2.0:</span></span>

- <span data-ttu-id="bfd23-119">Przystawki MMC programu ASP.NET, która korzysta z konfiguracji interfejsu API, aby uprościć zadania administracyjne, zapewniając zintegrowany widok danych konfiguracji lokalnej na wszystkich poziomach hierarchii konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-119">The ASP.NET MMC snap-in, which uses the configuration API to simplify administrative tasks, providing an integrated view of local configuration data from all levels of the configuration hierarchy.</span></span>
- <span data-ttu-id="bfd23-120">Narzędzie Administratorskie witryny sieci Web, który umożliwia zarządzanie ustawieniami konfiguracji dla aplikacji lokalnych i zdalnych, w tym obsługiwanych witryn.</span><span class="sxs-lookup"><span data-stu-id="bfd23-120">The Web Site Administration Tool, which allows you to manage configuration settings for local and remote applications, including hosted sites.</span></span>

<span data-ttu-id="bfd23-121">Interfejs API konfiguracji ASP.NET składa się z zestawu ASP.NET management Objects, które umożliwiają programowe Konfigurowanie witryny sieci Web i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-121">The ASP.NET configuration API comprises a set of ASP.NET management objects that you can use to configure Web sites and applications programmatically.</span></span> <span data-ttu-id="bfd23-122">Zarządzanie obiektami są implementowane jako biblioteki klas .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="bfd23-122">Management objects are implemented as a .NET Framework class library.</span></span> <span data-ttu-id="bfd23-123">Model programowania interfejs API konfiguracji zapewnia spójność kodu i niezawodności, wymuszanie typów danych w czasie kompilacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-123">The configuration API programming model helps ensure code consistency and reliability by enforcing data types at compile time.</span></span> <span data-ttu-id="bfd23-124">Aby ułatwić zarządzanie konfiguracjami aplikacji, interfejs API konfiguracji służy do wyświetlania danych, który będzie scalony ze wszystkich punktów w hierarchii konfiguracji jak pojedynczą kolekcją, zamiast wyświetlania danych jako oddzielne kolekcje za pośrednictwem różnych pliki konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-124">To make it easier to manage application configurations, the configuration API allows you to view data that is merged from all points in the configuration hierarchy as a single collection, instead of viewing the data as separate collections from different configuration files.</span></span> <span data-ttu-id="bfd23-125">Ponadto interfejs API konfiguracji umożliwia manipulowanie konfiguracje dla całej aplikacji bez konieczności bezpośredniego edytowania kodu XML w plikach konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-125">Additionally, the configuration API enables you to manipulate entire application configurations without directly editing the XML in the configuration files.</span></span> <span data-ttu-id="bfd23-126">Ponadto interfejs API upraszcza zadania związane z konfiguracji dzięki obsłudze narzędzi administracyjnych, takich jak narzędzia do administrowania witryną sieci Web.</span><span class="sxs-lookup"><span data-stu-id="bfd23-126">Finally, the API simplifies configuration tasks by supporting administrative tools, such as the Web Site Administration Tool.</span></span> <span data-ttu-id="bfd23-127">Interfejs API konfiguracji upraszcza wdrażanie obsługi tworzenia plików konfiguracyjnych na komputerze, a następnie uruchamiając skrypty konfiguracji na wielu komputerach.</span><span class="sxs-lookup"><span data-stu-id="bfd23-127">The configuration API simplifies deployment by supporting the creation of configuration files on a computer and running configuration scripts across multiple computers.</span></span>

> [!NOTE]
> <span data-ttu-id="bfd23-128">Konfiguracja interfejsu API nie obsługuje tworzenia aplikacji usług IIS.</span><span class="sxs-lookup"><span data-stu-id="bfd23-128">The configuration API does not support the creation of IIS applications.</span></span>


## <a name="working-with-local-and-remote-configuration-settings"></a><span data-ttu-id="bfd23-129">Praca z ustawieniami konfiguracji lokalnych i zdalnych</span><span class="sxs-lookup"><span data-stu-id="bfd23-129">Working with Local and Remote Configuration Settings</span></span>

<span data-ttu-id="bfd23-130">Obiekt konfiguracji reprezentuje widok scalony ustawienia konfiguracji, które są stosowane do określonej jednostki fizyczne, taki jak komputer, lub logicznej jednostki, takie jak aplikacja lub witryna sieci Web.</span><span class="sxs-lookup"><span data-stu-id="bfd23-130">A Configuration object represents the merged view of the configuration settings that apply to a specific physical entity, such as a computer, or to a logical entity, such as an application or a Web site.</span></span> <span data-ttu-id="bfd23-131">Określonej jednostki logicznej może istnieć na komputerze lokalnym lub na serwerze zdalnym.</span><span class="sxs-lookup"><span data-stu-id="bfd23-131">The specified logical entity can exist on the local computer or on a remote server.</span></span> <span data-ttu-id="bfd23-132">Gdy plik konfiguracji nie istnieje dla określonej jednostki, obiekt konfiguracji reprezentuje ustawienia konfiguracji domyślnej, zgodnie z definicją w pliku Machine.config.</span><span class="sxs-lookup"><span data-stu-id="bfd23-132">When no configuration file exists for a specified entity, the Configuration object represents the default configuration settings as defined by the Machine.config file.</span></span>

<span data-ttu-id="bfd23-133">Obiekt konfiguracji można uzyskać za pomocą jednej z metod otwórz konfigurację z następujące klasy:</span><span class="sxs-lookup"><span data-stu-id="bfd23-133">You can get a Configuration object by using one of the open configuration methods from the following classes:</span></span>

1. <span data-ttu-id="bfd23-134">Klasy ConfigurationManager, jeśli Twoja organizacja jest aplikacją kliencką.</span><span class="sxs-lookup"><span data-stu-id="bfd23-134">The ConfigurationManager class, if your entity is a client application.</span></span>
2. <span data-ttu-id="bfd23-135">Klasa WebConfigurationManager, jeśli Twoja organizacja jest aplikacją sieci Web.</span><span class="sxs-lookup"><span data-stu-id="bfd23-135">The WebConfigurationManager class, if your entity is a Web application.</span></span>

<span data-ttu-id="bfd23-136">Tych metod zwraca obiekt konfiguracji, który z kolei udostępnia wymaganych metod i właściwości w celu obsługi podstawowych plików konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-136">These methods will return a Configuration object, which in turn provides the required methods and properties to handle the underlying configuration files.</span></span> <span data-ttu-id="bfd23-137">Możesz uzyskać dostęp do tych plików do odczytu lub zapisu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-137">You can access these files for reading or writing.</span></span>

### <a name="reading"></a><span data-ttu-id="bfd23-138">Odczytywanie</span><span class="sxs-lookup"><span data-stu-id="bfd23-138">Reading</span></span>

<span data-ttu-id="bfd23-139">Metoda GetSection lub GetSectionGroup umożliwia odczytywanie informacji o konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-139">You use the GetSection or GetSectionGroup method to read configuration information.</span></span> <span data-ttu-id="bfd23-140">Użytkownik lub proces, który odczytuje musi mieć uprawnienia na wszystkich plików konfiguracji w hierarchii odczytu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-140">The user or process that reads must have Read permissions on all of the configuration files in the hierarchy.</span></span>

> [!NOTE]
> <span data-ttu-id="bfd23-141">Jeśli używasz metody statycznej GetSection, który przyjmuje parametr ścieżki, parametr path musi odwoływać się do aplikacji, w którym wykonywany jest kod.</span><span class="sxs-lookup"><span data-stu-id="bfd23-141">If you use a static GetSection method that takes a path parameter, the path parameter must refer to the application in which the code is running.</span></span> <span data-ttu-id="bfd23-142">W przeciwnym razie parametr jest ignorowany i informacje o obecnie uruchomionej aplikacji w konfiguracji jest zwracana.</span><span class="sxs-lookup"><span data-stu-id="bfd23-142">Otherwise, the parameter is ignored and the configuration information for the currently running application is returned.</span></span>


### <a name="writing"></a><span data-ttu-id="bfd23-143">Zapisywanie</span><span class="sxs-lookup"><span data-stu-id="bfd23-143">Writing</span></span>

<span data-ttu-id="bfd23-144">Użyj jednej z metod Zapisz można zapisać informacji o konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-144">You use one of the Save methods to write configuration information.</span></span> <span data-ttu-id="bfd23-145">Użytkownik lub proces, który musi mieć zapisów zapis w pliku konfiguracji i katalogu na bieżącym poziomie konfiguracji w hierarchii, a także uprawnienia do odczytu z wszystkich plików konfiguracji w hierarchii.</span><span class="sxs-lookup"><span data-stu-id="bfd23-145">The user or process that writes must have Write permissions on the configuration file and directory at the current configuration hierarchy level, as well as Read permissions on all of the configuration files in the hierarchy.</span></span>

<span data-ttu-id="bfd23-146">Aby wygenerować plik konfiguracji, który reprezentuje ustawienia konfiguracji dziedziczone dla określonej jednostki, użyj jednej z następujących metod konfiguracji zapisywania:</span><span class="sxs-lookup"><span data-stu-id="bfd23-146">To generate a configuration file that represents the inherited configuration settings for a specified entity, use one of the following save-configuration methods:</span></span>

1. <span data-ttu-id="bfd23-147">Metoda Zapisz do utworzenia nowego pliku konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-147">The Save method to create a new configuration file.</span></span>
2. <span data-ttu-id="bfd23-148">Metoda zapisem do generowania nowego pliku konfiguracji w innej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-148">The SaveAs method to generate a new configuration file at another location.</span></span>

## <a name="configuration-classes-and-namespaces"></a><span data-ttu-id="bfd23-149">Konfiguracja klas i przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="bfd23-149">Configuration Classes and Namespaces</span></span>

<span data-ttu-id="bfd23-150">Wiele metod i klas konfiguracji są podobne do siebie nawzajem.</span><span class="sxs-lookup"><span data-stu-id="bfd23-150">Many configuration classes and methods are similar to each other.</span></span> <span data-ttu-id="bfd23-151">W poniższej tabeli opisano konfigurację najczęściej używanych klas i przestrzenie nazw.</span><span class="sxs-lookup"><span data-stu-id="bfd23-151">The following table describes the most commonly used configuration classes and namespaces.</span></span>

| <span data-ttu-id="bfd23-152">**Konfiguracja klasą lub przestrzenią nazw**</span><span class="sxs-lookup"><span data-stu-id="bfd23-152">**Configuration class or namespace**</span></span> | <span data-ttu-id="bfd23-153">**Opis**</span><span class="sxs-lookup"><span data-stu-id="bfd23-153">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="bfd23-154">[System.Configuration](https://msdn.microsoft.com/library/system.configuration.aspx) przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="bfd23-154">[System.Configuration](https://msdn.microsoft.com/library/system.configuration.aspx) namespace</span></span> | <span data-ttu-id="bfd23-155">Zawiera klasy głównej konfiguracji dla wszystkich aplikacji .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="bfd23-155">Contains the main configuration classes for all .NET Framework applications.</span></span> <span data-ttu-id="bfd23-156">Klasy programu obsługi sekcji są używane do uzyskiwania danych konfiguracji dla sekcji z metod, takich jak GetSection i GetSectionGroup.</span><span class="sxs-lookup"><span data-stu-id="bfd23-156">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span></span> <span data-ttu-id="bfd23-157">Te dwie metody są niestatycznych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-157">These two methods are non-static.</span></span> |
| <span data-ttu-id="bfd23-158">Klasa System.Configuration.Configuration</span><span class="sxs-lookup"><span data-stu-id="bfd23-158">System.Configuration.Configuration class</span></span> | <span data-ttu-id="bfd23-159">Reprezentuje zestaw danych o konfiguracji dla komputera, aplikacji, katalogów sieci Web lub innego zasobu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-159">Represents a set of configuration data for a computer, application, Web directory, or other resource.</span></span> <span data-ttu-id="bfd23-160">Ta klasa zawiera przydatne metody, takie jak GetSection i GetSectionGroup, aktualizowania ustawień konfiguracji i uzyskaniu odwołania do sekcji i grupy sekcji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-160">This class contains useful methods, such as GetSection and GetSectionGroup, for updating configuration settings and obtaining references to sections and section groups.</span></span> <span data-ttu-id="bfd23-161">Ta klasa jest używana jako zwracany typ metody, które uzyskują dane konfiguracji w czasie projektowania, takie jak metody klasy WebConfigurationManager i ConfigurationManager.</span><span class="sxs-lookup"><span data-stu-id="bfd23-161">This class is used as a return type for methods that obtain design-time configuration data, such as the methods of the WebConfigurationManager and ConfigurationManager classes.</span></span> |
| <span data-ttu-id="bfd23-162">System.Web.Configuration namespace</span><span class="sxs-lookup"><span data-stu-id="bfd23-162">System.Web.Configuration namespace</span></span> | <span data-ttu-id="bfd23-163">Zawiera klasy programu obsługi sekcji sekcjami konfiguracyjnymi ASP.NET zdefiniowany z numerem [ustawienia konfiguracji programu ASP.NET](https://msdn.microsoft.com/library/b5ysx397.aspx).</span><span class="sxs-lookup"><span data-stu-id="bfd23-163">Contains the section handler classes for the ASP.NET configuration sections defined at [ASP.NET Configuration Settings](https://msdn.microsoft.com/library/b5ysx397.aspx).</span></span> <span data-ttu-id="bfd23-164">Klasy programu obsługi sekcji są używane do uzyskiwania danych konfiguracji dla sekcji z metod, takich jak GetSection i GetSectionGroup.</span><span class="sxs-lookup"><span data-stu-id="bfd23-164">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span></span> |
| <span data-ttu-id="bfd23-165">System.Web.Configuration.WebConfigurationManager class</span><span class="sxs-lookup"><span data-stu-id="bfd23-165">System.Web.Configuration.WebConfigurationManager class</span></span> | <span data-ttu-id="bfd23-166">Udostępnia przydatne metody uzyskiwania odwołania do ustawień konfiguracji w czasie wykonywania oraz w czasie projektowania.</span><span class="sxs-lookup"><span data-stu-id="bfd23-166">Provides useful methods for obtaining references to run-time and design-time configuration settings.</span></span> <span data-ttu-id="bfd23-167">Metody te za pomocą klasy System.Configuration.Configuration jako typ zwracany.</span><span class="sxs-lookup"><span data-stu-id="bfd23-167">These methods use the System.Configuration.Configuration class as a return type.</span></span> <span data-ttu-id="bfd23-168">Zamiennie można użyć statycznej GetSection metody tej klasy lub niestatycznej GetSection klasy System.Configuration.ConfigurationManager.</span><span class="sxs-lookup"><span data-stu-id="bfd23-168">You can use the static GetSection method of this class or the non-static GetSection method of the System.Configuration.ConfigurationManager class interchangeably.</span></span> <span data-ttu-id="bfd23-169">W przypadku konfiguracji aplikacji sieci Web zaleca się klasy System.Web.Configuration.WebConfigurationManager zamiast klasy System.Configuration.ConfigurationManager.</span><span class="sxs-lookup"><span data-stu-id="bfd23-169">For Web application configurations, the System.Web.Configuration.WebConfigurationManager class is recommended instead of the System.Configuration.ConfigurationManager class.</span></span> |
| <span data-ttu-id="bfd23-170">[System.Configuration.Provider](https://msdn.microsoft.com/library/system.configuration.provider.aspx) namespace</span><span class="sxs-lookup"><span data-stu-id="bfd23-170">[System.Configuration.Provider](https://msdn.microsoft.com/library/system.configuration.provider.aspx) namespace</span></span> | <span data-ttu-id="bfd23-171">Umożliwia dostosowywanie i rozszerzanie dostawcę konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-171">Provides a way to customize and extend the configuration provider.</span></span> <span data-ttu-id="bfd23-172">To klasa podstawowa dla wszystkich klas dostawcy systemu konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-172">This is the base class for all provider classes in the configuration system.</span></span> |
| <span data-ttu-id="bfd23-173">[System.Web.Management](https://msdn.microsoft.com/library/system.web.management.aspx) namespace</span><span class="sxs-lookup"><span data-stu-id="bfd23-173">[System.Web.Management](https://msdn.microsoft.com/library/system.web.management.aspx) namespace</span></span> | <span data-ttu-id="bfd23-174">Zawiera klasy i interfejsy do zarządzania i monitorowania kondycji aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="bfd23-174">Contains classes and interfaces for managing and monitoring the health of Web applications.</span></span> <span data-ttu-id="bfd23-175">Ściśle rzecz ujmując ta przestrzeń nazw nie jest uważany za część konfiguracji interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="bfd23-175">Strictly speaking, this namespace is not considered part of the configuration API.</span></span> <span data-ttu-id="bfd23-176">Na przykład śledzenie i zdarzenie odbywa się przez klasy w tej przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="bfd23-176">For example, tracing and event firing is accomplished by the classes in this namespace.</span></span> |
| <span data-ttu-id="bfd23-177">[System.Management.Instrumentation](https://msdn.microsoft.com/library/system.management.instrumentation.aspx) namespace</span><span class="sxs-lookup"><span data-stu-id="bfd23-177">[System.Management.Instrumentation](https://msdn.microsoft.com/library/system.management.instrumentation.aspx) namespace</span></span> | <span data-ttu-id="bfd23-178">Udostępnia klasy, które są niezbędne do instrumentacji aplikacji, aby im eksponowanie informacji i zdarzeń za pomocą Instrumentacji zarządzania Windows (WMI) do potencjalnych klientów.</span><span class="sxs-lookup"><span data-stu-id="bfd23-178">Provides the classes necessary for the instrumentation of applications to expose their management information and events through Windows Management Instrumentation (WMI) to potential consumers.</span></span> <span data-ttu-id="bfd23-179">Monitorowania kondycji ASP.NET używa usługi WMI w celu dostarczenia zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-179">ASP.NET health monitoring uses WMI to deliver events.</span></span> <span data-ttu-id="bfd23-180">Ściśle rzecz ujmując ta przestrzeń nazw nie jest uważany za część konfiguracji interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="bfd23-180">Strictly speaking, this namespace is not considered part of the configuration API.</span></span> |

## <a name="reading-from-aspnet-configuration-files"></a><span data-ttu-id="bfd23-181">Odczyt z plików konfiguracji programu ASP.NET</span><span class="sxs-lookup"><span data-stu-id="bfd23-181">Reading from ASP.NET Configuration Files</span></span>

<span data-ttu-id="bfd23-182">Klasa WebConfigurationManager jest podstawowa klasy odczyt z plików konfiguracji programu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="bfd23-182">The WebConfigurationManager class is the core class for reading from ASP.NET configuration files.</span></span> <span data-ttu-id="bfd23-183">Są zasadniczo trzy kroki umożliwiające odczytywanie plików konfiguracyjnych programu ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="bfd23-183">There are essentially three steps to reading ASP.NET configuration files:</span></span>

1. <span data-ttu-id="bfd23-184">Pobierz obiekt konfiguracji, za pomocą metody OpenWebConfiguration.</span><span class="sxs-lookup"><span data-stu-id="bfd23-184">Get a Configuration object using the OpenWebConfiguration method.</span></span>
2. <span data-ttu-id="bfd23-185">Pobierz odwołanie do żądanego sekcji w pliku konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-185">Get a reference to the desired section in the configuration file.</span></span>
3. <span data-ttu-id="bfd23-186">Przeczytaj odpowiednie informacje z pliku konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-186">Read the desired information from the configuration file.</span></span>

<span data-ttu-id="bfd23-187">Konfiguracja, który reprezentuje obiekt nie reprezentuje pliku określonej konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-187">The Configuration object represents does not represent a particular configuration file.</span></span> <span data-ttu-id="bfd23-188">Zamiast tego reprezentuje widok scalony konfiguracji komputera, aplikacji lub witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="bfd23-188">Instead, it represents a merged view of the configuration of a computer, application, or Web site.</span></span> <span data-ttu-id="bfd23-189">Poniższy przykład kodu tworzy obiekt konfiguracji reprezentujący konfigurację aplikacji sieci Web o nazwie *ProductInfo*.</span><span class="sxs-lookup"><span data-stu-id="bfd23-189">The following code sample instantiates a Configuration object representing the configuration of a Web application called *ProductInfo*.</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample1.cs)]

> [!NOTE]
> <span data-ttu-id="bfd23-190">Należy pamiętać, że jeśli ścieżka /ProductInfo nie istnieje, powyższy kod zwróci konfigurację domyślną, jak określono w pliku machine.config.</span><span class="sxs-lookup"><span data-stu-id="bfd23-190">Note that if the /ProductInfo path doesn't exist, the above code will return the default configuration as specified in the machine.config file.</span></span>


<span data-ttu-id="bfd23-191">Po utworzeniu obiektu konfiguracji, można następnie użyć GetSection lub GetSectionGroup metody, aby przejść do ustawień konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-191">Once you have the Configuration object, you can then use the GetSection or GetSectionGroup method to drill into the configuration settings.</span></span> <span data-ttu-id="bfd23-192">Poniższy przykład pobiera odwołanie do ustawienia personifikacji dla powyższych aplikacji ProductInfo:</span><span class="sxs-lookup"><span data-stu-id="bfd23-192">The following example gets a reference to the impersonation settings for the above ProductInfo application:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample2.cs)]

## <a name="writing-to-aspnet-configuration-files"></a><span data-ttu-id="bfd23-193">Zapisywanie w plikach konfiguracji platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="bfd23-193">Writing to ASP.NET Configuration Files</span></span>

<span data-ttu-id="bfd23-194">Jak Odczyt z plików konfiguracji, klasa WebConfigurationManager stanowi podstawę do zapisywania plików konfiguracyjnych programu Asp.NET.</span><span class="sxs-lookup"><span data-stu-id="bfd23-194">As in reading from configuration files, the WebConfigurationManager class is the core for writing to Asp.NET configuration files.</span></span> <span data-ttu-id="bfd23-195">Istnieją trzy kroki, aby zapisywanie w plikach konfiguracji platformy ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="bfd23-195">There are also three steps to writing to ASP.NET configuration files.</span></span>

1. <span data-ttu-id="bfd23-196">Pobierz obiekt konfiguracji, za pomocą metody OpenWebConfiguration.</span><span class="sxs-lookup"><span data-stu-id="bfd23-196">Get a Configuration object using the OpenWebConfiguration method.</span></span>
2. <span data-ttu-id="bfd23-197">Pobierz odwołanie do żądanego sekcji w pliku konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-197">Get a reference to the desired section in the configuration file.</span></span>
3. <span data-ttu-id="bfd23-198">Zapisywanie żądaną informacji z pliku konfiguracji, za pomocą zapisu lub Zapisz jako metody.</span><span class="sxs-lookup"><span data-stu-id="bfd23-198">Write the desired information from the configuration file using the Save or SaveAs method.</span></span>

<span data-ttu-id="bfd23-199">Poniższy kod zmiany **debugowania** atrybutu &lt;kompilacji&gt; element na wartość false:</span><span class="sxs-lookup"><span data-stu-id="bfd23-199">The following code changes the **debug** attribute of the &lt;compilation&gt; element to false:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample3.cs)]

<span data-ttu-id="bfd23-200">Gdy ten kod jest wykonywany, **debugowania** atrybutu &lt;kompilacji&gt; element zostanie ustawiony na wartość false dla *aplikacji sieci Web* pliku web.config aplikacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-200">When this code is executed, the **debug** attribute of the &lt;compilation&gt; element will be set to false for the *webApp* application's web.config file.</span></span>

## <a name="systemwebmanagement-namespace"></a><span data-ttu-id="bfd23-201">System.Web.Management Namespace</span><span class="sxs-lookup"><span data-stu-id="bfd23-201">System.Web.Management Namespace</span></span>

<span data-ttu-id="bfd23-202">System.Web.Management przestrzeń nazw zawiera klasy i interfejsy do zarządzania i monitorowania kondycji aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="bfd23-202">The System.Web.Management namespace provides the classes and interfaces for managing and monitoring the health of ASP.NET applications.</span></span>

<span data-ttu-id="bfd23-203">Rejestrowanie odbywa się przez definiowanie zasady, które kojarzy zdarzeń za pomocą dostawcy.</span><span class="sxs-lookup"><span data-stu-id="bfd23-203">Logging is accomplished by defining a rule that associates events with a provider.</span></span> <span data-ttu-id="bfd23-204">Reguła określa typ zdarzenia, które są wysyłane do dostawcy.</span><span class="sxs-lookup"><span data-stu-id="bfd23-204">The rule defines the type of events that are sent to the provider.</span></span> <span data-ttu-id="bfd23-205">Następujące zdarzenia podstawowego są dostępne dla logowania:</span><span class="sxs-lookup"><span data-stu-id="bfd23-205">The following base events are available for you to log:</span></span>

| <span data-ttu-id="bfd23-206">**WebBaseEvent**</span><span class="sxs-lookup"><span data-stu-id="bfd23-206">**WebBaseEvent**</span></span> | <span data-ttu-id="bfd23-207">Klasa podstawowa zdarzenia dla wszystkich zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-207">The base event class for all events.</span></span> <span data-ttu-id="bfd23-208">Zawiera wymagane właściwości dla wszystkich zdarzeń, takich jak kod zdarzenia, kod szczegółów zdarzenia, Data i godzina zdarzenia zostało podniesione, sekwencji numer, komunikatów o zdarzeniach i szczegóły zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="bfd23-208">Contains the required properties for all events such as event code, event detail code, the date and time the event was raised, sequence number, the event message, and event details.</span></span> |
| --- | --- |
| <span data-ttu-id="bfd23-209">**WebManagementEvent**</span><span class="sxs-lookup"><span data-stu-id="bfd23-209">**WebManagementEvent**</span></span> | <span data-ttu-id="bfd23-210">Klasa podstawowa zdarzeń dla zdarzeń zarządzania, takich jak okres istnienia aplikacji, żądań, błędów i zdarzeń inspekcji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-210">The base event class for management events, such as application lifetime, request, error, and audit events.</span></span> |
| <span data-ttu-id="bfd23-211">**WebHeartbeatEvent**</span><span class="sxs-lookup"><span data-stu-id="bfd23-211">**WebHeartbeatEvent**</span></span> | <span data-ttu-id="bfd23-212">Zdarzenie wygenerowanymi przez aplikację w regularnych odstępach czasu do przechwytywania informacji o stanie przydatne w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="bfd23-212">The event generated by the application in regular intervals to capture useful runtime state information.</span></span> |
| <span data-ttu-id="bfd23-213">**WebAuditEvent**</span><span class="sxs-lookup"><span data-stu-id="bfd23-213">**WebAuditEvent**</span></span> | <span data-ttu-id="bfd23-214">Klasa bazowa dla zdarzeń inspekcji zabezpieczeń, które służą do oznaczania warunki, takie jak błąd autoryzacji, błąd odszyfrowywania *itp.*</span><span class="sxs-lookup"><span data-stu-id="bfd23-214">The base class for security audit events, which are used to mark conditions such as authorization failure, decryption failure, *etc.*</span></span> |
| <span data-ttu-id="bfd23-215">**WebRequestEvent**</span><span class="sxs-lookup"><span data-stu-id="bfd23-215">**WebRequestEvent**</span></span> | <span data-ttu-id="bfd23-216">Klasa bazowa dla wszystkich zdarzeń informacyjny żądania.</span><span class="sxs-lookup"><span data-stu-id="bfd23-216">The base class for all informational request events.</span></span> |
| <span data-ttu-id="bfd23-217">**WebBaseErrorEvent**</span><span class="sxs-lookup"><span data-stu-id="bfd23-217">**WebBaseErrorEvent**</span></span> | <span data-ttu-id="bfd23-218">Klasa bazowa dla wszystkich zdarzeń wskazujących warunków błędów.</span><span class="sxs-lookup"><span data-stu-id="bfd23-218">The base class for all events indicating error conditions.</span></span> |

<span data-ttu-id="bfd23-219">Typy dostawców dostępnych pozwalają wysyłać zdarzenie w danych wyjściowych do podglądu zdarzeń, programu SQL Server, Instrumentacji zarządzania Windows (WMI) i wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="bfd23-219">The types of providers available allow you to send event output to Event Viewer, SQL Server, Windows Management Instrumentation (WMI), and email.</span></span> <span data-ttu-id="bfd23-220">Wstępnie skonfigurowane dostawców i mapowania zdarzeń zmniejszyć ilość pracy, które są niezbędne, aby uzyskać dane wyjściowe zdarzenia rejestrowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-220">The pre-configured providers and event mappings reduce the amount of work necessary to get event output logged.</span></span>

<span data-ttu-id="bfd23-221">ASP.NET 2.0 używa dziennika zdarzeń dostawca out-of--box mają być rejestrowane zdarzenia na podstawie domen aplikacji, uruchamianie i zatrzymywanie, a także rejestrowanie nieobsłużone wyjątki.</span><span class="sxs-lookup"><span data-stu-id="bfd23-221">ASP.NET 2.0 uses the Event Log provider out-of-the-box to log events based on application domains starting and stopping, as well as logging any unhandled exceptions.</span></span> <span data-ttu-id="bfd23-222">Pomaga to obejmują niektóre z podstawowych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="bfd23-222">This helps to cover some of the basic scenarios.</span></span> <span data-ttu-id="bfd23-223">Załóżmy na przykład, że aplikacji zgłasza wyjątek, ale użytkownik nie zostanie zapisany błąd i nie można odtworzyć go.</span><span class="sxs-lookup"><span data-stu-id="bfd23-223">For example, let's say that your application throws an exception, but the user doesn't save the error and you can't reproduce it.</span></span> <span data-ttu-id="bfd23-224">Za pomocą domyślnej reguły dziennika zdarzeń będzie mogła gromadzić informacje wyjątek i stos, aby lepiej zrozumieć, jakiego rodzaju błąd wystąpił.</span><span class="sxs-lookup"><span data-stu-id="bfd23-224">With the default Event Log rule, you would be able to gather the exception and stack information to get a better idea of what kind of error occurred.</span></span> <span data-ttu-id="bfd23-225">Inny przykład w przypadku aplikacji jest utraty stanu sesji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-225">Another example applies if your application is losing session state.</span></span> <span data-ttu-id="bfd23-226">W takim przypadku możesz przejrzeć w dzienniku zdarzeń, aby określić, czy jest odtwarzane domeny aplikacji i dlaczego domeny aplikacji jest zatrzymana na pierwszym miejscu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-226">In that case, you can look in the Event Log to determine whether the application domain is recycling, and why the application domain stopped in the first place.</span></span>

<span data-ttu-id="bfd23-227">Ponadto kondycji systemu monitorowania jest rozszerzalny.</span><span class="sxs-lookup"><span data-stu-id="bfd23-227">Also, the health monitoring system is extensible.</span></span> <span data-ttu-id="bfd23-228">Na przykład możesz zdefiniowania niestandardowych zdarzeń w sieci Web, uruchomić je w ramach aplikacji a następnie zdefiniować regułę do wysyłania informacji o zdarzeniach do dostawcy, takich jak wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="bfd23-228">For example, you can define custom Web events, fire them within your application, and then define a rule to send the event information to a provider such as your email.</span></span> <span data-ttu-id="bfd23-229">Dzięki temu można łatwo powiązać Twoje Instrumentacji do monitorowania dostawców kondycji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-229">This allows you to easily tie your instrumentation to the health monitoring providers.</span></span> <span data-ttu-id="bfd23-230">Inny przykład można wyzwolić zdarzenie każdorazowo zamówienie jest przetwarzany i skonfigurować regułę, która wysyła każde zdarzenie w bazie danych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bfd23-230">As another example, you could fire an event each time an order is processed and set up a rule that sends each event to the SQL Server database.</span></span> <span data-ttu-id="bfd23-231">Można również wyzwalać zdarzenie, gdy użytkownik zakończy się niepowodzeniem, zaloguj się na wiele razy z rzędu i skonfigurować zdarzenia do używania dostawców bazujące na poczcie e-mail.</span><span class="sxs-lookup"><span data-stu-id="bfd23-231">You could also fire an event when a user fails to log on multiple times in a row, and set up the event to use the email-based providers.</span></span>

<span data-ttu-id="bfd23-232">Konfiguracja domyślnych dostawców i zdarzenia są przechowywane w pliku Web.config globalnego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-232">The configuration for the default providers and events is stored in the global Web.config file.</span></span> <span data-ttu-id="bfd23-233">Globalne pliku Web.config wszystkie ustawienia są przechowywane opartego na sieci Web, które były przechowywane w pliku Machine.config na platformie ASP.NET 1 x.</span><span class="sxs-lookup"><span data-stu-id="bfd23-233">The global Web.config file stores all the Web-based settings that were stored in the Machine.config file in ASP.NET 1x.</span></span> <span data-ttu-id="bfd23-234">Globalny plik Web.config znajduje się w następującym katalogu:</span><span class="sxs-lookup"><span data-stu-id="bfd23-234">The global Web.config file is located in the following directory:</span></span>

`%windir%\Microsoft.Net\Framework\v2.0.*\config\Web.config`

<span data-ttu-id="bfd23-235">&lt;HealthMonitoring&gt; sekcji globalnej pliku Web.config zawiera domyślne ustawienia konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-235">The &lt;healthMonitoring&gt; section of the global Web.config file provides default configuration settings.</span></span> <span data-ttu-id="bfd23-236">Możesz przesłonić te ustawienia lub skonfigurować własne ustawienia, implementując &lt;healthMonitoring&gt; sekcji w pliku Web.config aplikacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-236">You can override these setting or configure your own settings by implementing the &lt;healthMonitoring&gt; section in the Web.config file for your application.</span></span>

<span data-ttu-id="bfd23-237">&lt;HealthMonitoring&gt; sekcji globalnej pliku Web.config zawiera następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="bfd23-237">The &lt;healthMonitoring&gt; section of the global Web.config file contains the following items:</span></span>

| <span data-ttu-id="bfd23-238">**dostawcy**</span><span class="sxs-lookup"><span data-stu-id="bfd23-238">**providers**</span></span> | <span data-ttu-id="bfd23-239">Zawiera dostawców dla podglądu zdarzeń, usługi WMI i SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bfd23-239">Contains providers set up for the Event Viewer, WMI, and SQL Server.</span></span> |
| --- | --- |
| <span data-ttu-id="bfd23-240">**eventMappings**</span><span class="sxs-lookup"><span data-stu-id="bfd23-240">**eventMappings**</span></span> | <span data-ttu-id="bfd23-241">Zawiera mapowania dla różnych klas WebBase.</span><span class="sxs-lookup"><span data-stu-id="bfd23-241">Contains mappings for the various WebBase classes.</span></span> <span data-ttu-id="bfd23-242">Można rozszerzyć tę listę, jeśli Generowanie klasy zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-242">You can extend this list if you generate your own event class.</span></span> <span data-ttu-id="bfd23-243">Generowanie klasy zdarzeń zapewnia bardziej szczegółowy za pośrednictwem dostawców, którą możesz wysłać informacje, aby.</span><span class="sxs-lookup"><span data-stu-id="bfd23-243">Generating your own event class gives you finer granularity over the providers you send information to.</span></span> <span data-ttu-id="bfd23-244">Na przykład można skonfigurować nieobsłużone wyjątki, które zostanie wysłane do programu SQL Server podczas wysyłania zdarzeń niestandardowych do poczty e-mail.</span><span class="sxs-lookup"><span data-stu-id="bfd23-244">For example, you could configure unhandled exceptions to be sent to SQL Server, while sending your own custom events to email.</span></span> |
| <span data-ttu-id="bfd23-245">**reguły**</span><span class="sxs-lookup"><span data-stu-id="bfd23-245">**rules**</span></span> | <span data-ttu-id="bfd23-246">Linki eventMappings dostawcy.</span><span class="sxs-lookup"><span data-stu-id="bfd23-246">Links the eventMappings to the provider.</span></span> |
| <span data-ttu-id="bfd23-247">**buforowanie**</span><span class="sxs-lookup"><span data-stu-id="bfd23-247">**buffering**</span></span> | <span data-ttu-id="bfd23-248">Używane z dostawcami zasobów programu SQL Server i wiadomości e-mail do określenia, jak często mają być opróżnienia zdarzeń dla dostawcy.</span><span class="sxs-lookup"><span data-stu-id="bfd23-248">Used with SQL Server and email providers to determine how often to flush the events to the provider.</span></span> |

<span data-ttu-id="bfd23-249">Poniżej przedstawiono przykładowy kod z globalnego pliku Web.config.</span><span class="sxs-lookup"><span data-stu-id="bfd23-249">Below is a code example from the global Web.config file.</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample4.xml)]

## <a name="how-to-store-events-to-event-viewer"></a><span data-ttu-id="bfd23-250">Jak przechowywać zdarzenia w Podglądzie zdarzeń</span><span class="sxs-lookup"><span data-stu-id="bfd23-250">How to store events to Event Viewer</span></span>

<span data-ttu-id="bfd23-251">Jak wspomniano wcześniej, dostawca dla rejestrowania zdarzeń w zdarzeniu podglądu jest skonfigurowane w globalnego pliku Web.config.</span><span class="sxs-lookup"><span data-stu-id="bfd23-251">As mentioned earlier, the provider for logging events in the Event Viewer is configured for you in the global Web.config file.</span></span> <span data-ttu-id="bfd23-252">Domyślnie, na podstawie wszystkich zdarzeń **WebBaseErrorEvent** i **WebFailureAuditEvent** są rejestrowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-252">By default, all events based on **WebBaseErrorEvent** and **WebFailureAuditEvent** are logged.</span></span> <span data-ttu-id="bfd23-253">Możesz dodać dodatkowe reguły, aby rejestrować dodatkowe informacje w dzienniku zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-253">You can add additional rules to log additional information to the Event Log.</span></span> <span data-ttu-id="bfd23-254">Na przykład, jeśli chce się rejestrowanie wszystkich zdarzeń (*tj*, na podstawie każdego zdarzenia **WebBaseEvent**), można dodać następującą regułę do pliku Web.config:</span><span class="sxs-lookup"><span data-stu-id="bfd23-254">For example, if you wanted to log all events (*i.e.*, every event based on **WebBaseEvent**), you could add the following rule to your Web.config file:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample5.xml)]

<span data-ttu-id="bfd23-255">Ta zasada będzie link **wszystkie zdarzenia** mapę zdarzeń, aby dostawca dziennika zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-255">This rule would link the **All Events** event map to the Event Log provider.</span></span> <span data-ttu-id="bfd23-256">Zarówno eventMapping, jak i dostawcy znajdują się w pliku Web.config globalnego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-256">Both eventMapping and the provider are included in the global Web.config file.</span></span>

## <a name="how-to-store-events-to-sql-server"></a><span data-ttu-id="bfd23-257">Jak przechowywać zdarzenia do programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="bfd23-257">How to store events to SQL Server</span></span>

<span data-ttu-id="bfd23-258">Ta metoda używa **ASPNETDB** bazy danych, która jest generowana przez Aspnet\_regsql.exe narzędzia.</span><span class="sxs-lookup"><span data-stu-id="bfd23-258">This method uses the **ASPNETDB** database, which is generated by the Aspnet\_regsql.exe tool.</span></span> <span data-ttu-id="bfd23-259">Domyślny dostawca używa LocalSqlServer ciąg połączenia, który używa albo na podstawie pliku bazy danych w aplikacji\_folderu danych lub SQLExpress lokalne wystąpienie programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bfd23-259">The default provider uses the LocalSqlServer connection string, which uses either a file-based database in the App\_data folder or the local SQLExpress instance of SQL Server.</span></span> <span data-ttu-id="bfd23-260">Parametry połączenia LocalSqlServer i SqlProvider są konfigurowane w pliku Web.config globalnego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-260">Both the LocalSqlServer connection string and the SqlProvider are configured in the global Web.config file.</span></span>

<span data-ttu-id="bfd23-261">LocalSqlServer parametry połączenia w pliku Web.config globalnego wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="bfd23-261">The LocalSqlServer connection string in the global Web.config file looks like this:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample6.xml)]

<span data-ttu-id="bfd23-262">Jeśli chcesz użyć innego wystąpienia programu SQL Server, musisz użyć Aspnet\_regsql.exe narzędzia, które znajdują się w % windir%\Microsoft.Net\Framework\v2.0.\* folderu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-262">If you want to use another SQL Server instance, you'll need to use the Aspnet\_regsql.exe tool, which can be found in the %windir%\Microsoft.Net\Framework\v2.0.\* folder.</span></span> <span data-ttu-id="bfd23-263">Użyj Aspnet\_regsql.exe narzędzie do generowania niestandardowego **ASPNETDB** bazy danych w wystąpieniu programu SQL Server, a następnie dodaj parametry połączenia do pliku konfiguracyjnego aplikacji, a następnie dodać dostawcę przy użyciu nowego Parametry połączenia.</span><span class="sxs-lookup"><span data-stu-id="bfd23-263">Use the Aspnet\_regsql.exe tool to generate a custom **ASPNETDB** database on the SQL Server instance, then add the connection string to your applications configuration file, and then add a provider by using the new connection string.</span></span> <span data-ttu-id="bfd23-264">Po utworzeniu **ASPNETDB** bazy danych utworzonej, należy ustawić zasadę, aby połączyć eventMapping sqlProvider.</span><span class="sxs-lookup"><span data-stu-id="bfd23-264">Once you have the **ASPNETDB** database created, you'll need to set a rule to link an eventMapping to the sqlProvider.</span></span>

<span data-ttu-id="bfd23-265">Użyj domyślnej SqlProvider lub konfigurowanie własnego dostawcę, należy dodać regułę łączenia dostawcy z mapą zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-265">Whether you use the default SqlProvider or configure your own provider, you'll need to add a rule linking the provider with an event map.</span></span> <span data-ttu-id="bfd23-266">Następująca reguła łączy nowego dostawcę, który został utworzony powyżej do **wszystkie zdarzenia** Mapa zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-266">The following rule links the new provider that you created above to the **All Events** event map.</span></span> <span data-ttu-id="bfd23-267">Ta zasada będzie rejestrować wszystkie zdarzenia na podstawie **WebBaseEvent** i wysyłać je do MySqlWebEventProvider, który będzie używany ciąg połączenia MYASPNETDB.</span><span class="sxs-lookup"><span data-stu-id="bfd23-267">This rule will log all the events based on **WebBaseEvent** and send them to the MySqlWebEventProvider that will use the MYASPNETDB connection string.</span></span> <span data-ttu-id="bfd23-268">Poniższy kod dodaje regułę do łączenia dostawcy z mapą zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="bfd23-268">The following code adds a rule to link the provider with an event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample7.xml)]

<span data-ttu-id="bfd23-269">Jeśli chcesz tylko błędy wysyłania do programu SQL Server, można dodać następującą regułę:</span><span class="sxs-lookup"><span data-stu-id="bfd23-269">If you wanted to only send errors to SQL Server, you could add the following rule:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample8.xml)]

## <a name="how-to-forward-events-to-wmi"></a><span data-ttu-id="bfd23-270">Jak przekazywać zdarzenia do Instrumentacji zarządzania Windows</span><span class="sxs-lookup"><span data-stu-id="bfd23-270">How to forward events to WMI</span></span>

<span data-ttu-id="bfd23-271">Możesz również przekazywać zdarzenia do usługi WMI.</span><span class="sxs-lookup"><span data-stu-id="bfd23-271">You can also forward the events to WMI.</span></span> <span data-ttu-id="bfd23-272">Dostawca usługi WMI jest skonfigurowane w pliku Web.config globalnego domyślnie.</span><span class="sxs-lookup"><span data-stu-id="bfd23-272">The WMI provider is configured for you in the global Web.config file by default.</span></span>

<span data-ttu-id="bfd23-273">Poniższy przykład kodu Dodaje regułę do przesyłania dalej zdarzeń do usługi WMI:</span><span class="sxs-lookup"><span data-stu-id="bfd23-273">The following code example adds a rule to forward the events to WMI:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample9.xml)]

<span data-ttu-id="bfd23-274">Musisz dodać zasadę, aby skojarzyć eventMapping dostawcę i aplikacji odbiornika usługi WMI, aby nasłuchiwać zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-274">You will need to add a rule to associate an eventMapping to the provider, and also a WMI listener application to listen for the events.</span></span> <span data-ttu-id="bfd23-275">Poniższy przykład kodu Dodaje regułę do łączenia dostawcy WMI do **wszystkie zdarzenia** Mapa zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="bfd23-275">The following code example adds a rule to link the WMI provider to the **All Events** event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample10.xml)]

## <a name="how-to-forward-events-to-email"></a><span data-ttu-id="bfd23-276">Jak przekazywać zdarzenia do wiadomości e-mail</span><span class="sxs-lookup"><span data-stu-id="bfd23-276">How to forward events to email</span></span>

<span data-ttu-id="bfd23-277">Możesz również przekazywać zdarzenia do poczty e-mail.</span><span class="sxs-lookup"><span data-stu-id="bfd23-277">You can also forward events to email.</span></span> <span data-ttu-id="bfd23-278">Należy zachować ostrożność reguły zdarzenia, które należy mapować dostawcy poczty e-mail, ponieważ użytkownik może przypadkowo wysłać do siebie mnóstwo informacji, może być lepiej dopasowane do programu SQL Server i dzienniku zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-278">Be careful about which event rules you map to your email provider, as you can unintentionally send yourself a lot of information that may be better suited for SQL Server or the Event Log.</span></span> <span data-ttu-id="bfd23-279">Istnieją dwa dostawców poczty e-mail; SimpleMailWebEventProvider i TemplatedMailWebEventProvider.</span><span class="sxs-lookup"><span data-stu-id="bfd23-279">There are two email providers; SimpleMailWebEventProvider and TemplatedMailWebEventProvider.</span></span> <span data-ttu-id="bfd23-280">Każda ma takie same atrybuty konfiguracji, z wyjątkiem "szablon" i "detailedTemplateErrors" atrybuty, które są dostępne tylko na TemplatedMailWebEventProvider.</span><span class="sxs-lookup"><span data-stu-id="bfd23-280">Each has the same configuration attributes, with the exception of the "template" and "detailedTemplateErrors" attributes, both of which are only available on the TemplatedMailWebEventProvider.</span></span>

> [!NOTE]
> <span data-ttu-id="bfd23-281">Żadna z tych dostawców poczty e-mail nie jest skonfigurowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-281">Neither of these email providers is configured for you.</span></span> <span data-ttu-id="bfd23-282">Należy dodać je do pliku Web.config.</span><span class="sxs-lookup"><span data-stu-id="bfd23-282">You'll need to add them to your Web.config file.</span></span>


<span data-ttu-id="bfd23-283">Główna różnica między tych dostawców poczty e-mail dwóch jest SimpleMailWebEventProvider i wysyła wiadomości e-mail w szablonie ogólny, który nie może być modyfikowany.</span><span class="sxs-lookup"><span data-stu-id="bfd23-283">The main difference between these two email providers is that SimpleMailWebEventProvider sends emails in a generic template that cannot be modified.</span></span> <span data-ttu-id="bfd23-284">Przykładowy plik Web.config dodaje tego dostawcy wiadomość e-mail do listy dostawców skonfigurowane za pomocą następujących reguł:</span><span class="sxs-lookup"><span data-stu-id="bfd23-284">The sample Web.config file adds this email provider to the list of configured providers by using the following rule:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample11.xml)]

<span data-ttu-id="bfd23-285">Następująca reguła jest także dodawane do wybranego dostawcy poczty e-mail, aby powiązać **wszystkie zdarzenia** Mapa zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="bfd23-285">The following rule is also added to tie the email provider to the **All Events** event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample12.xml)]

## <a name="aspnet-20-tracing"></a><span data-ttu-id="bfd23-286">Program ASP.NET 2.0 śledzenia</span><span class="sxs-lookup"><span data-stu-id="bfd23-286">ASP.NET 2.0 Tracing</span></span>

<span data-ttu-id="bfd23-287">Istnieją trzy ważne udoskonalenia śledzenie w programie ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="bfd23-287">There are three major enhancements to tracing in ASP.NET 2.0.</span></span>

1. <span data-ttu-id="bfd23-288">Śledzenie zintegrowane funkcje</span><span class="sxs-lookup"><span data-stu-id="bfd23-288">Integrated tracing functionality</span></span>
2. <span data-ttu-id="bfd23-289">Dostęp programowy do komunikatów śledzenia</span><span class="sxs-lookup"><span data-stu-id="bfd23-289">Programmatic access to trace messages</span></span>
3. <span data-ttu-id="bfd23-290">Ulepszone śledzenie na poziomie aplikacji</span><span class="sxs-lookup"><span data-stu-id="bfd23-290">Improved application-level tracing</span></span>

## <a name="integrated-tracing-functionality"></a><span data-ttu-id="bfd23-291">Zintegrowane funkcje śledzenia</span><span class="sxs-lookup"><span data-stu-id="bfd23-291">Integrated Tracing Functionality</span></span>

<span data-ttu-id="bfd23-292">Możesz teraz kierowanie komunikatów w postaci wyemitowane przez system.Diagnostics.trace — klasa platformy ASP.NET, dane wyjściowe śledzenia i kierowanie komunikatów w postaci wyemitowane przez śledzenie na platformie ASP.NET interfejsu System.Diagnostics.trace.</span><span class="sxs-lookup"><span data-stu-id="bfd23-292">You can now route messages emitted by the System.Diagnostics.Trace class to ASP.NET tracing output, and route messages emitted by ASP.NET tracing to System.Diagnostics.Trace.</span></span> <span data-ttu-id="bfd23-293">Możesz również przekazywać zdarzeń Instrumentacji ASP.NET interfejsu System.Diagnostics.trace.</span><span class="sxs-lookup"><span data-stu-id="bfd23-293">You can also forward ASP.NET instrumentation events to System.Diagnostics.Trace.</span></span> <span data-ttu-id="bfd23-294">Ta funkcjonalność jest dostarczana przez nowy **writeToDiagnosticsTrace** atrybutu &lt;śledzenia&gt; elementu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-294">This functionality is provided by the new **writeToDiagnosticsTrace** attribute of the &lt;trace&gt; element.</span></span> <span data-ttu-id="bfd23-295">To wartość logiczna ma wartość true, komunikaty śledzenia ASP.NET są przekazywane do infrastruktury śledzenia System.Diagnostics do użytku przez żadnych odbiorników, które są zarejestrowane do wyświetlania komunikatów śledzenia.</span><span class="sxs-lookup"><span data-stu-id="bfd23-295">When this Boolean value is true, ASP.NET Trace messages are forwarded to the System.Diagnostics tracing infrastructure for use by any listeners that are registered to display Trace messages.</span></span>

## <a name="programmatic-access-to-trace-messages"></a><span data-ttu-id="bfd23-296">Dostęp programowy do komunikaty śledzenia</span><span class="sxs-lookup"><span data-stu-id="bfd23-296">Programmatic Access to Trace Messages</span></span>

<span data-ttu-id="bfd23-297">Umożliwia dostęp programowy do wszystkich komunikatów śledzenia za pomocą platformy ASP.NET 2.0 **TraceContextRecord** klasy i **///TraceRecords** kolekcji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-297">ASP.NET 2.0 allows for programmatic access to all trace messages via the **TraceContextRecord** class and the **TraceRecords** collection.</span></span> <span data-ttu-id="bfd23-298">Najbardziej wydajny sposób uzyskiwania dostępu do komunikatów śledzenia jest zarejestrować **TraceContextEventHandler** delegata (inne nowości w programie ASP.NET 2.0) do obsługi nowej **TraceFinished** zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-298">The most efficient way of accessing trace messages is to register a **TraceContextEventHandler** delegate (also new in ASP.NET 2.0) to handle the new **TraceFinished** event.</span></span> <span data-ttu-id="bfd23-299">Następnie można pętli komunikatów śledzenia, jak chcesz.</span><span class="sxs-lookup"><span data-stu-id="bfd23-299">You can then loop through the trace messages as you wish.</span></span>

<span data-ttu-id="bfd23-300">Poniższy przykład kodu ilustruje to:</span><span class="sxs-lookup"><span data-stu-id="bfd23-300">The following code sample illustrates this:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample13.cs)]

<span data-ttu-id="bfd23-301">W powyższym przykładzie czy w pętli poprzez kolekcji ///TraceRecords, a następnie wpisz każdy komunikat w strumieniu odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="bfd23-301">In the above example, I loop through the TraceRecords collection and then write each message to the Response stream.</span></span>

## <a name="improved-application-level-tracing"></a><span data-ttu-id="bfd23-302">Ulepszone śledzenie na poziomie aplikacji</span><span class="sxs-lookup"><span data-stu-id="bfd23-302">Improved Application-Level Tracing</span></span>

<span data-ttu-id="bfd23-303">Śledzenie na poziomie aplikacji została udoskonalona poprzez wprowadzenie nowego **mostRecent** atrybutu &lt;śledzenia&gt; elementu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-303">Application-level tracing is improved via the introduction of the new **mostRecent** attribute of the &lt;trace&gt; element.</span></span> <span data-ttu-id="bfd23-304">Ten atrybut określa, czy najnowsze dane wyjściowe śledzenia na poziomie aplikacji są wyświetlane i starsze dane poza granicami, które są wskazane przez requestLimit zostaną odrzucone.</span><span class="sxs-lookup"><span data-stu-id="bfd23-304">This attribute specifies whether the most recent application-level tracing output is displayed and older trace data beyond the limits that are indicated by the requestLimit are discarded.</span></span> <span data-ttu-id="bfd23-305">W przypadku wartości FAŁSZ, aż do osiągnięcia atrybut requestLimit dane śledzenia są wyświetlane dla żądań.</span><span class="sxs-lookup"><span data-stu-id="bfd23-305">If false, trace data are displayed for requests until the requestLimit attribute is reached.</span></span>

## <a name="aspnet-command-line-tools"></a><span data-ttu-id="bfd23-306">Narzędzia wiersza polecenia platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="bfd23-306">ASP.NET Command Line Tools</span></span>

<span data-ttu-id="bfd23-307">Istnieje kilka narzędzi wiersza polecenia, aby ułatwić konfigurację programu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="bfd23-307">There are several command-line tools to aid in configuration of ASP.NET.</span></span> <span data-ttu-id="bfd23-308">Deweloperów platformy ASP.NET, należy zapoznać się z aspnet\_regiis.exe narzędzia.</span><span class="sxs-lookup"><span data-stu-id="bfd23-308">ASP.NET developers should be familiar with the aspnet\_regiis.exe tool.</span></span> <span data-ttu-id="bfd23-309">ASP.NET 2.0 zawiera trzy inne narzędzia wiersza polecenia do pomocy w konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-309">ASP.NET 2.0 provides three other command-line tools to aid in configuration.</span></span>

<span data-ttu-id="bfd23-310">Dostępne są następujące narzędzia wiersza polecenia:</span><span class="sxs-lookup"><span data-stu-id="bfd23-310">The following command-line tools are available:</span></span>

| <span data-ttu-id="bfd23-311">**Narzędzie**</span><span class="sxs-lookup"><span data-stu-id="bfd23-311">**Tool**</span></span> | <span data-ttu-id="bfd23-312">**Korzystanie**</span><span class="sxs-lookup"><span data-stu-id="bfd23-312">**Use**</span></span> |
| --- | --- |
| <span data-ttu-id="bfd23-313">**aspnet\_regiis.exe**</span><span class="sxs-lookup"><span data-stu-id="bfd23-313">**aspnet\_regiis.exe**</span></span> | <span data-ttu-id="bfd23-314">Umożliwia rejestracji programu ASP.NET w usługach IIS.</span><span class="sxs-lookup"><span data-stu-id="bfd23-314">Allows for registration of ASP.NET with IIS.</span></span> <span data-ttu-id="bfd23-315">Istnieją dwie wersje tego narzędzia dostarczonymi za pomocą programu ASP.NET 2.0, jeden dla systemów 32-bitowych (w folderze Framework) i jeden dla 64-bitowych systemach (w folderze Framework64.) Nie można zainstalowana wersja 64-bitowego na 32-bitowych systemach operacyjnych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-315">There are two versions of this tools that ship with ASP.NET 2.0, one for 32-bit systems (in the Framework folder) and one for 64-bit systems (in the Framework64 folder.) The 64-bit version will not be installed on a 32-bit OS.</span></span> |
| <span data-ttu-id="bfd23-316">**aspnet\_regsql.exe**</span><span class="sxs-lookup"><span data-stu-id="bfd23-316">**aspnet\_regsql.exe**</span></span> | <span data-ttu-id="bfd23-317">Narzędzie rejestracji serwera SQL programu ASP.NET umożliwia utworzyć bazę danych programu Microsoft SQL Server do użytku przez dostawców programu SQL Server w programie ASP.NET lub dodawanie lub usuwanie opcji z istniejącej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-317">The ASP.NET SQL Server Registration tool is used to create a Microsoft SQL Server database for use by the SQL Server providers in ASP.NET, or to add or remove options from an existing database.</span></span> <span data-ttu-id="bfd23-318">Aspnet\_regsql.exe plik znajduje się w [drive:]\WINDOWS\Microsoft.NET\Framework\versionNumber folder na serwerze sieci Web.</span><span class="sxs-lookup"><span data-stu-id="bfd23-318">The Aspnet\_regsql.exe file is located in the [drive:]\WINDOWS\Microsoft.NET\Framework\versionNumber folder on your Web server.</span></span> |
| <span data-ttu-id="bfd23-319">**aspnet\_regbrowsers.exe**</span><span class="sxs-lookup"><span data-stu-id="bfd23-319">**aspnet\_regbrowsers.exe**</span></span> | <span data-ttu-id="bfd23-320">Narzędzie rejestracji programu ASP.NET w przeglądarce analizuje wszystkie definicje przeglądarki systemowe w zespół kompiluje i instaluje zestaw w globalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="bfd23-320">The ASP.NET Browser Registration tool parses and compiles all system-wide browser definitions into an assembly and installs the assembly into the global assembly cache.</span></span> <span data-ttu-id="bfd23-321">To narzędzie używa plików definicji przeglądarki (. Pliki PRZEGLĄDARKI) z podkatalogu .NET Framework przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="bfd23-321">The tool uses the browser definition files (.BROWSER files) from the .NET Framework Browsers subdirectory.</span></span> <span data-ttu-id="bfd23-322">Narzędzie można znaleźć w katalogu %SystemRoot%\Microsoft.NET\Framework\version\.</span><span class="sxs-lookup"><span data-stu-id="bfd23-322">The tool can be found in the %SystemRoot%\Microsoft.NET\Framework\version\ directory.</span></span> |
| <span data-ttu-id="bfd23-323">**aspnet\_compiler.exe**</span><span class="sxs-lookup"><span data-stu-id="bfd23-323">**aspnet\_compiler.exe**</span></span> | <span data-ttu-id="bfd23-324">Narzędzia kompilacji platformy ASP.NET można skompilować aplikację sieci Web ASP.NET w miejscu lub we wdrożeniach w lokalizacji docelowej, takich jak na serwerze produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="bfd23-324">The ASP.NET Compilation tool enables you to compile an ASP.NET Web application, either in place or for deployment to a target location such as a production server.</span></span> <span data-ttu-id="bfd23-325">Kompilacja w miejscu pomaga wydajność aplikacji, ponieważ użytkownicy końcowi czy nie występują opóźnienia na pierwsze żądanie do aplikacji, podczas kompilowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-325">In-place compilation helps application performance because end users do not encounter a delay on the first request to the application while the application is compiled.</span></span> |

<span data-ttu-id="bfd23-326">Ponieważ aspnet\_narzędzie regiis.exe nie jesteś nowym użytkownikiem programu ASP.NET 2.0, nie omówimy je tutaj.</span><span class="sxs-lookup"><span data-stu-id="bfd23-326">Because the aspnet\_regiis.exe tool is not new to ASP.NET 2.0, we will not discuss it here.</span></span>

## <a name="aspnet-sql-server-registration-tool---aspnetregsqlexe"></a><span data-ttu-id="bfd23-327">Narzędzie rejestracji serwera SQL platformy ASP.NET — aspnet\_regsql.exe</span><span class="sxs-lookup"><span data-stu-id="bfd23-327">ASP.NET SQL Server Registration Tool - aspnet\_regsql.exe</span></span>

<span data-ttu-id="bfd23-328">Można ustawić kilka typów opcji za pomocą narzędzia rejestracji serwera SQL programu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="bfd23-328">You can set several types of options using the ASP.NET SQL Server Registration tool.</span></span> <span data-ttu-id="bfd23-329">Można określić połączenia SQL, określ, które usług aplikacji ASP.NET używania programu SQL Server do zarządzania informacji, wskazać, które bazy danych lub tabela jest używana do zależności pamięci podręcznej SQL i dodać lub usunąć obsługę przechowywanie procedur i stanu sesji przy użyciu programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bfd23-329">You can specify a SQL connection, specify which ASP.NET application services use SQL Server to manage information, indicate which database or table is used for SQL cache dependency, and add or remove support for using SQL Server to store procedures and session state.</span></span>

<span data-ttu-id="bfd23-330">Kilku usług aplikacji ASP.NET, zależy od dostawcy, zarządzanie, przechowywanie i pobieranie danych ze źródła danych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-330">Several ASP.NET application services rely on a provider to manage storing and retrieving data from a data source.</span></span> <span data-ttu-id="bfd23-331">Każdy dostawca jest specyficzny dla źródła danych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-331">Each provider is specific to the data source.</span></span> <span data-ttu-id="bfd23-332">Program ASP.NET zawiera dostawca programu SQL Server w taki sposób, aby uzyskać poniższe funkcje platformy ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="bfd23-332">ASP.NET includes a SQL Server provider for the following ASP.NET features:</span></span>

- <span data-ttu-id="bfd23-333">Członkostwa ( [SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) klasy).</span><span class="sxs-lookup"><span data-stu-id="bfd23-333">Membership (the [SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) class).</span></span>
- <span data-ttu-id="bfd23-334">Zarządzanie rolami ( [SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) klasy).</span><span class="sxs-lookup"><span data-stu-id="bfd23-334">Role Management (the [SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) class).</span></span>
- <span data-ttu-id="bfd23-335">Profil ( [SqlProfileProvider](https://msdn.microsoft.com/library/system.web.profile.sqlprofileprovider.aspx) klasy).</span><span class="sxs-lookup"><span data-stu-id="bfd23-335">Profile (the [SqlProfileProvider](https://msdn.microsoft.com/library/system.web.profile.sqlprofileprovider.aspx) class).</span></span>
- <span data-ttu-id="bfd23-336">Web Part personalizacji ( [SqlPersonalizationProvider](https://msdn.microsoft.com/library/system.web.ui.webcontrols.webparts.sqlpersonalizationprovider.aspx) klasy).</span><span class="sxs-lookup"><span data-stu-id="bfd23-336">Web Parts Personalization (the [SqlPersonalizationProvider](https://msdn.microsoft.com/library/system.web.ui.webcontrols.webparts.sqlpersonalizationprovider.aspx) class).</span></span>
- <span data-ttu-id="bfd23-337">Zdarzenia w sieci Web ( [SqlWebEventProvider](https://msdn.microsoft.com/library/system.web.management.sqlwebeventprovider.aspx) klasy).</span><span class="sxs-lookup"><span data-stu-id="bfd23-337">Web Events (the [SqlWebEventProvider](https://msdn.microsoft.com/library/system.web.management.sqlwebeventprovider.aspx) class).</span></span>

<span data-ttu-id="bfd23-338">Po zainstalowaniu programu ASP.NET, pliku Machine.config serwera zawiera elementy konfiguracji, które Określ dostawców programu SQL Server dla każdej funkcji programu ASP.NET, które zależą od dostawcy.</span><span class="sxs-lookup"><span data-stu-id="bfd23-338">When you install ASP.NET, the Machine.config file for your server includes configuration elements that specify SQL Server providers for each of the ASP.NET features that rely on a provider.</span></span> <span data-ttu-id="bfd23-339">Ci dostawcy są skonfigurowane domyślnie do połączenia z wystąpieniem użytkownika lokalnego programu SQL Server Express 2005.</span><span class="sxs-lookup"><span data-stu-id="bfd23-339">These providers are configured, by default, to connect to a local user instance of SQL Server Express 2005.</span></span> <span data-ttu-id="bfd23-340">Jeśli zmienisz domyślny ciąg połączenia używany przez dostawców, przed użyciem dowolnej funkcji programu ASP.NET w konfiguracji maszyny należy zainstalować bazy danych programu SQL Server i elementy bazy danych z wybranej funkcji przy użyciu Aspnet\_regsql.exe.</span><span class="sxs-lookup"><span data-stu-id="bfd23-340">If you change the default connection string used by the providers, then before you can use any of the ASP.NET features configured in the machine configuration, you must install the SQL Server database and the database elements for your chosen feature using Aspnet\_regsql.exe.</span></span> <span data-ttu-id="bfd23-341">Jeśli bazy danych, określ za pomocą narzędzia rejestrowania SQL jeszcze nie istnieje (aspnetdb będzie domyślna baza danych, jeśli nie został określony w wierszu polecenia), a następnie bieżący użytkownik musi mieć uprawnienia do tworzenia baz danych w programie SQL Server oraz aby utworzyć schemat e lements w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-341">If the database that you specify with the SQL registration tool does not already exist (aspnetdb will be the default database if one is not specified on the command line), then the current user must have rights to create databases in SQL Server as well as to create schema elements within a database.</span></span>

### <a name="sql-cache-dependency"></a><span data-ttu-id="bfd23-342">Zależności pamięci podręcznej SQL</span><span class="sxs-lookup"><span data-stu-id="bfd23-342">SQL Cache Dependency</span></span>

<span data-ttu-id="bfd23-343">Zaawansowane funkcji buforowania danych wyjściowych ASP.NET jest zależności pamięci podręcznej SQL.</span><span class="sxs-lookup"><span data-stu-id="bfd23-343">An advanced feature of ASP.NET output caching is SQL cache dependency.</span></span> <span data-ttu-id="bfd23-344">Zależności pamięci podręcznej SQL obsługuje dwa różne tryby działania: jedną, która używa implementację ASP.NET sondowania tabeli i drugi tryb, który korzysta z funkcji powiadamiania zapytania programu SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="bfd23-344">SQL cache dependency supports two different modes of operation: one that uses an ASP.NET implementation of table polling and a second mode that uses the query notification features of SQL Server 2005.</span></span> <span data-ttu-id="bfd23-345">Narzędzie do rejestracji programu SQL, można skonfigurować tryb sondowania tabeli działania.</span><span class="sxs-lookup"><span data-stu-id="bfd23-345">The SQL registration tool can be used to configure the table-polling mode of operation.</span></span>

### <a name="session-state"></a><span data-ttu-id="bfd23-346">Stan sesji</span><span class="sxs-lookup"><span data-stu-id="bfd23-346">Session State</span></span>

<span data-ttu-id="bfd23-347">Domyślnie wartości stanu sesji i informacje są przechowywane w pamięci w ramach procesu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="bfd23-347">By default, session state values and information are stored in memory within the ASP.NET process.</span></span> <span data-ttu-id="bfd23-348">Alternatywnie można przechowywać dane sesji w bazie danych programu SQL Server, gdzie mogą być współużytkowane przez wiele serwerów sieci Web.</span><span class="sxs-lookup"><span data-stu-id="bfd23-348">Alternatively, you can store session data in a SQL Server database, where it can be shared by multiple Web servers.</span></span> <span data-ttu-id="bfd23-349">Jeśli bazy danych, należy określić dla stanu sesji za pomocą narzędzia rejestrowania SQL jeszcze nie istnieje, bieżący użytkownik musi mieć uprawnienia do tworzenia baz danych w programie SQL Server oraz do tworzenia elementów schematu w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-349">If the database that you specify for session state with the SQL registration tool does not already exist, then the current user must have rights to create databases in SQL Server as well as to create schema elements within a database.</span></span> <span data-ttu-id="bfd23-350">Jeśli baza danych istnieje, bieżący użytkownik musi mieć uprawnienia do tworzenia elementów schematu w istniejącej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-350">If the database does exist, then the current user must have rights to create schema elements in the existing database.</span></span>

<span data-ttu-id="bfd23-351">Aby zainstalować bazę danych stanu sesji w programie SQL Server, należy uruchomić Aspnet\_narzędzie regsql.exe i podaj następujące informacje przy użyciu polecenia:</span><span class="sxs-lookup"><span data-stu-id="bfd23-351">To install the session state database on SQL Server, run the Aspnet\_regsql.exe tool and supply the following information with the command:</span></span>

- <span data-ttu-id="bfd23-352">Nazwa serwera SQL wystąpienia, za pomocą **-S:** opcji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-352">The name of the SQL Server instance, using the **-S** option.</span></span>
- <span data-ttu-id="bfd23-353">Poświadczenia logowania dla konta które ma uprawnienia do tworzenia bazy danych na komputerze z uruchomionym programem SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bfd23-353">The logon credentials for an account that has permission to create a database on a computer running SQL Server.</span></span> <span data-ttu-id="bfd23-354">Użyj **-E** opcję, aby użyć aktualnie zalogowanego użytkownika lub **- U** opcję, aby określić identyfikator użytkownika wraz z **-P** opcję, aby określić hasło.</span><span class="sxs-lookup"><span data-stu-id="bfd23-354">Use the **-E** option to use the currently logged-on user, or use the **-U** option to specify a user ID along with the **-P** option to specify a password.</span></span>
- <span data-ttu-id="bfd23-355">**- Ssadd** opcji wiersza polecenia, aby dodać bazę danych stanu sesji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-355">The **-ssadd** command-line option to add the session state database.</span></span>

<span data-ttu-id="bfd23-356">Domyślnie nie można użyć Aspnet\_regsql.exe narzędzie, aby zainstalować bazę danych stanu sesji na komputerze z systemem SQL Server 2005 Express Edition.</span><span class="sxs-lookup"><span data-stu-id="bfd23-356">By default, you cannot use the Aspnet\_regsql.exe tool to install the session state database on a computer running SQL Server 2005 Express Edition.</span></span>

### <a name="the-aspnet-browser-registration-tool---aspnetregbrowsersexe"></a><span data-ttu-id="bfd23-357">Narzędzie do rejestracji programu ASP.NET przeglądarki - aspnet\_regbrowsers.exe</span><span class="sxs-lookup"><span data-stu-id="bfd23-357">The ASP.NET Browser Registration Tool - aspnet\_regbrowsers.exe</span></span>

<span data-ttu-id="bfd23-358">W programie ASP.NET w wersji 1.1 plik Machine.config zawiera sekcję o nazwie &lt;browserCaps&gt;.</span><span class="sxs-lookup"><span data-stu-id="bfd23-358">In ASP.NET version 1.1, the Machine.config file contained a section called &lt;browserCaps&gt;.</span></span> <span data-ttu-id="bfd23-359">W tej sekcji zawiera serię wpisów XML, zdefiniowane konfiguracje dla różnych przeglądarkach, w oparciu o wyrażenia regularnego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-359">This section contained a series of XML entries that defined the configurations for various browsers based on a regular expression.</span></span> <span data-ttu-id="bfd23-360">Dla platformy ASP.NET w wersji 2.0 nowy. Plik PRZEGLĄDARKI definiuje parametry konkretnej przeglądarce, za pomocą wpisów XML.</span><span class="sxs-lookup"><span data-stu-id="bfd23-360">For ASP.NET version 2.0, a new .BROWSER file defines the parameters of a particular browser using XML entries.</span></span> <span data-ttu-id="bfd23-361">Dodajesz, dodając nowe informacje w nowym oknie przeglądarki. Plik PRZEGLĄDARKI do folderu zlokalizowanego w %SystemRoot%\Microsoft.NET\Framework\version\CONFIG\Browsers w systemie.</span><span class="sxs-lookup"><span data-stu-id="bfd23-361">You add information on a new browser by adding a new .BROWSER file to the folder located at %SystemRoot%\Microsoft.NET\Framework\version\CONFIG\Browsers on your system.</span></span>

<span data-ttu-id="bfd23-362">Ponieważ aplikacja nie odczytuje plik .config za każdym razem, gdy wymaga informacji przeglądarki, możesz utworzyć nową. Plik PRZEGLĄDARKI i wykonywania Aspnet\_regbrowsers.exe Aby dodać wymagane zmiany do zestawu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-362">Because an application is not reading a .config file every time it requires browser information, you can create a new .BROWSER file and run Aspnet\_regbrowsers.exe to add the required changes to the assembly.</span></span> <span data-ttu-id="bfd23-363">Dzięki temu serwerowi natychmiast uzyskać dostęp nowe informacje o przeglądarce, dzięki czemu nie trzeba zamknąć dowolnej aplikacji w taki sposób, aby wczytać dane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-363">This allows the server to access the new browser information immediately so you do not have to shut down any of your applications to pick up the information.</span></span> <span data-ttu-id="bfd23-364">Aplikacji można uzyskać dostęp do możliwości przeglądarki za pośrednictwem przeglądarki właściwości bieżącego HttpRequest.</span><span class="sxs-lookup"><span data-stu-id="bfd23-364">An application can access browser capabilities through the Browser property of the current HttpRequest.</span></span>

<span data-ttu-id="bfd23-365">Dostępne są następujące opcje, podczas uruchamiania aspnet\_regbrowser.exe:</span><span class="sxs-lookup"><span data-stu-id="bfd23-365">The following options are available when running aspnet\_regbrowser.exe:</span></span>

| <span data-ttu-id="bfd23-366">**Option**</span><span class="sxs-lookup"><span data-stu-id="bfd23-366">**Option**</span></span> | <span data-ttu-id="bfd23-367">**Opis**</span><span class="sxs-lookup"><span data-stu-id="bfd23-367">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="bfd23-368">**-?**</span><span class="sxs-lookup"><span data-stu-id="bfd23-368">**-?**</span></span> | <span data-ttu-id="bfd23-369">Wyświetla Aspnet\_regbbrowsers.exe tekst pomocy w oknie wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="bfd23-369">Displays the Aspnet\_regbbrowsers.exe Help text in the command window.</span></span> |
| <span data-ttu-id="bfd23-370">**-i**</span><span class="sxs-lookup"><span data-stu-id="bfd23-370">**-i**</span></span> | <span data-ttu-id="bfd23-371">Tworzy zestaw funkcji środowiska uruchomieniowego przeglądarki i instaluje je w globalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="bfd23-371">Creates the runtime browser capabilities assembly and installs it in the global assembly cache.</span></span> |
| <span data-ttu-id="bfd23-372">**-u**</span><span class="sxs-lookup"><span data-stu-id="bfd23-372">**-u**</span></span> | <span data-ttu-id="bfd23-373">Odinstalowuje zestaw funkcji środowiska uruchomieniowego przeglądarki z globalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="bfd23-373">Uninstalls the runtime browser capabilities assembly from the global assembly cache.</span></span> |

## <a name="the-aspnet-compilation-tool---aspnetcompilerexe"></a><span data-ttu-id="bfd23-374">Narzędzia kompilacji platformy ASP.NET — aspnet\_compiler.exe</span><span class="sxs-lookup"><span data-stu-id="bfd23-374">The ASP.NET Compilation Tool - aspnet\_compiler.exe</span></span>

<span data-ttu-id="bfd23-375">Narzędzie kompilacji platformy ASP.NET może być używane na dwa sposoby ogólne: kompilacja w miejscu i kompilacji dla wdrożenia, gdy jest określony katalog wyjściowy docelowego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-375">The ASP.NET Compilation tool can be used in two general ways: for in-place compilation and compilation for deployment, where a target output directory is specified.</span></span>

### <a name="compiling-an-application-in-placehttpsmsdnmicrosoftcomlibraryms229863aspx"></a>[<span data-ttu-id="bfd23-376">Kompilowanie aplikacji w miejscu</span><span class="sxs-lookup"><span data-stu-id="bfd23-376">Compiling an Application in Place</span></span>](https://msdn.microsoft.com/library/ms229863.aspx)

<span data-ttu-id="bfd23-377">Narzędzia kompilacji platformy ASP.NET można kompilować aplikacje w miejscu, czyli naśladuje zachowanie wysyłania wielu żądań do aplikacji, powodując regularnych kompilacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-377">The ASP.NET Compilation tool can compile an application in place, that is, it mimics the behavior of making multiple requests to the application, thus causing regular compilation.</span></span> <span data-ttu-id="bfd23-378">Użytkownicy wstępnie skompilowanej witryny nie doświadczy opóźnienia spowodowane przez kompilowanie strony na pierwsze żądanie.</span><span class="sxs-lookup"><span data-stu-id="bfd23-378">Users of a pre-compiled site will not experience a delay caused by compiling the page on first request.</span></span>

<span data-ttu-id="bfd23-379">W przypadku możesz prekompilowanie witryny w miejscu, zastosuj następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="bfd23-379">When you precompile a site in place, the following items apply:</span></span>

- <span data-ttu-id="bfd23-380">Witryna zachowuje swoje pliki i strukturę katalogów.</span><span class="sxs-lookup"><span data-stu-id="bfd23-380">The site retains its files and directory structure.</span></span>
- <span data-ttu-id="bfd23-381">Konieczne jest posiadanie kompilatorów dla wszystkich języków programowania, używany przez witrynę na serwerze.</span><span class="sxs-lookup"><span data-stu-id="bfd23-381">You must have compilers for all programming languages used by the site on the server.</span></span>
- <span data-ttu-id="bfd23-382">W przypadku niepowodzenia kompilacji każdego pliku w całej lokacji nie powiedzie się kompilacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-382">If any file fails compilation, the entire site fails compilation.</span></span>

<span data-ttu-id="bfd23-383">Można także ponownie skompilować aplikację w miejscu po dodaniu nowych plików źródłowych do niego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-383">You can also recompile an application in place after adding new source files to it.</span></span> <span data-ttu-id="bfd23-384">Narzędzie kompiluje tylko nowych lub zmienionych plików, chyba że dodasz **- c** opcji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-384">The tool compiles only the new or changed files unless you include the **-c** option.</span></span>

> [!NOTE]
> <span data-ttu-id="bfd23-385">Kompilacją aplikacji, który zawiera zagnieżdżony aplikacji nie można skompilować aplikacji zagnieżdżonych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-385">Compilation of an application that contains a nested application does not compile the nested application.</span></span> <span data-ttu-id="bfd23-386">Zagnieżdżone aplikacji muszą być skompilowane oddzielnie.</span><span class="sxs-lookup"><span data-stu-id="bfd23-386">The nested application must be compiled separately.</span></span>


### <a name="compiling-an-application-for-deploymenthttpsmsdnmicrosoftcomlibraryms229863aspx"></a>[<span data-ttu-id="bfd23-387">Kompilowanie aplikacji dla wdrożenia</span><span class="sxs-lookup"><span data-stu-id="bfd23-387">Compiling an Application for Deployment</span></span>](https://msdn.microsoft.com/library/ms229863.aspx)

<span data-ttu-id="bfd23-388">Określenie parametru targetDir kompilowania aplikacji dla wdrożenia (kompilacja do lokalizacji docelowej).</span><span class="sxs-lookup"><span data-stu-id="bfd23-388">You compile an application for deployment (compilation to a target location) by specifying the targetDir parameter.</span></span> <span data-ttu-id="bfd23-389">TargetDir może być lokalizacji końcowej dla aplikacji sieci Web lub skompilowaną aplikację można wdrożyć więcej.</span><span class="sxs-lookup"><span data-stu-id="bfd23-389">The targetDir can be the final location for the Web application, or the compiled application can be further deployed.</span></span> <span data-ttu-id="bfd23-390">Za pomocą **-u** opcji kompilacją aplikacji w taki sposób, że możesz wprowadzić zmiany do niektórych plików w skompilowanej aplikacji bez konieczności ponownego kompilowania.</span><span class="sxs-lookup"><span data-stu-id="bfd23-390">Using the **-u** option compiles the application in such a way that you can make changes to certain files in the compiled application without recompiling it.</span></span> <span data-ttu-id="bfd23-391">ASPNET\_compiler.exe rozróżnia między typami plików statycznych i dynamicznych i obsługuje je inaczej, tworząc wynikłej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-391">Aspnet\_compiler.exe makes a distinction between static and dynamic file types, and handles them differently when creating the resulting application.</span></span>

- <span data-ttu-id="bfd23-392">Typy plików statycznych są te, które nie mają skojarzonego kompilatora lub Dostawca, takie jak pliki źródłowe kompilacji o nazwie mają rozszerzenia, takie jak CSS, GIF, htm, HTML, jpg, js, i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="bfd23-392">Static file types are those that do not have an associated compiler or build provider, such as files whose named have extensions such as .css, .gif, .htm, .html, .jpg, .js and so on.</span></span> <span data-ttu-id="bfd23-393">Te pliki po prostu są kopiowane do lokalizacji docelowej, ich względne miejsc w strukturze katalogów zachowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-393">These files are simply copied to the target location, with their relative places in the directory structure preserved.</span></span>
- <span data-ttu-id="bfd23-394">Typy plików dynamicznych są te, które mają skojarzone kompilatora lub utworzyć dostawcę, w tym pliki z rozszerzeniami nazwy pliku specyficzne dla platformy ASP.NET, takich jak .asax, ascx, .ashx, .aspx, .browser, .master i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="bfd23-394">Dynamic file types are those that have an associated compiler or build provider, including files with ASP.NET-specific file name extensions such as .asax, .ascx, .ashx, .aspx, .browser, .master, and so on.</span></span> <span data-ttu-id="bfd23-395">Narzędzia kompilacji platformy ASP.NET generuje zestawów z tych plików.</span><span class="sxs-lookup"><span data-stu-id="bfd23-395">The ASP.NET Compilation tool generates assemblies from these files.</span></span> <span data-ttu-id="bfd23-396">Jeśli **-u** opcja zostanie pominięty, narzędzie utworzy również pliki z rozszerzeniem nazwy pliku. COMPILED mapujące oryginalnych plików źródłowych do ich zestawu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-396">If the **-u** option is omitted, the tool also creates files with the file name extension .COMPILED that map the original source files to their assembly.</span></span> <span data-ttu-id="bfd23-397">Aby upewnić się, że struktura katalogów źródła aplikacji jest zachowywany, narzędzie wygeneruje plików zastępczych w odpowiednich miejscach w aplikacji docelowej.</span><span class="sxs-lookup"><span data-stu-id="bfd23-397">To ensure that the directory structure of the application source is preserved, the tool generates placeholder files in the corresponding locations in the target application.</span></span>

<span data-ttu-id="bfd23-398">Należy użyć **-u** opcję, aby wskazać, czy mogą modyfikować zawartości skompilowanej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-398">You must use the **-u** option to indicate that the content of the compiled application can be modified.</span></span> <span data-ttu-id="bfd23-399">W przeciwnym razie kolejne modyfikacje są ignorowane lub powodują błędy czasu wykonywania.</span><span class="sxs-lookup"><span data-stu-id="bfd23-399">Otherwise, subsequent modifications are ignored or cause run-time errors.</span></span>

<span data-ttu-id="bfd23-400">W poniższej tabeli opisano, jak inny plik obsługuje narzędzia kompilacji platformy ASP.NET typów, kiedy **-u** opcji jest dołączony.</span><span class="sxs-lookup"><span data-stu-id="bfd23-400">The following table describes how the ASP.NET Compilation tool handles different file types when the **-u** option is included.</span></span>

| <span data-ttu-id="bfd23-401">**Typ pliku**</span><span class="sxs-lookup"><span data-stu-id="bfd23-401">**File type**</span></span> | <span data-ttu-id="bfd23-402">**Akcja kompilatora**</span><span class="sxs-lookup"><span data-stu-id="bfd23-402">**Compiler action**</span></span> |
| --- | --- |
| <span data-ttu-id="bfd23-403">.ascx, .aspx, .master</span><span class="sxs-lookup"><span data-stu-id="bfd23-403">.ascx, .aspx, .master</span></span> | <span data-ttu-id="bfd23-404">Te pliki są podzielone na znaczników i kod źródłowy, który zawiera pliki związane z kodem i wszelki kod, który jest ujęty w &lt;skryptu runat = "server"&gt; elementów.</span><span class="sxs-lookup"><span data-stu-id="bfd23-404">These files are split into markup and source code, which includes both code-behind files and any code that is enclosed in &lt;script runat="server"&gt; elements.</span></span> <span data-ttu-id="bfd23-405">Kod źródłowy jest kompilowany do zestawów z nazwami, które są uzyskiwane z algorytmem wyznaczania wartości skrótu i zestawy są umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-405">Source code is compiled into assemblies, with names that are derived from a hashing algorithm, and the assemblies are placed in the Bin directory.</span></span> <span data-ttu-id="bfd23-406">Każdy kod wbudowanego, ujęte w kodzie **&lt; %** i **% &gt;** nawiasy kwadratowe, jest dołączana do znaczników i nie są kompilowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-406">Any inline code, that is, code enclosed between the **&lt;%** and **%&gt;** brackets, is included with markup and not compiled.</span></span> <span data-ttu-id="bfd23-407">Nowe pliki z taką samą nazwę jak pliki źródłowe są tworzone zawierać znaczniki i umieszczane w odpowiednich katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-407">New files with the same name as the source files are created to contain the markup and placed in the corresponding output directories.</span></span> |
| <span data-ttu-id="bfd23-408">.ashx, .asmx</span><span class="sxs-lookup"><span data-stu-id="bfd23-408">.ashx, .asmx</span></span> | <span data-ttu-id="bfd23-409">Pliki te nie są kompilowane i zostaną przeniesione do katalogów danych wyjściowych i nie są kompilowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-409">These files are not compiled and are moved to the output directories as is and not compiled.</span></span> <span data-ttu-id="bfd23-410">Jeśli chcesz mieć kod procedury obsługi skompilowane, umieść kod w plikach kodu źródłowego w aplikacji\_katalog kodu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-410">If you wish to have the handler code compiled, place the code into source code files in the App\_Code directory.</span></span> |
| <span data-ttu-id="bfd23-411">.CS, .vb, .jsl .cpp (nie w tym plików z kodem dla typów plików wymienionych wcześniej)</span><span class="sxs-lookup"><span data-stu-id="bfd23-411">.cs, .vb, .jsl, .cpp (not including code-behind files for the file types listed earlier)</span></span> | <span data-ttu-id="bfd23-412">Te pliki są kompilowane i dołączony jako zasób w zestawy odwołujące się do nich.</span><span class="sxs-lookup"><span data-stu-id="bfd23-412">These files are compiled and included as a resource in assemblies that reference them.</span></span> <span data-ttu-id="bfd23-413">Pliki źródłowe nie są kopiowane do katalogu wyjściowego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-413">Source files are not copied to the output directory.</span></span> <span data-ttu-id="bfd23-414">Jeśli nie odwołuje się do pliku z kodem, go nie jest kompilowana.</span><span class="sxs-lookup"><span data-stu-id="bfd23-414">If a code file is not referenced, it is not compiled.</span></span> |
| <span data-ttu-id="bfd23-415">Niestandardowe typy plików</span><span class="sxs-lookup"><span data-stu-id="bfd23-415">Custom file types</span></span> | <span data-ttu-id="bfd23-416">Te pliki nie zostały skompilowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-416">These files are not compiled.</span></span> <span data-ttu-id="bfd23-417">Te pliki są kopiowane do odpowiednich katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-417">These files are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="bfd23-418">Źródło plików kodu w aplikacji\_podkatalogu kodu</span><span class="sxs-lookup"><span data-stu-id="bfd23-418">Source code files in the App\_Code subdirectory</span></span> | <span data-ttu-id="bfd23-419">Te pliki są kompilowane do zestawów i umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-419">These files are compiled into assemblies and placed in the Bin directory.</span></span> |
| <span data-ttu-id="bfd23-420">pliki resx i .resource w aplikacji\_GlobalResources podkatalogu</span><span class="sxs-lookup"><span data-stu-id="bfd23-420">.resx and .resource files in the App\_GlobalResources subdirectory</span></span> | <span data-ttu-id="bfd23-421">Te pliki są kompilowane do zestawów i umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-421">These files are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="bfd23-422">Brak aplikacji\_podkatalogu GlobalResources jest tworzony w katalogu głównym wyjściowego i żadne pliki resx lub Resources, znajduje się w katalogu źródłowym są kopiowane do katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-422">No App\_GlobalResources subdirectory is created under the main output directory, and no .resx or .resources files located in the source directory are copied to the output directories.</span></span> |
| <span data-ttu-id="bfd23-423">pliki resx i .resource w aplikacji\_LocalResources podkatalogu</span><span class="sxs-lookup"><span data-stu-id="bfd23-423">.resx and .resource files in the App\_LocalResources subdirectory</span></span> | <span data-ttu-id="bfd23-424">Pliki te nie są kompilowane i są kopiowane do odpowiednich katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-424">These files are not compiled and are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="bfd23-425">pliki .skin w aplikacji\_podkatalogu motywów</span><span class="sxs-lookup"><span data-stu-id="bfd23-425">.skin files in the App\_Themes subdirectory</span></span> | <span data-ttu-id="bfd23-426">Pliki .skin i pliki statyczne motywu nie są kompilowane i są kopiowane do odpowiednich katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-426">The .skin files and static theme files are not compiled and are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="bfd23-427">.Browser pliku Web.config statyczne typy zestawów już istnieje w katalogu Bin</span><span class="sxs-lookup"><span data-stu-id="bfd23-427">.browser Web.config Static file types Assemblies already present in the Bin directory</span></span> | <span data-ttu-id="bfd23-428">Te pliki są kopiowane jest katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-428">These files are copied as is to the output directories.</span></span> |

<span data-ttu-id="bfd23-429">W poniższej tabeli opisano, jak inny plik obsługuje narzędzia kompilacji platformy ASP.NET typów, kiedy **-u** opcja zostanie pominięta.</span><span class="sxs-lookup"><span data-stu-id="bfd23-429">The following table describes how the ASP.NET Compilation tool handles different file types when the **-u** option is omitted.</span></span>

| <span data-ttu-id="bfd23-430">**Typ pliku**</span><span class="sxs-lookup"><span data-stu-id="bfd23-430">**File type**</span></span> | <span data-ttu-id="bfd23-431">**Akcja kompilatora**</span><span class="sxs-lookup"><span data-stu-id="bfd23-431">**Compiler action**</span></span> |
| --- | --- |
| <span data-ttu-id="bfd23-432">.aspx, .asmx, .ashx, .master</span><span class="sxs-lookup"><span data-stu-id="bfd23-432">.aspx, .asmx, .ashx, .master</span></span> | <span data-ttu-id="bfd23-433">Te pliki są podzielone na znaczników i kod źródłowy, który zawiera pliki związane z kodem i wszelki kod, który jest ujęty w &lt;skryptu runat = "server"&gt; elementów.</span><span class="sxs-lookup"><span data-stu-id="bfd23-433">These files are split into markup and source code, which includes both code-behind files and any code that is enclosed in &lt;script runat="server"&gt; elements.</span></span> <span data-ttu-id="bfd23-434">Kod źródłowy jest kompilowana do zestawów z nazwami, które są uzyskiwane z algorytmu wyznaczania wartości skrótu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-434">Source code is compiled into assemblies, with names that are derived from a hashing algorithm.</span></span> <span data-ttu-id="bfd23-435">Wynikowe zestawy są umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-435">The resulting assemblies are placed in the Bin directory.</span></span> <span data-ttu-id="bfd23-436">Każdy kod wbudowanego, ujęte w kodzie **&lt; %** i **% &gt;** nawiasy kwadratowe, jest dołączana do znaczników i nie są kompilowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-436">Any inline code, that is, code enclosed between the **&lt;%** and **%&gt;** brackets, is included with markup and not compiled.</span></span> <span data-ttu-id="bfd23-437">Kompilator tworzy nowe pliki, które ma zawierać znaczniki z taką samą nazwę jak pliki źródłowe.</span><span class="sxs-lookup"><span data-stu-id="bfd23-437">The compiler creates new files to contain the markup with the same name as the source files.</span></span> <span data-ttu-id="bfd23-438">Te pliki wynikowe są umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-438">These resulting files are placed in the Bin directory.</span></span> <span data-ttu-id="bfd23-439">Kompilator tworzy również pliki z taką samą nazwę jak pliki źródłowe, ale z rozszerzeniem. COMPILED, który zawiera informacje dotyczące mapowania.</span><span class="sxs-lookup"><span data-stu-id="bfd23-439">The compiler also creates files with the same name as the source files but with the extension .COMPILED that contain mapping information.</span></span> <span data-ttu-id="bfd23-440">. SKOMPILOWANE pliki są umieszczane w katalogów wyjściowych, odpowiadające do oryginalnej lokalizacji plików źródłowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-440">The .COMPILED files are placed in the output directories corresponding to the original location of the source files.</span></span> |
| <span data-ttu-id="bfd23-441">.ascx</span><span class="sxs-lookup"><span data-stu-id="bfd23-441">.ascx</span></span> | <span data-ttu-id="bfd23-442">Te pliki są dzielone na znaczników i kod źródłowy.</span><span class="sxs-lookup"><span data-stu-id="bfd23-442">These files are split into markup and source code.</span></span> <span data-ttu-id="bfd23-443">Kod źródłowy jest skompilowane do zestawów i umieszczane w katalogu Bin z nazwami, które są uzyskiwane z algorytmu wyznaczania wartości skrótu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-443">Source code is compiled into assemblies and placed in the Bin directory, with names that are derived from a hashing algorithm.</span></span> <span data-ttu-id="bfd23-444">Żadne pliki znaczników są generowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-444">No markup files are generated.</span></span> |
| <span data-ttu-id="bfd23-445">.CS, .vb, .jsl .cpp (nie w tym plików z kodem dla typów plików wymienionych wcześniej)</span><span class="sxs-lookup"><span data-stu-id="bfd23-445">.cs, .vb, .jsl, .cpp (not including code-behind files for the file types listed earlier)</span></span> | <span data-ttu-id="bfd23-446">Kod źródłowy, który odwołuje się do zestawów wygenerowany na podstawie ascx, ashx lub pliki aspx jest skompilowane do zestawów i umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-446">Source code that is referenced by the assemblies generated from .ascx, .ashx, or .aspx files is compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="bfd23-447">Nie pliki źródłowe są kopiowane.</span><span class="sxs-lookup"><span data-stu-id="bfd23-447">No source files are copied.</span></span> |
| <span data-ttu-id="bfd23-448">Niestandardowe typy plików</span><span class="sxs-lookup"><span data-stu-id="bfd23-448">Custom file types</span></span> | <span data-ttu-id="bfd23-449">Te pliki są kompilowane, takich jak dynamiczne pliki.</span><span class="sxs-lookup"><span data-stu-id="bfd23-449">These files are compiled like dynamic files.</span></span> <span data-ttu-id="bfd23-450">W zależności od typu pliku, w których są one oparte na kompilator można umieścić pliki mapowania w katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-450">Depending on the type of file they are based on, the compiler can place mapping files in the output directories.</span></span> |
| <span data-ttu-id="bfd23-451">Pliki w aplikacji\_podkatalogu kodu</span><span class="sxs-lookup"><span data-stu-id="bfd23-451">Files in the App\_Code subdirectory</span></span> | <span data-ttu-id="bfd23-452">Pliki kodu źródłowego, w tym podkatalogu kompilowania do zestawów i umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-452">Source code files in this subdirectory are compiled into assemblies and placed in the Bin directory.</span></span> |
| <span data-ttu-id="bfd23-453">Pliki w aplikacji\_GlobalResources podkatalogu</span><span class="sxs-lookup"><span data-stu-id="bfd23-453">Files in the App\_GlobalResources subdirectory</span></span> | <span data-ttu-id="bfd23-454">Te pliki są kompilowane do zestawów i umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-454">These files are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="bfd23-455">Brak aplikacji\_podkatalogu GlobalResources jest tworzony w katalogu głównym wyjściowego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-455">No App\_GlobalResources subdirectory is created under the main output directory.</span></span> <span data-ttu-id="bfd23-456">Jeśli plik konfiguracji nie określa appliesTo = "All", pliki resx i Resources są kopiowane do katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-456">If the configuration file specifies appliesTo="All", .resx and .resources files are copied to the output directories.</span></span> <span data-ttu-id="bfd23-457">Nie są kopiowane, jeśli są one określone przez [elementu BuildProvider](https://msdn.microsoft.com/library/system.web.configuration.buildprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="bfd23-457">They are not copied if they are referenced by a [BuildProvider](https://msdn.microsoft.com/library/system.web.configuration.buildprovider.aspx).</span></span> |
| <span data-ttu-id="bfd23-458">pliki resx i .resource w aplikacji\_LocalResources podkatalogu</span><span class="sxs-lookup"><span data-stu-id="bfd23-458">.resx and .resource files in the App\_LocalResources subdirectory</span></span> | <span data-ttu-id="bfd23-459">Te pliki są kompilowane do zestawów, używając unikatowej nazwy i umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-459">These files are compiled into assemblies with unique names and placed in the Bin directory.</span></span> <span data-ttu-id="bfd23-460">Żadne pliki resx lub .resource są kopiowane do katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-460">No .resx or .resource files are copied to the output directories.</span></span> |
| <span data-ttu-id="bfd23-461">pliki .skin w aplikacji\_podkatalogu motywów</span><span class="sxs-lookup"><span data-stu-id="bfd23-461">.skin files in the App\_Themes subdirectory</span></span> | <span data-ttu-id="bfd23-462">Motywy kompilowania do zestawów i umieszczane w katalogu Bin.</span><span class="sxs-lookup"><span data-stu-id="bfd23-462">Themes are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="bfd23-463">Pliki szczątkowe są tworzone dla plików .skin i umieszczane w odpowiedniej katalogu wyjściowego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-463">Stub files are created for .skin files and placed in the corresponding output directory.</span></span> <span data-ttu-id="bfd23-464">Pliki statyczne (na przykład .css) są kopiowane do katalogów danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="bfd23-464">Static files (such as .css) are copied to the output directories.</span></span> |
| <span data-ttu-id="bfd23-465">.Browser pliku Web.config statyczne typy zestawów już istnieje w katalogu Bin</span><span class="sxs-lookup"><span data-stu-id="bfd23-465">.browser Web.config Static file types Assemblies already present in the Bin directory</span></span> | <span data-ttu-id="bfd23-466">Te pliki są kopiowane, ponieważ jest do katalogu wyjściowego.</span><span class="sxs-lookup"><span data-stu-id="bfd23-466">These files are copied as is to the output directory.</span></span> |

### <a name="fixed-assembly-nameshttpsmsdnmicrosoftcomlibraryms229863aspx"></a>[<span data-ttu-id="bfd23-467">Nazwy zestawów stałej</span><span class="sxs-lookup"><span data-stu-id="bfd23-467">Fixed Assembly Names</span></span>](https://msdn.microsoft.com/library/ms229863.aspx##)

<span data-ttu-id="bfd23-468">Niektóre scenariusze, takie jak wdrażanie aplikacji sieci Web, za pomocą pliku MSI Instalatora Windows, korzystają z nazw plików spójne i zawartość, a także struktur katalogów spójne do identyfikowania zestawów lub ustawienia konfiguracji dla aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-468">Some scenarios, such as deploying a Web application using the MSI Windows Installer, require the use of consistent file names and contents, as well as consistent directory structures to identify assemblies or configuration settings for updates.</span></span> <span data-ttu-id="bfd23-469">W takich przypadkach można użyć **- fixednames** opcję, aby określić, czy zestaw powinien kompilować się narzędzia kompilacji platformy ASP.NET dla każdego pliku źródłowego zamiast where wielu stronach są kompilowane do zestawów.</span><span class="sxs-lookup"><span data-stu-id="bfd23-469">In those cases, you can use the **-fixednames** option to specify that the ASP.NET Compilation tool should compile an assembly for each source file instead of using the where multiple pages are compiled into assemblies.</span></span> <span data-ttu-id="bfd23-470">Może to prowadzić do dużej liczby zestawów, więc chcąc ze skalowalnością tej opcji należy używać ostrożnie.</span><span class="sxs-lookup"><span data-stu-id="bfd23-470">This can lead to a large number of assemblies, so if you are concerned with scalability you should use this option with caution.</span></span>

### <a name="strong-name-compilationhttpsmsdnmicrosoftcomlibraryms229863aspx"></a>[<span data-ttu-id="bfd23-471">Strong-Name Compilation</span><span class="sxs-lookup"><span data-stu-id="bfd23-471">Strong-Name Compilation</span></span>](https://msdn.microsoft.com/library/ms229863.aspx##)

<span data-ttu-id="bfd23-472">**- Aptca**, **- delaysign**, **- keycontainer** i **- keyfile** opcje znajdują się tak, aby można było używać Aspnet\_ Compiler.exe do tworzenia silnie nazwanych zestawów bez użycia [narzędzie silnych nazw (Sn.exe)](https://msdn.microsoft.com/library/k5b5tt23.aspx) oddzielnie.</span><span class="sxs-lookup"><span data-stu-id="bfd23-472">The **-aptca**, **-delaysign**, **-keycontainer** and **-keyfile** options are provided so that you can use Aspnet\_compiler.exe to create strongly named assemblies without using the [Strong Name Tool (Sn.exe)](https://msdn.microsoft.com/library/k5b5tt23.aspx) separately.</span></span> <span data-ttu-id="bfd23-473">Te opcje odpowiadają odpowiednio do **AllowPartiallyTrustedCallersAttribute**, **AssemblyDelaySignAttribute**, **AssemblyKeyNameAttribute**i  **AssemblyKeyFileAttribute**.</span><span class="sxs-lookup"><span data-stu-id="bfd23-473">These options correspond, respectively, to **AllowPartiallyTrustedCallersAttribute**, **AssemblyDelaySignAttribute**, **AssemblyKeyNameAttribute**, and **AssemblyKeyFileAttribute**.</span></span>

<span data-ttu-id="bfd23-474">Omówienie tych atrybutów jest poza zakresem tego kursu.</span><span class="sxs-lookup"><span data-stu-id="bfd23-474">Discussion of these attributes is outside of the scope of this course.</span></span>

## <a name="labs"></a><span data-ttu-id="bfd23-475">Warsztaty</span><span class="sxs-lookup"><span data-stu-id="bfd23-475">Labs</span></span>

<span data-ttu-id="bfd23-476">Każdego z następujących labs opiera się na poprzednim labs.</span><span class="sxs-lookup"><span data-stu-id="bfd23-476">Each of the following labs builds on the previous labs.</span></span> <span data-ttu-id="bfd23-477">Należy wykonywać je w kolejności.</span><span class="sxs-lookup"><span data-stu-id="bfd23-477">You will need to do them in order.</span></span>

## <a name="lab-1-using-the-configuration-api"></a><span data-ttu-id="bfd23-478">Laboratorium 1: Za pomocą konfiguracji interfejsu API</span><span class="sxs-lookup"><span data-stu-id="bfd23-478">Lab 1: Using the Configuration API</span></span>

1. <span data-ttu-id="bfd23-479">Utwórz nową witrynę sieci Web o nazwie *mod9lab*.</span><span class="sxs-lookup"><span data-stu-id="bfd23-479">Create a new Web site called *mod9lab*.</span></span>
2. <span data-ttu-id="bfd23-480">Dodaj nowy plik konfiguracji sieci Web do witryny.</span><span class="sxs-lookup"><span data-stu-id="bfd23-480">Add a new Web Configuration File to the site.</span></span>
3. <span data-ttu-id="bfd23-481">Dodaj następujący element do pliku web.config:</span><span class="sxs-lookup"><span data-stu-id="bfd23-481">Add the following to the web.config file:</span></span>


[!code-xml[Main](configuration-and-instrumentation/samples/sample14.xml)]

<span data-ttu-id="bfd23-482">Pozwoli to zagwarantować, że masz uprawnienia, aby zapisać zmiany w pliku web.config.</span><span class="sxs-lookup"><span data-stu-id="bfd23-482">This will ensure that you have permission to save changes to the web.config file.</span></span>

1. <span data-ttu-id="bfd23-483">Dodaj nowego formantu etykiety do Default.aspx i zmień identyfikator, który ma **lblDebugStatus**.</span><span class="sxs-lookup"><span data-stu-id="bfd23-483">Add a new Label control to Default.aspx and change the ID to **lblDebugStatus**.</span></span>
2. <span data-ttu-id="bfd23-484">Dodaj nową kontrolkę przycisku do Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="bfd23-484">Add a new Button control to Default.aspx.</span></span>
3. <span data-ttu-id="bfd23-485">Identyfikator kontrolki przycisku, aby zmienić **btnToggleDebug** i tekst, który ma **Przełącz stan debugowania**.</span><span class="sxs-lookup"><span data-stu-id="bfd23-485">Change the Button control's ID to **btnToggleDebug** and the Text to **Toggle Debug Status**.</span></span>
4. <span data-ttu-id="bfd23-486">Otwórz widok kodu dla pliku związanym z kodem Default.aspx i Dodaj **przy użyciu** poufności informacji dotyczące **System.Web.Configuration** w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="bfd23-486">Open the Code View for the code-behind file of Default.aspx and add a **using** statement for **System.Web.Configuration** as follows:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample15.cs)]

1. <span data-ttu-id="bfd23-487">Dodaj dwie zmienne prywatne do klasy i stronę\_metody Init, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="bfd23-487">Add two private variables to the class and a Page\_Init method as shown below:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample16.cs)]

1. <span data-ttu-id="bfd23-488">Dodaj następujący kod do strony\_obciążenia:</span><span class="sxs-lookup"><span data-stu-id="bfd23-488">Add the following code to Page\_Load:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample17.cs)]

1. <span data-ttu-id="bfd23-489">Zapisz i Przeglądaj default.aspx.</span><span class="sxs-lookup"><span data-stu-id="bfd23-489">Save and browse default.aspx.</span></span> <span data-ttu-id="bfd23-490">Należy zauważyć, że formant etykiety wyświetla bieżący stan debugowania.</span><span class="sxs-lookup"><span data-stu-id="bfd23-490">Notice that the Label control displays the current debug status.</span></span>
2. <span data-ttu-id="bfd23-491">Kliknij dwukrotnie formant przycisku w Projektancie i Dodaj następujący kod do Zdarzenie kliknięcia dla przycisku kontroli:</span><span class="sxs-lookup"><span data-stu-id="bfd23-491">Double-click on the Button control in the designer and add the following code to the Click event for the Button control:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample18.cs)]

1. <span data-ttu-id="bfd23-492">Zapisz i Przeglądaj default.aspx, a następnie kliknij przycisk.</span><span class="sxs-lookup"><span data-stu-id="bfd23-492">Save and browse default.aspx and click the button.</span></span>
2. <span data-ttu-id="bfd23-493">Otwórz plik web.config po każdy przycisk kliknij i obserwować **debugowania** atrybutu w &lt;kompilacji&gt; sekcji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-493">Open the web.config file after each button click and observe the **debug** attribute in the &lt;compilation&gt; section.</span></span>

## <a name="lab-2-logging-application-restarts"></a><span data-ttu-id="bfd23-494">Lab 2: Rejestrowanie aplikacja uruchamia się ponownie</span><span class="sxs-lookup"><span data-stu-id="bfd23-494">Lab 2: Logging Application Restarts</span></span>

<span data-ttu-id="bfd23-495">W tym laboratorium użytkownik utworzy kod, który umożliwia przełączanie rejestrowanie zamykania aplikacji, startupów i ponowne kompilacje w Podglądzie zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-495">In this lab, you will create code that will allow you to toggle the logging of application shutdowns, startups, and recompilations in the Event Viewer.</span></span>

1. <span data-ttu-id="bfd23-496">Dodawanie kontrolki DropDownList na default.aspx i zmień identyfikator ddlLogAppEvents.</span><span class="sxs-lookup"><span data-stu-id="bfd23-496">Add a DropDownList to default.aspx and change the ID to ddlLogAppEvents.</span></span>
2. <span data-ttu-id="bfd23-497">Ustaw **AutoPostBack** właściwość DropDownList do **true**.</span><span class="sxs-lookup"><span data-stu-id="bfd23-497">Set the **AutoPostBack** property for the DropDownList to **true**.</span></span>
3. <span data-ttu-id="bfd23-498">Dodaj trzy elementy do kolekcji elementów dla metody DropDownList.</span><span class="sxs-lookup"><span data-stu-id="bfd23-498">Add three items to the Items collection for the DropDownList.</span></span> <span data-ttu-id="bfd23-499">Wprowadź **tekstu** pierwszego elementu *Select Value* i wartość -1.</span><span class="sxs-lookup"><span data-stu-id="bfd23-499">Make the **Text** for the first item *Select Value* and the value -1.</span></span> <span data-ttu-id="bfd23-500">Wprowadzić **tekstu** i **wartość** drugiego elementu **True** i **tekstu** i **wartość** trzeciego elementu **False**.</span><span class="sxs-lookup"><span data-stu-id="bfd23-500">Make the **Text** and **Value** of the second item **True** and the **Text** and **Value** of the third item **False**.</span></span>
4. <span data-ttu-id="bfd23-501">Dodaj nową etykietę do default.aspx.</span><span class="sxs-lookup"><span data-stu-id="bfd23-501">Add a new Label to default.aspx.</span></span> <span data-ttu-id="bfd23-502">Zmień identyfikator, który ma **lblLogAppEvents**.</span><span class="sxs-lookup"><span data-stu-id="bfd23-502">Change the ID to **lblLogAppEvents**.</span></span>
5. <span data-ttu-id="bfd23-503">Otwórz widok związanym z kodem default.aspx, a następnie dodaj nowe oświadczenie dla zmiennej typu HealthMonitoringSection, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="bfd23-503">Open the code-behind view for default.aspx and add a new declaration for a variable of type HealthMonitoringSection as shown below:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample19.cs)]

1. <span data-ttu-id="bfd23-504">Dodaj następujący kod do istniejącego kodu na stronie\_Init:</span><span class="sxs-lookup"><span data-stu-id="bfd23-504">Add the following code to the existing code in Page\_Init:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample20.cs)]

1. <span data-ttu-id="bfd23-505">Kliknij dwukrotnie metody DropDownList i Dodaj następujący kod do zdarzenie selectedindexchanged.:</span><span class="sxs-lookup"><span data-stu-id="bfd23-505">Double-click on the DropDownList and add the following code to the SelectedIndexChanged event:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample21.cs)]

1. <span data-ttu-id="bfd23-506">Przeglądaj default.aspx.</span><span class="sxs-lookup"><span data-stu-id="bfd23-506">Browse default.aspx.</span></span>
2. <span data-ttu-id="bfd23-507">Ustaw listę rozwijaną **False**.</span><span class="sxs-lookup"><span data-stu-id="bfd23-507">Set the dropdown to **False**.</span></span>
3. <span data-ttu-id="bfd23-508">Wyczyść dziennik aplikacji w Podglądzie zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-508">Clear the Application log in the Event Viewer.</span></span>
4. <span data-ttu-id="bfd23-509">Kliknij przycisk, aby zmienić atrybut debugowania dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-509">Click the button to change the Debug attribute for the application.</span></span>
5. <span data-ttu-id="bfd23-510">Odśwież dziennik aplikacji w Podglądzie zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-510">Refresh the Application log in the Event Viewer.</span></span> 

    1. <span data-ttu-id="bfd23-511">Wszystkie zdarzenia były rejestrowane?</span><span class="sxs-lookup"><span data-stu-id="bfd23-511">Were any events logged?</span></span>
    2. <span data-ttu-id="bfd23-512">Dlaczego lub dlaczego nie?</span><span class="sxs-lookup"><span data-stu-id="bfd23-512">Why or why not?</span></span>
6. <span data-ttu-id="bfd23-513">Ustaw listę rozwijaną **wartość True.**</span><span class="sxs-lookup"><span data-stu-id="bfd23-513">Set the dropdown to **True.**</span></span>
7. <span data-ttu-id="bfd23-514">Kliknij przycisk, aby przełączyć atrybut debugowania dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="bfd23-514">Click the button to toggle the Debug attribute for the application.</span></span>
8. <span data-ttu-id="bfd23-515">Odśwież logowania aplikacji Podgląd zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="bfd23-515">Refresh the Application login the Event Viewer.</span></span> 

    1. <span data-ttu-id="bfd23-516">Wszystkie zdarzenia były rejestrowane?</span><span class="sxs-lookup"><span data-stu-id="bfd23-516">Were any events logged?</span></span>
    2. <span data-ttu-id="bfd23-517">Jaki był przyczyny zamknięcia aplikacji?</span><span class="sxs-lookup"><span data-stu-id="bfd23-517">What was the reason for the app shutdown?</span></span>
9. <span data-ttu-id="bfd23-518">Eksperymentować, włączanie i wyłączanie rejestrowania i spójrz na zmiany wprowadzone w pliku web.config.</span><span class="sxs-lookup"><span data-stu-id="bfd23-518">Experiment with turning on and off logging and look at the changes made to the web.config file.</span></span>

## <a name="more-information"></a><span data-ttu-id="bfd23-519">Więcej informacji:</span><span class="sxs-lookup"><span data-stu-id="bfd23-519">More Information:</span></span>

<span data-ttu-id="bfd23-520">Program ASP.NET w wersji 2.0 Provider model pozwala na tworzenie własnych dostawców nie tylko instrumentacji aplikacji, ale wiele innych zastosowań członkostwa, profile, np. Aby uzyskać szczegółowe informacje na temat pisania niestandardowego dostawcy do dziennika zdarzeń aplikacji do pliku tekstowego, odwiedź stronę [ten link](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/ASPNETProvMod_Prt6.asp).</span><span class="sxs-lookup"><span data-stu-id="bfd23-520">ASP.NET 2.0's Provider model allows you to create your own providers for not only application instrumentation, but for many other uses as well such as Membership, Profiles, etc. For detailed information on writing a custom provider to log application events to a text file, visit [this link](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/ASPNETProvMod_Prt6.asp).</span></span>
