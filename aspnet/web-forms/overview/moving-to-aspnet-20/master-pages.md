---
uid: web-forms/overview/moving-to-aspnet-20/master-pages
title: Strony wzorcowe | Dokumentacja firmy Microsoft
author: microsoft
description: 'Jednym z kluczowych składników do pomyślnego witryny sieci Web jest spójny wygląd i zachowanie. W programie ASP.NET: 1.x, deweloperzy używane kontrolki użytkownika do replikowania wspólnej elem. strony...'
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 9c0cce4d-efd9-4c14-b0e8-a1a140abb3f4
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/master-pages
msc.type: authoredcontent
ms.openlocfilehash: f40eb338a1b6b8eebb6578dd7938e96a05b1617f
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/01/2019
ms.locfileid: "57075197"
---
<a name="master-pages"></a><span data-ttu-id="f35e1-104">Strony wzorcowe</span><span class="sxs-lookup"><span data-stu-id="f35e1-104">Master Pages</span></span>
====================
<span data-ttu-id="f35e1-105">przez [firmy Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="f35e1-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="f35e1-106">Jednym z kluczowych składników do pomyślnego witryny sieci Web jest spójny wygląd i zachowanie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-106">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="f35e1-107">W programie ASP.NET: 1.x, deweloperzy umożliwia kontrolki użytkownika replikować wspólnych elementów strony w aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="f35e1-107">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="f35e1-108">Chociaż to oczywiście zwiększą rozwiązania, za pomocą kontrolki użytkownika ma pewne wady.</span><span class="sxs-lookup"><span data-stu-id="f35e1-108">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="f35e1-109">Na przykład zmiana położenia kontrolki użytkownika wymaga zmian na wielu stronach w lokacji.</span><span class="sxs-lookup"><span data-stu-id="f35e1-109">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="f35e1-110">Formanty użytkownika również nie są renderowane w widoku Projekt po wstawiane na stronie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-110">User controls are also not rendered in Design view after being inserted on a page.</span></span>


<span data-ttu-id="f35e1-111">Jednym z kluczowych składników do pomyślnego witryny sieci Web jest spójny wygląd i zachowanie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-111">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="f35e1-112">W programie ASP.NET: 1.x, deweloperzy umożliwia kontrolki użytkownika replikować wspólnych elementów strony w aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="f35e1-112">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="f35e1-113">Chociaż to oczywiście zwiększą rozwiązania, za pomocą kontrolki użytkownika ma pewne wady.</span><span class="sxs-lookup"><span data-stu-id="f35e1-113">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="f35e1-114">Na przykład zmiana położenia kontrolki użytkownika wymaga zmian na wielu stronach w lokacji.</span><span class="sxs-lookup"><span data-stu-id="f35e1-114">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="f35e1-115">Formanty użytkownika również nie są renderowane w widoku Projekt po wstawiane na stronie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-115">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="f35e1-116">ASP.NET 2.0 wprowadzono główny strony sposób utrzymania spójny wygląd i zachowanie, jak i użytkownik zostanie wkrótce znajduje się główny strony reprezentują znacznej poprawy za pośrednictwem metody kontroli użytkownika.</span><span class="sxs-lookup"><span data-stu-id="f35e1-116">ASP.NET 2.0 introduces Master pages as a way of maintaining a consistent look and feel, and as you'll soon see, Master pages represent a significant improvement over the user control method.</span></span>

## <a name="why-master-pages"></a><span data-ttu-id="f35e1-117">Dlaczego Master strony?</span><span class="sxs-lookup"><span data-stu-id="f35e1-117">Why Master Pages?</span></span>

<span data-ttu-id="f35e1-118">Możesz się zastanawiać, dlaczego potrzebne były stron wzorcowych platformy ASP.NET w wersji 2.0.</span><span class="sxs-lookup"><span data-stu-id="f35e1-118">You may be wondering why master pages were needed in ASP.NET 2.0.</span></span> <span data-ttu-id="f35e1-119">Po wszystkich projektantów witryn sieci Web jest już używany kontrolki użytkownika w programie ASP.NET: 1.x do udostępniania zawartości obszarów między stronami.</span><span class="sxs-lookup"><span data-stu-id="f35e1-119">After all, Web site developers are already using user controls in ASP.NET 1.x to share content areas between pages.</span></span> <span data-ttu-id="f35e1-120">Istnieją faktycznie kilka powodów dlaczego kontrolki użytkownika są mniej niż optymalne rozwiązanie do tworzenia typowych układu.</span><span class="sxs-lookup"><span data-stu-id="f35e1-120">There are actually several reasons why user controls are a less-than-optimal solution for creating a common layout.</span></span>

<span data-ttu-id="f35e1-121">Formanty użytkownika nie definiowania układu strony.</span><span class="sxs-lookup"><span data-stu-id="f35e1-121">User controls don't actually define page layout.</span></span> <span data-ttu-id="f35e1-122">Zamiast tego mogą określać układ i funkcje dla części strony.</span><span class="sxs-lookup"><span data-stu-id="f35e1-122">Instead, they define the layout and functionality for a portion of a page.</span></span> <span data-ttu-id="f35e1-123">Różnica między tymi dwoma jest ważne, ponieważ dzięki niemu możliwości rozwiązania do kontroli użytkownika dużo bardziej skomplikowane.</span><span class="sxs-lookup"><span data-stu-id="f35e1-123">The distinction between these two is important because it makes manageability of a user control solution much more difficult.</span></span> <span data-ttu-id="f35e1-124">Na przykład jeśli chcesz zmienić położenie kontrolki użytkownika na stronie, możesz edytować rzeczywistą stronę, na którym jest wyświetlany formantu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="f35e1-124">For example, when you want to change the position of a user control on your page, you must edit the actual page on which the user control appears.</span></span> <span data-ttu-id="f35e1-125">Thats poprawnie, jeśli masz niewielką liczbę stron, ale w dużych witrynach szybko staje się okropnej zarządzania lokacji!</span><span class="sxs-lookup"><span data-stu-id="f35e1-125">Thats fine if you have only a few pages, but in large sites, it quickly becomes a site management nightmare!</span></span>

<span data-ttu-id="f35e1-126">Innym wadą wykorzystania samej kontrolki użytkownika do definiowania układu typowych zostaje umieszczone w architekturze platformy ASP.NET, sam.</span><span class="sxs-lookup"><span data-stu-id="f35e1-126">Another drawback of using user controls for defining a common layout is rooted in the architecture of ASP.NET itself.</span></span> <span data-ttu-id="f35e1-127">Jeśli żadnego publicznego elementu członkowskiego kontrolki użytkownika zostało zmienione, należy ponownie skompilować wszystkie strony, które używają kontrolki użytkownika.</span><span class="sxs-lookup"><span data-stu-id="f35e1-127">If any public member of a user control is changed, it requires you to recompile all of the pages that use the user control.</span></span> <span data-ttu-id="f35e1-128">Z kolei ASP.NET będzie, a następnie ponownie JIT stron sieci po raz pierwszy są dostępne.</span><span class="sxs-lookup"><span data-stu-id="f35e1-128">In turn, ASP.NET will then re-JIT your pages when they are first accessed.</span></span> <span data-ttu-id="f35e1-129">Tworzy, jeszcze raz nieskalowalny architektury i problem zarządzania lokacji dla lokacji większe.</span><span class="sxs-lookup"><span data-stu-id="f35e1-129">This, once again, produces a non-scalable architecture and a site management problem for larger sites.</span></span>

<span data-ttu-id="f35e1-130">Oba te problemy (i wielu innych) dotyczą dobrze stron wzorcowych platformy ASP.NET w wersji 2.0.</span><span class="sxs-lookup"><span data-stu-id="f35e1-130">Both of these problems (and many more) are nicely addressed by master pages in ASP.NET 2.0.</span></span>

## <a name="how-master-pages-work"></a><span data-ttu-id="f35e1-131">Jak strony wzorcowe pracy</span><span class="sxs-lookup"><span data-stu-id="f35e1-131">How Master Pages Work</span></span>

<span data-ttu-id="f35e1-132">Strony wzorcowej jest analogiczne do szablonu dla innych stron.</span><span class="sxs-lookup"><span data-stu-id="f35e1-132">A master page is analogous to a template for other pages.</span></span> <span data-ttu-id="f35e1-133">Elementy strony, które powinny być współużytkowane przez inne strony (np. menu, obramowania itp.) są dodawane do strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="f35e1-133">Page elements that should be shared among other pages (i.e. menus, borders, etc.) are added to the master page.</span></span> <span data-ttu-id="f35e1-134">Po dodaniu nowych stron w witrynie, można skojarzyć je z strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="f35e1-134">When new pages are added to the site, you can associate them with a master page.</span></span> <span data-ttu-id="f35e1-135">Nosi nazwę strony, który jest skojarzony ze stroną wzorcową **strony zawartości**.</span><span class="sxs-lookup"><span data-stu-id="f35e1-135">A page that is associated with a master page is called a **content page**.</span></span> <span data-ttu-id="f35e1-136">Domyślnie strony zawartości ma wygląd ze strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="f35e1-136">By default, a content page takes on the appearance from the master page.</span></span> <span data-ttu-id="f35e1-137">Jednak po utworzeniu strony wzorcowej, można zdefiniować części strony, strony zawartości można zastąpić własną zawartość.</span><span class="sxs-lookup"><span data-stu-id="f35e1-137">However, when you create a master page, you can define portions of the page that the content page can replace with its own content.</span></span> <span data-ttu-id="f35e1-138">Te fragmenty są definiowane przy użyciu nowej kontrolki wprowadzone w programie ASP.NET 2.0; **ContentPlaceHolder** kontroli.</span><span class="sxs-lookup"><span data-stu-id="f35e1-138">These portions are defined using a new control introduced in ASP.NET 2.0; the **ContentPlaceHolder** control.</span></span>

<span data-ttu-id="f35e1-139">Strona wzorcowa może zawierać dowolną liczbę kontrolek ContentPlaceHolder (lub brak wszystkie). Na stronie zawartości, zawartość z kontrolek ContentPlaceHolder pojawia się wewnątrz **zawartości** formantów, innego nowej kontrolki w programie ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="f35e1-139">A master page can contain any number of ContentPlaceHolder controls (or none at all.) On the content page, the content from the ContentPlaceHolder controls appears inside of **Content** controls, another new control in ASP.NET 2.0.</span></span> <span data-ttu-id="f35e1-140">Domyślnie strony zawartości, które kontrolki zawartości są puste, dzięki czemu możesz podać własną zawartość.</span><span class="sxs-lookup"><span data-stu-id="f35e1-140">By default, the content pages Content controls are empty so that you can provide your own content.</span></span> <span data-ttu-id="f35e1-141">Jeśli chcesz korzystać z zawartości z strony wzorcowej wewnątrz formanty zawartości, możesz to zrobić tak, jak widać w dalszej części tego modułu.</span><span class="sxs-lookup"><span data-stu-id="f35e1-141">If you want to use the content from the master page inside of the Content controls, you can do so as you will see later in this module.</span></span> <span data-ttu-id="f35e1-142">Formant zawartości jest zamapowana na formant ContentPlaceHolder za pomocą atrybutu ContentPlaceHolderID zawartości kontrolki.</span><span class="sxs-lookup"><span data-stu-id="f35e1-142">The Content control is mapped to the ContentPlaceHolder control via the ContentPlaceHolderID attribute of the Content control.</span></span> <span data-ttu-id="f35e1-143">Kod poniżej mapy do formantu ContentPlaceHolder o nazwie mainBody na stronie wzorcowej kontrolować zawartość.</span><span class="sxs-lookup"><span data-stu-id="f35e1-143">The code below maps a Content control to a ContentPlaceHolder control called mainBody on a master page.</span></span>

[!code-aspx[Main](master-pages/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="f35e1-144">Często otrzymasz od osób, które opisują strony wzorcowe, jako klasę bazową dla innych stron.</span><span class="sxs-lookup"><span data-stu-id="f35e1-144">You will often hear people describe master pages as being a base class for other pages.</span></span> <span data-ttu-id="f35e1-145">Thats faktycznie nie jest wartość true.</span><span class="sxs-lookup"><span data-stu-id="f35e1-145">Thats actually not true.</span></span> <span data-ttu-id="f35e1-146">Relacja między stron wzorcowych i stronach zawartości nie jest jednym z dziedziczenia.</span><span class="sxs-lookup"><span data-stu-id="f35e1-146">The relationship between master pages and content pages is not one of inheritance.</span></span>


<span data-ttu-id="f35e1-147">**Rysunek 1** pokazuje stronę wzorcową i skojarzonej strony zawartości, w jakiej występują w programie Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="f35e1-147">**Figure 1** shows a master page and an associated content page as they appear in Visual Studio 2005.</span></span> <span data-ttu-id="f35e1-148">Możesz zobaczyć kontrolki ContentPlaceHolder na stronie wzorcowej i odpowiedni zawartości kontrolki na stronie zawartości.</span><span class="sxs-lookup"><span data-stu-id="f35e1-148">You can see the ContentPlaceHolder control in the master page and the corresponding Content control in the content page.</span></span> <span data-ttu-id="f35e1-149">Należy zauważyć, że zawartość strony wzorcowe, która jest poza ContentPlaceHolder jest widoczne, ale są wygaszone się na stronie zawartości.</span><span class="sxs-lookup"><span data-stu-id="f35e1-149">Notice that the master pages content that is outside of the ContentPlaceHolder is visible but grayed out in the content page.</span></span> <span data-ttu-id="f35e1-150">Tylko zawartość wewnątrz ContentPlaceHolder można supplanted przez strony zawartości.</span><span class="sxs-lookup"><span data-stu-id="f35e1-150">Only the content inside of the ContentPlaceHolder can be supplanted by the content page.</span></span> <span data-ttu-id="f35e1-151">Cała zawartość, która pochodzi z strony wzorcowej jest niezmienny.</span><span class="sxs-lookup"><span data-stu-id="f35e1-151">All other content that comes from the master page is immutable.</span></span>


![Strona wzorcowa i skojarzone z nią zawartości strony](master-pages/_static/image1.jpg)

<span data-ttu-id="f35e1-153">**Rysunek 1**: Strona wzorcowa i skojarzone z nią zawartości strony</span><span class="sxs-lookup"><span data-stu-id="f35e1-153">**Figure 1**: A master page and its associated content page</span></span>


## <a name="creating-a-master-page"></a><span data-ttu-id="f35e1-154">Tworzenie strony wzorcowej</span><span class="sxs-lookup"><span data-stu-id="f35e1-154">Creating a Master Page</span></span>

<span data-ttu-id="f35e1-155">Aby utworzyć nową stronę wzorcową:</span><span class="sxs-lookup"><span data-stu-id="f35e1-155">To create a new master page:</span></span>

1. <span data-ttu-id="f35e1-156">Otwórz program Visual Studio 2005 i Utwórz nową witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="f35e1-156">Open Visual Studio 2005 and create a new Web site.</span></span>
2. <span data-ttu-id="f35e1-157">Kliknij plik, nowy, plików.</span><span class="sxs-lookup"><span data-stu-id="f35e1-157">Click File, New, File.</span></span>
3. <span data-ttu-id="f35e1-158">Wybierz plik głównej z poziomu okna dialogowego Dodawanie nowego elementu, jak pokazano na **rysunek 2**.</span><span class="sxs-lookup"><span data-stu-id="f35e1-158">Choose Master File from the Add New Item dialog as shown in **figure 2**.</span></span>
4. <span data-ttu-id="f35e1-159">Kliknij przycisk Dodaj.</span><span class="sxs-lookup"><span data-stu-id="f35e1-159">Click Add.</span></span>


![Tworzenie nowej strony wzorcowej](master-pages/_static/image2.jpg)

<span data-ttu-id="f35e1-161">**Rysunek 2**: Tworzenie nowej strony wzorcowej</span><span class="sxs-lookup"><span data-stu-id="f35e1-161">**Figure 2**: Creating a New Master Page</span></span>


<span data-ttu-id="f35e1-162">Należy zauważyć, że plik ma rozszerzenie dla strony wzorcowej <em>.master</em>.</span><span class="sxs-lookup"><span data-stu-id="f35e1-162">Notice that the file extension for a master page is <em>.master</em>.</span></span> <span data-ttu-id="f35e1-163">Jest jednym ze sposobów, które strony wzorcowej różni się od zwykłej strony.</span><span class="sxs-lookup"><span data-stu-id="f35e1-163">This is one of the ways that a master page differs from an ordinary page.</span></span> <span data-ttu-id="f35e1-164">Główną różnicą jest to, że proceduralny @Page dyrektywy, zawiera strony wzorcowej @Master dyrektywy.</span><span class="sxs-lookup"><span data-stu-id="f35e1-164">The other primary difference is that in lieu of a @Page directive, the master page contains a @Master directive.</span></span> <span data-ttu-id="f35e1-165">Przejdź do widoku źródłowego dla głównego strony właśnie został utworzony i przeglądać kod.</span><span class="sxs-lookup"><span data-stu-id="f35e1-165">Switch to Source View for the master page youve just created and review the code.</span></span>

<span data-ttu-id="f35e1-166">Domyślnie nowe strony wzorcowej będzie mieć jeden formant ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f35e1-166">A new master page will have one ContentPlaceHolder control by default.</span></span> <span data-ttu-id="f35e1-167">W większości przypadków warto więcej najpierw utworzyć wspólne elementy strony, a następnie Wstawianie kontrolek ContentPlaceHolder gdzie pożądana jest zawartości niestandardowej.</span><span class="sxs-lookup"><span data-stu-id="f35e1-167">In most cases, it makes more sense to create the common page elements first and then insert ContentPlaceHolder controls where custom content is desired.</span></span> <span data-ttu-id="f35e1-168">W takich przypadkach deweloperzy będą chcieli usunąć domyślny formant ContentPlaceHolder i Wstaw nowe opracowanej strony.</span><span class="sxs-lookup"><span data-stu-id="f35e1-168">In those cases, developers will want to delete the default ContentPlaceHolder control and insert new ones as the page is developed.</span></span> <span data-ttu-id="f35e1-169">Kontrolek ContentPlaceHolder nie są o zmiennym rozmiarze, pomimo faktu, że wyświetlają one uchwyty zmiany rozmiaru.</span><span class="sxs-lookup"><span data-stu-id="f35e1-169">ContentPlaceHolder controls are not resizable despite the fact that they do display sizing handles.</span></span> <span data-ttu-id="f35e1-170">Rozmiary kontroli ContentPlaceHolder automatycznie na podstawie zawartości, która zawiera się on z jednym wyjątkiem; Jeśli umieścisz kontrolki ContentPlaceHolder w elemencie bloku, takich jak komórki tabeli, będzie to rozmiar zgodnie z rozmiarem elementu.</span><span class="sxs-lookup"><span data-stu-id="f35e1-170">The ContentPlaceHolder control sizes automatically based upon the content that it contains with one exception; if you place a ContentPlaceHolder control inside of a block element such as a table cell, it will size according to the size of the element.</span></span>

## <a name="lab-1-working-with-master-pages"></a><span data-ttu-id="f35e1-171">Laboratorium 1 pracy za pomocą stron wzorcowych</span><span class="sxs-lookup"><span data-stu-id="f35e1-171">Lab 1 Working with Master Pages</span></span>

<span data-ttu-id="f35e1-172">W tym środowisku laboratoryjnym utworzysz nową stronę wzorcową i zdefiniuj trzech kontrolek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f35e1-172">In this lab, you will create a new master page and define three ContentPlaceHolder controls.</span></span> <span data-ttu-id="f35e1-173">Następnie utworzysz nową stronę zawartości i Zastąp zawartość z co najmniej jednej z kontrolek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f35e1-173">You will then create a new Content page and replace the content from at least one of the ContentPlaceHolder controls.</span></span>

1. <span data-ttu-id="f35e1-174">Utwórz stronę wzorcową i Wstawianie kontrolek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f35e1-174">Create a master page and insert ContentPlaceHolder controls.</span></span> 

    1. <span data-ttu-id="f35e1-175">Utwórz nową stronę wzorcową, zgodnie z powyższym opisem.</span><span class="sxs-lookup"><span data-stu-id="f35e1-175">Create a new master page as described above.</span></span>
    2. <span data-ttu-id="f35e1-176">Usuń domyślny formant ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f35e1-176">Delete the default ContentPlaceHolder control.</span></span>
    3. <span data-ttu-id="f35e1-177">Zaznacz formant ContentPlaceHolder, klikając przyciemnione krawędzi górnego obramowania kontrolki, a następnie usuń ją, naciskając klawisz DEL na klawiaturze.</span><span class="sxs-lookup"><span data-stu-id="f35e1-177">Select the ContentPlaceHolder control by clicking the shaded top border of the control and then delete it by hitting the DEL key on your keyboard.</span></span>
    4. <span data-ttu-id="f35e1-178">Wstawianie nowej tabeli za pomocą *nagłówek i po stronie* szablonu, jak pokazano na rysunku 3.</span><span class="sxs-lookup"><span data-stu-id="f35e1-178">Insert a new table using the *Header and side* template as shown in figure 3.</span></span> <span data-ttu-id="f35e1-179">Zmień szerokość i wysokość do 90%, tak, aby cała tabela jest widoczne w projektancie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-179">Change the width and height to 90% each so that the entire table is visible in the designer.</span></span>


![](master-pages/_static/image3.jpg)

<span data-ttu-id="f35e1-180">**Rysunek 3.**</span><span class="sxs-lookup"><span data-stu-id="f35e1-180">**Figure 3**</span></span>


1. <span data-ttu-id="f35e1-181">Umieść kursor w każdej komórce tabeli i ustaw *dopasowanie w pionie* właściwości *górnej*.</span><span class="sxs-lookup"><span data-stu-id="f35e1-181">Place the cursor into each cell of the table and set the *valign* property to *top*.</span></span>
2. <span data-ttu-id="f35e1-182">Z przybornika Wstawianie formantu ContentPlaceHolder górnej komórki tabeli (komórki nagłówka.)</span><span class="sxs-lookup"><span data-stu-id="f35e1-182">From the Toolbox, insert a ContentPlaceHolder control in the top cell of the table (the header cell.)</span></span>
3. <span data-ttu-id="f35e1-183">Podczas wstawiania tego formantu ContentPlaceHolder można zauważyć, że wiersze o nierównej wysokości zajmuje prawie całej strony, jak pokazano na rysunku 4.</span><span class="sxs-lookup"><span data-stu-id="f35e1-183">When you insert this ContentPlaceHolder control, you will notice that the row height will take up almost the entire page as shown in figure 4.</span></span> <span data-ttu-id="f35e1-184">Dont wiedzieć, w tym momencie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-184">Dont be concerned about that at this point.</span></span>


![Puste miejsce znajduje się w tej samej komórki jako ContentPlaceHolder](master-pages/_static/image1.gif)

<span data-ttu-id="f35e1-186">**Rysunek 4**: Puste miejsce znajduje się w tej samej komórki jako ContentPlaceHolder</span><span class="sxs-lookup"><span data-stu-id="f35e1-186">**Figure 4**: The empty space is in the same cell as the ContentPlaceHolder</span></span>


1. <span data-ttu-id="f35e1-187">Umieść kontroli ContentPlaceHolder w innych komórek.</span><span class="sxs-lookup"><span data-stu-id="f35e1-187">Place a ContentPlaceHolder control in the other two cells.</span></span> <span data-ttu-id="f35e1-188">Po wstawieniu innych kontrolek ContentPlaceHolder rozmiaru komórek tabeli należy, jak można oczekiwać.</span><span class="sxs-lookup"><span data-stu-id="f35e1-188">Once the other ContentPlaceHolder controls have been inserted, the size of the table cells should be as you would expect.</span></span> <span data-ttu-id="f35e1-189">Strona powinna teraz wyglądać strona wyświetlona w **rysunek 5**.</span><span class="sxs-lookup"><span data-stu-id="f35e1-189">The page should now look like the page shown in **figure 5**.</span></span>


![Głównego przy użyciu wszystkich kontrolek ContentPlaceHolder.](master-pages/_static/image2.gif)

<span data-ttu-id="f35e1-192">**Rysunek 5**: Głównego przy użyciu wszystkich kontrolek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f35e1-192">**Figure 5**: The Master with all ContentPlaceHolder controls.</span></span> <span data-ttu-id="f35e1-193">Zauważ, że wysokość komórki dla komórki nagłówka teraz czymś co powinno być</span><span class="sxs-lookup"><span data-stu-id="f35e1-193">Notice that the cell height for the header cell is now what it should be</span></span>


1. <span data-ttu-id="f35e1-194">Wprowadź jakiś tekst wybranego do każdego z trzech kontrolek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f35e1-194">Enter some text of your choice into each of the three ContentPlaceHolder controls.</span></span>
2. <span data-ttu-id="f35e1-195">Zapisz stronę wzorcową jako exercise1.master.</span><span class="sxs-lookup"><span data-stu-id="f35e1-195">Save the master page as exercise1.master.</span></span>
3. <span data-ttu-id="f35e1-196">Tworzenie nowego formularza sieci Web i skojarz go ze stroną wzorcową exercise1.master.</span><span class="sxs-lookup"><span data-stu-id="f35e1-196">Create a new Web Form and associate it with the exercise1.master master page.</span></span>
4. <span data-ttu-id="f35e1-197">Wybierz plik, nowy, plik w programie Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="f35e1-197">Select File, New, File in Visual Studio 2005.</span></span>
5. <span data-ttu-id="f35e1-198">Wybierz **formularz sieci Web** w oknie dialogowym Dodaj nowy element.</span><span class="sxs-lookup"><span data-stu-id="f35e1-198">Select **Web Form** in the Add New Item dialog.</span></span>
6. <span data-ttu-id="f35e1-199">Upewnij się, że zaznaczone jest pole wyboru Wybierz stronę wzorcową, jak pokazano na rysunku 6.</span><span class="sxs-lookup"><span data-stu-id="f35e1-199">Make sure that the Select master page checkbox is checked as shown in figure 6.</span></span>


![Dodawanie nowej strony zawartości](master-pages/_static/image3.gif)

<span data-ttu-id="f35e1-201">**Rysunek 6**: Dodawanie nowej strony zawartości</span><span class="sxs-lookup"><span data-stu-id="f35e1-201">**Figure 6**: Adding a new Content Page</span></span>


1. <span data-ttu-id="f35e1-202">Kliknij przycisk Dodaj.</span><span class="sxs-lookup"><span data-stu-id="f35e1-202">Click Add.</span></span>
2. <span data-ttu-id="f35e1-203">Wybierz exercise1.master wybierz w oknie dialogowym strona wzorcowa jak pokazano na rysunku 7.</span><span class="sxs-lookup"><span data-stu-id="f35e1-203">Select exercise1.master in the Select a master page dialog as shown in figure 7.</span></span>
3. <span data-ttu-id="f35e1-204">Kliknij przycisk OK, aby dodać nową stronę zawartości.</span><span class="sxs-lookup"><span data-stu-id="f35e1-204">Click OK to add the new content page.</span></span>

<span data-ttu-id="f35e1-205">Z jednym formantem zawartości dla każdego formantu ContentPlaceHolder na stronie wzorcowej w programie Visual Studio zostanie wyświetlona nowa strona zawartości.</span><span class="sxs-lookup"><span data-stu-id="f35e1-205">The new content page appears in Visual Studio with one Content control for each ContentPlaceHolder control on the master page.</span></span> <span data-ttu-id="f35e1-206">Domyślnie formanty zawartości są puste, aby dodać własną zawartość.</span><span class="sxs-lookup"><span data-stu-id="f35e1-206">By default, the Content controls are empty so that you can add your own content.</span></span> <span data-ttu-id="f35e1-207">Jeżeli youd musiały korzystać z zawartości z formantu ContentPlaceHolder strony wzorcowej, po prostu kliknij symbol tagu inteligentnego (małe czarną strzałkę w prawym górnym rogu formantu) i wybierz polecenie *domyślną zawartość wzorców* za pomocą tagu inteligentnego, jak pokazano na **rysunek 8**.</span><span class="sxs-lookup"><span data-stu-id="f35e1-207">If youd like for them to use the content from the ContentPlaceHolder control on the master page, simply click on the smart tag symbol (the small black arrow in the upper-right corner of the control) and choose *Default to Masters Content* from the smart tag as shown in **figure 8**.</span></span> <span data-ttu-id="f35e1-208">Jeśli tak zrobisz, element menu zmienia się na *Utwórz niestandardowe zawartość*.</span><span class="sxs-lookup"><span data-stu-id="f35e1-208">When you do so, the menu item changes to *Create Custom Content*.</span></span> <span data-ttu-id="f35e1-209">W tym momencie klikając polecenie usuwa zawartość z strony wzorcowej, umożliwiając Definiowanie niestandardowej zawartości dla tego określonego formantu zawartości.</span><span class="sxs-lookup"><span data-stu-id="f35e1-209">Clicking it at that point removes the content from the master page allowing you to define custom content for that particular Content control.</span></span>


![Ustawienia formantu zawartości domyślne, aby zawartość strony główne](master-pages/_static/image4.gif)

<span data-ttu-id="f35e1-211">**Rysunek 7**: Ustawienia formantu zawartości domyślne, aby zawartość strony główne</span><span class="sxs-lookup"><span data-stu-id="f35e1-211">**Figure 7**: Setting a Content Control to Default to the Master Pages Content</span></span>


## <a name="connecting-master-page-and-content-pages"></a><span data-ttu-id="f35e1-212">Łączenie z strony wzorcowej oraz strony z zawartością</span><span class="sxs-lookup"><span data-stu-id="f35e1-212">Connecting Master Page and Content Pages</span></span>

<span data-ttu-id="f35e1-213">Skojarzenie między strony wzorcowej oraz strony zawartości można skonfigurować w jednej z czterech sposobów:</span><span class="sxs-lookup"><span data-stu-id="f35e1-213">The association between a master page and a content page can be configured in one of four different ways:</span></span>

- <span data-ttu-id="f35e1-214"><strong>MasterPageFile</strong> atrybutu @Page — dyrektywa</span><span class="sxs-lookup"><span data-stu-id="f35e1-214">The <strong>MasterPageFile</strong> attribute of the @Page directive</span></span>
- <span data-ttu-id="f35e1-215">Ustawienie **Page.MasterPageFile** właściwości w kodzie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-215">Setting the **Page.MasterPageFile** property in code.</span></span>
- <span data-ttu-id="f35e1-216">**&lt;Stron&gt;** elementu w pliku konfiguracyjnym aplikacji (web.config w folderze głównym aplikacji)</span><span class="sxs-lookup"><span data-stu-id="f35e1-216">The **&lt;pages&gt;** element in the applications configuration file (web.config in the root folder of the application)</span></span>
- <span data-ttu-id="f35e1-217">**&lt;Stron&gt;** elementu w pliku konfiguracji (web.config w podfolderze) podfoldery</span><span class="sxs-lookup"><span data-stu-id="f35e1-217">The **&lt;pages&gt;** element in a subfolders configuration file (web.config in a subfolder)</span></span>

## <a name="masterpagefile-attribute"></a><span data-ttu-id="f35e1-218">MasterPageFile Attribute</span><span class="sxs-lookup"><span data-stu-id="f35e1-218">MasterPageFile Attribute</span></span>

<span data-ttu-id="f35e1-219">Ten atrybut MasterPageFile ułatwia stosowanie strony wzorcowej do konkretnej strony ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f35e1-219">The MasterPageFile attribute makes it easy to apply a master page to a particular ASP.NET page.</span></span> <span data-ttu-id="f35e1-220">Warto również metodę używaną do zastosowania strony wzorcowej, podczas sprawdzania **wybierz stronę wzorcową** pole wyboru co Ty, jak w ćwiczenie 1.</span><span class="sxs-lookup"><span data-stu-id="f35e1-220">It is also the method used to apply the master page when you check the **Select Master Page** checkbox as you did in Exercise 1.</span></span>

## <a name="setting-pagemasterpagefile-in-code"></a><span data-ttu-id="f35e1-221">Ustawianie Page.MasterPageFile w kodzie</span><span class="sxs-lookup"><span data-stu-id="f35e1-221">Setting Page.MasterPageFile in Code</span></span>

<span data-ttu-id="f35e1-222">Ustawiając właściwość MasterPageFile w kodzie, można zastosować określonej strony wzorcowej do zawartości w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="f35e1-222">By setting the MasterPageFile property in code, you can apply a particular master page to your content at runtime.</span></span> <span data-ttu-id="f35e1-223">Jest to przydatne w przypadkach, w których konieczne może być zastosowanie określonej strony wzorcowej, na podstawie roli użytkowników lub innych kryteriów.</span><span class="sxs-lookup"><span data-stu-id="f35e1-223">This is useful in cases where you may need to apply a specific master page based upon a users role or some other criteria.</span></span> <span data-ttu-id="f35e1-224">Właściwość MasterPageFile musi być ustawiona w metodzie PreInit.</span><span class="sxs-lookup"><span data-stu-id="f35e1-224">The MasterPageFile property must be set in the PreInit method.</span></span> <span data-ttu-id="f35e1-225">Jeśli jest ustawiona po metodzie PreInit, zostanie zgłoszony InvalidOperationException.</span><span class="sxs-lookup"><span data-stu-id="f35e1-225">If it is set after the PreInit method, an InvalidOperationException will be thrown.</span></span> <span data-ttu-id="f35e1-226">Strona, na którym ta właściwość jest ustawiona, również muszą mieć zawartość formantu jako formant najwyższego poziomu dla strony.</span><span class="sxs-lookup"><span data-stu-id="f35e1-226">The page on which this property is being set must also have a Content control as the top-level control for the page.</span></span> <span data-ttu-id="f35e1-227">W przeciwnym razie httpexception — zostanie zgłoszony, jeśli ustawiono właściwość MasterPageFile.</span><span class="sxs-lookup"><span data-stu-id="f35e1-227">Otherwise an HttpException will be thrown when the MasterPageFile property is set.</span></span>

## <a name="using-the-ltpagesgt-element"></a><span data-ttu-id="f35e1-228">Za pomocą &lt;stron&gt; — Element</span><span class="sxs-lookup"><span data-stu-id="f35e1-228">Using the &lt;pages&gt; Element</span></span>

<span data-ttu-id="f35e1-229">Można skonfigurować stronę wzorcową stron, ustawiając atrybut masterPageFile w &lt;stron&gt; elementu w pliku web.config.</span><span class="sxs-lookup"><span data-stu-id="f35e1-229">You can configure a master page for your pages by setting the masterPageFile attribute in the &lt;pages&gt; element of the web.config file.</span></span> <span data-ttu-id="f35e1-230">Przy użyciu tej metody, należy pamiętać o tym, że w plikach web.config niżej w strukturze aplikacji można zastąpić to ustawienie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-230">When using this method, keep in mind that web.config files lower in the application structure can override this setting.</span></span> <span data-ttu-id="f35e1-231">Dowolny atrybut MasterPageFile w @Page dyrektywy zostanie również zastąpić to ustawienie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-231">Any MasterPageFile attribute set in a @Page directive will also override this setting.</span></span> <span data-ttu-id="f35e1-232">Za pomocą &lt;stron&gt; element upraszcza tworzenie <em>wzorca</em> strona wzorcowa, która może zostać zastąpiona w razie potrzeby w szczególności folderów lub plików.</span><span class="sxs-lookup"><span data-stu-id="f35e1-232">Using the &lt;pages&gt; element makes it simple to create a <em>master</em> master page that can be overridden if necessary in particular folders or files.</span></span>

## <a name="properties-in-master-pages"></a><span data-ttu-id="f35e1-233">Właściwości na stronach wzorcowych</span><span class="sxs-lookup"><span data-stu-id="f35e1-233">Properties in Master Pages</span></span>

<span data-ttu-id="f35e1-234">Strona wzorcowa można ujawnić właściwości podejmując po prostu te właściwości publicznej w obrębie strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="f35e1-234">A master page can expose properties by simply making those properties public within the master page.</span></span> <span data-ttu-id="f35e1-235">Na przykład poniższy kod definiuje właściwość o nazwie SomeProperty:</span><span class="sxs-lookup"><span data-stu-id="f35e1-235">For example, the following code defines a property called SomeProperty:</span></span>

[!code-csharp[Main](master-pages/samples/sample2.cs)]

<span data-ttu-id="f35e1-236">Dostęp do właściwości SomeProperty z poziomu strony zawartości, należy użyć wzorca właściwości w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="f35e1-236">To access the SomeProperty property from the Content page, you will need to use the Master property like so:</span></span>

[!code-csharp[Main](master-pages/samples/sample3.cs)]

## <a name="nesting-master-pages"></a><span data-ttu-id="f35e1-237">Strony wzorcowe zagnieżdżania</span><span class="sxs-lookup"><span data-stu-id="f35e1-237">Nesting Master Pages</span></span>

<span data-ttu-id="f35e1-238">Strony wzorcowe są idealnym rozwiązaniem dla zapewnienia wspólne wyglądu i działania w dużych aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="f35e1-238">Master pages are the perfect solution for ensuring a common look and feel across a large Web application.</span></span> <span data-ttu-id="f35e1-239">Jednak nie jest niczym niezwykłym mają niektórych części udział w przypadku dużych witryn wspólny interfejs, a inne części udostępnianie innego interfejsu.</span><span class="sxs-lookup"><span data-stu-id="f35e1-239">However, it's not uncommon to have certain parts of a large site share a common interface while other parts share a different interface.</span></span> <span data-ttu-id="f35e1-240">Aby spełnić te potrzeby, wiele stron wzorcowych są idealne rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="f35e1-240">To address that need, multiple master pages are the perfect solution.</span></span> <span data-ttu-id="f35e1-241">Jednak że nadal nie adresów fakt, że dużych aplikacji może mieć niektóre składniki (takie jak menu, na przykład), które są współużytkowane przez wszystkie strony i inne składniki, które są udostępniane tylko wśród niektóre sekcje witryny.</span><span class="sxs-lookup"><span data-stu-id="f35e1-241">However, that still doesn't address the fact that a large application may have certain components (such as a menu, for example) that are shared among all pages and other components that are shared only among certain sections of the site.</span></span> <span data-ttu-id="f35e1-242">W tej sytuacji zagnieżdżone strony wzorcowe wypełnienia potrzebę dobrze.</span><span class="sxs-lookup"><span data-stu-id="f35e1-242">For that type of situation, nested master pages fill the need nicely.</span></span> <span data-ttu-id="f35e1-243">Jak wiesz, normalne strony wzorcowej składa się z strony wzorcowej oraz strony zawartości.</span><span class="sxs-lookup"><span data-stu-id="f35e1-243">As you've seen, a normal master page consists of a master page and a content page.</span></span> <span data-ttu-id="f35e1-244">W sytuacji zagnieżdżonej strony wzorcowej istnieją dwie strony wzorcowe; wzorzec nadrzędnego i wzorzec podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="f35e1-244">In a nested master page situation, there are two master pages; a parent master and a child master.</span></span> <span data-ttu-id="f35e1-245">Strona wzorcowa podrzędne również strony zawartości i jego główny jest nadrzędny strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="f35e1-245">The child master page is also a content page and its master is the parent master page.</span></span>

<span data-ttu-id="f35e1-246">Poniżej przedstawiono kod dla typowych strony wzorcowej:</span><span class="sxs-lookup"><span data-stu-id="f35e1-246">Here is the code for a typical master page:</span></span>

[!code-aspx[Main](master-pages/samples/sample4.aspx)]

<span data-ttu-id="f35e1-247">W przypadku wzorca zagnieżdżonych będzie to główny nadrzędnej.</span><span class="sxs-lookup"><span data-stu-id="f35e1-247">In a nested master scenario, this would be the parent master.</span></span> <span data-ttu-id="f35e1-248">Innej strony wzorcowej mogą używać tej strony jako jego strony głównej, a ten kod będzie wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="f35e1-248">Another master page would use this page as its master page, and that code would look like this:</span></span>

[!code-aspx[Main](master-pages/samples/sample5.aspx)]

<span data-ttu-id="f35e1-249">Należy pamiętać, że w tym scenariuszu wzorzec podrzędne również strony zawartości dla wzorca macierzystego.</span><span class="sxs-lookup"><span data-stu-id="f35e1-249">Note that in this scenario, the child master is also a content page for the parent master.</span></span> <span data-ttu-id="f35e1-250">Całą zawartość wzorca podrzędnych pojawia się wewnątrz formantu zawartości, która pobiera zawartość z elementu nadrzędnego ContentPlaceHolder kontroli.</span><span class="sxs-lookup"><span data-stu-id="f35e1-250">All of the child master's content appears inside of a Content control that gets its content from the parent's ContentPlaceHolder control.</span></span>

> [!NOTE]
> <span data-ttu-id="f35e1-251">Obsługa projektanta nie jest dostępna dla zagnieżdżone strony wzorcowe.</span><span class="sxs-lookup"><span data-stu-id="f35e1-251">Designer support is not available for nested master pages.</span></span> <span data-ttu-id="f35e1-252">Gdy jest tworzona przy użyciu zagnieżdżonych wzorców, należy użyć widoku źródła.</span><span class="sxs-lookup"><span data-stu-id="f35e1-252">When you are developing using nested masters, you will need to use source view.</span></span>


<span data-ttu-id="f35e1-253">Ten film pokazuje Przewodnik po użyciu zagnieżdżone strony wzorcowe.</span><span class="sxs-lookup"><span data-stu-id="f35e1-253">This video shows a walkthrough of using nested master pages.</span></span>


![](master-pages/_static/image1.png)


[<span data-ttu-id="f35e1-254">Otwórz wideo pełnego ekranu</span><span class="sxs-lookup"><span data-stu-id="f35e1-254">Open Full-Screen Video</span></span>](master-pages/_static/nested1.wmv)


![Wybieranie strony wzorcowej](master-pages/_static/image4.jpg)

<span data-ttu-id="f35e1-256">**Rysunek 8**: Wybieranie strony wzorcowej</span><span class="sxs-lookup"><span data-stu-id="f35e1-256">**Figure 8**: Selecting a Master Page</span></span>
