---
uid: web-forms/overview/moving-to-aspnet-20/master-pages
title: Strony wzorcowe | Microsoft Docs
author: microsoft
description: Jednym ze najważniejszych składników do pomyślnej witryny sieci Web jest spójny wygląd i działanie. W ASP.NET 1. x deweloperzy korzystali z formantów użytkownika do replikowania wspólnych elem stron...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 9c0cce4d-efd9-4c14-b0e8-a1a140abb3f4
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/master-pages
msc.type: authoredcontent
ms.openlocfilehash: 36f2caf7c2c9bcafd22c8f6681c1d6b19fe5078a
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78567334"
---
# <a name="master-pages"></a><span data-ttu-id="ffcd8-104">Strony wzorcowe</span><span class="sxs-lookup"><span data-stu-id="ffcd8-104">Master Pages</span></span>

<span data-ttu-id="ffcd8-105">przez [firmę Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="ffcd8-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="ffcd8-106">Jednym ze najważniejszych składników do pomyślnej witryny sieci Web jest spójny wygląd i działanie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-106">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="ffcd8-107">W ASP.NET 1. x deweloperzy korzystali z formantów użytkownika do replikowania wspólnych elementów strony w aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-107">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="ffcd8-108">Chociaż jest to oczywiście rozwiązaniem, korzystanie z kontrolek użytkownika ma pewne wady.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-108">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="ffcd8-109">Na przykład zmiana położenia kontrolki użytkownika wymaga zmiany na wiele stron w witrynie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-109">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="ffcd8-110">Formanty użytkownika nie są również renderowane w widok Projekt po wstawieniu na stronie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-110">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="ffcd8-111">Jednym ze najważniejszych składników do pomyślnej witryny sieci Web jest spójny wygląd i działanie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-111">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="ffcd8-112">W ASP.NET 1. x deweloperzy korzystali z formantów użytkownika do replikowania wspólnych elementów strony w aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-112">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="ffcd8-113">Chociaż jest to oczywiście rozwiązaniem, korzystanie z kontrolek użytkownika ma pewne wady.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-113">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="ffcd8-114">Na przykład zmiana położenia kontrolki użytkownika wymaga zmiany na wiele stron w witrynie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-114">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="ffcd8-115">Formanty użytkownika nie są również renderowane w widok Projekt po wstawieniu na stronie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-115">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="ffcd8-116">ASP.NET 2,0 wprowadza strony wzorcowe jako sposób utrzymywania spójnego wyglądu i działania oraz jak zobaczysz, że strony wzorcowe reprezentują znaczącą poprawę w porównaniu z metodą kontroli użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-116">ASP.NET 2.0 introduces Master pages as a way of maintaining a consistent look and feel, and as you'll soon see, Master pages represent a significant improvement over the user control method.</span></span>

## <a name="why-master-pages"></a><span data-ttu-id="ffcd8-117">Dlaczego strony główne?</span><span class="sxs-lookup"><span data-stu-id="ffcd8-117">Why Master Pages?</span></span>

<span data-ttu-id="ffcd8-118">Może być zastanawiasz się, dlaczego strony główne były potrzebne w ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-118">You may be wondering why master pages were needed in ASP.NET 2.0.</span></span> <span data-ttu-id="ffcd8-119">Wszyscy deweloperzy witryn sieci Web używają już formantów użytkownika w ASP.NET 1. x do udostępniania obszarów zawartości między stronami.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-119">After all, Web site developers are already using user controls in ASP.NET 1.x to share content areas between pages.</span></span> <span data-ttu-id="ffcd8-120">Istnieje kilka powodów, dla których kontrolki użytkownika to mniej niż optymalne rozwiązanie do tworzenia wspólnego układu.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-120">There are actually several reasons why user controls are a less-than-optimal solution for creating a common layout.</span></span>

<span data-ttu-id="ffcd8-121">Kontrolki użytkownika nie definiują w rzeczywistości układu strony.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-121">User controls don't actually define page layout.</span></span> <span data-ttu-id="ffcd8-122">Zamiast tego definiują układ i funkcjonalność części strony.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-122">Instead, they define the layout and functionality for a portion of a page.</span></span> <span data-ttu-id="ffcd8-123">Różnica między tymi dwoma jest ważna, ponieważ sprawia, że zarządzanie rozwiązaniem kontroli użytkownika znacznie trudniejsze.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-123">The distinction between these two is important because it makes manageability of a user control solution much more difficult.</span></span> <span data-ttu-id="ffcd8-124">Na przykład jeśli chcesz zmienić położenie kontrolki użytkownika na stronie, musisz edytować stronę rzeczywistą, na której zostanie wyświetlona kontrolka użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-124">For example, when you want to change the position of a user control on your page, you must edit the actual page on which the user control appears.</span></span> <span data-ttu-id="ffcd8-125">Która się, jeśli masz tylko kilka stron, ale w dużych lokacjach szybko to okropnej zarządzanie lokacją.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-125">Thats fine if you have only a few pages, but in large sites, it quickly becomes a site management nightmare!</span></span>

<span data-ttu-id="ffcd8-126">Inna Wadą korzystania z kontrolek użytkownika do definiowania wspólnego układu jest katalog główny w architekturze ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-126">Another drawback of using user controls for defining a common layout is rooted in the architecture of ASP.NET itself.</span></span> <span data-ttu-id="ffcd8-127">Jeśli jakikolwiek publiczny element członkowski kontrolki użytkownika zostanie zmieniony, wymaga ponownego skompilowania wszystkich stron, które używają kontrolki użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-127">If any public member of a user control is changed, it requires you to recompile all of the pages that use the user control.</span></span> <span data-ttu-id="ffcd8-128">Z kolei ASP.NET będzie ponownie JIT strony podczas pierwszego dostępu do nich.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-128">In turn, ASP.NET will then re-JIT your pages when they are first accessed.</span></span> <span data-ttu-id="ffcd8-129">Dzięki temu program tworzy nieskalowalną architekturę i problem z zarządzaniem lokacją w większych lokacjach.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-129">This, once again, produces a non-scalable architecture and a site management problem for larger sites.</span></span>

<span data-ttu-id="ffcd8-130">Oba te problemy (i wiele innych) są dobrze rozkierowane przez strony wzorcowe w ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-130">Both of these problems (and many more) are nicely addressed by master pages in ASP.NET 2.0.</span></span>

## <a name="how-master-pages-work"></a><span data-ttu-id="ffcd8-131">Jak działają strony wzorcowe</span><span class="sxs-lookup"><span data-stu-id="ffcd8-131">How Master Pages Work</span></span>

<span data-ttu-id="ffcd8-132">Strona wzorcowa jest analogiczna do szablonu dla innych stron.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-132">A master page is analogous to a template for other pages.</span></span> <span data-ttu-id="ffcd8-133">Elementy strony, które powinny być współużytkowane przez inne strony (tj. menu, obramowania itp.), są dodawane do strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-133">Page elements that should be shared among other pages (i.e. menus, borders, etc.) are added to the master page.</span></span> <span data-ttu-id="ffcd8-134">Po dodaniu nowych stron do witryny można je skojarzyć ze stroną wzorcową.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-134">When new pages are added to the site, you can associate them with a master page.</span></span> <span data-ttu-id="ffcd8-135">Strona, która jest skojarzona ze stroną wzorcową, nosi nazwę **strony zawartości**.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-135">A page that is associated with a master page is called a **content page**.</span></span> <span data-ttu-id="ffcd8-136">Domyślnie strona zawartości przyjmuje wygląd na stronie wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-136">By default, a content page takes on the appearance from the master page.</span></span> <span data-ttu-id="ffcd8-137">Jednak podczas tworzenia strony wzorcowej można zdefiniować fragmenty strony, które strona zawartości może zamienić na własną zawartość.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-137">However, when you create a master page, you can define portions of the page that the content page can replace with its own content.</span></span> <span data-ttu-id="ffcd8-138">Te części są definiowane przy użyciu nowej kontrolki wprowadzonej w ASP.NET 2,0; formant **ContentPlaceHolder** .</span><span class="sxs-lookup"><span data-stu-id="ffcd8-138">These portions are defined using a new control introduced in ASP.NET 2.0; the **ContentPlaceHolder** control.</span></span>

<span data-ttu-id="ffcd8-139">Strona główna może zawierać dowolną liczbę kontrolek ContentPlaceHolder (lub wcale nie istnieje). Na stronie zawartość, zawartość z formantów ContentPlaceHolder pojawia się wewnątrz kontrolek **zawartości** , kolejną nową kontrolką w ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-139">A master page can contain any number of ContentPlaceHolder controls (or none at all.) On the content page, the content from the ContentPlaceHolder controls appears inside of **Content** controls, another new control in ASP.NET 2.0.</span></span> <span data-ttu-id="ffcd8-140">Domyślnie formanty zawartości stron zawartości są puste, aby można było zapewnić własną zawartość.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-140">By default, the content pages Content controls are empty so that you can provide your own content.</span></span> <span data-ttu-id="ffcd8-141">Jeśli chcesz użyć zawartości z poziomu strony wzorcowej wewnątrz kontrolek zawartości, możesz to zrobić, ponieważ będzie ona widoczna w dalszej części tego modułu.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-141">If you want to use the content from the master page inside of the Content controls, you can do so as you will see later in this module.</span></span> <span data-ttu-id="ffcd8-142">Kontrolka zawartości jest mapowana na formant ContentPlaceHolder za pośrednictwem atrybutu ContentPlaceHolderID formantu Content.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-142">The Content control is mapped to the ContentPlaceHolder control via the ContentPlaceHolderID attribute of the Content control.</span></span> <span data-ttu-id="ffcd8-143">Poniższy kod mapuje formant zawartości na formant ContentPlaceHolder o nazwie mainBody na stronie wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-143">The code below maps a Content control to a ContentPlaceHolder control called mainBody on a master page.</span></span>

[!code-aspx[Main](master-pages/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="ffcd8-144">Często użytkownicy będą chcieli opisywać strony wzorcowe jako klasę bazową dla innych stron.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-144">You will often hear people describe master pages as being a base class for other pages.</span></span> <span data-ttu-id="ffcd8-145">Która faktycznie nie prawda.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-145">Thats actually not true.</span></span> <span data-ttu-id="ffcd8-146">Relacja między stronami wzorcowymi a stronami zawartości nie jest jednym z dziedziczenia.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-146">The relationship between master pages and content pages is not one of inheritance.</span></span>

<span data-ttu-id="ffcd8-147">**Rysunek 1** przedstawia stronę wzorcową i skojarzoną z nią stronę zawartości, która pojawia się w programie Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-147">**Figure 1** shows a master page and an associated content page as they appear in Visual Studio 2005.</span></span> <span data-ttu-id="ffcd8-148">Formant ContentPlaceHolder można zobaczyć na stronie wzorcowej i odpowiadającej jej kontroli zawartości na stronie zawartość.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-148">You can see the ContentPlaceHolder control in the master page and the corresponding Content control in the content page.</span></span> <span data-ttu-id="ffcd8-149">Zauważ, że zawartość stron wzorcowych spoza elementu ContentPlaceHolder jest widoczna, ale wyszarzona na stronie zawartość.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-149">Notice that the master pages content that is outside of the ContentPlaceHolder is visible but grayed out in the content page.</span></span> <span data-ttu-id="ffcd8-150">Tylko zawartość wewnątrz elementu ContentPlaceHolder może być supplanted na stronie zawartości.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-150">Only the content inside of the ContentPlaceHolder can be supplanted by the content page.</span></span> <span data-ttu-id="ffcd8-151">Cała inna zawartość, która pochodzi ze strony głównej, jest niezmienna.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-151">All other content that comes from the master page is immutable.</span></span>

![Strona wzorcowa i skojarzona z nią zawartość](master-pages/_static/image1.jpg)

<span data-ttu-id="ffcd8-153">**Rysunek 1**: Strona wzorcowa i skojarzona z nią strona zawartości</span><span class="sxs-lookup"><span data-stu-id="ffcd8-153">**Figure 1**: A master page and its associated content page</span></span>

## <a name="creating-a-master-page"></a><span data-ttu-id="ffcd8-154">Tworzenie strony wzorcowej</span><span class="sxs-lookup"><span data-stu-id="ffcd8-154">Creating a Master Page</span></span>

<span data-ttu-id="ffcd8-155">Aby utworzyć nową stronę wzorcową:</span><span class="sxs-lookup"><span data-stu-id="ffcd8-155">To create a new master page:</span></span>

1. <span data-ttu-id="ffcd8-156">Otwórz program Visual Studio 2005 i Utwórz nową witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-156">Open Visual Studio 2005 and create a new Web site.</span></span>
2. <span data-ttu-id="ffcd8-157">Kliknij plik, nowy, plik.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-157">Click File, New, File.</span></span>
3. <span data-ttu-id="ffcd8-158">Wybierz pozycję plik główny z okna dialogowego Dodaj nowy element, jak pokazano na **rysunku 2**.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-158">Choose Master File from the Add New Item dialog as shown in **figure 2**.</span></span>
4. <span data-ttu-id="ffcd8-159">Kliknij przycisk Dodaj.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-159">Click Add.</span></span>

![Tworzenie nowej strony wzorcowej](master-pages/_static/image2.jpg)

<span data-ttu-id="ffcd8-161">**Rysunek 2**. Tworzenie nowej strony wzorcowej</span><span class="sxs-lookup"><span data-stu-id="ffcd8-161">**Figure 2**: Creating a New Master Page</span></span>

<span data-ttu-id="ffcd8-162">Zwróć uwagę, że rozszerzenie pliku dla strony głównej to *. Master*.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-162">Notice that the file extension for a master page is *.master*.</span></span> <span data-ttu-id="ffcd8-163">Jest to jeden z metod, które różnią się od zwykłej strony.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-163">This is one of the ways that a master page differs from an ordinary page.</span></span> <span data-ttu-id="ffcd8-164">Druga podstawowa różnica polega na tym, że w przypadku dyrektywy @Page Strona główna zawiera @Master dyrektywy.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-164">The other primary difference is that in lieu of a @Page directive, the master page contains a @Master directive.</span></span> <span data-ttu-id="ffcd8-165">Przełącz się do widoku źródła dla strony wzorcowej, która została właśnie utworzona, i Przejrzyj kod.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-165">Switch to Source View for the master page you've just created and review the code.</span></span>

<span data-ttu-id="ffcd8-166">Nowa Strona główna ma domyślnie jeden formant ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-166">A new master page will have one ContentPlaceHolder control by default.</span></span> <span data-ttu-id="ffcd8-167">W większości przypadków warto najpierw utworzyć wspólne elementy strony, a następnie wstawić kontrolki ContentPlaceHolder, w których jest wymagana zawartość niestandardowa.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-167">In most cases, it makes more sense to create the common page elements first and then insert ContentPlaceHolder controls where custom content is desired.</span></span> <span data-ttu-id="ffcd8-168">W takich przypadkach deweloperzy będą chcieć usunąć domyślną kontrolkę ContentPlaceHolder i wstawić nowe w miarę rozwijania strony.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-168">In those cases, developers will want to delete the default ContentPlaceHolder control and insert new ones as the page is developed.</span></span> <span data-ttu-id="ffcd8-169">Kontrolki ContentPlaceHolder nie są zmieniane, pomimo faktu, że są wyświetlane uchwyty rozmiaru.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-169">ContentPlaceHolder controls are not resizable despite the fact that they do display sizing handles.</span></span> <span data-ttu-id="ffcd8-170">Rozmiary formantów ContentPlaceHolder są automatycznie oparte na zawartości zawartej w jednym wyjątku; Jeśli umieścisz formant ContentPlaceHolder wewnątrz elementu bloku, takiego jak komórka tabeli, rozmiar będzie zmieniany w zależności od rozmiaru elementu.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-170">The ContentPlaceHolder control sizes automatically based upon the content that it contains with one exception; if you place a ContentPlaceHolder control inside of a block element such as a table cell, it will size according to the size of the element.</span></span>

## <a name="lab-1-working-with-master-pages"></a><span data-ttu-id="ffcd8-171">Laboratorium 1 — Praca ze stronami wzorcowymi</span><span class="sxs-lookup"><span data-stu-id="ffcd8-171">Lab 1 Working with Master Pages</span></span>

<span data-ttu-id="ffcd8-172">W tym laboratorium utworzysz nową stronę wzorcową i zdefiniujesz trzy kontrolki ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-172">In this lab, you will create a new master page and define three ContentPlaceHolder controls.</span></span> <span data-ttu-id="ffcd8-173">Następnie utworzysz nową stronę zawartości i zastąpisz zawartość z co najmniej jednej kontrolki ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-173">You will then create a new Content page and replace the content from at least one of the ContentPlaceHolder controls.</span></span>

1. <span data-ttu-id="ffcd8-174">Utwórz stronę wzorcową i Wstaw kontrolki ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-174">Create a master page and insert ContentPlaceHolder controls.</span></span> 

    1. <span data-ttu-id="ffcd8-175">Utwórz nową stronę wzorcową zgodnie z powyższym opisem.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-175">Create a new master page as described above.</span></span>
    2. <span data-ttu-id="ffcd8-176">Usuń domyślną kontrolkę ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-176">Delete the default ContentPlaceHolder control.</span></span>
    3. <span data-ttu-id="ffcd8-177">Wybierz formant ContentPlaceHolder, klikając przycieniowaną górną krawędź kontrolki, a następnie usuń ją, naciskając klawisz DEL na klawiaturze.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-177">Select the ContentPlaceHolder control by clicking the shaded top border of the control and then delete it by hitting the DEL key on your keyboard.</span></span>
    4. <span data-ttu-id="ffcd8-178">Wstaw nową tabelę przy użyciu *nagłówka i szablonu po stronie* , jak pokazano na rysunku 3.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-178">Insert a new table using the *Header and side* template as shown in figure 3.</span></span> <span data-ttu-id="ffcd8-179">Zmień szerokość i wysokość na 90%, aby cała tabela była widoczna w projektancie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-179">Change the width and height to 90% each so that the entire table is visible in the designer.</span></span>

![](master-pages/_static/image3.jpg)

<span data-ttu-id="ffcd8-180">**Rysunek 3**</span><span class="sxs-lookup"><span data-stu-id="ffcd8-180">**Figure 3**</span></span>

1. <span data-ttu-id="ffcd8-181">Umieść kursor w każdej komórce tabeli i ustaw właściwość *VAlign* na *Top*.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-181">Place the cursor into each cell of the table and set the *valign* property to *top*.</span></span>
2. <span data-ttu-id="ffcd8-182">Z przybornika Wstaw formant ContentPlaceHolder w górnej komórce tabeli (komórka nagłówka).</span><span class="sxs-lookup"><span data-stu-id="ffcd8-182">From the Toolbox, insert a ContentPlaceHolder control in the top cell of the table (the header cell.)</span></span>
3. <span data-ttu-id="ffcd8-183">Po wstawieniu tego formantu ContentPlaceHolder zobaczysz, że wysokość wiersza zajmie prawie całą stronę, jak pokazano na rysunku 4.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-183">When you insert this ContentPlaceHolder control, you will notice that the row height will take up almost the entire page as shown in figure 4.</span></span> <span data-ttu-id="ffcd8-184">Nie dotyczy to w tym momencie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-184">Don't be concerned about that at this point.</span></span>

![Puste miejsce znajduje się w tej samej komórce co ContentPlaceHolder](master-pages/_static/image1.gif)

<span data-ttu-id="ffcd8-186">**Ilustracja 4**. puste miejsce znajduje się w tej samej komórce co ContentPlaceHolder</span><span class="sxs-lookup"><span data-stu-id="ffcd8-186">**Figure 4**: The empty space is in the same cell as the ContentPlaceHolder</span></span>

1. <span data-ttu-id="ffcd8-187">Umieść formant ContentPlaceHolder w dwóch pozostałych komórkach.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-187">Place a ContentPlaceHolder control in the other two cells.</span></span> <span data-ttu-id="ffcd8-188">Po wstawieniu innych kontrolek ContentPlaceHolder rozmiar komórek tabeli powinien być taki jak oczekiwano.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-188">Once the other ContentPlaceHolder controls have been inserted, the size of the table cells should be as you would expect.</span></span> <span data-ttu-id="ffcd8-189">Strona powinna teraz wyglądać podobnie jak strona pokazana na **rysunku 5**.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-189">The page should now look like the page shown in **figure 5**.</span></span>

![Wzorzec ze wszystkimi kontrolkami ContentPlaceHolder.](master-pages/_static/image2.gif)

<span data-ttu-id="ffcd8-192">**Rysunek 5**: wzorzec ze wszystkimi kontrolkami elementów ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-192">**Figure 5**: The Master with all ContentPlaceHolder controls.</span></span> <span data-ttu-id="ffcd8-193">Należy zauważyć, że wysokość komórki dla komórki nagłówka jest teraz to, co powinno być</span><span class="sxs-lookup"><span data-stu-id="ffcd8-193">Notice that the cell height for the header cell is now what it should be</span></span>

1. <span data-ttu-id="ffcd8-194">Wprowadź wybrany tekst do każdego z trzech formantów ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-194">Enter some text of your choice into each of the three ContentPlaceHolder controls.</span></span>
2. <span data-ttu-id="ffcd8-195">Zapisz stronę wzorcową jako Exercise1. Master.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-195">Save the master page as exercise1.master.</span></span>
3. <span data-ttu-id="ffcd8-196">Utwórz nowy formularz sieci Web i skojarz go z Exercise1. Master Master.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-196">Create a new Web Form and associate it with the exercise1.master master page.</span></span>
4. <span data-ttu-id="ffcd8-197">Wybierz plik, nowy, plik w programie Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-197">Select File, New, File in Visual Studio 2005.</span></span>
5. <span data-ttu-id="ffcd8-198">W oknie dialogowym Dodaj nowy element wybierz pozycję **formularz sieci Web** .</span><span class="sxs-lookup"><span data-stu-id="ffcd8-198">Select **Web Form** in the Add New Item dialog.</span></span>
6. <span data-ttu-id="ffcd8-199">Upewnij się, że pole wyboru Wybierz stronę wzorcową jest zaznaczone, jak pokazano na rysunku 6.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-199">Make sure that the Select master page checkbox is checked as shown in figure 6.</span></span>

![Dodawanie nowej strony zawartości](master-pages/_static/image3.gif)

<span data-ttu-id="ffcd8-201">**Ilustracja 6**. Dodawanie nowej strony zawartości</span><span class="sxs-lookup"><span data-stu-id="ffcd8-201">**Figure 6**: Adding a new Content Page</span></span>

1. <span data-ttu-id="ffcd8-202">Kliknij przycisk Dodaj.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-202">Click Add.</span></span>
2. <span data-ttu-id="ffcd8-203">Wybierz Exercise1. Master w oknie dialogowym Wybierz stronę wzorcową, jak pokazano na rysunku 7.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-203">Select exercise1.master in the Select a master page dialog as shown in figure 7.</span></span>
3. <span data-ttu-id="ffcd8-204">Kliknij przycisk OK, aby dodać nową stronę zawartości.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-204">Click OK to add the new content page.</span></span>

<span data-ttu-id="ffcd8-205">Nowa zawartość zostanie wyświetlona w programie Visual Studio z jedną kontrolką zawartości dla każdej kontrolki ContentPlaceHolder na stronie wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-205">The new content page appears in Visual Studio with one Content control for each ContentPlaceHolder control on the master page.</span></span> <span data-ttu-id="ffcd8-206">Domyślnie formanty zawartości są puste, aby można było dodać własną zawartość.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-206">By default, the Content controls are empty so that you can add your own content.</span></span> <span data-ttu-id="ffcd8-207">Jeśli chcesz, aby użytkownicy korzystali z zawartości kontrolki ContentPlaceHolder na stronie wzorcowej, po prostu kliknij symbol taga inteligentnego (małą czarną strzałkę w prawym górnym rogu kontrolki) i wybierz opcję *domyślne do zawartości wzorca* z taga inteligentnego, jak pokazano na **rysunku 8**.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-207">If you'd like for them to use the content from the ContentPlaceHolder control on the master page, simply click on the smart tag symbol (the small black arrow in the upper-right corner of the control) and choose *Default to Masters Content* from the smart tag as shown in **figure 8**.</span></span> <span data-ttu-id="ffcd8-208">Po wykonaniu tej czynności element menu zostanie zmieniony w celu *utworzenia zawartości niestandardowej*.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-208">When you do so, the menu item changes to *Create Custom Content*.</span></span> <span data-ttu-id="ffcd8-209">Kliknięcie go w tym momencie spowoduje usunięcie zawartości z strony wzorcowej, co pozwala na zdefiniowanie zawartości niestandardowej dla tej konkretnej kontrolki zawartości.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-209">Clicking it at that point removes the content from the master page allowing you to define custom content for that particular Content control.</span></span>

![Ustawianie domyślnej kontrolki zawartości na stronie wzorcowej](master-pages/_static/image4.gif)

<span data-ttu-id="ffcd8-211">**Rysunek 7**. Ustawianie domyślnego formantu zawartości dla zawartości stron wzorcowych</span><span class="sxs-lookup"><span data-stu-id="ffcd8-211">**Figure 7**: Setting a Content Control to Default to the Master Pages Content</span></span>

## <a name="connecting-master-page-and-content-pages"></a><span data-ttu-id="ffcd8-212">Łączenie strony wzorcowej i stron zawartości</span><span class="sxs-lookup"><span data-stu-id="ffcd8-212">Connecting Master Page and Content Pages</span></span>

<span data-ttu-id="ffcd8-213">Skojarzenie między stroną wzorcową a stroną zawartości można skonfigurować na jeden z czterech różnych sposobów:</span><span class="sxs-lookup"><span data-stu-id="ffcd8-213">The association between a master page and a content page can be configured in one of four different ways:</span></span>

- <span data-ttu-id="ffcd8-214">Atrybut <strong>MasterPageFile</strong> dyrektywy @Page</span><span class="sxs-lookup"><span data-stu-id="ffcd8-214">The <strong>MasterPageFile</strong> attribute of the @Page directive</span></span>
- <span data-ttu-id="ffcd8-215">Ustawianie właściwości **Page. MasterPageFile** w kodzie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-215">Setting the **Page.MasterPageFile** property in code.</span></span>
- <span data-ttu-id="ffcd8-216">**&lt;strony&gt;** elementu w pliku konfiguracji aplikacji (Web. config w folderze głównym aplikacji)</span><span class="sxs-lookup"><span data-stu-id="ffcd8-216">The **&lt;pages&gt;** element in the applications configuration file (web.config in the root folder of the application)</span></span>
- <span data-ttu-id="ffcd8-217">**&lt;strony&gt;** elementu w podfolderach plik konfiguracyjny (Web. config w folderze)</span><span class="sxs-lookup"><span data-stu-id="ffcd8-217">The **&lt;pages&gt;** element in a subfolders configuration file (web.config in a subfolder)</span></span>

## <a name="masterpagefile-attribute"></a><span data-ttu-id="ffcd8-218">MasterPageFile — atrybut</span><span class="sxs-lookup"><span data-stu-id="ffcd8-218">MasterPageFile Attribute</span></span>

<span data-ttu-id="ffcd8-219">Atrybut MasterPageFile ułatwia stosowanie strony wzorcowej do określonej strony ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-219">The MasterPageFile attribute makes it easy to apply a master page to a particular ASP.NET page.</span></span> <span data-ttu-id="ffcd8-220">Jest to również Metoda używana do zastosowania strony wzorcowej po zaznaczeniu pola wyboru **Wybierz stronę wzorcową** , jak w ćwiczeniu 1.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-220">It is also the method used to apply the master page when you check the **Select Master Page** checkbox as you did in Exercise 1.</span></span>

## <a name="setting-pagemasterpagefile-in-code"></a><span data-ttu-id="ffcd8-221">Ustawianie strony. MasterPageFile w kodzie</span><span class="sxs-lookup"><span data-stu-id="ffcd8-221">Setting Page.MasterPageFile in Code</span></span>

<span data-ttu-id="ffcd8-222">Ustawiając właściwość MasterPageFile w kodzie, można zastosować określoną stronę wzorcową do zawartości w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-222">By setting the MasterPageFile property in code, you can apply a particular master page to your content at runtime.</span></span> <span data-ttu-id="ffcd8-223">Jest to przydatne w przypadkach, w których może być konieczne zastosowanie konkretnej strony wzorcowej na podstawie roli użytkownika lub innych kryteriów.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-223">This is useful in cases where you may need to apply a specific master page based upon a users role or some other criteria.</span></span> <span data-ttu-id="ffcd8-224">Właściwość MasterPageFile musi być ustawiona w metodzie preinicjowania.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-224">The MasterPageFile property must be set in the PreInit method.</span></span> <span data-ttu-id="ffcd8-225">Jeśli jest ustawiona po metodzie inicjowania, zostanie zgłoszony InvalidOperationException.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-225">If it is set after the PreInit method, an InvalidOperationException will be thrown.</span></span> <span data-ttu-id="ffcd8-226">Strona, na której jest ustawiana ta właściwość, musi mieć również kontrolkę zawartości jako formant najwyższego poziomu dla strony.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-226">The page on which this property is being set must also have a Content control as the top-level control for the page.</span></span> <span data-ttu-id="ffcd8-227">W przeciwnym razie zostanie wygenerowany element HttpException, gdy ustawiona jest właściwość MasterPageFile.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-227">Otherwise an HttpException will be thrown when the MasterPageFile property is set.</span></span>

## <a name="using-the-ltpagesgt-element"></a><span data-ttu-id="ffcd8-228">Używanie &lt;stron&gt; elementu</span><span class="sxs-lookup"><span data-stu-id="ffcd8-228">Using the &lt;pages&gt; Element</span></span>

<span data-ttu-id="ffcd8-229">Stronę wzorcową dla stron można skonfigurować przez ustawienie atrybutu masterPageFile na stronach &lt;&gt; elemencie pliku Web. config.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-229">You can configure a master page for your pages by setting the masterPageFile attribute in the &lt;pages&gt; element of the web.config file.</span></span> <span data-ttu-id="ffcd8-230">Korzystając z tej metody, należy pamiętać, że pliki Web. config znajdujące się poniżej struktury aplikacji mogą zastąpić to ustawienie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-230">When using this method, keep in mind that web.config files lower in the application structure can override this setting.</span></span> <span data-ttu-id="ffcd8-231">Dowolny atrybut MasterPageFile ustawiony w dyrektywie @Page również przesłoni to ustawienie.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-231">Any MasterPageFile attribute set in a @Page directive will also override this setting.</span></span> <span data-ttu-id="ffcd8-232">Za pomocą &lt;stron&gt; element ułatwia utworzenie *głównej* strony wzorcowej, która może zostać przesłonięta w razie potrzeby w określonych folderach lub plikach.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-232">Using the &lt;pages&gt; element makes it simple to create a *master* master page that can be overridden if necessary in particular folders or files.</span></span>

## <a name="properties-in-master-pages"></a><span data-ttu-id="ffcd8-233">Właściwości na stronach wzorcowych</span><span class="sxs-lookup"><span data-stu-id="ffcd8-233">Properties in Master Pages</span></span>

<span data-ttu-id="ffcd8-234">Strona wzorcowa może uwidaczniać właściwości, po prostu czyniąc te właściwości publicznie na stronie głównej.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-234">A master page can expose properties by simply making those properties public within the master page.</span></span> <span data-ttu-id="ffcd8-235">Na przykład poniższy kod definiuje właściwość o nazwie SomeProperty:</span><span class="sxs-lookup"><span data-stu-id="ffcd8-235">For example, the following code defines a property called SomeProperty:</span></span>

[!code-csharp[Main](master-pages/samples/sample2.cs)]

<span data-ttu-id="ffcd8-236">Aby uzyskać dostęp do właściwości SomeProperty ze strony zawartości, należy użyć właściwości głównej, takiej jak:</span><span class="sxs-lookup"><span data-stu-id="ffcd8-236">To access the SomeProperty property from the Content page, you will need to use the Master property like so:</span></span>

[!code-csharp[Main](master-pages/samples/sample3.cs)]

## <a name="nesting-master-pages"></a><span data-ttu-id="ffcd8-237">Zagnieżdżanie stron wzorcowych</span><span class="sxs-lookup"><span data-stu-id="ffcd8-237">Nesting Master Pages</span></span>

<span data-ttu-id="ffcd8-238">Strony wzorcowe są idealnym rozwiązaniem do zapewnienia wspólnego wyglądu i działania w ramach dużej aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-238">Master pages are the perfect solution for ensuring a common look and feel across a large Web application.</span></span> <span data-ttu-id="ffcd8-239">Nierzadko zdarza się jednak, że niektóre części dużej lokacji mają wspólny interfejs, podczas gdy inne części współużytkują inny interfejs.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-239">However, it's not uncommon to have certain parts of a large site share a common interface while other parts share a different interface.</span></span> <span data-ttu-id="ffcd8-240">Aby rozwiązać ten problem, wiele stron głównych jest idealnym rozwiązaniem.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-240">To address that need, multiple master pages are the perfect solution.</span></span> <span data-ttu-id="ffcd8-241">Jednak nadal nie dotyczy faktu, że duża aplikacja może mieć pewne składniki (na przykład menu), które są współużytkowane przez wszystkie strony i inne składniki, które są współużytkowane tylko w niektórych sekcjach witryny.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-241">However, that still doesn't address the fact that a large application may have certain components (such as a menu, for example) that are shared among all pages and other components that are shared only among certain sections of the site.</span></span> <span data-ttu-id="ffcd8-242">Dla tego typu sytuacji zagnieżdżone strony wzorcowe wypełniają potrzebną dobrze.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-242">For that type of situation, nested master pages fill the need nicely.</span></span> <span data-ttu-id="ffcd8-243">Jak widać, normalna Strona wzorcowa składa się z strony wzorcowej i strony zawartości.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-243">As you've seen, a normal master page consists of a master page and a content page.</span></span> <span data-ttu-id="ffcd8-244">W sytuacji zagnieżdżonej strony wzorcowej istnieją dwie strony główne: nadrzędny wzorzec i podrzędny element główny.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-244">In a nested master page situation, there are two master pages; a parent master and a child master.</span></span> <span data-ttu-id="ffcd8-245">Podrzędna Strona wzorcowa jest również stroną zawartości, a jej główną stroną wzorcową jest strona nadrzędna.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-245">The child master page is also a content page and its master is the parent master page.</span></span>

<span data-ttu-id="ffcd8-246">Oto kod typowej strony głównej:</span><span class="sxs-lookup"><span data-stu-id="ffcd8-246">Here is the code for a typical master page:</span></span>

[!code-aspx[Main](master-pages/samples/sample4.aspx)]

<span data-ttu-id="ffcd8-247">W zagnieżdżonym scenariuszu głównym będzie to nadrzędny wzorzec.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-247">In a nested master scenario, this would be the parent master.</span></span> <span data-ttu-id="ffcd8-248">Inna strona wzorcowa użyje tej strony jako strony głównej, a ten kod będzie wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="ffcd8-248">Another master page would use this page as its master page, and that code would look like this:</span></span>

[!code-aspx[Main](master-pages/samples/sample5.aspx)]

<span data-ttu-id="ffcd8-249">Należy zauważyć, że w tym scenariuszu podrzędny wzorzec jest również stroną zawartości dla nadrzędnego serwera głównego.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-249">Note that in this scenario, the child master is also a content page for the parent master.</span></span> <span data-ttu-id="ffcd8-250">Cała zawartość nadrzędnego elementu głównego jest wyświetlana wewnątrz kontrolki zawartości, która pobiera jej zawartość z formantu ContentPlaceHolder elementu nadrzędnego.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-250">All of the child master's content appears inside of a Content control that gets its content from the parent's ContentPlaceHolder control.</span></span>

> [!NOTE]
> <span data-ttu-id="ffcd8-251">Obsługa projektanta nie jest dostępna dla zagnieżdżonych stron wzorcowych.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-251">Designer support is not available for nested master pages.</span></span> <span data-ttu-id="ffcd8-252">Podczas programowania przy użyciu zagnieżdżonych wzorców należy użyć widoku źródła.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-252">When you are developing using nested masters, you will need to use source view.</span></span>

<span data-ttu-id="ffcd8-253">Ten film wideo przedstawia przewodnik po użyciu zagnieżdżonych stron wzorcowych.</span><span class="sxs-lookup"><span data-stu-id="ffcd8-253">This video shows a walkthrough of using nested master pages.</span></span>

![](master-pages/_static/image1.png)

[<span data-ttu-id="ffcd8-254">Otwórz wideo pełnoekranowe</span><span class="sxs-lookup"><span data-stu-id="ffcd8-254">Open Full-Screen Video</span></span>](master-pages/_static/nested1.wmv)

![Wybieranie strony wzorcowej](master-pages/_static/image4.jpg)

<span data-ttu-id="ffcd8-256">**Ilustracja 8**. Wybieranie strony wzorcowej</span><span class="sxs-lookup"><span data-stu-id="ffcd8-256">**Figure 8**: Selecting a Master Page</span></span>
