---
uid: web-forms/overview/data-access/custom-formatting/custom-formatting-based-upon-data-vb
title: Niestandardowe formatowanie na podstawie danych (VB) | Microsoft Docs
author: rick-anderson
description: Dostosowanie formatu GridView, DetailsView lub FormView na podstawie danych powiązanych z nim można wykonać na wiele sposobów. W tym samouczku będziemy...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: df5a1525-386f-4632-972c-57b199870bc3
msc.legacyurl: /web-forms/overview/data-access/custom-formatting/custom-formatting-based-upon-data-vb
msc.type: authoredcontent
ms.openlocfilehash: 268dc763ef6954903f721a3015daaf10bf9bccb1
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/28/2019
ms.locfileid: "74613050"
---
# <a name="custom-formatting-based-upon-data-vb"></a><span data-ttu-id="d2cf9-104">Niestandardowe formatowanie na podstawie danych (VB)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-104">Custom Formatting Based Upon Data (VB)</span></span>

<span data-ttu-id="d2cf9-105">przez [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d2cf9-106">[Pobierz przykładową aplikację](https://download.microsoft.com/download/5/7/0/57084608-dfb3-4781-991c-407d086e2adc/ASPNET_Data_Tutorial_11_VB.exe) lub [Pobierz plik PDF](custom-formatting-based-upon-data-vb/_static/datatutorial11vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-106">[Download Sample App](https://download.microsoft.com/download/5/7/0/57084608-dfb3-4781-991c-407d086e2adc/ASPNET_Data_Tutorial_11_VB.exe) or [Download PDF](custom-formatting-based-upon-data-vb/_static/datatutorial11vb1.pdf)</span></span>

> <span data-ttu-id="d2cf9-107">Dostosowanie formatu GridView, DetailsView lub FormView na podstawie danych powiązanych z nim można wykonać na wiele sposobów.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-107">Adjusting the format of the GridView, DetailsView, or FormView based upon the data bound to it can be accomplished in multiple ways.</span></span> <span data-ttu-id="d2cf9-108">W tym samouczku powiesz się, jak wykonać formatowanie powiązane z danymi za pomocą obsługi zdarzeń powiązanych i RowDataBound.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-108">In this tutorial we'll look at how to accomplish data bound formatting through the use of the DataBound and RowDataBound event handlers.</span></span>

## <a name="introduction"></a><span data-ttu-id="d2cf9-109">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="d2cf9-109">Introduction</span></span>

<span data-ttu-id="d2cf9-110">Wygląd formantów GridView, DetailsView i FormView można dostosować za pomocą wyposażono właściwości związanych z stylem.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-110">The appearance of the GridView, DetailsView, and FormView controls can be customized through a myriad of style-related properties.</span></span> <span data-ttu-id="d2cf9-111">Właściwości, takie jak `CssClass`, `Font`, `BorderWidth`, `BorderStyle`, `BorderColor`, `Width`i `Height`, podyktują ogólny wygląd renderowanej kontrolki.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-111">Properties like `CssClass`, `Font`, `BorderWidth`, `BorderStyle`, `BorderColor`, `Width`, and `Height`, among others, dictate the general appearance of the rendered control.</span></span> <span data-ttu-id="d2cf9-112">Właściwości, w tym `HeaderStyle`, `RowStyle`, `AlternatingRowStyle`i inne zezwalają na stosowanie tych samych ustawień stylu do określonych sekcji.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-112">Properties including `HeaderStyle`, `RowStyle`, `AlternatingRowStyle`, and others allow these same style settings to be applied to particular sections.</span></span> <span data-ttu-id="d2cf9-113">Analogicznie, te ustawienia stylu mogą być stosowane na poziomie pola.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-113">Likewise, these style settings can be applied at the field level.</span></span>

<span data-ttu-id="d2cf9-114">W wielu scenariuszach wymagania dotyczące formatowania są zależne od wartości wyświetlanych danych.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-114">In many scenarios though, the formatting requirements depend upon the value of the displayed data.</span></span> <span data-ttu-id="d2cf9-115">Na przykład w celu wyszukania uwagi na produkty poza magazynem, raport zawierający informacje o produkcie może ustawić kolor tła na żółty dla tych produktów, których `UnitsInStock` i `UnitsOnOrder` pola są równe 0.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-115">For example, to draw attention to out of stock products, a report listing product information might set the background color to yellow for those products whose `UnitsInStock` and `UnitsOnOrder` fields are both equal to 0.</span></span> <span data-ttu-id="d2cf9-116">Aby wyróżnić tańsze produkty, firma Microsoft może chcieć, że ceny tych produktów są droższe niż $75,00 w postaci pogrubionej czcionki.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-116">To highlight the more expensive products, we may want to display the prices of those products costing more than $75.00 in a bold font.</span></span>

<span data-ttu-id="d2cf9-117">Dostosowanie formatu GridView, DetailsView lub FormView na podstawie danych powiązanych z nim można wykonać na wiele sposobów.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-117">Adjusting the format of the GridView, DetailsView, or FormView based upon the data bound to it can be accomplished in multiple ways.</span></span> <span data-ttu-id="d2cf9-118">W tym samouczku zawarto informacje na temat wykonywania formatowania powiązanego z danymi za pomocą `DataBound` i `RowDataBound` obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-118">In this tutorial we'll look at how to accomplish data bound formatting through the use of the `DataBound` and `RowDataBound` event handlers.</span></span> <span data-ttu-id="d2cf9-119">W następnym samouczku zapoznajemy alternatywne podejście.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-119">In the next tutorial we'll explore an alternative approach.</span></span>

## <a name="using-the-detailsview-controlsdataboundevent-handler"></a><span data-ttu-id="d2cf9-120">Używanie procedury obsługi zdarzeń`DataBound`formantu DetailsView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-120">Using the DetailsView Control's`DataBound`Event Handler</span></span>

<span data-ttu-id="d2cf9-121">Gdy dane są powiązane z DetailsView, albo z kontrolki źródła danych lub przez programowe przypisanie danych do właściwości `DataSource` kontrolki i wywołanie jej metody `DataBind()`, wykonywane są następujące sekwencje kroków:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-121">When data is bound to a DetailsView, either from a data source control or through programmatically assigning data to the control's `DataSource` property and calling its `DataBind()` method, the following sequence of steps occur:</span></span>

1. <span data-ttu-id="d2cf9-122">Zdarzenie `DataBinding` formantu sieci Web danych.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-122">The data Web control's `DataBinding` event fires.</span></span>
2. <span data-ttu-id="d2cf9-123">Dane są powiązane z formantem sieci Web danych.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-123">The data is bound to the data Web control.</span></span>
3. <span data-ttu-id="d2cf9-124">Zdarzenie `DataBound` formantu sieci Web danych.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-124">The data Web control's `DataBound` event fires.</span></span>

<span data-ttu-id="d2cf9-125">Logikę niestandardową można wstrzyknąć bezpośrednio po krokach 1 i 3 za poorednictwem programu obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-125">Custom logic can be injected immediately after steps 1 and 3 through an event handler.</span></span> <span data-ttu-id="d2cf9-126">Tworząc procedurę obsługi zdarzeń dla zdarzenia `DataBound`, możemy programistycznie określić dane, które zostały powiązane z kontrolką sieci Web danych i dostosować formatowanie odpowiednio do wymagań.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-126">By creating an event handler for the `DataBound` event we can programmatically determine the data that has been bound to the data Web control and adjust the formatting as needed.</span></span> <span data-ttu-id="d2cf9-127">Aby zilustrować ten sposób, Utwórz widok DetailsView, który będzie zawierać ogólne informacje o produkcie, ale `UnitPrice` wartość w postaci ***pogrubionej, kursywy,*** jeśli będzie ona przekroczyć $75,00.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-127">To illustrate this let's create a DetailsView that will list general information about a product, but will display the `UnitPrice` value in a ***bold, italic font*** if it exceeds $75.00.</span></span>

## <a name="step-1-displaying-the-product-information-in-a-detailsview"></a><span data-ttu-id="d2cf9-128">Krok 1. Wyświetlanie informacji o produkcie w widoku DetailsView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-128">Step 1: Displaying the Product Information in a DetailsView</span></span>

<span data-ttu-id="d2cf9-129">Otwórz stronę `CustomColors.aspx` w folderze `CustomFormatting`, przeciągnij kontrolkę DetailsView z przybornika do projektanta, ustaw jej wartość właściwości `ID` na `ExpensiveProductsPriceInBoldItalic`i powiąż ją z nową kontrolką ObjectDataSource, która wywołuje metodę `ProductsBLL` klasy `GetProducts()`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-129">Open the `CustomColors.aspx` page in the `CustomFormatting` folder, drag a DetailsView control from the Toolbox onto the Designer, set its `ID` property value to `ExpensiveProductsPriceInBoldItalic`, and bind it to a new ObjectDataSource control that invokes the `ProductsBLL` class's `GetProducts()` method.</span></span> <span data-ttu-id="d2cf9-130">Szczegółowe kroki w celu osiągnięcia tego celu zostały pominięte w tym miejscu dla zwięzłości, ponieważ zostały one szczegółowo przejrzane w poprzednich samouczkach.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-130">The detailed steps for accomplishing this are omitted here for brevity since we examined them in detail in previous tutorials.</span></span>

<span data-ttu-id="d2cf9-131">Po powiązaniu elementu ObjectDataSource z DetailsView, poświęć chwilę, aby zmodyfikować listę pól.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-131">Once you've bound the ObjectDataSource to the DetailsView, take a moment to modify the field list.</span></span> <span data-ttu-id="d2cf9-132">Wybrano usunięcie `ProductID`, `SupplierID`, `CategoryID`, `UnitsInStock`, `UnitsOnOrder`, `ReorderLevel`i `Discontinued` BoundFields, a następnie zmieniono nazwę i ponownie sformatowano pozostałe BoundFields.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-132">I've opted to remove the `ProductID`, `SupplierID`, `CategoryID`, `UnitsInStock`, `UnitsOnOrder`, `ReorderLevel`, and `Discontinued` BoundFields and renamed and reformatted the remaining BoundFields.</span></span> <span data-ttu-id="d2cf9-133">Wyczyszczono również ustawienia `Width` i `Height`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-133">I also cleared out the `Width` and `Height` settings.</span></span> <span data-ttu-id="d2cf9-134">Ponieważ w widoku DetailsView jest wyświetlany tylko jeden rekord, musimy włączyć stronicowanie, aby umożliwić użytkownikowi końcowemu wyświetlanie wszystkich produktów.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-134">Since the DetailsView displays only a single record, we need to enable paging in order to allow the end user to view all of the products.</span></span> <span data-ttu-id="d2cf9-135">Zrób to, zaznaczając pole wyboru Włącz stronicowanie w tagu inteligentnym DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-135">Do so by checking the Enable Paging checkbox in the DetailsView's smart tag.</span></span>

<span data-ttu-id="d2cf9-136">[![rysunek 1: zaznacz pole wyboru Włącz stronicowanie w tagu inteligentnym DetailsView](custom-formatting-based-upon-data-vb/_static/image2.png)](custom-formatting-based-upon-data-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-136">[![Figure 1: Check the Enable Paging Checkbox in the DetailsView's Smart Tag](custom-formatting-based-upon-data-vb/_static/image2.png)](custom-formatting-based-upon-data-vb/_static/image1.png)</span></span>

<span data-ttu-id="d2cf9-137">**Rysunek 1**. rysunek 1: zaznacz pole wyboru Włącz stronicowanie w tagu inteligentnym DetailsView ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](custom-formatting-based-upon-data-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="d2cf9-137">**Figure 1**: Figure 1: Check the Enable Paging Checkbox in the DetailsView's Smart Tag ([Click to view full-size image](custom-formatting-based-upon-data-vb/_static/image3.png))</span></span>

<span data-ttu-id="d2cf9-138">Po wprowadzeniu tych zmian znacznik DetailsView będzie:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-138">After these changes, the DetailsView markup will be:</span></span>

[!code-aspx[Main](custom-formatting-based-upon-data-vb/samples/sample1.aspx)]

<span data-ttu-id="d2cf9-139">Poświęć chwilę na przetestowanie tej strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-139">Take a moment to test out this page in your browser.</span></span>

<span data-ttu-id="d2cf9-140">[![kontrolka DetailsView wyświetla jeden produkt w danym momencie](custom-formatting-based-upon-data-vb/_static/image5.png)](custom-formatting-based-upon-data-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-140">[![The DetailsView Control Displays One Product at a Time](custom-formatting-based-upon-data-vb/_static/image5.png)](custom-formatting-based-upon-data-vb/_static/image4.png)</span></span>

<span data-ttu-id="d2cf9-141">**Rysunek 2**. kontrolka DetailsView wyświetla jeden produkt jednocześnie ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](custom-formatting-based-upon-data-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="d2cf9-141">**Figure 2**: The DetailsView Control Displays One Product at a Time ([Click to view full-size image](custom-formatting-based-upon-data-vb/_static/image6.png))</span></span>

## <a name="step-2-programmatically-determining-the-value-of-the-data-in-the-databound-event-handler"></a><span data-ttu-id="d2cf9-142">Krok 2. programistyczne Określanie wartości danych w procedurze obsługi zdarzeń powiązanej z danymi</span><span class="sxs-lookup"><span data-stu-id="d2cf9-142">Step 2: Programmatically Determining the Value of the Data in the DataBound Event Handler</span></span>

<span data-ttu-id="d2cf9-143">Aby wyświetlić cenę w postaci pogrubionej, kursywy dla tych produktów, których `UnitPrice` wartość przekracza $75,00, musi być w stanie programowo określić wartość `UnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-143">In order to display the price in a bold, italic font for those products whose `UnitPrice` value exceeds $75.00, we need to first be able to programmatically determine the `UnitPrice` value.</span></span> <span data-ttu-id="d2cf9-144">Dla widoku DetailsView można to osiągnąć w obsłudze zdarzeń `DataBound`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-144">For the DetailsView, this can be accomplished in the `DataBound` event handler.</span></span> <span data-ttu-id="d2cf9-145">Aby utworzyć procedurę obsługi zdarzeń, kliknij pozycję DetailsView w projektancie, a następnie przejdź do okno Właściwości.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-145">To create the event handler click on the DetailsView in the Designer then navigate to the Properties window.</span></span> <span data-ttu-id="d2cf9-146">Naciśnij klawisz F4, aby go przywrócić, jeśli nie jest widoczny, lub przejdź do menu Widok i wybierz opcję menu okno właściwości.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-146">Press F4 to bring it up, if it's not visible, or go to the View menu and select the Properties Window menu option.</span></span> <span data-ttu-id="d2cf9-147">Na okno Właściwości kliknij ikonę błyskawicy, aby wyświetlić listę zdarzeń DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-147">From the Properties window, click on the lightning bolt icon to list the DetailsView's events.</span></span> <span data-ttu-id="d2cf9-148">Następnie kliknij dwukrotnie zdarzenie `DataBound` lub wpisz nazwę programu obsługi zdarzeń, który chcesz utworzyć.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-148">Next, either double-click the `DataBound` event or type in the name of the event handler you want to create.</span></span>

![Utwórz procedurę obsługi zdarzeń dla zdarzenia powiązanego z danymi](custom-formatting-based-upon-data-vb/_static/image7.png)

<span data-ttu-id="d2cf9-150">**Rysunek 3**. Tworzenie programu obsługi zdarzeń dla zdarzenia `DataBound`</span><span class="sxs-lookup"><span data-stu-id="d2cf9-150">**Figure 3**: Create an Event Handler for the `DataBound` Event</span></span>

> [!NOTE]
> <span data-ttu-id="d2cf9-151">Możesz również utworzyć procedurę obsługi zdarzeń ze strony kodowej ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-151">You can also create an event handler from the ASP.NET page's code portion.</span></span> <span data-ttu-id="d2cf9-152">W górnej części strony znajdują się dwie listy rozwijane.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-152">There you'll find two drop-down lists at the top of the page.</span></span> <span data-ttu-id="d2cf9-153">Wybierz obiekt z listy rozwijanej po lewej stronie i zdarzenie, dla którego chcesz utworzyć procedurę obsługi, z listy rozwijanej po prawej stronie, a program Visual Studio automatycznie utworzy odpowiednią procedurę obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-153">Select the object from the left drop-down list and the event you want to create a handler for from the right drop-down list and Visual Studio will automatically create the appropriate event handler.</span></span>

<span data-ttu-id="d2cf9-154">Wykonanie tej czynności spowoduje automatyczne utworzenie programu obsługi zdarzeń i przejście do fragmentu kodu, w którym został dodany.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-154">Doing so will automatically create the event handler and take you to the code portion where it has been added.</span></span> <span data-ttu-id="d2cf9-155">W tym momencie zobaczysz:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-155">At this point you will see:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample2.vb)]

<span data-ttu-id="d2cf9-156">Dostęp do danych w widoku DetailsView można uzyskać za pomocą właściwości `DataItem`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-156">The data bound to the DetailsView can be accessed via the `DataItem` property.</span></span> <span data-ttu-id="d2cf9-157">Odwołaj, że są one powiązane z naszymi kontrolkami, do silnie typu DataTable, która składa się z kolekcji instancji DataRow o jednoznacznie określonym typie.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-157">Recall that we are binding our controls to a strongly-typed DataTable, which is composed of a collection of strongly-typed DataRow instances.</span></span> <span data-ttu-id="d2cf9-158">Gdy element DataTable jest powiązany z elementem DetailsView, pierwszy element DataRow w elemencie DataTable jest przypisany do właściwości `DataItem` DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-158">When the DataTable is bound to the DetailsView, the first DataRow in the DataTable is assigned to the DetailsView's `DataItem` property.</span></span> <span data-ttu-id="d2cf9-159">Do właściwości `DataItem` jest przypisywany obiekt `DataRowView`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-159">Specifically, the `DataItem` property is assigned a `DataRowView` object.</span></span> <span data-ttu-id="d2cf9-160">Możemy użyć właściwości `Row` `DataRowView`, aby uzyskać dostęp do podstawowego obiektu DataRow, który jest w rzeczywistości wystąpieniem `ProductsRow`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-160">We can use the `DataRowView`'s `Row` property to get access to the underlying DataRow object, which is actually a `ProductsRow` instance.</span></span> <span data-ttu-id="d2cf9-161">Po tym wystąpieniu `ProductsRow` możemy podjąć nasze decyzje przez sprawdzenie wartości właściwości obiektu.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-161">Once we have this `ProductsRow` instance we can make our decision by simply inspecting the object's property values.</span></span>

<span data-ttu-id="d2cf9-162">Poniższy kod ilustruje sposób ustalania, czy wartość `UnitPrice` powiązana z formantem DetailsView jest większa niż $75,00:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-162">The following code illustrates how to determine whether the `UnitPrice` value bound to the DetailsView control is greater than $75.00:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample3.vb)]

> [!NOTE]
> <span data-ttu-id="d2cf9-163">Ponieważ `UnitPrice` może mieć wartość `NULL` w bazie danych, najpierw sprawdzimy, czy przed uzyskaniem dostępu do właściwości `UnitPrice` `ProductsRow`nie będziemy omawiać wartości `NULL`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-163">Since `UnitPrice` can have a `NULL` value in the database, we first check to make sure that we're not dealing with a `NULL` value before accessing the `ProductsRow`'s `UnitPrice` property.</span></span> <span data-ttu-id="d2cf9-164">Ta kontrola jest ważna, ponieważ jeśli próbujemy uzyskać dostęp do właściwości `UnitPrice`, gdy ma ona `NULL` wartość, obiekt `ProductsRow` zgłosi [wyjątek StrongTypingException](https://msdn.microsoft.com/library/system.data.strongtypingexception.aspx).</span><span class="sxs-lookup"><span data-stu-id="d2cf9-164">This check is important because if we attempt to access the `UnitPrice` property when it has a `NULL` value the `ProductsRow` object will throw a [StrongTypingException exception](https://msdn.microsoft.com/library/system.data.strongtypingexception.aspx).</span></span>

## <a name="step-3-formatting-the-unitprice-value-in-the-detailsview"></a><span data-ttu-id="d2cf9-165">Krok 3. formatowanie wartości CenaJednostkowa w widoku DetailsView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-165">Step 3: Formatting the UnitPrice Value in the DetailsView</span></span>

<span data-ttu-id="d2cf9-166">W tym momencie możemy określić, czy wartość `UnitPrice` powiązana z elementem DetailsView ma wartość przekraczającą $75,00, ale jeszcze więcej zapoznaj się z tym, jak programowo dostosować formatowanie widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-166">At this point we can determine whether the `UnitPrice` value bound to the DetailsView has a value that exceeds $75.00, but we've yet to see how to programmatically adjust the DetailsView's formatting accordingly.</span></span> <span data-ttu-id="d2cf9-167">Aby zmodyfikować formatowanie całego wiersza w widoku DetailsView, program programowo uzyskuje dostęp do wiersza przy użyciu `DetailsViewID.Rows(index)`; Aby zmodyfikować określoną komórkę, użyj `DetailsViewID.Rows(index).Cells(index)`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-167">To modify the formatting of an entire row in the DetailsView, programmatically access the row using `DetailsViewID.Rows(index)`; to modify a particular cell, access use `DetailsViewID.Rows(index).Cells(index)`.</span></span> <span data-ttu-id="d2cf9-168">Gdy mamy odwołanie do wiersza lub komórki, możemy dostosować jego wygląd, ustawiając jego właściwości powiązane z stylem.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-168">Once we have a reference to the row or cell we can then adjust its appearance by setting its style-related properties.</span></span>

<span data-ttu-id="d2cf9-169">Programowe uzyskiwanie dostępu do wiersza wymaga, aby znać indeks wiersza, który zaczyna się od 0.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-169">Accessing a row programmatically requires that you know the row's index, which starts at 0.</span></span> <span data-ttu-id="d2cf9-170">Wiersz `UnitPrice` jest piątym wierszem w widoku DetailsView, dając go indeks 4 i programistycznie dostępny przy użyciu `ExpensiveProductsPriceInBoldItalic.Rows(4)`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-170">The `UnitPrice` row is the fifth row in the DetailsView, giving it an index of 4 and making it programmatically accessible using `ExpensiveProductsPriceInBoldItalic.Rows(4)`.</span></span> <span data-ttu-id="d2cf9-171">W tym momencie zawartość całego wiersza może być wyświetlana w postaci pogrubionej, kursywy przy użyciu następującego kodu:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-171">At this point we could have the entire row's content displayed in a bold, italic font by using the following code:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample4.vb)]

<span data-ttu-id="d2cf9-172">Jednak spowoduje to *zarówno* etykietę (cenę), jak i wartość kursywy.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-172">However, this will make *both* the label (Price) and the value bold and italic.</span></span> <span data-ttu-id="d2cf9-173">Jeśli chcemy wprowadzić wartość pogrubioną i kursywą, musimy zastosować to formatowanie do drugiej komórki w wierszu, co można wykonać przy użyciu następujących elementów:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-173">If we want to make just the value bold and italic we need to apply this formatting to the second cell in the row, which can be accomplished using the following:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample5.vb)]

<span data-ttu-id="d2cf9-174">Ze względu na to, że nasze samouczki wykorzystują arkusze stylów, aby zachować czyste rozdzielenie między renderowanymi informacjami dotyczącymi znaczników i stylów, zamiast ustawiania określonych właściwości stylu, jak pokazano powyżej, zamiast tego użyj klasy CSS.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-174">Since our tutorials thus far have used stylesheets to maintain a clean separation between the rendered markup and style-related information, rather than setting the specific style properties as shown above let's instead use a CSS class.</span></span> <span data-ttu-id="d2cf9-175">Otwórz arkusz stylów `Styles.css` i Dodaj nową klasę CSS o nazwie `ExpensivePriceEmphasis` z następującą definicją:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-175">Open the `Styles.css` stylesheet and add a new CSS class named `ExpensivePriceEmphasis` with the following definition:</span></span>

[!code-css[Main](custom-formatting-based-upon-data-vb/samples/sample6.css)]

<span data-ttu-id="d2cf9-176">Następnie w programie obsługi zdarzeń `DataBound` ustaw właściwość `CssClass` komórki na `ExpensivePriceEmphasis`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-176">Then, in the `DataBound` event handler, set the cell's `CssClass` property to `ExpensivePriceEmphasis`.</span></span> <span data-ttu-id="d2cf9-177">Poniższy kod pokazuje program obsługi zdarzeń `DataBound` w całości:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-177">The following code shows the `DataBound` event handler in its entirety:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample7.vb)]

<span data-ttu-id="d2cf9-178">Podczas wyświetlania Chai, które zawierają koszty mniejsze niż $75,00, Cena jest wyświetlana w normalnej czcionce (zobacz rysunek 4).</span><span class="sxs-lookup"><span data-stu-id="d2cf9-178">When viewing Chai, which costs less than $75.00, the price is displayed in a normal font (see Figure 4).</span></span> <span data-ttu-id="d2cf9-179">Jednak podczas wyświetlania Mishi Kobe niku, który ma cenę $97,00, Cena jest wyświetlana w postaci pogrubionej, kursywy (patrz rysunek 5).</span><span class="sxs-lookup"><span data-stu-id="d2cf9-179">However, when viewing Mishi Kobe Niku, which has a price of $97.00, the price is displayed in a bold, italic font (see Figure 5).</span></span>

<span data-ttu-id="d2cf9-180">[Ceny ![mniejsze niż $75,00 są wyświetlane w normalnej czcionce](custom-formatting-based-upon-data-vb/_static/image9.png)](custom-formatting-based-upon-data-vb/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-180">[![Prices Less than $75.00 are Displayed in a Normal Font](custom-formatting-based-upon-data-vb/_static/image9.png)](custom-formatting-based-upon-data-vb/_static/image8.png)</span></span>

<span data-ttu-id="d2cf9-181">**Ilustracja 4**. ceny mniejsze niż $75,00 są wyświetlane w normalnej czcionce ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](custom-formatting-based-upon-data-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="d2cf9-181">**Figure 4**: Prices Less than $75.00 are Displayed in a Normal Font ([Click to view full-size image](custom-formatting-based-upon-data-vb/_static/image10.png))</span></span>

<span data-ttu-id="d2cf9-182">[Ceny ![ych kosztownych produktów są wyświetlane w postaci pogrubionej, kursywy](custom-formatting-based-upon-data-vb/_static/image12.png)](custom-formatting-based-upon-data-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-182">[![Expensive Products' Prices are Displayed in a Bold, Italic Font](custom-formatting-based-upon-data-vb/_static/image12.png)](custom-formatting-based-upon-data-vb/_static/image11.png)</span></span>

<span data-ttu-id="d2cf9-183">**Rysunek 5**. ceny kosztownych produktów są wyświetlane w postaci pogrubionej, kursywy ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](custom-formatting-based-upon-data-vb/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="d2cf9-183">**Figure 5**: Expensive Products' Prices are Displayed in a Bold, Italic Font ([Click to view full-size image](custom-formatting-based-upon-data-vb/_static/image13.png))</span></span>

## <a name="using-the-formview-controlsdataboundevent-handler"></a><span data-ttu-id="d2cf9-184">Korzystanie z programu obsługi zdarzeń`DataBound`kontrolki FormView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-184">Using the FormView Control's`DataBound`Event Handler</span></span>

<span data-ttu-id="d2cf9-185">Kroki określania danych bazowych powiązanych z elementem FormView są takie same jak w przypadku tworzenia zdarzeń `DataBound` w widoku DetailsView, rzutowania właściwości `DataItem` na odpowiedni typ obiektu powiązanego z kontrolką i określić, jak można wykonać operację.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-185">The steps for determining the underlying data bound to a FormView are identical to those for a DetailsView create a `DataBound` event handler, cast the `DataItem` property to the appropriate object type bound to the control, and determine how to proceed.</span></span> <span data-ttu-id="d2cf9-186">Widok FormView i DetailsView różnią się jednak w sposobie aktualizowania wyglądu interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-186">The FormView and DetailsView differ, however, in how their user interface's appearance is updated.</span></span>

<span data-ttu-id="d2cf9-187">Formant FormView nie zawiera żadnych BoundFields i dlatego nie ma kolekcji `Rows`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-187">The FormView does not contain any BoundFields and therefore lacks the `Rows` collection.</span></span> <span data-ttu-id="d2cf9-188">Zamiast tego, FormView składa się z szablonów, które mogą zawierać kombinację statycznych HTML, kontrolek sieci Web i składni wiązania danych.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-188">Instead, a FormView is composed of templates, which can contain a mix of static HTML, Web controls, and databinding syntax.</span></span> <span data-ttu-id="d2cf9-189">Dostosowanie stylu FormView zazwyczaj obejmuje dostosowanie stylu co najmniej jednej kontrolki sieci Web w ramach szablonów FormView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-189">Adjusting the style of a FormView typically involves adjusting the style of one or more of the Web controls within the FormView's templates.</span></span>

<span data-ttu-id="d2cf9-190">Aby to zilustrować, użyjmy FormView, aby wyświetlić listę produktów, takich jak w poprzednim przykładzie, ale ten czas będzie wyświetlał tylko nazwę produktu i jednostki w magazynie z jednostkami w magazynie w kolorze czerwonym, jeśli jest ona mniejsza lub równa 10.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-190">To illustrate this, let's use a FormView to list products like in the previous example, but this time let's display just the product name and units in stock with the units in stock displayed in a red font if it is less than or equal to 10.</span></span>

## <a name="step-4-displaying-the-product-information-in-a-formview"></a><span data-ttu-id="d2cf9-191">Krok 4. Wyświetlanie informacji o produkcie w widoku FormView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-191">Step 4: Displaying the Product Information in a FormView</span></span>

<span data-ttu-id="d2cf9-192">Dodaj element FormView do strony `CustomColors.aspx` poniżej widoku DetailsView i ustaw jej Właściwość `ID` na `LowStockedProductsInRed`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-192">Add a FormView to the `CustomColors.aspx` page beneath the DetailsView and set its `ID` property to `LowStockedProductsInRed`.</span></span> <span data-ttu-id="d2cf9-193">Powiąż element FormView z kontrolką elementu ObjectDataSource utworzonego w poprzednim kroku.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-193">Bind the FormView to the ObjectDataSource control created from the previous step.</span></span> <span data-ttu-id="d2cf9-194">Spowoduje to utworzenie `ItemTemplate`, `EditItemTemplate`i `InsertItemTemplate` dla widoku FormView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-194">This will create an `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate` for the FormView.</span></span> <span data-ttu-id="d2cf9-195">Usuń `EditItemTemplate` i `InsertItemTemplate` i Uprość `ItemTemplate` w celu uwzględnienia tylko wartości `ProductName` i `UnitsInStock`, z których każdy we własnych odpowiednio nazwanych kontrolkach etykiet.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-195">Remove the `EditItemTemplate` and `InsertItemTemplate` and simplify the `ItemTemplate` to include just the `ProductName` and `UnitsInStock` values, each in their own appropriately-named Label controls.</span></span> <span data-ttu-id="d2cf9-196">Podobnie jak w przypadku widoku DetailsView z wcześniejszego przykładu, zaznacz pole wyboru Włącz stronicowanie w tagu inteligentnym FormView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-196">As with the DetailsView from the earlier example, also check the Enable Paging checkbox in the FormView's smart tag.</span></span>

<span data-ttu-id="d2cf9-197">Po wprowadzeniu zmian znacznik FormView powinien wyglądać podobnie do poniższego:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-197">After these edits your FormView's markup should look similar to the following:</span></span>

[!code-aspx[Main](custom-formatting-based-upon-data-vb/samples/sample8.aspx)]

<span data-ttu-id="d2cf9-198">Należy pamiętać, że `ItemTemplate` zawiera:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-198">Note that the `ItemTemplate` contains:</span></span>

- <span data-ttu-id="d2cf9-199">**Statyczny kod HTML** tekst "Product:" i "jednostki w magazynie:" wraz z `<br />` i `<b>` elementów.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-199">**Static HTML** the text "Product:" and "Units In Stock:" along with the `<br />` and `<b>` elements.</span></span>
- <span data-ttu-id="d2cf9-200">**Formant sieci Web kontroluje** dwie kontrolki etykiet, `ProductNameLabel` i `UnitsInStockLabel`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-200">**Web controls** the two Label controls, `ProductNameLabel` and `UnitsInStockLabel`.</span></span>
- <span data-ttu-id="d2cf9-201">**Składnia wiązania** danych jest składnią `<%# Bind("ProductName") %>` i `<%# Bind("UnitsInStock") %>`, która przypisuje wartości z tych pól do właściwości `Text` formantów etykiet.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-201">**Databinding syntax** the `<%# Bind("ProductName") %>` and `<%# Bind("UnitsInStock") %>` syntax, which assigns the values from these fields to the Label controls' `Text` properties.</span></span>

## <a name="step-5-programmatically-determining-the-value-of-the-data-in-the-databound-event-handler"></a><span data-ttu-id="d2cf9-202">Krok 5. programistyczne Określanie wartości danych w programie obsługi zdarzeń powiązanych z danymi</span><span class="sxs-lookup"><span data-stu-id="d2cf9-202">Step 5: Programmatically Determining the Value of the Data in the DataBound Event Handler</span></span>

<span data-ttu-id="d2cf9-203">Po zakończeniu adiustacji FormView następnym krokiem jest programowe ustalenie, czy wartość `UnitsInStock` jest mniejsza niż lub równa 10.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-203">With the FormView's markup complete, the next step is to programmatically determine if the `UnitsInStock` value is less than or equal to 10.</span></span> <span data-ttu-id="d2cf9-204">Jest to realizowane w taki sam sposób, jak w widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-204">This is accomplished in the exact same manner with the FormView as it was with the DetailsView.</span></span> <span data-ttu-id="d2cf9-205">Zacznij od utworzenia obsługi zdarzeń dla zdarzenia `DataBound` FormView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-205">Start by creating an event handler for the FormView's `DataBound` event.</span></span>

![Tworzenie procedury obsługi zdarzeń powiązanej z danymi](custom-formatting-based-upon-data-vb/_static/image14.png)

<span data-ttu-id="d2cf9-207">**Ilustracja 6**. Tworzenie procedury obsługi zdarzeń `DataBound`</span><span class="sxs-lookup"><span data-stu-id="d2cf9-207">**Figure 6**: Create the `DataBound` Event Handler</span></span>

<span data-ttu-id="d2cf9-208">W obsłudze zdarzeń Właściwość `DataItem` FormView jest rzutowana na wystąpienie `ProductsRow` i określa, czy wartość `UnitsInPrice` jest taka, że musi ona być wyświetlana w czerwoną czcionką.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-208">In the event handler cast the FormView's `DataItem` property to a `ProductsRow` instance and determine whether the `UnitsInPrice` value is such that we need to display it in a red font.</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample9.vb)]

## <a name="step-6-formatting-the-unitsinstocklabel-label-control-in-the-formviews-itemtemplate"></a><span data-ttu-id="d2cf9-209">Krok 6. formatowanie kontrolki etykiety UnitsInStockLabel w ItemTemplate FormView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-209">Step 6: Formatting the UnitsInStockLabel Label Control in the FormView's ItemTemplate</span></span>

<span data-ttu-id="d2cf9-210">Ostatnim krokiem jest sformatowanie wyświetlanej wartości `UnitsInStock` w czerwonej czcionce, jeśli wartość wynosi 10 lub mniej.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-210">The final step is to format the displayed `UnitsInStock` value in a red font if the value is 10 or less.</span></span> <span data-ttu-id="d2cf9-211">Aby to osiągnąć, musimy programowo uzyskać dostęp do kontrolki `UnitsInStockLabel` w `ItemTemplate` i ustawić jej właściwości stylu tak, aby tekst był wyświetlany na czerwono.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-211">To accomplish this we need to programmatically access the `UnitsInStockLabel` control in the `ItemTemplate` and set its style properties so that its text is displayed in red.</span></span> <span data-ttu-id="d2cf9-212">Aby uzyskać dostęp do formantu sieci Web w szablonie, użyj metody `FindControl("controlID")` w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-212">To access a Web control in a template, use the `FindControl("controlID")` method like this:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample10.vb)]

<span data-ttu-id="d2cf9-213">Naszym Przykładem chcemy uzyskać dostęp do kontrolki etykiety, której wartość `ID` jest `UnitsInStockLabel`, dlatego będziemy używać następujących metod:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-213">For our example we want to access a Label control whose `ID` value is `UnitsInStockLabel`, so we'd use:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample11.vb)]

<span data-ttu-id="d2cf9-214">Gdy firma Microsoft udostępnia programowe odwołanie do formantu sieci Web, w razie potrzeby można zmodyfikować jego właściwości powiązane z stylem.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-214">Once we have a programmatic reference to the Web control, we can modify its style-related properties as needed.</span></span> <span data-ttu-id="d2cf9-215">Tak jak w przypadku wcześniejszego przykładu została utworzona Klasa CSS w `Styles.css` o nazwie `LowUnitsInStockEmphasis`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-215">As with the earlier example, I've created a CSS class in `Styles.css` named `LowUnitsInStockEmphasis`.</span></span> <span data-ttu-id="d2cf9-216">Aby zastosować ten styl do kontrolki sieci Web etykieta, Ustaw odpowiednio jej Właściwość `CssClass`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-216">To apply this style to the Label Web control, set its `CssClass` property accordingly.</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample12.vb)]

> [!NOTE]
> <span data-ttu-id="d2cf9-217">Składnia służąca do formatowania szablonu programowo uzyskującego dostęp do formantu sieci Web przy użyciu `FindControl("controlID")` a następnie ustawiając jego właściwości powiązane z stylem, można również użyć [Używanie TemplateField](https://msdn.microsoft.com/library/system.web.ui.webcontrols.templatefield(VS.80).aspx) w kontrolkach DetailsView lub GridView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-217">The syntax for formatting a template programmatically accessing the Web control using `FindControl("controlID")` and then setting its style-related properties can also be used when using [TemplateFields](https://msdn.microsoft.com/library/system.web.ui.webcontrols.templatefield(VS.80).aspx) in the DetailsView or GridView controls.</span></span> <span data-ttu-id="d2cf9-218">Będziemy analizować używanie TemplateField w naszym następnym samouczku.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-218">We'll examine TemplateFields in our next tutorial.</span></span>

<span data-ttu-id="d2cf9-219">Rysunki 7 przedstawiają FormView podczas wyświetlania produktu, którego `UnitsInStock` wartość jest większa niż 10, natomiast produkt na rysunku 8 ma swoją wartość mniejszą niż 10.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-219">Figures 7 shows the FormView when viewing a product whose `UnitsInStock` value is greater than 10, while the product in Figure 8 has its value less than 10.</span></span>

<span data-ttu-id="d2cf9-220">[![produktów z dostatecznie dużymi jednostkami w magazynie, nie jest stosowane formatowanie niestandardowe](custom-formatting-based-upon-data-vb/_static/image16.png)](custom-formatting-based-upon-data-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-220">[![For Products With a Sufficiently Large Units In Stock, No Custom Formatting is Applied](custom-formatting-based-upon-data-vb/_static/image16.png)](custom-formatting-based-upon-data-vb/_static/image15.png)</span></span>

<span data-ttu-id="d2cf9-221">**Rysunek 7**. w przypadku produktów z dostatecznie dużymi jednostkami w magazynie, nie jest stosowane formatowanie niestandardowe ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](custom-formatting-based-upon-data-vb/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="d2cf9-221">**Figure 7**: For Products With a Sufficiently Large Units In Stock, No Custom Formatting is Applied ([Click to view full-size image](custom-formatting-based-upon-data-vb/_static/image17.png))</span></span>

<span data-ttu-id="d2cf9-222">[![jednostki w numerze zapasów są wyświetlane na czerwono dla tych produktów o wartościach 10 lub mniej](custom-formatting-based-upon-data-vb/_static/image19.png)](custom-formatting-based-upon-data-vb/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-222">[![The Units in Stock Number is Shown in Red for Those Products With Values of 10 or Less](custom-formatting-based-upon-data-vb/_static/image19.png)](custom-formatting-based-upon-data-vb/_static/image18.png)</span></span>

<span data-ttu-id="d2cf9-223">**Rysunek 8**: jednostki w numerze zapasów są pokazane na czerwono dla tych produktów o wartościach 10 lub mniej ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](custom-formatting-based-upon-data-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="d2cf9-223">**Figure 8**: The Units in Stock Number is Shown in Red for Those Products With Values of 10 or Less ([Click to view full-size image](custom-formatting-based-upon-data-vb/_static/image20.png))</span></span>

## <a name="formatting-with-the-gridviewsrowdataboundevent"></a><span data-ttu-id="d2cf9-224">Formatowanie za pomocą zdarzenia`RowDataBound`GridView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-224">Formatting with the GridView's`RowDataBound`Event</span></span>

<span data-ttu-id="d2cf9-225">Wcześniej sprawdzono sekwencję kroków wykonywanych przez formant DetailsView i FormView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-225">Earlier we examined the sequence of steps the DetailsView and FormView controls progress through during databinding.</span></span> <span data-ttu-id="d2cf9-226">Przyjrzyjmy się tym krokom ponownie w celu odświeżenia.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-226">Let's look over these steps once again as a refresher.</span></span>

1. <span data-ttu-id="d2cf9-227">Zdarzenie `DataBinding` formantu sieci Web danych.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-227">The data Web control's `DataBinding` event fires.</span></span>
2. <span data-ttu-id="d2cf9-228">Dane są powiązane z formantem sieci Web danych.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-228">The data is bound to the data Web control.</span></span>
3. <span data-ttu-id="d2cf9-229">Zdarzenie `DataBound` formantu sieci Web danych.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-229">The data Web control's `DataBound` event fires.</span></span>

<span data-ttu-id="d2cf9-230">Te trzy proste kroki są wystarczające dla widoku DetailsView i FormView, ponieważ wyświetlają tylko jeden rekord.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-230">These three simple steps are sufficient for the DetailsView and FormView because they display only a single record.</span></span> <span data-ttu-id="d2cf9-231">Dla widoku GridView, w którym są wyświetlane *wszystkie* powiązane z nim rekordy (nie tylko pierwszy), krok 2 to nieco więcej.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-231">For the GridView, which displays *all* records bound to it (not just the first), step 2 is a bit more involved.</span></span>

<span data-ttu-id="d2cf9-232">W kroku 2 widok GridView wylicza źródło danych i dla każdego rekordu tworzy wystąpienie `GridViewRow` i wiąże bieżący rekord z nim.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-232">In step 2 the GridView enumerates the data source and, for each record, creates a `GridViewRow` instance and binds the current record to it.</span></span> <span data-ttu-id="d2cf9-233">Dla każdej `GridViewRow` dodanej do widoku GridView są zgłaszane dwa zdarzenia:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-233">For each `GridViewRow` added to the GridView, two events are raised:</span></span>

- <span data-ttu-id="d2cf9-234">**`RowCreated`** uruchamiany po utworzeniu `GridViewRow`</span><span class="sxs-lookup"><span data-stu-id="d2cf9-234">**`RowCreated`** fires after the `GridViewRow` has been created</span></span>
- <span data-ttu-id="d2cf9-235">**`RowDataBound`** uruchamiany po powiązaniu bieżącego rekordu z `GridViewRow`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-235">**`RowDataBound`** fires after the current record has been bound to the `GridViewRow`.</span></span>

<span data-ttu-id="d2cf9-236">W przypadku widoku GridView szczegółowe dane są bardziej szczegółowo opisane w następującej kolejności kroków:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-236">For the GridView, then, data binding is more accurately described by the following sequence of steps:</span></span>

1. <span data-ttu-id="d2cf9-237">Zdarzenie `DataBinding` GridView zostanie wyzwolone.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-237">The GridView's `DataBinding` event fires.</span></span>
2. <span data-ttu-id="d2cf9-238">Dane są powiązane z elementem GridView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-238">The data is bound to the GridView.</span></span>   
  
   <span data-ttu-id="d2cf9-239">Dla każdego rekordu w źródle danych</span><span class="sxs-lookup"><span data-stu-id="d2cf9-239">For each record in the data source</span></span> 

    1. <span data-ttu-id="d2cf9-240">Tworzenie obiektu `GridViewRow`</span><span class="sxs-lookup"><span data-stu-id="d2cf9-240">Create a `GridViewRow` object</span></span>
    2. <span data-ttu-id="d2cf9-241">Wyzwalanie zdarzenia `RowCreated`</span><span class="sxs-lookup"><span data-stu-id="d2cf9-241">Fire the `RowCreated` event</span></span>
    3. <span data-ttu-id="d2cf9-242">Powiąż rekord z `GridViewRow`</span><span class="sxs-lookup"><span data-stu-id="d2cf9-242">Bind the record to the `GridViewRow`</span></span>
    4. <span data-ttu-id="d2cf9-243">Wyzwalanie zdarzenia `RowDataBound`</span><span class="sxs-lookup"><span data-stu-id="d2cf9-243">Fire the `RowDataBound` event</span></span>
    5. <span data-ttu-id="d2cf9-244">Dodawanie `GridViewRow` do kolekcji `Rows`</span><span class="sxs-lookup"><span data-stu-id="d2cf9-244">Add the `GridViewRow` to the `Rows` collection</span></span>
3. <span data-ttu-id="d2cf9-245">Zdarzenie `DataBound` GridView zostanie wyzwolone.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-245">The GridView's `DataBound` event fires.</span></span>

<span data-ttu-id="d2cf9-246">Aby dostosować format poszczególnych rekordów GridView, należy utworzyć procedurę obsługi zdarzeń dla zdarzenia `RowDataBound`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-246">To customize the format of the GridView's individual records, then, we need to create an event handler for the `RowDataBound` event.</span></span> <span data-ttu-id="d2cf9-247">Aby to zilustrować, dodajmy element GridView do strony `CustomColors.aspx`, która zawiera nazwę, kategorię i cenę każdego produktu, a następnie wyróżnij te produkty, których cena jest mniejsza niż $10,00 i żółtym kolorem tła.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-247">To illustrate this, let's add a GridView to the `CustomColors.aspx` page that lists the name, category, and price for each product, highlighting those products whose price is less than $10.00 with a yellow background color.</span></span>

## <a name="step-7-displaying-product-information-in-a-gridview"></a><span data-ttu-id="d2cf9-248">Krok 7. Wyświetlanie informacji o produkcie w widoku GridView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-248">Step 7: Displaying Product Information in a GridView</span></span>

<span data-ttu-id="d2cf9-249">Dodaj widok GridView poniżej FormView z poprzedniego przykładu i ustaw jego właściwość `ID` na `HighlightCheapProducts`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-249">Add a GridView beneath the FormView from the previous example and set its `ID` property to `HighlightCheapProducts`.</span></span> <span data-ttu-id="d2cf9-250">Ponieważ mamy już element ObjectDataSource, który zwraca wszystkie produkty na stronie, powiąż widok GridView z tym.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-250">Since we already have an ObjectDataSource that returns all products on the page, bind the GridView to that.</span></span> <span data-ttu-id="d2cf9-251">Na koniec Edytuj BoundFields GridView, aby uwzględnić tylko nazwy produktów, kategorie i ceny.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-251">Finally, edit the GridView's BoundFields to include just the products' names, categories, and prices.</span></span> <span data-ttu-id="d2cf9-252">Po edycji znacznik GridView powinien wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-252">After these edits the GridView's markup should look like:</span></span>

[!code-aspx[Main](custom-formatting-based-upon-data-vb/samples/sample13.aspx)]

<span data-ttu-id="d2cf9-253">Rysunek 9 przedstawia postęp w tym punkcie, gdy jest wyświetlany za pomocą przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-253">Figure 9 shows our progress to this point when viewed through a browser.</span></span>

<span data-ttu-id="d2cf9-254">[![GridView wyświetla nazwę, kategorię i cenę każdego produktu](custom-formatting-based-upon-data-vb/_static/image22.png)](custom-formatting-based-upon-data-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-254">[![The GridView Lists the Name, Category, and Price For Each Product](custom-formatting-based-upon-data-vb/_static/image22.png)](custom-formatting-based-upon-data-vb/_static/image21.png)</span></span>

<span data-ttu-id="d2cf9-255">**Ilustracja 9**. w widoku GridView wyświetlana jest nazwa, Kategoria i cena każdego produktu ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](custom-formatting-based-upon-data-vb/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="d2cf9-255">**Figure 9**: The GridView Lists the Name, Category, and Price For Each Product ([Click to view full-size image](custom-formatting-based-upon-data-vb/_static/image23.png))</span></span>

## <a name="step-8-programmatically-determining-the-value-of-the-data-in-the-rowdatabound-event-handler"></a><span data-ttu-id="d2cf9-256">Krok 8. programistyczne Określanie wartości danych w programie obsługi zdarzeń RowDataBound</span><span class="sxs-lookup"><span data-stu-id="d2cf9-256">Step 8: Programmatically Determining the Value of the Data in the RowDataBound Event Handler</span></span>

<span data-ttu-id="d2cf9-257">Gdy `ProductsDataTable` jest powiązany z elementem GridView, jego wystąpienia `ProductsRow` są wyliczane i dla każdego `ProductsRow` zostanie utworzony `GridViewRow`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-257">When the `ProductsDataTable` is bound to the GridView its `ProductsRow` instances are enumerated and for each `ProductsRow` a `GridViewRow` is created.</span></span> <span data-ttu-id="d2cf9-258">Właściwość `DataItem` `GridViewRow`jest przypisywana do określonego `ProductRow`, po której zostanie zgłoszony program obsługi zdarzeń `RowDataBound` elementu GridView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-258">The `GridViewRow`'s `DataItem` property is assigned to the particular `ProductRow`, after which the GridView's `RowDataBound` event handler is raised.</span></span> <span data-ttu-id="d2cf9-259">Aby określić `UnitPrice` wartość dla każdego produktu powiązanego z elementem GridView, należy utworzyć procedurę obsługi zdarzeń dla zdarzenia `RowDataBound` GridView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-259">To determine the `UnitPrice` value for each product bound to the GridView, then, we need to create an event handler for the GridView's `RowDataBound` event.</span></span> <span data-ttu-id="d2cf9-260">W tym obsłudze zdarzeń możemy sprawdzić `UnitPrice` wartość dla bieżącego `GridViewRow` i wprowadzić decyzję o formatowaniu dla tego wiersza.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-260">In this event handler we can inspect the `UnitPrice` value for the current `GridViewRow` and make a formatting decision for that row.</span></span>

<span data-ttu-id="d2cf9-261">Ten program obsługi zdarzeń można utworzyć, korzystając z tej samej serii kroków jak w przypadku widoku FormView i DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-261">This event handler can be created using the same series of steps as with the FormView and DetailsView.</span></span>

![Utwórz procedurę obsługi zdarzeń dla zdarzenia RowDataBound GridView](custom-formatting-based-upon-data-vb/_static/image24.png)

<span data-ttu-id="d2cf9-263">**Ilustracja 10**. Tworzenie obsługi zdarzeń dla zdarzenia `RowDataBound` GridView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-263">**Figure 10**: Create an Event Handler for the GridView's `RowDataBound` Event</span></span>

<span data-ttu-id="d2cf9-264">Utworzenie programu obsługi zdarzeń w ten sposób spowoduje automatyczne dodanie następującego kodu do fragmentu kodu strony ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-264">Creating the event handler in this manner will cause the following code to be automatically added to the ASP.NET page's code portion:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample14.vb)]

<span data-ttu-id="d2cf9-265">Gdy zdarzenie `RowDataBound` zostanie wyzwolone, program obsługi zdarzeń jest przenoszona jako drugi parametr obiektu typu `GridViewRowEventArgs`, który ma właściwość o nazwie `Row`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-265">When the `RowDataBound` event fires, the event handler is passed as its second parameter an object of type `GridViewRowEventArgs`, which has a property named `Row`.</span></span> <span data-ttu-id="d2cf9-266">Ta właściwość zwraca odwołanie do `GridViewRow`, która była tylko powiązana z danymi.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-266">This property returns a reference to the `GridViewRow` that was just data bound.</span></span> <span data-ttu-id="d2cf9-267">Aby uzyskać dostęp do wystąpienia `ProductsRow` powiązanego z `GridViewRow` używamy właściwości `DataItem`, takiej jak:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-267">To access the `ProductsRow` instance bound to the `GridViewRow` we use the `DataItem` property like so:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample15.vb)]

<span data-ttu-id="d2cf9-268">Podczas pracy z programem obsługi zdarzeń `RowDataBound` należy pamiętać, że widok GridView składa się z różnych typów wierszy i że to zdarzenie jest wywoływane dla *wszystkich* typów wierszy.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-268">When working with the `RowDataBound` event handler it is important to keep in mind that the GridView is composed of different types of rows and that this event is fired for *all* row types.</span></span> <span data-ttu-id="d2cf9-269">Typ `GridViewRow`może być określony przez jego właściwość `RowType` i może mieć jedną z możliwych wartości:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-269">A `GridViewRow`'s type can be determined by its `RowType` property, and can have one of the possible values:</span></span>

- <span data-ttu-id="d2cf9-270">`DataRow` wiersz, który jest powiązany z rekordem z `DataSource` GridView</span><span class="sxs-lookup"><span data-stu-id="d2cf9-270">`DataRow` a row that is bound to a record from the GridView's `DataSource`</span></span>
- <span data-ttu-id="d2cf9-271">`EmptyDataRow` wyświetlany wiersz, gdy `DataSource` GridView jest pusty</span><span class="sxs-lookup"><span data-stu-id="d2cf9-271">`EmptyDataRow` the row displayed if the GridView's `DataSource` is empty</span></span>
- <span data-ttu-id="d2cf9-272">`Footer` wiersz stopki; wyświetlany, jeśli właściwość `ShowFooter` GridView jest ustawiona na `True`</span><span class="sxs-lookup"><span data-stu-id="d2cf9-272">`Footer` the footer row; shown if the GridView's `ShowFooter` property is set to `True`</span></span>
- <span data-ttu-id="d2cf9-273">`Header` wiersza nagłówka; wyświetlany, jeśli właściwość ShowHeader widoku GridView ma wartość `True` (wartość domyślna)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-273">`Header` the header row; shown if the GridView's ShowHeader property is set to `True` (the default)</span></span>
- <span data-ttu-id="d2cf9-274">`Pager` dla elementu GridView implementującego stronicowanie, wiersz, w którym jest wyświetlany interfejs stronicowania</span><span class="sxs-lookup"><span data-stu-id="d2cf9-274">`Pager` for GridView's that implement paging, the row that displays the paging interface</span></span>
- <span data-ttu-id="d2cf9-275">`Separator` nie jest używany dla widoku GridView, ale jest używany przez właściwości `RowType` dla kontrolek DataList i wzmacniak, dwie kontrolki sieci Web danych, które będziemy omówić w przyszłych samouczkach</span><span class="sxs-lookup"><span data-stu-id="d2cf9-275">`Separator` not used for the GridView, but used by the `RowType` properties for the DataList and Repeater controls, two data Web controls we'll discuss in future tutorials</span></span>

<span data-ttu-id="d2cf9-276">Ponieważ `EmptyDataRow`, `Header`, `Footer`i `Pager` wierszy nie są skojarzone z rekordem `DataSource`, zawsze będą mieć wartość `Nothing` dla właściwości `DataItem`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-276">Since the `EmptyDataRow`, `Header`, `Footer`, and `Pager` rows aren't associated with a `DataSource` record, they will always have a value of `Nothing` for their `DataItem` property.</span></span> <span data-ttu-id="d2cf9-277">Z tego powodu przed podjęciem próby pracy z bieżącą właściwością `DataItem` `GridViewRow`należy najpierw upewnić się, że prowadzimy Cię przez nas `DataRow`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-277">For this reason, before attempting to work with the current `GridViewRow`'s `DataItem` property, we first must make sure that we're dealing with a `DataRow`.</span></span> <span data-ttu-id="d2cf9-278">Można to osiągnąć, sprawdzając Właściwość `RowType` `GridViewRow`, tak jak:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-278">This can be accomplished by checking the `GridViewRow`'s `RowType` property like so:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample16.vb)]

## <a name="step-9-highlighting-the-row-yellow-when-the-unitprice-value-is-less-than-1000"></a><span data-ttu-id="d2cf9-279">Krok 9: wyróżnianie wiersza żółty, gdy wartość CenaJednostkowa jest mniejsza niż $10,00</span><span class="sxs-lookup"><span data-stu-id="d2cf9-279">Step 9: Highlighting the Row Yellow When the UnitPrice Value is Less than $10.00</span></span>

<span data-ttu-id="d2cf9-280">Ostatnim krokiem jest programowe wyróżnianie całego `GridViewRow`, jeśli wartość `UnitPrice` dla tego wiersza jest mniejsza niż $10,00.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-280">The last step is to programmatically highlight the entire `GridViewRow` if the `UnitPrice` value for that row is less than $10.00.</span></span> <span data-ttu-id="d2cf9-281">Składnia służąca do uzyskiwania dostępu do wierszy lub komórek GridView jest taka sama jak w przypadku `GridViewID.Rows(index)` DetailsView, aby uzyskać dostęp do całego wiersza, `GridViewID.Rows(index).Cells(index)`, aby uzyskać dostęp do określonej komórki.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-281">The syntax for accessing a GridView's rows or cells is the same as with the DetailsView `GridViewID.Rows(index)` to access the entire row, `GridViewID.Rows(index).Cells(index)` to access a particular cell.</span></span> <span data-ttu-id="d2cf9-282">Jednak gdy program obsługi zdarzeń `RowDataBound` wyzwala, `GridViewRow` powiązana z danymi nie została jeszcze dodana do kolekcji `Rows` GridView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-282">However, when the `RowDataBound` event handler fires the data bound `GridViewRow` has yet to be added to the GridView's `Rows` collection.</span></span> <span data-ttu-id="d2cf9-283">W związku z tym nie można uzyskać dostępu do bieżącego wystąpienia `GridViewRow` z programu obsługi zdarzeń `RowDataBound` przy użyciu kolekcji wierszy.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-283">Therefore you cannot access the current `GridViewRow` instance from the `RowDataBound` event handler using the Rows collection.</span></span>

<span data-ttu-id="d2cf9-284">Zamiast `GridViewID.Rows(index)`można odwoływać się do bieżącego wystąpienia `GridViewRow` w programie obsługi zdarzeń `RowDataBound` przy użyciu `e.Row`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-284">Instead of `GridViewID.Rows(index)`, we can reference the current `GridViewRow` instance in the `RowDataBound` event handler using `e.Row`.</span></span> <span data-ttu-id="d2cf9-285">Oznacza to, że w celu wyróżnienia bieżącego wystąpienia `GridViewRow` z programu obsługi zdarzeń `RowDataBound`, z którego korzystamy:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-285">That is, in order to highlight the current `GridViewRow` instance from the `RowDataBound` event handler we would use:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample17.vb)]

<span data-ttu-id="d2cf9-286">Zamiast ustawiać właściwość `BackColor` `GridViewRow`bezpośrednio, Zacznijmy od używania klas CSS.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-286">Rather than set the `GridViewRow`'s `BackColor` property directly, let's stick with using CSS classes.</span></span> <span data-ttu-id="d2cf9-287">Utworzyliśmy klasę CSS o nazwie `AffordablePriceEmphasis`, która ustawia kolor tła na żółty.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-287">I've created a CSS class named `AffordablePriceEmphasis` that sets the background color to yellow.</span></span> <span data-ttu-id="d2cf9-288">Zakończono procedurę obsługi zdarzeń `RowDataBound`:</span><span class="sxs-lookup"><span data-stu-id="d2cf9-288">The completed `RowDataBound` event handler follows:</span></span>

[!code-vb[Main](custom-formatting-based-upon-data-vb/samples/sample18.vb)]

<span data-ttu-id="d2cf9-289">[![najbardziej atrakcyjne produkty są wyróżnione jako żółte](custom-formatting-based-upon-data-vb/_static/image26.png)](custom-formatting-based-upon-data-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-289">[![The Most Affordable Products are Highlighted Yellow](custom-formatting-based-upon-data-vb/_static/image26.png)](custom-formatting-based-upon-data-vb/_static/image25.png)</span></span>

<span data-ttu-id="d2cf9-290">**Ilustracja 11**. najbardziej atrakcyjne produkty są wyróżnione jako żółte ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](custom-formatting-based-upon-data-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="d2cf9-290">**Figure 11**: The Most Affordable Products are Highlighted Yellow ([Click to view full-size image](custom-formatting-based-upon-data-vb/_static/image27.png))</span></span>

## <a name="summary"></a><span data-ttu-id="d2cf9-291">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="d2cf9-291">Summary</span></span>

<span data-ttu-id="d2cf9-292">W tym samouczku przedstawiono sposób formatowania widoku GridView, DetailsView i FormView na podstawie danych powiązanych z kontrolką.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-292">In this tutorial we saw how to format the GridView, DetailsView, and FormView based on the data bound to the control.</span></span> <span data-ttu-id="d2cf9-293">W tym celu została utworzona procedura obsługi zdarzeń dla zdarzeń `DataBound` lub `RowDataBound`, w przypadku których dane podstawowe zostały zbadane wraz ze zmianą formatowania, w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-293">To accomplish this we created an event handler for the `DataBound` or `RowDataBound` events, where the underlying data was examined along with a formatting change, if needed.</span></span> <span data-ttu-id="d2cf9-294">Aby uzyskać dostęp do danych powiązanych z formantem DetailsView lub FormView, użyjemy właściwości `DataItem` w programie obsługi zdarzeń `DataBound`; dla widoku GridView Każda właściwość `DataItem` wystąpienia `GridViewRow` zawiera dane powiązane z tym wierszem, który jest dostępny w programie obsługi zdarzeń `RowDataBound`.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-294">To access the data bound to a DetailsView or FormView, we use the `DataItem` property in the `DataBound` event handler; for a GridView, each `GridViewRow` instance's `DataItem` property contains the data bound to that row, which is available in the `RowDataBound` event handler.</span></span>

<span data-ttu-id="d2cf9-295">Składnia służąca do programistycznego dostosowywania formatowania kontrolki sieci Web danych zależy od kontrolki sieci Web i sposobu wyświetlania danych.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-295">The syntax for programmatically adjusting the data Web control's formatting depends upon the Web control and how the data to be formatted is displayed.</span></span> <span data-ttu-id="d2cf9-296">W przypadku kontrolek DetailsView i GridView można uzyskać dostęp do wierszy i komórek za pomocą indeksu porządkowego.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-296">For DetailsView and GridView controls, the rows and cells can be accessed by an ordinal index.</span></span> <span data-ttu-id="d2cf9-297">Dla widoku FormView, który używa szablonów, Metoda `FindControl("controlID")` jest często używana do lokalizowania formantu sieci Web z poziomu szablonu.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-297">For the FormView, which uses templates, the `FindControl("controlID")` method is commonly used to locate a Web control from within the template.</span></span>

<span data-ttu-id="d2cf9-298">W następnym samouczku dowiesz się, jak używać szablonów z widokami GridView i DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-298">In the next tutorial we'll look at how to use templates with the GridView and DetailsView.</span></span> <span data-ttu-id="d2cf9-299">Dodatkowo zobaczymy kolejną technikę dostosowywania formatowania w oparciu o dane bazowe.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-299">Additionally, we'll see another technique for customizing the formatting based on the underlying data.</span></span>

<span data-ttu-id="d2cf9-300">Szczęśliwe programowanie!</span><span class="sxs-lookup"><span data-stu-id="d2cf9-300">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="d2cf9-301">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="d2cf9-301">About the Author</span></span>

<span data-ttu-id="d2cf9-302">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor siedmiu grup ASP/ASP. NET Books i założyciel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracował z technologiami sieci Web firmy Microsoft od czasu 1998.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-302">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="d2cf9-303">Scott działa jako niezależny konsultant, trainer i składnik zapisywania.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-303">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="d2cf9-304">Jego Najnowsza książka to [*Sams ASP.NET 2,0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="d2cf9-304">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="d2cf9-305">Można go osiągnąć w [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-305">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="d2cf9-306">lub za pośrednictwem swojego blogu, który można znaleźć w [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="d2cf9-306">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="d2cf9-307">Specjalne podziękowania</span><span class="sxs-lookup"><span data-stu-id="d2cf9-307">Special Thanks To</span></span>

<span data-ttu-id="d2cf9-308">Ta seria samouczków została sprawdzona przez wielu przydatnych recenzentów.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-308">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="d2cf9-309">Recenzenci liderzy dla tego samouczka zostali E.R.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-309">Lead reviewers for this tutorial were E.R.</span></span> <span data-ttu-id="d2cf9-310">Gilmore, Dennis Patterson i Dan Jagers.</span><span class="sxs-lookup"><span data-stu-id="d2cf9-310">Gilmore, Dennis Patterson, and Dan Jagers.</span></span> <span data-ttu-id="d2cf9-311">Chcesz przeglądać moje nadchodzące artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="d2cf9-311">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="d2cf9-312">Jeśli tak, upuść mi linię w [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-312">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d2cf9-313">[Poprzednie](displaying-summary-information-in-the-gridview-s-footer-cs.md)
> [dalej](using-templatefields-in-the-gridview-control-vb.md)</span><span class="sxs-lookup"><span data-stu-id="d2cf9-313">[Previous](displaying-summary-information-in-the-gridview-s-footer-cs.md)
[Next](using-templatefields-in-the-gridview-control-vb.md)</span></span>
