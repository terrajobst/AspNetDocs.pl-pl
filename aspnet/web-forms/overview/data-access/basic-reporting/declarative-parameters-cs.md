---
uid: web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
title: Parametry deklaratywneC#() | Microsoft Docs
author: rick-anderson
description: W tym samouczku pokazano, jak za pomocą zestawu parametrów ustawić zakodowaną wartość, aby wybrać dane do wyświetlenia w formancie DetailsView.
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 603c9bd3-b895-4ec6-853b-0c81ff36d580
msc.legacyurl: /web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
msc.type: authoredcontent
ms.openlocfilehash: 87c8cfe064abc536e6015b0e553618981da9fefe
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78597273"
---
# <a name="declarative-parameters-c"></a><span data-ttu-id="535b7-103">Parametry deklaratywne (C#)</span><span class="sxs-lookup"><span data-stu-id="535b7-103">Declarative Parameters (C#)</span></span>

<span data-ttu-id="535b7-104">przez [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="535b7-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="535b7-105">[Pobierz przykładową aplikację](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) lub [Pobierz plik PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="535b7-105">[Download Sample App](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) or [Download PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span></span>

> <span data-ttu-id="535b7-106">W tym samouczku pokazano, jak za pomocą zestawu parametrów ustawić zakodowaną wartość, aby wybrać dane do wyświetlenia w formancie DetailsView.</span><span class="sxs-lookup"><span data-stu-id="535b7-106">In this tutorial we'll illustrate how to use a parameter set to a hard-coded value to select the data to display in a DetailsView control.</span></span>

## <a name="introduction"></a><span data-ttu-id="535b7-107">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="535b7-107">Introduction</span></span>

<span data-ttu-id="535b7-108">W [ostatnim samouczku](displaying-data-with-the-objectdatasource-cs.md) oglądamy wyświetlanie danych za pomocą kontrolek GridView, DetailsView i FormView powiązanych z kontrolką ObjectDataSource, która wywołała metodę `GetProducts()` z klasy `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="535b7-108">In the [last tutorial](displaying-data-with-the-objectdatasource-cs.md) we looked at displaying data with the GridView, DetailsView, and FormView controls bound to an ObjectDataSource control that invoked the `GetProducts()` method from the `ProductsBLL` class.</span></span> <span data-ttu-id="535b7-109">Metoda `GetProducts()` zwraca element DataTable o jednoznacznie określonym typie, wypełniony ze wszystkimi rekordami z tabeli `Products` bazy danych Northwind.</span><span class="sxs-lookup"><span data-stu-id="535b7-109">The `GetProducts()` method returns a strongly-typed DataTable populated with all of the records from the Northwind database's `Products` table.</span></span> <span data-ttu-id="535b7-110">Klasa `ProductsBLL` zawiera dodatkowe metody zwracające tylko podzestawy produktów — `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`i `GetProductsBySupplierID(supplierID)`.</span><span class="sxs-lookup"><span data-stu-id="535b7-110">The `ProductsBLL` class contains additional methods for returning just subsets of the products - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, and `GetProductsBySupplierID(supplierID)`.</span></span> <span data-ttu-id="535b7-111">Te trzy metody oczekują parametru wejściowego wskazującego sposób filtrowania zwróconych informacji o produkcie.</span><span class="sxs-lookup"><span data-stu-id="535b7-111">These three methods expect an input parameter indicating how to filter the returned product information.</span></span>

<span data-ttu-id="535b7-112">Element ObjectDataSource może służyć do wywoływania metod, które oczekują parametrów wejściowych, ale w tym celu należy określić miejsce, z którego pochodzą wartości tych parametrów.</span><span class="sxs-lookup"><span data-stu-id="535b7-112">The ObjectDataSource can be used to invoke methods that expect input parameters, but in order to do so we must specify where the values for these parameters come from.</span></span> <span data-ttu-id="535b7-113">Wartości parametrów mogą być zakodowane na stałe lub mogą pochodzić z różnych źródeł dynamicznych, w tym: wartości QueryString, zmienne sesji, wartość właściwości kontrolki sieci Web na stronie lub inne.</span><span class="sxs-lookup"><span data-stu-id="535b7-113">The parameter values can be hard-coded or can come from a variety of dynamic sources, including: querystring values, Session variables, the property value of a Web control on the page, or others.</span></span>

<span data-ttu-id="535b7-114">Na potrzeby tego samouczka Zacznijmy od zilustrowania sposobu używania parametru jako wartości zakodowanej.</span><span class="sxs-lookup"><span data-stu-id="535b7-114">For this tutorial let's start by illustrating how to use a parameter set to a hard-coded value.</span></span> <span data-ttu-id="535b7-115">W szczególności Przyjrzyjmy się dodawaniu widoku DetailsView do strony zawierającej informacje dotyczące konkretnego produktu, a mianowicie Chef Anton Gumbo, który ma `ProductID` 5.</span><span class="sxs-lookup"><span data-stu-id="535b7-115">Specifically, we'll look at adding a DetailsView to the page that displays information about a specific product, namely Chef Anton's Gumbo Mix, which has a `ProductID` of 5.</span></span> <span data-ttu-id="535b7-116">Następnie zobaczymy, jak ustawić wartość parametru na podstawie kontrolki sieci Web.</span><span class="sxs-lookup"><span data-stu-id="535b7-116">Next, we'll see how to set the parameter value based on a Web control.</span></span> <span data-ttu-id="535b7-117">W szczególności użyjemy pola tekstowego, aby zezwolić na typ użytkownika w kraju, po którym można kliknąć przycisk, aby wyświetlić listę dostawców znajdujących się w tym kraju.</span><span class="sxs-lookup"><span data-stu-id="535b7-117">In particular, we'll use a TextBox to let the user type in a country, after which they can click a Button to see the list of suppliers that reside in that country.</span></span>

## <a name="using-a-hard-coded-parameter-value"></a><span data-ttu-id="535b7-118">Używanie zakodowanej wartości parametru</span><span class="sxs-lookup"><span data-stu-id="535b7-118">Using a Hard-Coded Parameter Value</span></span>

<span data-ttu-id="535b7-119">Dla pierwszego przykładu Zacznij od dodania kontrolki DetailsView do strony `DeclarativeParams.aspx` w folderze `BasicReporting`.</span><span class="sxs-lookup"><span data-stu-id="535b7-119">For the first example, start by adding a DetailsView control to the `DeclarativeParams.aspx` page in the `BasicReporting` folder.</span></span> <span data-ttu-id="535b7-120">Z poziomu tagu inteligentnego DetailsView wybierz pozycję &lt;nowe źródło danych&gt; z listy rozwijanej i wybierz opcję dodania elementu ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="535b7-120">From the DetailsView's smart tag, select &lt;New data source&gt; from the drop-down list and choose to add an ObjectDataSource.</span></span>

<span data-ttu-id="535b7-121">[![dodać elementu ObjectDataSource do strony](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-121">[![Add an ObjectDataSource to the Page](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span></span>

<span data-ttu-id="535b7-122">**Rysunek 1**. Dodawanie elementu ObjectDataSource do strony ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](declarative-parameters-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-122">**Figure 1**: Add an ObjectDataSource to the Page ([Click to view full-size image](declarative-parameters-cs/_static/image3.png))</span></span>

<span data-ttu-id="535b7-123">Spowoduje to automatyczne uruchomienie Kreatora wyboru źródła danych kontrolki ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="535b7-123">This will automatically start the ObjectDataSource control's Choose Data Source wizard.</span></span> <span data-ttu-id="535b7-124">Wybierz klasę `ProductsBLL` z pierwszego ekranu kreatora.</span><span class="sxs-lookup"><span data-stu-id="535b7-124">Select the `ProductsBLL` class from the first screen of the wizard.</span></span>

<span data-ttu-id="535b7-125">[![wybrać klasy ProductsBLL](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-125">[![Select the ProductsBLL Class](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span></span>

<span data-ttu-id="535b7-126">**Rysunek 2**. wybieranie klasy `ProductsBLL` ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](declarative-parameters-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-126">**Figure 2**: Select the `ProductsBLL` Class ([Click to view full-size image](declarative-parameters-cs/_static/image6.png))</span></span>

<span data-ttu-id="535b7-127">Ponieważ chcemy wyświetlić informacje o konkretnym produkcie, chcemy użyć metody `GetProductByProductID(productID)`.</span><span class="sxs-lookup"><span data-stu-id="535b7-127">Since we want to display information about a particular product we want to use the `GetProductByProductID(productID)` method.</span></span>

<span data-ttu-id="535b7-128">[![wybrać metodę GetProductByProductID (productID)](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-128">[![Choose the GetProductByProductID(productID) method](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span></span>

<span data-ttu-id="535b7-129">**Rysunek 3**. wybierz metodę `GetProductByProductID(productID)` ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](declarative-parameters-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-129">**Figure 3**: Choose the `GetProductByProductID(productID)` method ([Click to view full-size image](declarative-parameters-cs/_static/image9.png))</span></span>

<span data-ttu-id="535b7-130">Ponieważ wybrana metoda zawiera parametr, istnieje jeszcze jeden ekran dla kreatora, w którym zostanie wyświetlony monit o zdefiniowanie wartości do użycia dla parametru.</span><span class="sxs-lookup"><span data-stu-id="535b7-130">Since the method we selected includes a parameter, there's one more screen for the wizard, where we're asked to define the value to be used for the parameter.</span></span> <span data-ttu-id="535b7-131">Na liście po lewej stronie są wyświetlane wszystkie parametry wybranej metody.</span><span class="sxs-lookup"><span data-stu-id="535b7-131">The list on the left shows all of the parameters for the selected method.</span></span> <span data-ttu-id="535b7-132">W przypadku `GetProductByProductID(productID)` istnieje tylko jeden `productID`.</span><span class="sxs-lookup"><span data-stu-id="535b7-132">For `GetProductByProductID(productID)` there's only one `productID`.</span></span> <span data-ttu-id="535b7-133">Po prawej stronie możemy określić wartość wybranego parametru.</span><span class="sxs-lookup"><span data-stu-id="535b7-133">On the right we can specify the value for the selected parameter.</span></span> <span data-ttu-id="535b7-134">Lista rozwijana Źródło parametrów wylicza różne możliwe źródła dla wartości parametru.</span><span class="sxs-lookup"><span data-stu-id="535b7-134">The parameter source drop-down list enumerates the various possible sources for the parameter value.</span></span> <span data-ttu-id="535b7-135">Ponieważ chcemy określić ustaloną wartość 5 dla parametru `productID`, pozostaw Źródło parametru jako brak i wprowadź wartość 5 w polu tekstowym DefaultValue.</span><span class="sxs-lookup"><span data-stu-id="535b7-135">Since we want to specify a hard-coded value of 5 for the `productID` parameter, leave the Parameter source as None and enter 5 into the DefaultValue textbox.</span></span>

<span data-ttu-id="535b7-136">[![ustalona wartość parametru 5 zostanie użyta dla parametru productID](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-136">[![A Hard-Coded Parameter Value of 5 Will Be Used for the productID Parameter](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span></span>

<span data-ttu-id="535b7-137">**Ilustracja 4**. dla parametru `productID` zostanie użyta twarda wartość parametru 5 ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](declarative-parameters-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-137">**Figure 4**: A Hard-Coded Parameter Value of 5 Will Be Used for the `productID` Parameter ([Click to view full-size image](declarative-parameters-cs/_static/image12.png))</span></span>

<span data-ttu-id="535b7-138">Po zakończeniu działania Kreatora konfiguracji źródła danych, znaczniki deklaratywne kontrolki ObjectDataSource zawierają obiekt `Parameter` w kolekcji `SelectParameters` dla każdego z parametrów wejściowych oczekiwanych przez metodę zdefiniowaną we właściwości `SelectMethod`.</span><span class="sxs-lookup"><span data-stu-id="535b7-138">After completing the Configure Data Source wizard, the ObjectDataSource control's declarative markup includes a `Parameter` object in the `SelectParameters` collection for each of the input parameters expected by the method defined in the `SelectMethod` property.</span></span> <span data-ttu-id="535b7-139">Ponieważ metoda, której używamy w tym przykładzie, oczekuje tylko jednego parametru wejściowego, `parameterID`, w tym miejscu znajduje się tylko jeden wpis.</span><span class="sxs-lookup"><span data-stu-id="535b7-139">Since the method we're using in this example expects just a single input parameter, `parameterID`, there's only one entry here.</span></span> <span data-ttu-id="535b7-140">Kolekcja `SelectParameters` może zawierać dowolną klasę, która dziedziczy z klasy `Parameter` w przestrzeni nazw `System.Web.UI.WebControls`.</span><span class="sxs-lookup"><span data-stu-id="535b7-140">The `SelectParameters` collection can contain any class that derives from the `Parameter` class in the `System.Web.UI.WebControls` namespace.</span></span> <span data-ttu-id="535b7-141">W przypadku zakodowanych wartości parametrów jest używana klasa bazowa `Parameter`, ale dla innych opcji źródła parametrów jest używana Klasa pochodna `Parameter`; w razie konieczności można także utworzyć własne [niestandardowe typy parametrów](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11).</span><span class="sxs-lookup"><span data-stu-id="535b7-141">For hard-coded parameter values the base `Parameter` class is used, but for the other parameter source options a derived `Parameter` class is used; you can also create your own [custom parameter types](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), if needed.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="535b7-142">Jeśli używasz na własnym komputerze, znaczniki deklaratywne widoczne w tym punkcie mogą zawierać wartości `InsertMethod`, `UpdateMethod`i `DeleteMethod` właściwości, a także `DeleteParameters`.</span><span class="sxs-lookup"><span data-stu-id="535b7-142">If you're following along on your own computer the declarative markup you see at this point may include values for the `InsertMethod`, `UpdateMethod`, and `DeleteMethod` properties, as well as `DeleteParameters`.</span></span> <span data-ttu-id="535b7-143">Kreator wyboru źródła danych w elemencie ObjectDataSource automatycznie określa metody z `ProductBLL` do użycia podczas wstawiania, aktualizowania i usuwania, chyba że jawnie wyczyścisz te, ale zostaną one uwzględnione w powyższym znaczniku.</span><span class="sxs-lookup"><span data-stu-id="535b7-143">The ObjectDataSource's Choose Data Source wizard automatically specifies the methods from the `ProductBLL` to use for inserting, updating, and deleting, so unless you explicitly cleared those out, they'll be included in the markup above.</span></span>

<span data-ttu-id="535b7-144">Podczas odwiedzania tej strony formant sieci Web danych wywoła metodę `Select` elementu ObjectDataSource, która wywoła metodę `GetProductByProductID(productID)` klasy `ProductsBLL` przy użyciu zakodowanej wartości 5 dla `productID` parametru wejściowego.</span><span class="sxs-lookup"><span data-stu-id="535b7-144">When visiting this page, the data Web control will invoke the ObjectDataSource's `Select` method, which will call the `ProductsBLL` class's `GetProductByProductID(productID)` method using the hard-coded value of 5 for the `productID` input parameter.</span></span> <span data-ttu-id="535b7-145">Metoda zwróci silnie wpisaną obiekt `ProductDataTable`, który zawiera pojedynczy wiersz z informacjami o połączeniu Gumbo Anton (produkt z `ProductID` 5).</span><span class="sxs-lookup"><span data-stu-id="535b7-145">The method will return a strongly-typed `ProductDataTable` object that contains a single row with information about Chef Anton's Gumbo Mix (the product with `ProductID` 5).</span></span>

<span data-ttu-id="535b7-146">[są wyświetlane ![informacje dotyczące mieszania Gumbo Anton Chef](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-146">[![Information About Chef Anton's Gumbo Mix are Displayed](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span></span>

<span data-ttu-id="535b7-147">**Rysunek 5**. wyświetlane są informacje o kombinacji Gumbo Chef Anton ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](declarative-parameters-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-147">**Figure 5**: Information About Chef Anton's Gumbo Mix are Displayed ([Click to view full-size image](declarative-parameters-cs/_static/image15.png))</span></span>

## <a name="setting-the-parameter-value-to-the-property-value-of-a-web-control"></a><span data-ttu-id="535b7-148">Ustawianie wartości parametru na wartość właściwości kontrolki sieci Web</span><span class="sxs-lookup"><span data-stu-id="535b7-148">Setting the Parameter Value to the Property Value of a Web Control</span></span>

<span data-ttu-id="535b7-149">Wartości parametrów elementu ObjectDataSource można również ustawić na podstawie wartości kontrolki sieci Web na stronie.</span><span class="sxs-lookup"><span data-stu-id="535b7-149">The ObjectDataSource's parameter values can also be set based on the value of a Web control on the page.</span></span> <span data-ttu-id="535b7-150">Aby to zilustrować, przyjrzyjmy się w widoku GridView, który zawiera listę wszystkich dostawców znajdujących się w kraju określonym przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="535b7-150">To illustrate this, let's have a GridView that lists all of the suppliers that are located in a country specified by the user.</span></span> <span data-ttu-id="535b7-151">Aby to zrobić, dodając pole tekstowe do strony, w której użytkownik może wprowadzić nazwę kraju.</span><span class="sxs-lookup"><span data-stu-id="535b7-151">To accomplish this start by adding a TextBox to the page into which the user can enter a country name.</span></span> <span data-ttu-id="535b7-152">Ustaw właściwość `ID` formantu TextBox na `CountryName`.</span><span class="sxs-lookup"><span data-stu-id="535b7-152">Set this TextBox control's `ID` property to `CountryName`.</span></span> <span data-ttu-id="535b7-153">Dodaj również formant sieci Web przycisku.</span><span class="sxs-lookup"><span data-stu-id="535b7-153">Also add a Button Web control.</span></span>

<span data-ttu-id="535b7-154">[![dodać pola tekstowego do strony z IDENTYFIKATORem CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-154">[![Add a TextBox to the Page with ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span></span>

<span data-ttu-id="535b7-155">**Ilustracja 6**. Dodawanie pola tekstowego do strony z `ID` `CountryName` ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](declarative-parameters-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-155">**Figure 6**: Add a TextBox to the Page with `ID` `CountryName` ([Click to view full-size image](declarative-parameters-cs/_static/image18.png))</span></span>

<span data-ttu-id="535b7-156">Następnie Dodaj widok GridView do strony i, z tagu inteligentnego, wybierz opcję dodania nowego elementu ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="535b7-156">Next, add a GridView to the page and, from the smart tag, choose to add a new ObjectDataSource.</span></span> <span data-ttu-id="535b7-157">Ponieważ chcemy wyświetlić informacje o dostawcach, wybierz klasę `SuppliersBLL` z pierwszego ekranu kreatora.</span><span class="sxs-lookup"><span data-stu-id="535b7-157">Since we want to display supplier information select the `SuppliersBLL` class from the wizard's first screen.</span></span> <span data-ttu-id="535b7-158">Na drugim ekranie Wybierz metodę `GetSuppliersByCountry(country)`.</span><span class="sxs-lookup"><span data-stu-id="535b7-158">From the second screen, pick the `GetSuppliersByCountry(country)` method.</span></span>

<span data-ttu-id="535b7-159">[![wybrać metody GetSuppliersByCountry (kraj)](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-159">[![Choose the GetSuppliersByCountry(country) Method](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span></span>

<span data-ttu-id="535b7-160">**Rysunek 7**. wybierz metodę `GetSuppliersByCountry(country)` ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](declarative-parameters-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-160">**Figure 7**: Choose the `GetSuppliersByCountry(country)` Method ([Click to view full-size image](declarative-parameters-cs/_static/image21.png))</span></span>

<span data-ttu-id="535b7-161">Ponieważ metoda `GetSuppliersByCountry(country)` ma parametr wejściowy, Kreator ponownie zawiera końcowy ekran służący do wybierania wartości parametru.</span><span class="sxs-lookup"><span data-stu-id="535b7-161">Since the `GetSuppliersByCountry(country)` method has an input parameter, the wizard once again includes a final screen for choosing the parameter value.</span></span> <span data-ttu-id="535b7-162">Tym razem ustaw Źródło parametru na kontrolkę.</span><span class="sxs-lookup"><span data-stu-id="535b7-162">This time, set the Parameter source to Control.</span></span> <span data-ttu-id="535b7-163">Spowoduje to wypełnienie listy rozwijanej ControlID nazwami kontrolek na stronie; Wybierz z listy formant `CountryName`.</span><span class="sxs-lookup"><span data-stu-id="535b7-163">This will populate the ControlID drop-down list with the names of the controls on the page; select the `CountryName` control from the list.</span></span> <span data-ttu-id="535b7-164">Gdy strona zostanie odwiedzana po raz pierwszy, `CountryName` pole tekstowe będzie puste, więc żadne wyniki nie są zwracane i nic nie zostanie wyświetlone.</span><span class="sxs-lookup"><span data-stu-id="535b7-164">When the page is first visited the `CountryName` TextBox will be blank, so no results are returned and nothing is displayed.</span></span> <span data-ttu-id="535b7-165">Jeśli chcesz, aby niektóre wyniki były domyślnie wyświetlane, Ustaw odpowiednio pole tekstowe DefaultValue.</span><span class="sxs-lookup"><span data-stu-id="535b7-165">If you want to display some results by default, set the DefaultValue textbox accordingly.</span></span>

<span data-ttu-id="535b7-166">[![ustawić wartości parametru CountryName](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-166">[![Set the Parameter Value to the CountryName Control Value](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span></span>

<span data-ttu-id="535b7-167">**Ilustracja 8**. Ustaw wartość parametru na wartość kontrolki `CountryName` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](declarative-parameters-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-167">**Figure 8**: Set the Parameter Value to the `CountryName` Control Value ([Click to view full-size image](declarative-parameters-cs/_static/image24.png))</span></span>

<span data-ttu-id="535b7-168">Deklaratywne znaczniki elementu ObjectDataSource różnią się nieco od pierwszego przykładu, przy użyciu [parametrze ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) zamiast standardowego obiektu `Parameter`.</span><span class="sxs-lookup"><span data-stu-id="535b7-168">The ObjectDataSource's declarative markup differs slightly from our first example, using a [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) instead of the standard `Parameter` object.</span></span> <span data-ttu-id="535b7-169">`ControlParameter` ma dodatkowe właściwości do określenia `ID` kontrolki sieci Web oraz wartości właściwości, która ma być używana dla parametru (`PropertyName`).</span><span class="sxs-lookup"><span data-stu-id="535b7-169">A `ControlParameter` has additional properties to specify the `ID` of the Web control and the property value to use for the parameter (`PropertyName`).</span></span> <span data-ttu-id="535b7-170">Kreator konfiguracji źródła danych był wystarczająco inteligentny, aby określić, że dla pola tekstowego prawdopodobnie zechcemy użyć właściwości `Text` dla wartości parametru.</span><span class="sxs-lookup"><span data-stu-id="535b7-170">The Configure Data Source wizard was smart enough to determine that, for a TextBox, we'll likely want to use the `Text` property for the parameter value.</span></span> <span data-ttu-id="535b7-171">Jeśli jednak chcesz użyć innej wartości właściwości z formantu sieci Web, możesz zmienić wartość `PropertyName` w tym miejscu lub klikając łącze "Pokaż zaawansowane właściwości" w kreatorze.</span><span class="sxs-lookup"><span data-stu-id="535b7-171">If, however, you want to use a different property value from the Web control you can change the `PropertyName` value here or by clicking the "Show advanced properties" link in the wizard.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample2.aspx)]

<span data-ttu-id="535b7-172">Podczas odwiedzin strony po raz pierwszy pole tekstowe `CountryName` jest puste.</span><span class="sxs-lookup"><span data-stu-id="535b7-172">When visiting the page for the first time the `CountryName` TextBox is empty.</span></span> <span data-ttu-id="535b7-173">Metoda `Select` elementu ObjectDataSource jest nadal wywoływana przez element GridView, ale wartość `null` jest przenoszona do metody `GetSuppliersByCountry(country)`.</span><span class="sxs-lookup"><span data-stu-id="535b7-173">The ObjectDataSource's `Select` method is still invoked by the GridView, but a value of `null` is passed into the `GetSuppliersByCountry(country)` method.</span></span> <span data-ttu-id="535b7-174">TableAdapter konwertuje `null` do bazy danych `NULL` wartość (`DBNull.Value`), ale zapytanie używane przez metodę `GetSuppliersByCountry(country)` jest zapisywana w taki sposób, że nie zwraca żadnych wartości, gdy wartość `NULL` zostanie określona dla parametru `@CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="535b7-174">The TableAdapter converts the `null` into a database `NULL` value (`DBNull.Value`), but the query used by the `GetSuppliersByCountry(country)` method is written such that it doesn't return any values when a `NULL` value is specified for the `@CategoryID` parameter.</span></span> <span data-ttu-id="535b7-175">W skrócie nie są zwracane żadne dostawcy.</span><span class="sxs-lookup"><span data-stu-id="535b7-175">In short, no suppliers are returned.</span></span>

<span data-ttu-id="535b7-176">Gdy odwiedzający wprowadzi w danym kraju, a następnie kliknie przycisk Pokaż dostawców, aby spowodować odświeżenie, Metoda `Select` elementu ObjectDataSource zostanie ponownie zbadana, przekazując wartość `Text` kontrolki TextBox jako parametr `country`.</span><span class="sxs-lookup"><span data-stu-id="535b7-176">Once the visitor enters in a country, however, and clicks the Show Suppliers button to cause a postback, the ObjectDataSource's `Select` method is requeried, passing in the TextBox control's `Text` value as the `country` parameter.</span></span>

<span data-ttu-id="535b7-177">[![dostawców z Kanady są pokazani](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-177">[![Those Suppliers from Canada are Shown](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span></span>

<span data-ttu-id="535b7-178">**Rysunek 9**. pokazywane są te dostawcy z Kanady ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](declarative-parameters-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-178">**Figure 9**: Those Suppliers from Canada are Shown ([Click to view full-size image](declarative-parameters-cs/_static/image27.png))</span></span>

## <a name="showing-all-suppliers-by-default"></a><span data-ttu-id="535b7-179">Domyślnie pokazywanie wszystkich dostawców</span><span class="sxs-lookup"><span data-stu-id="535b7-179">Showing All Suppliers By Default</span></span>

<span data-ttu-id="535b7-180">Zamiast wyświetlać żadnego z dostawców podczas pierwszego wyświetlania strony możemy chcieć wyświetlić *wszystkich* dostawców na początku, umożliwiając użytkownikowi dostosowanie listy, wprowadzając nazwę kraju w polu tekstowym.</span><span class="sxs-lookup"><span data-stu-id="535b7-180">Rather than show none of the suppliers when first viewing the page we may want to show *all* suppliers at first, allowing the user to pare down the list by entering a country name in the TextBox.</span></span> <span data-ttu-id="535b7-181">Gdy pole tekstowe jest puste, Metoda `GetSuppliersByCountry(country)` klasy `SuppliersBLL` jest przenoszona do wartości `null` dla *`country`* parametru wejściowego.</span><span class="sxs-lookup"><span data-stu-id="535b7-181">When the TextBox is empty, the `SuppliersBLL` class's `GetSuppliersByCountry(country)` method is passed in a `null` value for its *`country`* input parameter.</span></span> <span data-ttu-id="535b7-182">Ta `null` wartość jest następnie przenoszona do metody `GetSupplierByCountry(country)`owej DAL, w której zostanie przetłumaczona na wartość `NULL` bazy danych dla parametru `@Country` w następującej kwerendzie:</span><span class="sxs-lookup"><span data-stu-id="535b7-182">This `null` value is then passed down into the DAL's `GetSupplierByCountry(country)` method, where it's translated to a database `NULL` value for the `@Country` parameter in the following query:</span></span>

[!code-sql[Main](declarative-parameters-cs/samples/sample3.sql)]

<span data-ttu-id="535b7-183">Wyrażenie `Country = NULL` zawsze zwraca wartość false, nawet w przypadku rekordów, których kolumna `Country` ma wartość `NULL`; w związku z tym nie są zwracane żadne rekordy.</span><span class="sxs-lookup"><span data-stu-id="535b7-183">The expression `Country = NULL` always returns False, even for records whose `Country` column has a `NULL` value; therefore, no records are returned.</span></span>

<span data-ttu-id="535b7-184">Aby zwrócić *wszystkich* dostawców, gdy pole tekstowe kraj jest puste, można rozszerzyć metodę `GetSuppliersByCountry(country)` w logiki biznesowej, aby wywołać metodę `GetSuppliers()`, gdy jej parametr country jest `null` i wywołać metodę `GetSuppliersByCountry(country)` dal w inny sposób.</span><span class="sxs-lookup"><span data-stu-id="535b7-184">To return *all* suppliers when the country TextBox is empty, we can augment the `GetSuppliersByCountry(country)` method in the BLL to invoke the `GetSuppliers()` method when its country parameter is `null` and to call the DAL's `GetSuppliersByCountry(country)` method otherwise.</span></span> <span data-ttu-id="535b7-185">Będzie to miało wpływ na zwracanie wszystkich dostawców, gdy nie określono żadnego kraju i odpowiedni podzbiór dostawców, gdy parametr Country jest uwzględniony.</span><span class="sxs-lookup"><span data-stu-id="535b7-185">This will have the effect of returning all suppliers when no country is specified and the appropriate subset of suppliers when the country parameter is included.</span></span>

<span data-ttu-id="535b7-186">Zmień metodę `GetSuppliersByCountry(country)` w klasie `SuppliersBLL` na następujące:</span><span class="sxs-lookup"><span data-stu-id="535b7-186">Change the `GetSuppliersByCountry(country)` method in the `SuppliersBLL` class to the following:</span></span>

[!code-csharp[Main](declarative-parameters-cs/samples/sample4.cs)]

<span data-ttu-id="535b7-187">Dzięki tej zmianie na stronie `DeclarativeParams.aspx` są wyświetlane wszyscy dostawcy podczas pierwszej wizyty (lub za każdym razem, gdy pole tekstowe `CountryName` jest puste).</span><span class="sxs-lookup"><span data-stu-id="535b7-187">With this change the `DeclarativeParams.aspx` page shows all of the suppliers when first visited (or whenever the `CountryName` TextBox is empty).</span></span>

<span data-ttu-id="535b7-188">[![wszyscy dostawcy są teraz domyślnie wyświetlani](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="535b7-188">[![All Suppliers are Now Shown by Default](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span></span>

<span data-ttu-id="535b7-189">**Rysunek 10**: Wszyscy dostawcy są teraz wyświetlani domyślnie ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](declarative-parameters-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="535b7-189">**Figure 10**: All Suppliers are Now Shown by Default ([Click to view full-size image](declarative-parameters-cs/_static/image30.png))</span></span>

## <a name="summary"></a><span data-ttu-id="535b7-190">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="535b7-190">Summary</span></span>

<span data-ttu-id="535b7-191">Aby można było użyć metod z parametrami wejściowymi, musimy określić wartości parametrów w kolekcji `SelectParameters` elementu ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="535b7-191">In order to use methods with input parameters, we need to specify the values for the parameters in the ObjectDataSource's `SelectParameters` collection.</span></span> <span data-ttu-id="535b7-192">Różne typy parametrów umożliwiają uzyskanie wartości parametru z różnych źródeł.</span><span class="sxs-lookup"><span data-stu-id="535b7-192">Different types of parameters allow for the parameter value to be obtained from different sources.</span></span> <span data-ttu-id="535b7-193">Domyślny typ parametru używa zakodowanej wartości, ale równie łatwo (bez wiersza kodu) wartości parametrów mogą być uzyskiwane z ciągu QueryString, zmiennych sesji, plików cookie, a nawet wartości wprowadzonych przez użytkownika z formantów sieci Web na stronie.</span><span class="sxs-lookup"><span data-stu-id="535b7-193">The default parameter type uses a hard-coded value, but just as easily (and without a line of code) parameter values can be obtained from the querystring, Session variables, cookies, and even user-entered values from Web controls on the page.</span></span>

<span data-ttu-id="535b7-194">Przykłady przedstawione w tym samouczku przedstawiają sposób używania wartości parametrów deklaratywnych.</span><span class="sxs-lookup"><span data-stu-id="535b7-194">The examples we looked at in this tutorial illustrated how to use declarative parameter values.</span></span> <span data-ttu-id="535b7-195">Mogą jednak wystąpić sytuacje, w których musimy używać źródła parametrów, które jest niedostępne, takiego jak bieżąca data i godzina, lub, jeśli nasza witryna korzystała z przynależności do użytkownika.</span><span class="sxs-lookup"><span data-stu-id="535b7-195">However, there may be times when we need to use a parameter source that's not available, such as the current date and time, or, if our site was using Membership, the User ID of the visitor.</span></span> <span data-ttu-id="535b7-196">Na potrzeby takich scenariuszy można ustawić wartości parametrów programowo przed wywołaniem metody obiektu bazowego przez element ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="535b7-196">For such scenarios we can set the parameter values programmatically prior to the ObjectDataSource invoking its underlying object's method.</span></span> <span data-ttu-id="535b7-197">Zobaczymy, jak to zrobić w [następnym samouczku](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span><span class="sxs-lookup"><span data-stu-id="535b7-197">We'll see how to accomplish this in the [next tutorial](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span></span>

<span data-ttu-id="535b7-198">Szczęśliwe programowanie!</span><span class="sxs-lookup"><span data-stu-id="535b7-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="535b7-199">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="535b7-199">About the Author</span></span>

<span data-ttu-id="535b7-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor siedmiu grup ASP/ASP. NET Books i założyciel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracował z technologiami sieci Web firmy Microsoft od czasu 1998.</span><span class="sxs-lookup"><span data-stu-id="535b7-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="535b7-201">Scott działa jako niezależny konsultant, trainer i składnik zapisywania.</span><span class="sxs-lookup"><span data-stu-id="535b7-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="535b7-202">Jego Najnowsza książka to [*Sams ASP.NET 2,0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="535b7-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="535b7-203">Można go osiągnąć w [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="535b7-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="535b7-204">lub za pośrednictwem swojego blogu, który można znaleźć w [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="535b7-204">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="535b7-205">Specjalne podziękowania</span><span class="sxs-lookup"><span data-stu-id="535b7-205">Special Thanks To</span></span>

<span data-ttu-id="535b7-206">Ta seria samouczków została sprawdzona przez wielu przydatnych recenzentów.</span><span class="sxs-lookup"><span data-stu-id="535b7-206">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="535b7-207">Recenzent potencjalnych klientów dla tego samouczka został Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="535b7-207">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="535b7-208">Chcesz przeglądać moje nadchodzące artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="535b7-208">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="535b7-209">Jeśli tak, upuść mi linię w [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="535b7-209">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="535b7-210">[Poprzednie](displaying-data-with-the-objectdatasource-cs.md)
> [dalej](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span><span class="sxs-lookup"><span data-stu-id="535b7-210">[Previous](displaying-data-with-the-objectdatasource-cs.md)
[Next](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span></span>
