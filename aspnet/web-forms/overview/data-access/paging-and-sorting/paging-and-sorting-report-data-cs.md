---
uid: web-forms/overview/data-access/paging-and-sorting/paging-and-sorting-report-data-cs
title: Stronicowanie i sortowanie raportu danych (C#) | Dokumentacja firmy Microsoft
author: rick-anderson
description: Stronicowanie i sortowanie są dwie funkcje bardzo często, gdy wyświetlanie danych w aplikacji online. W tym samouczku przeniesiemy Pierwsze spojrzenie na dodanie, sortowanie i...
ms.author: riande
ms.date: 08/15/2006
ms.assetid: 811a6ef2-ec66-4c8e-a089-6f795056e288
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting/paging-and-sorting-report-data-cs
msc.type: authoredcontent
ms.openlocfilehash: 6828c5c6724c84d84fc3fefa53a1b13da1b3a16f
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/06/2019
ms.locfileid: "65131586"
---
# <a name="paging-and-sorting-report-data-c"></a><span data-ttu-id="b5de2-104">Stronicowanie i sortowanie danych raportu (C#)</span><span class="sxs-lookup"><span data-stu-id="b5de2-104">Paging and Sorting Report Data (C#)</span></span>

<span data-ttu-id="b5de2-105">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="b5de2-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="b5de2-106">[Pobierz przykładową aplikację](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_24_CS.exe) lub [Pobierz plik PDF](paging-and-sorting-report-data-cs/_static/datatutorial24cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="b5de2-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_24_CS.exe) or [Download PDF](paging-and-sorting-report-data-cs/_static/datatutorial24cs1.pdf)</span></span>

> <span data-ttu-id="b5de2-107">Stronicowanie i sortowanie są dwie funkcje bardzo często, gdy wyświetlanie danych w aplikacji online.</span><span class="sxs-lookup"><span data-stu-id="b5de2-107">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="b5de2-108">W tym samouczku zostaną wykonane Pierwsze spojrzenie na dodawanie sortowania i stronicowania naszych raportów, które następnie utworzymy od samouczków w przyszłości.</span><span class="sxs-lookup"><span data-stu-id="b5de2-108">In this tutorial we'll take a first look at adding sorting and paging to our reports, which we will then build upon in future tutorials.</span></span>

## <a name="introduction"></a><span data-ttu-id="b5de2-109">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="b5de2-109">Introduction</span></span>

<span data-ttu-id="b5de2-110">Stronicowanie i sortowanie są dwie funkcje bardzo często, gdy wyświetlanie danych w aplikacji online.</span><span class="sxs-lookup"><span data-stu-id="b5de2-110">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="b5de2-111">Na przykład podczas szukania ASP.NET książki w księgarni online, mogą istnieć setki takich książki, ale raport z listą wyników wyszukiwania zawiera maksymalnie dziesięciu dopasowań na każdej stronie.</span><span class="sxs-lookup"><span data-stu-id="b5de2-111">For example, when searching for ASP.NET books at an online bookstore, there may be hundreds of such books, but the report listing the search results lists only ten matches per page.</span></span> <span data-ttu-id="b5de2-112">Ponadto można posortować wyników według tytułu, ceny, liczbę stron, imię i nazwisko autora i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="b5de2-112">Moreover, the results can be sorted by title, price, page count, author name, and so on.</span></span> <span data-ttu-id="b5de2-113">While przeszłości 23 samouczki zbadaniu sposób tworzenia szerokiej gamy raportów, w tym interfejsy, które zezwala na dodawanie, edytowanie i usuwanie danych, firma Microsoft ve nie przyjrzano się jak sortować dane i tylko stronicowania przykłady możemy ve widoczne zostały DetailsView i FormView kontrolki.</span><span class="sxs-lookup"><span data-stu-id="b5de2-113">While the past 23 tutorials have examined how to build a variety of reports, including interfaces that permit adding, editing, and deleting data, we ve not looked at how to sort data and the only paging examples we ve seen have been with the DetailsView and FormView controls.</span></span>

<span data-ttu-id="b5de2-114">W tym samouczku opisano sposób dodawania sortowania i stronicowania naszych raportów, które można osiągnąć, po prostu sprawdzanie kilku pól wyboru.</span><span class="sxs-lookup"><span data-stu-id="b5de2-114">In this tutorial we'll see how to add sorting and paging to our reports, which can be accomplished by simply checking a few checkboxes.</span></span> <span data-ttu-id="b5de2-115">Niestety ta implementacja uproszczony ma swoje wady, które sortowania interfejsu pozostawia nieco się być wskazane i procedury stronicowania nie są przeznaczone do efektywne stronicowanie dużych zestawów wyników.</span><span class="sxs-lookup"><span data-stu-id="b5de2-115">Unfortunately, this simplistic implementation has its drawbacks the sorting interface leaves a bit to be desired and the paging routines are not designed for efficiently paging through large result sets.</span></span> <span data-ttu-id="b5de2-116">Samouczki przyszłych Przedstawimy sposób ominąć ograniczenia out-of--box stronicowanie i sortowanie rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="b5de2-116">Future tutorials will explore how to overcome the limitations of the out-of-the-box paging and sorting solutions.</span></span>

## <a name="step-1-adding-the-paging-and-sorting-tutorial-web-pages"></a><span data-ttu-id="b5de2-117">Krok 1. Dodawanie stronicowania i sortowania Samouczek stron sieci Web</span><span class="sxs-lookup"><span data-stu-id="b5de2-117">Step 1: Adding the Paging and Sorting Tutorial Web Pages</span></span>

<span data-ttu-id="b5de2-118">Zanim zaczniemy, w tym samouczku, chętnie s najpierw Poświęć chwilę, aby dodać strony ASP.NET, które będą potrzebne dla tego samouczka i dalej trzy.</span><span class="sxs-lookup"><span data-stu-id="b5de2-118">Before we start this tutorial, let s first take a moment to add the ASP.NET pages we'll need for this tutorial and the next three.</span></span> <span data-ttu-id="b5de2-119">Rozpocznij od utworzenia nowego folderu w projekcie o nazwie `PagingAndSorting`.</span><span class="sxs-lookup"><span data-stu-id="b5de2-119">Start by creating a new folder in the project named `PagingAndSorting`.</span></span> <span data-ttu-id="b5de2-120">Następnie dodaj następujące pięć strony ASP.NET, w tym folderze każdego z nich jest skonfigurowany do używania strony wzorcowej `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="b5de2-120">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `SimplePagingSorting.aspx`
- `EfficientPaging.aspx`
- `SortParameter.aspx`
- `CustomSortingUI.aspx`

![Utwórz PagingAndSorting Folder i dodawanie stron samouczek platformy ASP.NET](paging-and-sorting-report-data-cs/_static/image1.png)

<span data-ttu-id="b5de2-122">**Rysunek 1**: Utwórz PagingAndSorting Folder i dodawanie stron samouczek platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b5de2-122">**Figure 1**: Create a PagingAndSorting Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="b5de2-123">Następnie otwórz `Default.aspx` strony, a następnie przeciągnij `SectionLevelTutorialListing.ascx` kontrolki użytkownika od `UserControls` folder na powierzchnię projektu.</span><span class="sxs-lookup"><span data-stu-id="b5de2-123">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="b5de2-124">Ten formant użytkownika, które utworzyliśmy w [strony wzorcowe i nawigacja w witrynie](../introduction/master-pages-and-site-navigation-cs.md) samouczek, wylicza mapy witryny i wyświetla te samouczki w bieżącej sekcji na liście punktowanej.</span><span class="sxs-lookup"><span data-stu-id="b5de2-124">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays those tutorials in the current section in a bulleted list.</span></span>

![Dodaj formant użytkownika SectionLevelTutorialListing.ascx na Default.aspx](paging-and-sorting-report-data-cs/_static/image2.png)

<span data-ttu-id="b5de2-126">**Rysunek 2**: Dodaj formant użytkownika SectionLevelTutorialListing.ascx na Default.aspx</span><span class="sxs-lookup"><span data-stu-id="b5de2-126">**Figure 2**: Add the SectionLevelTutorialListing.ascx User Control to Default.aspx</span></span>

<span data-ttu-id="b5de2-127">Aby ma na liście punktowanej wyświetlić stronicowanie i sortowanie samouczków, z którymi firma utworzona, należy dodać je do mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="b5de2-127">In order to have the bulleted list display the paging and sorting tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="b5de2-128">Otwórz `Web.sitemap` pliku i Dodaj następujący kod po edycji, wstawianie i usuwanie znaczników węzeł mapy witryny:</span><span class="sxs-lookup"><span data-stu-id="b5de2-128">Open the `Web.sitemap` file and add the following markup after the Editing, Inserting, and Deleting site map node markup:</span></span>

[!code-xml[Main](paging-and-sorting-report-data-cs/samples/sample1.xml)]

![Aktualizacja mapy witryny, aby uwzględnić nowe strony ASP.NET](paging-and-sorting-report-data-cs/_static/image3.png)

<span data-ttu-id="b5de2-130">**Rysunek 3**: Aktualizacja mapy witryny, aby uwzględnić nowe strony ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b5de2-130">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="step-2-displaying-product-information-in-a-gridview"></a><span data-ttu-id="b5de2-131">Krok 2. Wyświetlanie informacji o produkcie w widoku GridView</span><span class="sxs-lookup"><span data-stu-id="b5de2-131">Step 2: Displaying Product Information in a GridView</span></span>

<span data-ttu-id="b5de2-132">Przed faktycznie wdrażamy, stronicowanie i sortowanie możliwości, niech s, należy najpierw utworzyć standardowe GridView — sortowanie, niestronicowanej, zawierającego informacje o produkcie.</span><span class="sxs-lookup"><span data-stu-id="b5de2-132">Before we actually implement paging and sorting capabilities, let s first create a standard non-sortable, non-pageable GridView that lists the product information.</span></span> <span data-ttu-id="b5de2-133">Jest to zadanie możemy ve wykonywane wiele razy przed w całej tej serii samouczków więc te kroki należy się zapoznać.</span><span class="sxs-lookup"><span data-stu-id="b5de2-133">This is a task we ve done many times before throughout this tutorial series so these steps should be familiar.</span></span> <span data-ttu-id="b5de2-134">Zacznij od otwarcia `SimplePagingSorting.aspx` strony, a następnie przeciągnij kontrolki widoku siatki z przybornika w projektancie, ustawiając jego `ID` właściwość `Products`.</span><span class="sxs-lookup"><span data-stu-id="b5de2-134">Start by opening the `SimplePagingSorting.aspx` page and drag a GridView control from the Toolbox onto the Designer, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="b5de2-135">Następnie należy utworzyć nowe kontrolki ObjectDataSource, która używa klasy ProductsBLL s `GetProducts()` metodę, aby zwrócić wszystkie informacje o produkcie.</span><span class="sxs-lookup"><span data-stu-id="b5de2-135">Next, create a new ObjectDataSource that uses the ProductsBLL class s `GetProducts()` method to return all of the product information.</span></span>

![Pobierz informacje o wszystkich produktów za pomocą metody GetProducts()](paging-and-sorting-report-data-cs/_static/image4.png)

<span data-ttu-id="b5de2-137">**Rysunek 4**: Pobierz informacje o wszystkich produktów za pomocą metody GetProducts()</span><span class="sxs-lookup"><span data-stu-id="b5de2-137">**Figure 4**: Retrieve Information About All of the Products Using the GetProducts() Method</span></span>

<span data-ttu-id="b5de2-138">Ponieważ ten raport jest tylko do odczytu raportu, s tam nie ma potrzeby mapowania ObjectDataSource s `Insert()`, `Update()`, lub `Delete()` metody odpowiadającej `ProductsBLL` metod; w związku z tym, wybrać (Brak) z listy rozwijanej dla UPDATE, INSERT Usuwanie karty i.</span><span class="sxs-lookup"><span data-stu-id="b5de2-138">Since this report is a read-only report, there s no need to map the ObjectDataSource s `Insert()`, `Update()`, or `Delete()` methods to corresponding `ProductsBLL` methods; therefore, choose (None) from the drop-down list for the UPDATE, INSERT, and DELETE tabs.</span></span>

![Wybierz (Brak) opcji listy rozwijanej w aktualizacji, WSTAWIANIA i usuwania karty](paging-and-sorting-report-data-cs/_static/image5.png)

<span data-ttu-id="b5de2-140">**Rysunek 5**: Wybierz (Brak) opcji listy rozwijanej w aktualizacji, WSTAWIANIA i usuwania karty</span><span class="sxs-lookup"><span data-stu-id="b5de2-140">**Figure 5**: Choose the (None) Option in the Drop-Down List in the UPDATE, INSERT, and DELETE Tabs</span></span>

<span data-ttu-id="b5de2-141">Następnie pozwalają dostosować pola s GridView, aby były wyświetlane tylko nazwy produktów, dostawcy, kategorie, ceny i Stany nieobsługiwane s.</span><span class="sxs-lookup"><span data-stu-id="b5de2-141">Next, let s customize the GridView s fields so that only the products names, suppliers, categories, prices, and discontinued statuses are displayed.</span></span> <span data-ttu-id="b5de2-142">Ponadto, możesz wprowadzić formatowanie na poziomie pola zmienia się, takich jak dostosowywanie `HeaderText` właściwości lub formatowania cena jako walutę.</span><span class="sxs-lookup"><span data-stu-id="b5de2-142">Furthermore, feel free to make any field-level formatting changes, such as adjusting the `HeaderText` properties or formatting the price as a currency.</span></span> <span data-ttu-id="b5de2-143">Po wprowadzeniu tych zmian deklaratywne kontrolki GridView znaczników w s powinien wyglądać podobnie do poniższej:</span><span class="sxs-lookup"><span data-stu-id="b5de2-143">After these changes, your GridView s declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample2.aspx)]

<span data-ttu-id="b5de2-144">Rysunek 6. pokazuje nasz postęp tej pory, podczas wyświetlania za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="b5de2-144">Figure 6 shows our progress thus far when viewed through a browser.</span></span> <span data-ttu-id="b5de2-145">Pamiętaj, że strona zawiera listę wszystkich produktów na jednym ekranie, przedstawiający każdej nazwy produktu s, kategorii, dostawca, ceny, wycofane stanu.</span><span class="sxs-lookup"><span data-stu-id="b5de2-145">Note that the page lists all of the products in one screen, showing each product s name, category, supplier, price, and discontinued status.</span></span>

<span data-ttu-id="b5de2-146">[![Każdy z produktów są wyświetlane](paging-and-sorting-report-data-cs/_static/image7.png)](paging-and-sorting-report-data-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="b5de2-146">[![Each of the Products are Listed](paging-and-sorting-report-data-cs/_static/image7.png)](paging-and-sorting-report-data-cs/_static/image6.png)</span></span>

<span data-ttu-id="b5de2-147">**Rysunek 6**: Każdy z produktów są wyświetlane ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="b5de2-147">**Figure 6**: Each of the Products are Listed ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image8.png))</span></span>

## <a name="step-3-adding-paging-support"></a><span data-ttu-id="b5de2-148">Krok 3. Dodanie obsługi stronicowania</span><span class="sxs-lookup"><span data-stu-id="b5de2-148">Step 3: Adding Paging Support</span></span>

<span data-ttu-id="b5de2-149">Wyświetlanie listy *wszystkich* produktów na jednym ekranie może doprowadzić do przeciążenia informacji dla użytkownika perusing danych.</span><span class="sxs-lookup"><span data-stu-id="b5de2-149">Listing *all* of the products on one screen can lead to information overload for the user perusing the data.</span></span> <span data-ttu-id="b5de2-150">Aby wyniki łatwiejsze w obsłudze, możemy podzielić dane na mniejsze strony danych i umożliwia użytkownikowi przejść przez jedną stronę danych w czasie.</span><span class="sxs-lookup"><span data-stu-id="b5de2-150">To help make the results more manageable, we can break up the data into smaller pages of data and allow the user to step through the data one page at a time.</span></span> <span data-ttu-id="b5de2-151">Aby wykonać to po prostu zaznacz pole wyboru Włączanie stronicowania, za pomocą tagu inteligentnego s GridView (to ustawienie GridView s [ `AllowPaging` właściwość](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowpaging.aspx) do `true`).</span><span class="sxs-lookup"><span data-stu-id="b5de2-151">To accomplish this simply check the Enable Paging checkbox from the GridView s smart tag (this sets the GridView s [`AllowPaging` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowpaging.aspx) to `true`).</span></span>

<span data-ttu-id="b5de2-152">[![Zaznacz pole wyboru stronicowania Włącz, aby dodać obsługę stronicowania](paging-and-sorting-report-data-cs/_static/image10.png)](paging-and-sorting-report-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="b5de2-152">[![Check the Enable Paging Checkbox to Add Paging Support](paging-and-sorting-report-data-cs/_static/image10.png)](paging-and-sorting-report-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="b5de2-153">**Rysunek 7**: Sprawdź włączone stronicowanie pole wyboru, aby dodać obsługę stronicowania ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="b5de2-153">**Figure 7**: Check the Enable Paging Checkbox to Add Paging Support ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image11.png))</span></span>

<span data-ttu-id="b5de2-154">Włączanie stronicowania ogranicza liczbę rekordów wyświetlanych na stronie i dodaje *interfejsu stronicowania* do kontrolki GridView.</span><span class="sxs-lookup"><span data-stu-id="b5de2-154">Enabling paging limits the number of records shown per page and adds a *paging interface* to the GridView.</span></span> <span data-ttu-id="b5de2-155">Domyślny interfejs stronicowania pokazano na rysunku 7 jest szereg numery stron, co pozwala na szybkie przechodzenie z jednej strony danych do innego.</span><span class="sxs-lookup"><span data-stu-id="b5de2-155">The default paging interface, shown in Figure 7, is a series of page numbers, allowing the user to quickly navigate from one page of data to another.</span></span> <span data-ttu-id="b5de2-156">Ten interfejs stronicowania powinien wyglądać dobrze znanych, ponieważ ve widać go podczas dodawania kontrolek DetailsView i FormView obsługę stronicowania w poprzednich samouczkach.</span><span class="sxs-lookup"><span data-stu-id="b5de2-156">This paging interface should look familiar, as we ve seen it when adding paging support to the DetailsView and FormView controls in past tutorials.</span></span>

<span data-ttu-id="b5de2-157">Obu DetailsView FormView formantów i wyświetlić tylko jeden rekord na każdej stronie.</span><span class="sxs-lookup"><span data-stu-id="b5de2-157">Both the DetailsView and FormView controls only show a single record per page.</span></span> <span data-ttu-id="b5de2-158">GridView, jednak konsultować się z jego [ `PageSize` właściwość](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.pagesize.aspx) do ustalenia, ile rekordy wyświetlanych na stronie (Ta właściwość jest domyślnie ustawiona na wartość 10).</span><span class="sxs-lookup"><span data-stu-id="b5de2-158">The GridView, however, consults its [`PageSize` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.pagesize.aspx) to determine how many records to show per page (this property defaults to a value of 10).</span></span>

<span data-ttu-id="b5de2-159">Można dostosować ten GridView DetailsView i FormView s stronicowania interfejs z następującymi właściwościami:</span><span class="sxs-lookup"><span data-stu-id="b5de2-159">This GridView, DetailsView, and FormView s paging interface can be customized using the following properties:</span></span>

- <span data-ttu-id="b5de2-160">`PagerStyle` Określa informacje o interfejsie stronicowania; stylu można określić ustawienia takie jak `BackColor`, `ForeColor`, `CssClass`, `HorizontalAlign`i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="b5de2-160">`PagerStyle` indicates the style information for the paging interface; can specify settings like `BackColor`, `ForeColor`, `CssClass`, `HorizontalAlign`, and so on.</span></span>
- <span data-ttu-id="b5de2-161">`PagerSettings` zawiera bevy właściwości, które można dostosować funkcjonalności interfejsu stronicowania; `PageButtonCount` wskazuje maksymalną liczbę cyfr stronę liczbowe wyświetlane w interfejsie stronicowania (wartość domyślna wynosi 10); [ `Mode` właściwość](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pagersettings.mode.aspx) wskazuje, jak działa interfejs stronicowania i może być ustawiona na:</span><span class="sxs-lookup"><span data-stu-id="b5de2-161">`PagerSettings` contains a bevy of properties that can customize the functionality of the paging interface; `PageButtonCount` indicates the maximum number of numeric page numbers displayed in the paging interface (the default is 10); the [`Mode` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pagersettings.mode.aspx) indicates how the paging interface operates and can be set to:</span></span> 

    - <span data-ttu-id="b5de2-162">`NextPrevious` Pokazuje przycisków dalej i Wstecz, umożliwiając użytkownikowi krok przodu lub do tyłu po jednej stronie naraz</span><span class="sxs-lookup"><span data-stu-id="b5de2-162">`NextPrevious` shows a Next and Previous buttons, allowing the user to step forwards or backwards one page at a time</span></span>
    - <span data-ttu-id="b5de2-163">`NextPreviousFirstLast` Oprócz przycisków dalej i Wstecz imię i nazwisko przyciski są również uwzględniane, co pozwala na szybkie przeniesienie do pierwszej lub ostatniej strony danych</span><span class="sxs-lookup"><span data-stu-id="b5de2-163">`NextPreviousFirstLast` in addition to Next and Previous buttons, First and Last buttons are also included, allowing the user to quickly move to the first or last page of data</span></span>
    - <span data-ttu-id="b5de2-164">`Numeric` zawiera szereg numery stron, dzięki czemu użytkownik od razu przejść do dowolnej strony</span><span class="sxs-lookup"><span data-stu-id="b5de2-164">`Numeric` shows a series of page numbers, allowing the user to immediately jump to any page</span></span>
    - <span data-ttu-id="b5de2-165">`NumericFirstLast` Oprócz numery stron zawiera przyciski imię i nazwisko, co pozwala na szybkie przeniesienie do pierwszej lub ostatniej strony danych. przyciski pierwszego/ostatniego są wyświetlane tylko jeśli wszystkie liczby stronę liczbowe nie mieści się</span><span class="sxs-lookup"><span data-stu-id="b5de2-165">`NumericFirstLast` in addition to the page numbers, includes First and Last buttons, allowing the user to quickly move to the first or last page of data; the First/Last buttons are only shown if all of the numeric page numbers cannot fit</span></span>

<span data-ttu-id="b5de2-166">Ponadto GridView DetailsView i FormView wszystkie oferty `PageIndex` i `PageCount` właściwości, które wskazują na wyświetlanej stronie bieżącej i łączna liczba stron danych, odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="b5de2-166">Moreover, the GridView, DetailsView, and FormView all offer the `PageIndex` and `PageCount` properties, which indicate the current page being viewed and the total number of pages of data, respectively.</span></span> <span data-ttu-id="b5de2-167">`PageIndex` Właściwości są indeksowane począwszy od 0, co oznacza, że podczas wyświetlania na pierwszej stronie danych `PageIndex` będzie równa 0.</span><span class="sxs-lookup"><span data-stu-id="b5de2-167">The `PageIndex` property is indexed starting at 0, meaning that when viewing the first page of data `PageIndex` will equal 0.</span></span> <span data-ttu-id="b5de2-168">`PageCount`, z drugiej strony, rozpoczyna zliczanie od 1, co oznacza, że `PageIndex` jest ograniczona do wartości z zakresu od 0 i `PageCount - 1`.</span><span class="sxs-lookup"><span data-stu-id="b5de2-168">`PageCount`, on the other hand, starts counting at 1, meaning that `PageIndex` is limited to the values between 0 and `PageCount - 1`.</span></span>

<span data-ttu-id="b5de2-169">Pozwól, s, Poświęć chwilę, aby poprawić wygląd domyślny naszego interfejsu stronicowania s GridView.</span><span class="sxs-lookup"><span data-stu-id="b5de2-169">Let s take a moment to improve the default appearance of our GridView s paging interface.</span></span> <span data-ttu-id="b5de2-170">W szczególności umożliwiają s interfejs stronicowania wyrównany do prawej światła szarym tle.</span><span class="sxs-lookup"><span data-stu-id="b5de2-170">Specifically, let s have the paging interface right-aligned with a light gray background.</span></span> <span data-ttu-id="b5de2-171">Zamiast ustawienie tych właściwości bezpośrednio za pomocą GridView s `PagerStyle` właściwości umożliwiają s utworzyć klasę CSS z `Styles.css` o nazwie `PagerRowStyle` , a następnie przypisać `PagerStyle` s `CssClass` właściwości, za pośrednictwem naszego motywu.</span><span class="sxs-lookup"><span data-stu-id="b5de2-171">Rather than setting these properties directly through the GridView s `PagerStyle` property, let s create a CSS class in `Styles.css` named `PagerRowStyle` and then assign the `PagerStyle` s `CssClass` property through our Theme.</span></span> <span data-ttu-id="b5de2-172">Zacznij od otwarcia `Styles.css` i dodanie następujących CSS definicję klasy:</span><span class="sxs-lookup"><span data-stu-id="b5de2-172">Start by opening `Styles.css` and adding the following CSS class definition:</span></span>

[!code-css[Main](paging-and-sorting-report-data-cs/samples/sample3.css)]

<span data-ttu-id="b5de2-173">Następnie otwórz `GridView.skin` w pliku `DataWebControls` folder wewnątrz `App_Themes` folderu.</span><span class="sxs-lookup"><span data-stu-id="b5de2-173">Next, open the `GridView.skin` file in the `DataWebControls` folder within the `App_Themes` folder.</span></span> <span data-ttu-id="b5de2-174">Tak jak Omówiliśmy to w *strony wzorcowe i nawigacja w witrynie* samouczek, karnacji plików może służyć do określenia domyślnych wartości właściwości kontrolki sieci Web.</span><span class="sxs-lookup"><span data-stu-id="b5de2-174">As we discussed in the *Master Pages and Site Navigation* tutorial, Skin files can be used to specify the default property values for a Web control.</span></span> <span data-ttu-id="b5de2-175">W związku z tym, rozszerzyć istniejące ustawienia, aby uwzględnić ustawienie `PagerStyle` s `CssClass` właściwość `PagerRowStyle`.</span><span class="sxs-lookup"><span data-stu-id="b5de2-175">Therefore, augment the existing settings to include setting the `PagerStyle` s `CssClass` property to `PagerRowStyle`.</span></span> <span data-ttu-id="b5de2-176">Ponadto należy skonfigurować interfejs stronicowania, aby wyświetlić maksymalnie pięć stronę liczbowe przyciski, za pomocą umożliwiają s `NumericFirstLast` interfejsu stronicowania.</span><span class="sxs-lookup"><span data-stu-id="b5de2-176">Also, let s configure the paging interface to show at most five numeric page buttons using the `NumericFirstLast` paging interface.</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample4.aspx)]

## <a name="the-paging-user-experience"></a><span data-ttu-id="b5de2-177">Środowisko użytkownika stronicowania</span><span class="sxs-lookup"><span data-stu-id="b5de2-177">The Paging User Experience</span></span>

<span data-ttu-id="b5de2-178">Rysunek 8 przedstawia strony sieci web po odwiedzeniu za pośrednictwem przeglądarki, po dokonaniu wyboru Włączanie stronicowania s GridView kontroli i `PagerStyle` i `PagerSettings` konfiguracji zostały wprowadzone za pośrednictwem `GridView.skin` pliku.</span><span class="sxs-lookup"><span data-stu-id="b5de2-178">Figure 8 shows the web page when visited through a browser after the GridView s Enable Paging checkbox has been checked and the `PagerStyle` and `PagerSettings` configurations have been made through the `GridView.skin` file.</span></span> <span data-ttu-id="b5de2-179">Uwaga jak tylko dziesięć rekordy są wyświetlane, a interfejs stronicowania wskazuje, wyświetlania na pierwszej stronie danych.</span><span class="sxs-lookup"><span data-stu-id="b5de2-179">Note how only ten records are shown, and the paging interface indicates that we are viewing the first page of data.</span></span>

<span data-ttu-id="b5de2-180">[![Za pomocą stronicowania włączone tylko podzestaw rekordów są wyświetlane w czasie](paging-and-sorting-report-data-cs/_static/image13.png)](paging-and-sorting-report-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="b5de2-180">[![With Paging Enabled, Only a Subset of the Records are Displayed at a Time](paging-and-sorting-report-data-cs/_static/image13.png)](paging-and-sorting-report-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="b5de2-181">**Rysunek 8**: Za pomocą stronicowania włączone, tylko podzestaw rekordów są wyświetlane w danym momencie ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="b5de2-181">**Figure 8**: With Paging Enabled, Only a Subset of the Records are Displayed at a Time ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image14.png))</span></span>

<span data-ttu-id="b5de2-182">Gdy użytkownik kliknie na jednym z numery stron w interfejsie stronicowania, ensues odświeżenie strony i strona ładuje się przedstawiający, że żądana strona s rekordów.</span><span class="sxs-lookup"><span data-stu-id="b5de2-182">When the user clicks on one of the page numbers in the paging interface, a postback ensues and the page reloads showing that requested page s records.</span></span> <span data-ttu-id="b5de2-183">Po przystąpieniu do wyświetlania danych na ostatniej stronie rysunku nr 9 przedstawiono wyniki.</span><span class="sxs-lookup"><span data-stu-id="b5de2-183">Figure 9 shows the results after opting to view the final page of data.</span></span> <span data-ttu-id="b5de2-184">Należy zauważyć, że ostatnia strona ma tylko jeden rekord. jest to spowodowane istnieją rekordy 81 w całości, co osiem stron 10 rekordów dla określonej strony po jednej stronie pojedynczy rekord.</span><span class="sxs-lookup"><span data-stu-id="b5de2-184">Notice that the final page only has one record; this is because there are 81 records in total, resulting in eight pages of 10 records per page plus one page with a lone record.</span></span>

<span data-ttu-id="b5de2-185">[![Kliknięcie na numer strony powoduje odświeżenie strony i zawiera odpowiednią podzestaw rekordów](paging-and-sorting-report-data-cs/_static/image16.png)](paging-and-sorting-report-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="b5de2-185">[![Clicking On a Page Number Causes a Postback and Shows the Appropriate Subset of Records](paging-and-sorting-report-data-cs/_static/image16.png)](paging-and-sorting-report-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="b5de2-186">**Rysunek 9**: Kliknięcie na numer strony powoduje odświeżenie strony i przedstawia podzbiór odpowiednie rekordy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="b5de2-186">**Figure 9**: Clicking On a Page Number Causes a Postback and Shows the Appropriate Subset of Records ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image17.png))</span></span>

## <a name="paging-s-server-side-workflow"></a><span data-ttu-id="b5de2-187">Przepływ pracy po stronie serwera s stronicowania</span><span class="sxs-lookup"><span data-stu-id="b5de2-187">Paging s Server-Side Workflow</span></span>

<span data-ttu-id="b5de2-188">Gdy użytkownik końcowy kliknie przycisk w interfejsie stronicowania, ensues odświeżenie strony i rozpoczyna się poniższy przepływ pracy po stronie serwera:</span><span class="sxs-lookup"><span data-stu-id="b5de2-188">When the end user clicks on a button in the paging interface, a postback ensues and the following server-side workflow begins:</span></span>

1. <span data-ttu-id="b5de2-189">S kontrolki GridView (lub DetailsView lub FormView) `PageIndexChanging` generowane zdarzenie</span><span class="sxs-lookup"><span data-stu-id="b5de2-189">The GridView s (or DetailsView or FormView) `PageIndexChanging` event fires</span></span>
2. <span data-ttu-id="b5de2-190">Kontrolki ObjectDataSource ponownie żąda *wszystkich* danych od LOGIKI; GridView s `PageIndex` i `PageSize` wartości właściwości są używane do określenia rekordów zwracanych z LOGIKI muszą być wyświetlana w widoku GridView</span><span class="sxs-lookup"><span data-stu-id="b5de2-190">The ObjectDataSource re-requests *all* of the data from the BLL; the GridView s `PageIndex` and `PageSize` property values are used to determine what records returned from the BLL need to be displayed in the GridView</span></span>
3. <span data-ttu-id="b5de2-191">GridView s `PageIndexChanged` generowane zdarzenie</span><span class="sxs-lookup"><span data-stu-id="b5de2-191">The GridView s `PageIndexChanged` event fires</span></span>

<span data-ttu-id="b5de2-192">W kroku 2 kontrolki ObjectDataSource żąda ponownego wszystkich danych ze źródła danych.</span><span class="sxs-lookup"><span data-stu-id="b5de2-192">In Step 2, the ObjectDataSource re-requests all of the data from its data source.</span></span> <span data-ttu-id="b5de2-193">Ten styl stronicowania jest często nazywany *stronicowania domyślne*, ponieważ s zachowanie stronicowania, używany domyślnie podczas ustawiania `AllowPaging` właściwość `true`.</span><span class="sxs-lookup"><span data-stu-id="b5de2-193">This style of paging is commonly referred to as *default paging*, as it s the paging behavior used by default when setting the `AllowPaging` property to `true`.</span></span> <span data-ttu-id="b5de2-194">Domyślne naively stronicowanie danych formantu sieci Web pobiera wszystkie rekordy, dla każdej strony danych, mimo że tylko podzestaw rekordów są faktycznie renderowane w kodzie HTML tego s wysyłany do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="b5de2-194">With default paging the data Web control naively retrieves all records for each page of data, even though only a subset of records are actually rendered into the HTML that s sent to the browser.</span></span> <span data-ttu-id="b5de2-195">Chyba że danych w bazie danych jest buforowany przez LOGIKI lub kontrolki ObjectDataSource, stronicowanie domyślny jest niedziałającym wystarczająco dużych zestawów danych lub aplikacji sieci web z wieloma równoczesnymi użytkownikami.</span><span class="sxs-lookup"><span data-stu-id="b5de2-195">Unless the database data is cached by the BLL or ObjectDataSource, default paging is unworkable for sufficiently large result sets or for web applications with many concurrent users.</span></span>

<span data-ttu-id="b5de2-196">W następnym samouczku zajmiemy się sposób implementacji *stronicowania niestandardowego*.</span><span class="sxs-lookup"><span data-stu-id="b5de2-196">In the next tutorial we'll examine how to implement *custom paging*.</span></span> <span data-ttu-id="b5de2-197">Za pomocą niestandardowych stronicowania może specjalnie wydać ObjectDataSource w celu pobrania tylko dokładny zestaw rekordów potrzebnych do żądanej strony danych.</span><span class="sxs-lookup"><span data-stu-id="b5de2-197">With custom paging you can specifically instruct the ObjectDataSource to only retrieve the precise set of records needed for the requested page of data.</span></span> <span data-ttu-id="b5de2-198">Jak możesz sobie wyobrazić, stronicowania niestandardowego znacznie poprawia wydajność stronicować dużych zestawów wyników.</span><span class="sxs-lookup"><span data-stu-id="b5de2-198">As you can imagine, custom paging greatly improves the efficiency of paging through large result sets.</span></span>

> [!NOTE]
> <span data-ttu-id="b5de2-199">Gdy stronicowania domyślny nie jest odpowiedni w przypadku, gdy stronicowanie za pośrednictwem wystarczająco duży zestaw wyników lub witryny za pomocą wielu równoczesnych użytkowników, należy pamiętać, że stronicowania niestandardowego wymaga więcej zmian i wysiłku, aby zaimplementować i nie jest tak proste, jak zaznaczenia pola wyboru (co jest domyślny stronicowanie).</span><span class="sxs-lookup"><span data-stu-id="b5de2-199">While default paging is not suitable when paging through sufficiently large result sets or for sites with many simultaneous users, realize that custom paging requires more changes and effort to implement and is not as simple as checking a checkbox (as is default paging).</span></span> <span data-ttu-id="b5de2-200">W związku z tym, stronicowania domyślny może być idealnym wyborem dla małych, o małym natężeniu ruchu witryn sieci Web lub gdy stronicowanie za pośrednictwem wyników z niewielką zestawy, ponieważ s znacznie łatwiejsze i szybsze do wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="b5de2-200">Therefore, default paging may be the ideal choice for small, low-traffic websites or when paging through relatively small result sets, as it s much easier and quicker to implement.</span></span>

<span data-ttu-id="b5de2-201">Na przykład gdy wiemy, że nigdy nie odpowiemy od ponad 100 produktów w naszej bazie danych, przyrost wydajności minimalnej przysługujące stronicowania niestandardowego jest prawdopodobnie równoważona nakład pracy wymagany do jej wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="b5de2-201">For example, if we know that we'll never have more than 100 products in our database, the minimal performance gain enjoyed by custom paging is likely offset by the effort required to implement it.</span></span> <span data-ttu-id="b5de2-202">Jeśli jednak może być jeden dzień mamy tysiące lub dziesiątki tysięcy produktów, *nie* Implementowanie stronicowania niestandardowego z kolei będzie znacznie ograniczać skalowalność naszej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b5de2-202">If, however, we may one day have thousands or tens of thousands of products, *not* implementing custom paging would greatly hamper the scalability of our application.</span></span>

## <a name="step-4-customizing-the-paging-experience"></a><span data-ttu-id="b5de2-203">Krok 4. Dostosowywanie środowiska stronicowania</span><span class="sxs-lookup"><span data-stu-id="b5de2-203">Step 4: Customizing the Paging Experience</span></span>

<span data-ttu-id="b5de2-204">Kontrolki internetowe danych zapewniają wiele właściwości, których można użyć w celu poprawienia środowiska użytkownika s stronicowania.</span><span class="sxs-lookup"><span data-stu-id="b5de2-204">The data Web controls provide a number of properties that can be used to enhance the user s paging experience.</span></span> <span data-ttu-id="b5de2-205">`PageCount` Właściwość, na przykład, wskazuje, ile łączna liczba stron są, podczas gdy `PageIndex` właściwość wskazuje bieżącą stronę odwiedzana i można ustawić, aby szybko przejść przez użytkownika do określonej strony.</span><span class="sxs-lookup"><span data-stu-id="b5de2-205">The `PageCount` property, for example, indicates how many total pages there are, while the `PageIndex` property indicates the current page being visited and can be set to quickly move a user to a specific page.</span></span> <span data-ttu-id="b5de2-206">Aby zilustrować, jak użyć tych właściwości, aby ulepszyć środowisko użytkownika s stronicowania, niech s, Dodaj etykietę sieci Web kontrolę naszą stronę, informujący użytkownika, które strony są ponownie obecnie odwiedzający wraz z kontrolki DropDownList, która pozwala na szybkie przejście do dowolnej stronie .</span><span class="sxs-lookup"><span data-stu-id="b5de2-206">To illustrate how to use these properties to improve upon the user s paging experience, let s add a Label Web control to our page that informs the user what page they re currently visiting, along with a DropDownList control that allows them to quickly jump to any given page.</span></span>

<span data-ttu-id="b5de2-207">Najpierw należy dodać formant etykiety w sieci Web do strony, ustaw jego `ID` właściwości `PagingInformation`i wyczyszczenie jego `Text` właściwości.</span><span class="sxs-lookup"><span data-stu-id="b5de2-207">First, add a Label Web control to your page, set its `ID` property to `PagingInformation`, and clear out its `Text` property.</span></span> <span data-ttu-id="b5de2-208">Następnie należy utworzyć program obsługi zdarzeń dla GridView s `DataBound` zdarzeń i Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="b5de2-208">Next, create an event handler for the GridView s `DataBound` event and add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample5.cs)]

<span data-ttu-id="b5de2-209">Przypisuje ten program obsługi zdarzeń `PagingInformation` etykiety s `Text` właściwość komunikat z informacją użytkownika strony obecnie odwiedzają `Products.PageIndex + 1` poza ile łączna liczba stron `Products.PageCount` (dodamy 1, aby `Products.PageIndex` właściwość ponieważ `PageIndex` są indeksowane począwszy od 0).</span><span class="sxs-lookup"><span data-stu-id="b5de2-209">This event handler assigns the `PagingInformation` Label s `Text` property to a message informing the user the page they are currently visiting `Products.PageIndex + 1` out of how many total pages `Products.PageCount` (we add 1 to the `Products.PageIndex` property because `PageIndex` is indexed starting at 0).</span></span> <span data-ttu-id="b5de2-210">Wybieram Przypisz tej etykiety s `Text` właściwości w `DataBound` programu obsługi zdarzeń, w przeciwieństwie do `PageIndexChanged` programu obsługi zdarzeń ponieważ `DataBound` zdarzeń jest uruchamiana za każdym razem, gdy powiązania danych z widoku GridView, natomiast `PageIndexChanged` tylko program obsługi zdarzeń generowane, gdy zostanie zmieniona indeks strony.</span><span class="sxs-lookup"><span data-stu-id="b5de2-210">I chose the assign this Label s `Text` property in the `DataBound` event handler as opposed to the `PageIndexChanged` event handler because the `DataBound` event fires every time data is bound to the GridView whereas the `PageIndexChanged` event handler only fires when the page index is changed.</span></span> <span data-ttu-id="b5de2-211">GridView po początkowym danymi powiązanymi na pierwszej stronie odwiedź `PageIndexChanging` zdarzeń t ogień (natomiast `DataBound` zdarzeń jest).</span><span class="sxs-lookup"><span data-stu-id="b5de2-211">When the GridView is initially data bound on the first page visit, the `PageIndexChanging` event doesn t fire (whereas the `DataBound` event does).</span></span>

<span data-ttu-id="b5de2-212">Dodając ten użytkownika są teraz wyświetlane komunikat wskazujący, jaki strony odwiedzają i ile łączna liczba stron danych istnieje.</span><span class="sxs-lookup"><span data-stu-id="b5de2-212">With this addition, the user is now shown a message indicating what page they are visiting and how many total pages of data there are.</span></span>

<span data-ttu-id="b5de2-213">[![Numer bieżącej strony i łączna liczba stron są wyświetlane](paging-and-sorting-report-data-cs/_static/image19.png)](paging-and-sorting-report-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="b5de2-213">[![The Current Page Number and Total Number of Pages are Displayed](paging-and-sorting-report-data-cs/_static/image19.png)](paging-and-sorting-report-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="b5de2-214">**Na rysunku nr 10**: Numer bieżącej strony i łączna liczba stron są wyświetlane ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="b5de2-214">**Figure 10**: The Current Page Number and Total Number of Pages are Displayed ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image20.png))</span></span>

<span data-ttu-id="b5de2-215">Oprócz formant etykiety pozwalają również dodać formant DropDownList, który wyświetla numery stron w widoku GridView z aktualnie otwartą stronę wybrane s.</span><span class="sxs-lookup"><span data-stu-id="b5de2-215">In addition to the Label control, let s also add a DropDownList control that lists the page numbers in the GridView with the currently viewed page selected.</span></span> <span data-ttu-id="b5de2-216">W tym miejscu chodzi o to, że użytkownik można szybko przechodzić z bieżącej strony do innego, po prostu wybierając nowy indeks strony z metody DropDownList.</span><span class="sxs-lookup"><span data-stu-id="b5de2-216">The idea here is that the user can quickly jump from the current page to another by simply selecting the new page index from the DropDownList.</span></span> <span data-ttu-id="b5de2-217">Rozpocznij od dodania kontrolki DropDownList do projektanta, ustawiając jego `ID` właściwość `PageList` a zaznaczając opcję włączenia automatycznego ogłaszania zwrotnego w tagu inteligentnego.</span><span class="sxs-lookup"><span data-stu-id="b5de2-217">Start by adding a DropDownList to the Designer, setting its `ID` property to `PageList` and checking the Enable AutoPostBack option from its smart tag.</span></span>

<span data-ttu-id="b5de2-218">Następnie wróć do `DataBound` programu obsługi zdarzeń i Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="b5de2-218">Next, return to the `DataBound` event handler and add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample6.cs)]

<span data-ttu-id="b5de2-219">Ten kod, który rozpoczyna się przez wyczyszczenie między elementami `PageList` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="b5de2-219">This code begins by clearing out the items in the `PageList` DropDownList.</span></span> <span data-ttu-id="b5de2-220">To może wydawać się zbędne, ponieważ nie ma jednego oczekiwać liczbę stron, aby zmienić, ale inni użytkownicy mogą jednocześnie przy użyciu systemu, dodawanie lub usuwanie rekordów z `Products` tabeli.</span><span class="sxs-lookup"><span data-stu-id="b5de2-220">This may seem superfluous, since one wouldn't expect the number of pages to change, but other users may be using the system simultaneously, adding or removing records from the `Products` table.</span></span> <span data-ttu-id="b5de2-221">Takie wstawienia lub usunięcia można zmienić liczbę stron danych.</span><span class="sxs-lookup"><span data-stu-id="b5de2-221">Such insertions or deletions could alter the number of pages of data.</span></span>

<span data-ttu-id="b5de2-222">Następnie należy ponownie utworzyć numery stron i ten, który mapuje bieżącego widoku GridView `PageIndex` wybrane domyślnie.</span><span class="sxs-lookup"><span data-stu-id="b5de2-222">Next, we need to create the page numbers again and have the one that maps to the current GridView `PageIndex` selected by default.</span></span> <span data-ttu-id="b5de2-223">Możemy to zrobić za pomocą pętli z zakresu od 0 do `PageCount - 1`, dodawania nowego `ListItem` w każdej iteracji i ustawienie jej `Selected` właściwość na true, jeśli bieżący indeks iteracji jest równe GridView s `PageIndex` właściwości.</span><span class="sxs-lookup"><span data-stu-id="b5de2-223">We accomplish this with a loop from 0 to `PageCount - 1`, adding a new `ListItem` in each iteration and setting its `Selected` property to true if the current iteration index equals the GridView s `PageIndex` property.</span></span>

<span data-ttu-id="b5de2-224">Na koniec musimy utworzyć program obsługi zdarzeń dla DropDownList s `SelectedIndexChanged` zdarzenie, które są generowane każdorazowo użytkownika, wybierz inny element z listy.</span><span class="sxs-lookup"><span data-stu-id="b5de2-224">Finally, we need to create an event handler for the DropDownList s `SelectedIndexChanged` event, which fires each time the user pick a different item from the list.</span></span> <span data-ttu-id="b5de2-225">Aby utworzyć ten program obsługi zdarzeń, po prostu kliknij dwukrotnie ikonę kontrolki DropDownList w projektancie, a następnie dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="b5de2-225">To create this event handler, simply double-click the DropDownList in the Designer, then add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample7.cs)]

<span data-ttu-id="b5de2-226">Jak pokazano na ilustracji 11, jedynie zmiana GridView s `PageIndex` właściwości powoduje, że dane, które mają być odbitych do kontrolki GridView.</span><span class="sxs-lookup"><span data-stu-id="b5de2-226">As Figure 11 shows, merely changing the GridView s `PageIndex` property causes the data to be rebound to the GridView.</span></span> <span data-ttu-id="b5de2-227">W tym s GridView `DataBound` programu obsługi zdarzeń, odpowiednie metody DropDownList `ListItem` jest zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="b5de2-227">In the GridView s `DataBound` event handler, the appropriate DropDownList `ListItem` is selected.</span></span>

<span data-ttu-id="b5de2-228">[![Użytkownik jest automatycznie otwierana szóstego strony po wybraniu elementu listy rozwijanej 6 strony](paging-and-sorting-report-data-cs/_static/image22.png)](paging-and-sorting-report-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="b5de2-228">[![The User is Automatically Taken to the Sixth Page When Selecting the Page 6 Drop-Down List Item](paging-and-sorting-report-data-cs/_static/image22.png)](paging-and-sorting-report-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="b5de2-229">**Rysunek 11**: Użytkownik jest automatycznie otwierana szóstego strony po wybraniu elementu listy rozwijanej 6 strony ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="b5de2-229">**Figure 11**: The User is Automatically Taken to the Sixth Page When Selecting the Page 6 Drop-Down List Item ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image23.png))</span></span>

## <a name="step-5-adding-bi-directional-sorting-support"></a><span data-ttu-id="b5de2-230">Krok 5. Dodanie obsługi sortowania dwukierunkowa</span><span class="sxs-lookup"><span data-stu-id="b5de2-230">Step 5: Adding Bi-Directional Sorting Support</span></span>

<span data-ttu-id="b5de2-231">Dodawanie Obsługa sortowania dwukierunkowa jest tak proste. wystarczy dodać obsługę stronicowania po prostu zaznacz opcję Włącz sortowanie tagów inteligentnych s kontrolki GridView (która ustawia GridView s [ `AllowSorting` właściwość](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowsorting.aspx) do `true`).</span><span class="sxs-lookup"><span data-stu-id="b5de2-231">Adding bi-directional sorting support is as simple as adding paging support simply check the Enable Sorting option from the GridView s smart tag (which sets the GridView s [`AllowSorting` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowsorting.aspx) to `true`).</span></span> <span data-ttu-id="b5de2-232">To powoduje wyświetlenie wszystkich nagłówków pola s GridView jako LinkButtons, po kliknięciu, powoduje odświeżenie strony i zwracać dane posortowane według kliknięto kolumny w kolejności rosnącej.</span><span class="sxs-lookup"><span data-stu-id="b5de2-232">This renders each of the headers of the GridView s fields as LinkButtons that, when clicked, cause a postback and return the data sorted by the clicked column in ascending order.</span></span> <span data-ttu-id="b5de2-233">Ponownie klikając ten sam nagłówek LinkButton ponownie sortując dane w kolejności malejącej.</span><span class="sxs-lookup"><span data-stu-id="b5de2-233">Clicking the same header LinkButton again re-sorts the data in descending order.</span></span>

> [!NOTE]
> <span data-ttu-id="b5de2-234">Jeśli używasz niestandardowego warstwy dostępu do danych, a nie wpisana zestawu danych nie może mieć opcję Włącz sortowanie w tagu inteligentnego s GridView.</span><span class="sxs-lookup"><span data-stu-id="b5de2-234">If you are using a custom Data Access Layer rather than a Typed DataSet, you may not have an Enable Sorting option in the GridView s smart tag.</span></span> <span data-ttu-id="b5de2-235">Tylko GridViews powiązać ze źródłami danych, które natywnie obsługują sortowanie ma dostępne to pole wyboru.</span><span class="sxs-lookup"><span data-stu-id="b5de2-235">Only GridViews bound to data sources that natively support sorting have this checkbox available.</span></span> <span data-ttu-id="b5de2-236">Wpisany zestaw danych zapewnia obsługę sortowania out-of--box, ponieważ zapewnia ADO.NET DataTable `Sort` metody, która przy wywołaniu sortuje s elementu DataTable przy użyciu kryteriów określonych wierszy danych.</span><span class="sxs-lookup"><span data-stu-id="b5de2-236">The Typed DataSet provides out-of-the-box sorting support since the ADO.NET DataTable provides a `Sort` method that, when invoked, sorts the DataTable s DataRows using the criteria specified.</span></span>

<span data-ttu-id="b5de2-237">Jeśli Twoje DAL nie zwraca obiekty, które natywnie pomocy technicznej, sortowanie, musisz skonfigurować ObjectDataSource do przekazywania informacji sortowania do warstwy logiki biznesowej, które można sortować dane lub dane posortowane przez warstwę DAL.</span><span class="sxs-lookup"><span data-stu-id="b5de2-237">If your DAL does not return objects that natively support sorting you will need to configure the ObjectDataSource to pass sorting information to the Business Logic Layer, which can either sort the data or have the data sorted by the DAL.</span></span> <span data-ttu-id="b5de2-238">Pokażemy, jak sortować dane na logice biznesowej i warstwy dostępu do danych w przyszłości zapoznać się z samouczkiem.</span><span class="sxs-lookup"><span data-stu-id="b5de2-238">We'll explore how to sort data at the Business Logic and Data Access Layers in a future tutorial.</span></span>

<span data-ttu-id="b5de2-239">LinkButtons sortowania są renderowane jako hiperłącza HTML, którego bieżącym kolory (niebieski nieodwiedzonych łącze i Ciemnoczerwony dla odwiedzony Odnośnik) mogą powodować konfliktów z kolor tła w wierszu nagłówka.</span><span class="sxs-lookup"><span data-stu-id="b5de2-239">The sorting LinkButtons are rendered as HTML hyperlinks, whose current colors (blue for an unvisited link and a dark red for a visited link) clash with the background color of the header row.</span></span> <span data-ttu-id="b5de2-240">Zamiast tego umożliwiają s ma wszystkie łącza wiersz nagłówka wyświetlana białe, niezależnie od tego, czy ich ve zostały odwiedzone, czy nie.</span><span class="sxs-lookup"><span data-stu-id="b5de2-240">Instead, let s have all header row links displayed in white, regardless of whether they ve been visited or not.</span></span> <span data-ttu-id="b5de2-241">Można to osiągnąć, dodając następujące polecenie, aby `Styles.css` klasy:</span><span class="sxs-lookup"><span data-stu-id="b5de2-241">This can be accomplished by adding the following to the `Styles.css` class:</span></span>

[!code-css[Main](paging-and-sorting-report-data-cs/samples/sample8.css)]

<span data-ttu-id="b5de2-242">Ta składnia wskazuje, aby użyć białego tekstu, podczas wyświetlania hiperlinków w obrębie elementu, który używa klasy HeaderStyle.</span><span class="sxs-lookup"><span data-stu-id="b5de2-242">This syntax indicates to use white text when displaying those hyperlinks within an element that uses the HeaderStyle class.</span></span>

<span data-ttu-id="b5de2-243">Po dodaniu tego CSS podczas odwiedzania strony za pośrednictwem przeglądarki ekran powinien wyglądać podobnie jak rysunek 12.</span><span class="sxs-lookup"><span data-stu-id="b5de2-243">After this CSS addition, when visiting the page through a browser your screen should look similar to Figure 12.</span></span> <span data-ttu-id="b5de2-244">W szczególności rysunku 12 przedstawiono wyniki, po kliknięciu łącza nagłówka s pola Cena.</span><span class="sxs-lookup"><span data-stu-id="b5de2-244">In particular, Figure 12 shows the results after the Price field s header link has been clicked.</span></span>

<span data-ttu-id="b5de2-245">[![Wyniki są posortowane według UnitPrice w kolejności rosnącej](paging-and-sorting-report-data-cs/_static/image25.png)](paging-and-sorting-report-data-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="b5de2-245">[![The Results Have Been Sorted by the UnitPrice in Ascending Order](paging-and-sorting-report-data-cs/_static/image25.png)](paging-and-sorting-report-data-cs/_static/image24.png)</span></span>

<span data-ttu-id="b5de2-246">**Rysunek 12**: Wyniki są posortowane według UnitPrice w kolejności rosnącej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="b5de2-246">**Figure 12**: The Results Have Been Sorted by the UnitPrice in Ascending Order ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image26.png))</span></span>

## <a name="examining-the-sorting-workflow"></a><span data-ttu-id="b5de2-247">Badanie sortowania przepływu pracy</span><span class="sxs-lookup"><span data-stu-id="b5de2-247">Examining the Sorting Workflow</span></span>

<span data-ttu-id="b5de2-248">Wszystkie kontrolki GridView pól elementu BoundField, CheckBoxField TemplateField i mieć itd `SortExpression` właściwość, która określa wyrażenie które powinny być używane do sortowania danych, po kliknięciu tego s pola sortowania nagłówka łącza.</span><span class="sxs-lookup"><span data-stu-id="b5de2-248">All GridView fields the BoundField, CheckBoxField, TemplateField, and so on have a `SortExpression` property that indicates the expression that should be used to sort the data when that field s sorting header link is clicked.</span></span> <span data-ttu-id="b5de2-249">Ma również widoku GridView `SortExpression` właściwości.</span><span class="sxs-lookup"><span data-stu-id="b5de2-249">The GridView also has a `SortExpression` property.</span></span> <span data-ttu-id="b5de2-250">Podczas sortowania nagłówka kliknięto element LinkButton widoku GridView przypisuje s tego pola `SortExpression` wartość do jego `SortExpression` właściwości.</span><span class="sxs-lookup"><span data-stu-id="b5de2-250">When a sorting header LinkButton is clicked, the GridView assigns that field s `SortExpression` value to its `SortExpression` property.</span></span> <span data-ttu-id="b5de2-251">Następnie dane są ponownie pobierane z kontrolki ObjectDataSource i posortowane zgodnie z tym s GridView `SortExpression` właściwości.</span><span class="sxs-lookup"><span data-stu-id="b5de2-251">Next, the data is re-retrieved from the ObjectDataSource and sorted according to the GridView s `SortExpression` property.</span></span> <span data-ttu-id="b5de2-252">Poniżej przedstawiono szczegółową listę sekwencji kroków, które wynika, gdy użytkownik końcowy sortując dane w widoku GridView:</span><span class="sxs-lookup"><span data-stu-id="b5de2-252">The following list details the sequence of steps that transpires when an end user sorts the data in a GridView:</span></span>

1. <span data-ttu-id="b5de2-253">GridView s [zdarzeń sortowanie](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorting(VS.80).aspx) generowane</span><span class="sxs-lookup"><span data-stu-id="b5de2-253">The GridView s [Sorting event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorting(VS.80).aspx) fires</span></span>
2. <span data-ttu-id="b5de2-254">GridView s [ `SortExpression` właściwość](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sortexpression.aspx) jest ustawiona na `SortExpression` pola, którego sortowania nagłówka kliknął element LinkButton</span><span class="sxs-lookup"><span data-stu-id="b5de2-254">The GridView s [`SortExpression` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sortexpression.aspx) is set to the `SortExpression` of the field whose sorting header LinkButton was clicked</span></span>
3. <span data-ttu-id="b5de2-255">Kontrolki ObjectDataSource ponownie pobiera wszystkie dane z LOGIKI, a następnie sortuje danych za pomocą GridView s `SortExpression`</span><span class="sxs-lookup"><span data-stu-id="b5de2-255">The ObjectDataSource re-retrieves all of the data from the BLL and then sorts the data using the GridView s `SortExpression`</span></span>
4. <span data-ttu-id="b5de2-256">GridView s `PageIndex` właściwość zostaje zresetowana do 0, co oznacza, że podczas sortowania użytkownika jest zwracany do pierwszej strony danych (zakładając, że wdrożono obsługę stronicowania)</span><span class="sxs-lookup"><span data-stu-id="b5de2-256">The GridView s `PageIndex` property is reset to 0, meaning that when sorting the user is returned to the first page of data (assuming paging support has been implemented)</span></span>
5. <span data-ttu-id="b5de2-257">GridView s [ `Sorted` zdarzeń](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorted(VS.80).aspx) generowane</span><span class="sxs-lookup"><span data-stu-id="b5de2-257">The GridView s [`Sorted` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorted(VS.80).aspx) fires</span></span>

<span data-ttu-id="b5de2-258">Jak domyślne stronicowania, domyślne sortowanie opcji ponownie pobiera *wszystkich* rekordy z LOGIKI.</span><span class="sxs-lookup"><span data-stu-id="b5de2-258">Like with default paging, the default sorting option re-retrieves *all* of the records from the BLL.</span></span> <span data-ttu-id="b5de2-259">Podczas korzystania z sortowania bez stronicowania lub w przypadku korzystania z sortowania z domyślnie stronicowania, miejsca s ma sposobu obejścia tego wydajności trafień (ograniczony buforowanie danych w bazie danych).</span><span class="sxs-lookup"><span data-stu-id="b5de2-259">When using sorting without paging or when using sorting with default paging, there s no way to circumvent this performance hit (short of caching the database data).</span></span> <span data-ttu-id="b5de2-260">Jednakże, jak firma Microsoft znajduje się w przyszłości — samouczek, jego s umożliwia wydajne sortowania danych, korzystając z niestandardowego stronicowania.</span><span class="sxs-lookup"><span data-stu-id="b5de2-260">However, as we'll see in a future tutorial, it s possible to efficiently sort data when using custom paging.</span></span>

<span data-ttu-id="b5de2-261">Podczas tworzenia wiązania kontrolki ObjectDataSource do kontrolki GridView za pomocą listy rozwijanej w tagu inteligentnego s GridView, każde pole GridView automatycznie ma jego `SortExpression` przypisano nazwę pola danych właściwości `ProductsRow` klasy.</span><span class="sxs-lookup"><span data-stu-id="b5de2-261">When binding an ObjectDataSource to the GridView through the drop-down list in the GridView s smart tag, each GridView field automatically has its `SortExpression` property assigned to the name of the data field in the `ProductsRow` class.</span></span> <span data-ttu-id="b5de2-262">Na przykład `ProductName` s elementu BoundField `SortExpression` jest ustawiona na `ProductName`, jak pokazano w poniższym oznaczeniu deklaracyjnym:</span><span class="sxs-lookup"><span data-stu-id="b5de2-262">For example, the `ProductName` BoundField s `SortExpression` is set to `ProductName`, as shown in the following declarative markup:</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample9.aspx)]

<span data-ttu-id="b5de2-263">Pola można skonfigurować tak, aby go s nie można sortować, czyszcząc jego `SortExpression` właściwości (przypisywanie do pustego ciągu).</span><span class="sxs-lookup"><span data-stu-id="b5de2-263">A field can be configured so that it s not sortable by clearing out its `SortExpression` property (assigning it to an empty string).</span></span> <span data-ttu-id="b5de2-264">Na przykład załóżmy, że nie chcemy przekazać naszych klientów, sortować nasze produkty według ceny.</span><span class="sxs-lookup"><span data-stu-id="b5de2-264">To illustrate this, imagine that we didn't want to let our customers sort our products by price.</span></span> <span data-ttu-id="b5de2-265">`UnitPrice` s elementu BoundField `SortExpression` właściwość może zostać usunięty w oznaczeniu deklaracyjnym, albo za pomocą okna dialogowego pola, (który jest dostępny, klikając łącze Edytowanie kolumn w widoku GridView tagu inteligentnego s).</span><span class="sxs-lookup"><span data-stu-id="b5de2-265">The `UnitPrice` BoundField s `SortExpression` property can be removed either from the declarative markup or through the Fields dialog box (which is accessible by clicking on the Edit Columns link in the GridView s smart tag).</span></span>

![Wyniki są posortowane według UnitPrice w kolejności rosnącej](paging-and-sorting-report-data-cs/_static/image27.png)

<span data-ttu-id="b5de2-267">**Rysunek 13**: Wyniki są posortowane według UnitPrice w kolejności rosnącej</span><span class="sxs-lookup"><span data-stu-id="b5de2-267">**Figure 13**: The Results Have Been Sorted by the UnitPrice in Ascending Order</span></span>

<span data-ttu-id="b5de2-268">Gdy `SortExpression` właściwość została usunięta z `UnitPrice` elementu BoundField, nagłówek jest renderowane jako tekst, a nie jako łącze, zapobiegając w ten sposób użytkownicy z sortowanie danych według ceny.</span><span class="sxs-lookup"><span data-stu-id="b5de2-268">Once the `SortExpression` property has been removed for the `UnitPrice` BoundField, the header is rendered as text rather than as a link, thereby preventing users from sorting the data by price.</span></span>

<span data-ttu-id="b5de2-269">[![Przez usunięcie właściwości SortExpression, użytkownicy będą mogli już sortować produkty według ceny](paging-and-sorting-report-data-cs/_static/image29.png)](paging-and-sorting-report-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="b5de2-269">[![By Removing the SortExpression Property, Users Can No Longer Sort the Products By Price](paging-and-sorting-report-data-cs/_static/image29.png)](paging-and-sorting-report-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="b5de2-270">**Rysunek 14**: Przez usunięcie właściwości SortExpression, użytkownicy będą mogli już sortować według produktów ceny ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="b5de2-270">**Figure 14**: By Removing the SortExpression Property, Users Can No Longer Sort the Products By Price ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image30.png))</span></span>

## <a name="programmatically-sorting-the-gridview"></a><span data-ttu-id="b5de2-271">Programowe sortowanie widoku GridView</span><span class="sxs-lookup"><span data-stu-id="b5de2-271">Programmatically Sorting the GridView</span></span>

<span data-ttu-id="b5de2-272">Można również sortować zawartość widoku GridView programowo przy użyciu GridView s [ `Sort` metoda](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sort.aspx).</span><span class="sxs-lookup"><span data-stu-id="b5de2-272">You can also sort the contents of the GridView programmatically by using the GridView s [`Sort` method](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sort.aspx).</span></span> <span data-ttu-id="b5de2-273">Po prostu przekazać `SortExpression` wartość, aby posortować według wraz z [ `SortDirection` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sortdirection.aspx) (`Ascending` lub `Descending`), GridView s data. zostanie ona ponownie posortowana.</span><span class="sxs-lookup"><span data-stu-id="b5de2-273">Simply pass in the `SortExpression` value to sort by along with the [`SortDirection`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sortdirection.aspx) (`Ascending` or `Descending`), and the GridView s data will be re-sorted.</span></span>

<span data-ttu-id="b5de2-274">Wyobraź sobie, że przyczyna możemy wyłączona sortowanie według `UnitPrice` była, ponieważ możemy Boisz się, naszych klientów po prostu kupuje tylko produkty najtańsza.</span><span class="sxs-lookup"><span data-stu-id="b5de2-274">Imagine that the reason we turned off sorting by the `UnitPrice` was because we were worried that our customers would simply buy only the lowest-priced products.</span></span> <span data-ttu-id="b5de2-275">Jednakże chcemy zachęcenie ich do kupować produkty najbardziej kosztowne, więc d staramy się udać posortować według ceny, ale tylko z najbardziej kosztowne ceny produktów do najmniej.</span><span class="sxs-lookup"><span data-stu-id="b5de2-275">However, we want to encourage them to buy the most expensive products, so we d like them to be able to sort the products by price, but only from the most expensive price to the least.</span></span>

<span data-ttu-id="b5de2-276">Aby wykonać to dodanie kontrolki przycisku w sieci Web do strony, ustaw jego `ID` właściwości `SortPriceDescending`i jego `Text` właściwości Sortuj według ceny.</span><span class="sxs-lookup"><span data-stu-id="b5de2-276">To accomplish this add a Button Web control to the page, set its `ID` property to `SortPriceDescending`, and its `Text` property to Sort by Price.</span></span> <span data-ttu-id="b5de2-277">Następnie należy utworzyć procedurę obsługi zdarzeń dla przycisku s `Click` zdarzeń przez dwukrotne kliknięcie formantu przycisku w projektancie.</span><span class="sxs-lookup"><span data-stu-id="b5de2-277">Next, create an event handler for the Button s `Click` event by double-clicking the Button control in the Designer.</span></span> <span data-ttu-id="b5de2-278">Dodaj następujący kod do tego programu obsługi zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="b5de2-278">Add the following code to this event handler:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample10.cs)]

<span data-ttu-id="b5de2-279">Kliknięcie tego przycisku zwraca użytkownika do pierwszej strony z produktami, posortowane według ceny z najbardziej kosztowne najniższy (patrz rysunek 15).</span><span class="sxs-lookup"><span data-stu-id="b5de2-279">Clicking this Button returns the user to the first page with the products sorted by price, from most expensive to least expensive (see Figure 15).</span></span>

<span data-ttu-id="b5de2-280">[![Kliknięcie przycisku porządkuje produkty z najbardziej kosztowne do najmniej](paging-and-sorting-report-data-cs/_static/image32.png)](paging-and-sorting-report-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="b5de2-280">[![Clicking the Button Orders the Products From the Most Expensive to the Least](paging-and-sorting-report-data-cs/_static/image32.png)](paging-and-sorting-report-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="b5de2-281">**Rysunek 15**: Kliknięcie przycisku porządkuje produkty z najbardziej kosztowne do najmniejszej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="b5de2-281">**Figure 15**: Clicking the Button Orders the Products From the Most Expensive to the Least ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image33.png))</span></span>

## <a name="summary"></a><span data-ttu-id="b5de2-282">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="b5de2-282">Summary</span></span>

<span data-ttu-id="b5de2-283">W tym samouczku widzieliśmy sposób implementacji domyślnej, stronicowanie i sortowanie możliwości które były bardzo proste — wystarczy zaznaczenia pola wyboru!</span><span class="sxs-lookup"><span data-stu-id="b5de2-283">In this tutorial we saw how to implement default paging and sorting capabilities, both of which were as easy as checking a checkbox!</span></span> <span data-ttu-id="b5de2-284">Gdy użytkownik sortuje lub między stronami w ramach danych, otwierany jest podobne przepływu pracy:</span><span class="sxs-lookup"><span data-stu-id="b5de2-284">When a user sorts or pages through data, a similar workflow unfolds:</span></span>

1. <span data-ttu-id="b5de2-285">Ensues ogłaszania zwrotnego</span><span class="sxs-lookup"><span data-stu-id="b5de2-285">A postback ensues</span></span>
2. <span data-ttu-id="b5de2-286">Dane formantu sieci Web s wstępnie poziomu generowane zdarzenie (`PageIndexChanging` lub `Sorting`)</span><span class="sxs-lookup"><span data-stu-id="b5de2-286">The data Web control s pre-level event fires (`PageIndexChanging` or `Sorting`)</span></span>
3. <span data-ttu-id="b5de2-287">Wszystkie dane zostaną ponownie pobrane przez kontrolki ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="b5de2-287">All of the data is re-retrieved by the ObjectDataSource</span></span>
4. <span data-ttu-id="b5de2-288">Dane formantu sieci Web s używane po tej operacji na poziomie generowane zdarzenie (`PageIndexChanged` lub `Sorted`)</span><span class="sxs-lookup"><span data-stu-id="b5de2-288">The data Web control s post-level event fires (`PageIndexChanged` or `Sorted`)</span></span>

<span data-ttu-id="b5de2-289">Implementowanie podstawowych stronicowanie i sortowanie jest szybka i bezproblemowa, więcej nakładu pracy musi być stosowany, korzystanie z bardziej efektywne stronicowanie niestandardowych lub w celu dodatkowego zwiększenia interfejsu stronicowania i sortowania.</span><span class="sxs-lookup"><span data-stu-id="b5de2-289">While implementing basic paging and sorting is a breeze, more effort must be exerted to utilize the more efficient custom paging or to further enhance the paging or sorting interface.</span></span> <span data-ttu-id="b5de2-290">Samouczki przyszłych przedstawimy następujące tematy.</span><span class="sxs-lookup"><span data-stu-id="b5de2-290">Future tutorials will explore these topics.</span></span>

<span data-ttu-id="b5de2-291">Wszystkiego najlepszego programowania!</span><span class="sxs-lookup"><span data-stu-id="b5de2-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="b5de2-292">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="b5de2-292">About the Author</span></span>

<span data-ttu-id="b5de2-293">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor siedem ASP/ASP.NET książek i założycielem [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracował nad przy użyciu technologii Microsoft Web od 1998 r.</span><span class="sxs-lookup"><span data-stu-id="b5de2-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="b5de2-294">Scott działa jako niezależny Konsultant, trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="b5de2-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="b5de2-295">Jego najnowszą książkę Stephena [ *Sams uczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="b5de2-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="b5de2-296">ADAM można z Tobą skontaktować w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="b5de2-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="b5de2-297">lub za pośrednictwem jego blogu, który znajduje się w temacie [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="b5de2-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="b5de2-298">Next</span><span class="sxs-lookup"><span data-stu-id="b5de2-298">Next</span></span>](efficiently-paging-through-large-amounts-of-data-cs.md)
