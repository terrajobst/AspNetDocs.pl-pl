---
uid: web-forms/overview/data-access/paging-and-sorting/paging-and-sorting-report-data-cs
title: Stronicowanie i sortowanie danych raportuC#() | Microsoft Docs
author: rick-anderson
description: Stronicowanie i sortowanie to dwie bardzo popularne funkcje podczas wyświetlania danych w aplikacji online. W tym samouczku zajmiemy się dodawaniem sortowania i...
ms.author: riande
ms.date: 08/15/2006
ms.assetid: 811a6ef2-ec66-4c8e-a089-6f795056e288
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting/paging-and-sorting-report-data-cs
msc.type: authoredcontent
ms.openlocfilehash: 2f77040316dadc218b8183e52628dc0cfe3b35a1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78619519"
---
# <a name="paging-and-sorting-report-data-c"></a><span data-ttu-id="e86dd-104">Stronicowanie i sortowanie danych raportu (C#)</span><span class="sxs-lookup"><span data-stu-id="e86dd-104">Paging and Sorting Report Data (C#)</span></span>

<span data-ttu-id="e86dd-105">przez [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="e86dd-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="e86dd-106">[Pobierz przykładową aplikację](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_24_CS.exe) lub [Pobierz plik PDF](paging-and-sorting-report-data-cs/_static/datatutorial24cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="e86dd-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_24_CS.exe) or [Download PDF](paging-and-sorting-report-data-cs/_static/datatutorial24cs1.pdf)</span></span>

> <span data-ttu-id="e86dd-107">Stronicowanie i sortowanie to dwie bardzo popularne funkcje podczas wyświetlania danych w aplikacji online.</span><span class="sxs-lookup"><span data-stu-id="e86dd-107">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="e86dd-108">W tym samouczku zajmiemy się pierwszym przystąpieniem do dodawania sortowania i stronicowania do raportów, które zostaną następnie skompilowane w przyszłych samouczkach.</span><span class="sxs-lookup"><span data-stu-id="e86dd-108">In this tutorial we'll take a first look at adding sorting and paging to our reports, which we will then build upon in future tutorials.</span></span>

## <a name="introduction"></a><span data-ttu-id="e86dd-109">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="e86dd-109">Introduction</span></span>

<span data-ttu-id="e86dd-110">Stronicowanie i sortowanie to dwie bardzo popularne funkcje podczas wyświetlania danych w aplikacji online.</span><span class="sxs-lookup"><span data-stu-id="e86dd-110">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="e86dd-111">Na przykład podczas wyszukiwania książek ASP.NET w księgarni online mogą istnieć setki takich książek, ale Raport z listą wyników wyszukiwania dotyczy tylko dziesięciu odpowiedników na stronę.</span><span class="sxs-lookup"><span data-stu-id="e86dd-111">For example, when searching for ASP.NET books at an online bookstore, there may be hundreds of such books, but the report listing the search results lists only ten matches per page.</span></span> <span data-ttu-id="e86dd-112">Ponadto wyniki mogą być sortowane według tytułu, ceny, liczby stron, nazwy autora itd.</span><span class="sxs-lookup"><span data-stu-id="e86dd-112">Moreover, the results can be sorted by title, price, page count, author name, and so on.</span></span> <span data-ttu-id="e86dd-113">Mimo że ostatnie 23 samouczki sprawdziły, jak tworzyć różne raporty, w tym interfejsy, które umożliwiają dodawanie, edytowanie i usuwanie danych, nie wiemy, jak sortować dane, a jedynie przykłady stronicowania były widoczne w widoku DetailsView i FormView kontrolek.</span><span class="sxs-lookup"><span data-stu-id="e86dd-113">While the past 23 tutorials have examined how to build a variety of reports, including interfaces that permit adding, editing, and deleting data, we ve not looked at how to sort data and the only paging examples we ve seen have been with the DetailsView and FormView controls.</span></span>

<span data-ttu-id="e86dd-114">W tym samouczku dowiesz się, jak dodać sortowanie i stronicowanie do raportów, które można wykonać, zaznaczając kilka pól wyboru.</span><span class="sxs-lookup"><span data-stu-id="e86dd-114">In this tutorial we'll see how to add sorting and paging to our reports, which can be accomplished by simply checking a few checkboxes.</span></span> <span data-ttu-id="e86dd-115">Niestety, ta implementacja uproszczony ma swoje wady, które powoduje, że interfejs sortowania pozostawia żądany bit, a procedury stronicowania nie są przeznaczone do wydajnego stronicowania w dużych zestawach wyników.</span><span class="sxs-lookup"><span data-stu-id="e86dd-115">Unfortunately, this simplistic implementation has its drawbacks the sorting interface leaves a bit to be desired and the paging routines are not designed for efficiently paging through large result sets.</span></span> <span data-ttu-id="e86dd-116">W przyszłości samouczki zobaczą, jak przezwyciężyć ograniczenia wbudowanych rozwiązań stronicowania i sortowania.</span><span class="sxs-lookup"><span data-stu-id="e86dd-116">Future tutorials will explore how to overcome the limitations of the out-of-the-box paging and sorting solutions.</span></span>

## <a name="step-1-adding-the-paging-and-sorting-tutorial-web-pages"></a><span data-ttu-id="e86dd-117">Krok 1. Dodawanie stron sieci Web samouczka stronicowania i sortowania</span><span class="sxs-lookup"><span data-stu-id="e86dd-117">Step 1: Adding the Paging and Sorting Tutorial Web Pages</span></span>

<span data-ttu-id="e86dd-118">Przed rozpoczęciem pracy z tym samouczkiem Poświęć chwilę na dodanie ASP.NET stron, których potrzebujemy w tym samouczku, i następnych trzech.</span><span class="sxs-lookup"><span data-stu-id="e86dd-118">Before we start this tutorial, let s first take a moment to add the ASP.NET pages we'll need for this tutorial and the next three.</span></span> <span data-ttu-id="e86dd-119">Zacznij od utworzenia nowego folderu w projekcie o nazwie `PagingAndSorting`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-119">Start by creating a new folder in the project named `PagingAndSorting`.</span></span> <span data-ttu-id="e86dd-120">Następnie Dodaj następujące pięć stron ASP.NET do tego folderu, z których wszystkie są skonfigurowane do korzystania z strony wzorcowej `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="e86dd-120">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `SimplePagingSorting.aspx`
- `EfficientPaging.aspx`
- `SortParameter.aspx`
- `CustomSortingUI.aspx`

![Utwórz folder PagingAndSorting i Dodaj samouczek ASP.NET stron](paging-and-sorting-report-data-cs/_static/image1.png)

<span data-ttu-id="e86dd-122">**Rysunek 1**. Tworzenie PagingAndSorting folderu i Dodawanie samouczka ASP.NET stron</span><span class="sxs-lookup"><span data-stu-id="e86dd-122">**Figure 1**: Create a PagingAndSorting Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="e86dd-123">Następnie otwórz stronę `Default.aspx` i przeciągnij kontrolkę użytkownika `SectionLevelTutorialListing.ascx` z folderu `UserControls` na powierzchnię projektu.</span><span class="sxs-lookup"><span data-stu-id="e86dd-123">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="e86dd-124">Ta kontrolka użytkownika, utworzona na [stronach wzorcowych i](../introduction/master-pages-and-site-navigation-cs.md) w samouczku nawigacji po witrynie, wylicza mapę witryny i wyświetla te samouczki w bieżącej sekcji na liście punktowanej.</span><span class="sxs-lookup"><span data-stu-id="e86dd-124">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays those tutorials in the current section in a bulleted list.</span></span>

![Dodaj kontrolkę użytkownika SectionLevelTutorialListing. ascx do default. aspx](paging-and-sorting-report-data-cs/_static/image2.png)

<span data-ttu-id="e86dd-126">**Rysunek 2**. Dodawanie kontrolki użytkownika SectionLevelTutorialListing. ascx do default. aspx</span><span class="sxs-lookup"><span data-stu-id="e86dd-126">**Figure 2**: Add the SectionLevelTutorialListing.ascx User Control to Default.aspx</span></span>

<span data-ttu-id="e86dd-127">Aby Lista punktowana wyświetlała wyświetlane przez siebie samouczki i sortowania, należy dodać je do mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="e86dd-127">In order to have the bulleted list display the paging and sorting tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="e86dd-128">Otwórz plik `Web.sitemap` i Dodaj następujący znacznik po edycji, wstawieniu i usunięciu znacznika węzła mapy witryny:</span><span class="sxs-lookup"><span data-stu-id="e86dd-128">Open the `Web.sitemap` file and add the following markup after the Editing, Inserting, and Deleting site map node markup:</span></span>

[!code-xml[Main](paging-and-sorting-report-data-cs/samples/sample1.xml)]

![Aktualizowanie mapy witryny w celu uwzględnienia nowych stron ASP.NET](paging-and-sorting-report-data-cs/_static/image3.png)

<span data-ttu-id="e86dd-130">**Rysunek 3**. aktualizowanie mapy witryny w celu uwzględnienia nowych stron ASP.NET</span><span class="sxs-lookup"><span data-stu-id="e86dd-130">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="step-2-displaying-product-information-in-a-gridview"></a><span data-ttu-id="e86dd-131">Krok 2. Wyświetlanie informacji o produkcie w widoku GridView</span><span class="sxs-lookup"><span data-stu-id="e86dd-131">Step 2: Displaying Product Information in a GridView</span></span>

<span data-ttu-id="e86dd-132">Przed faktycznym zaimplementowaniem funkcji stronicowania i sortowania, pozwól, aby najpierw utworzyć standardowy, niedrukowalny widok, który zawiera informacje o produkcie.</span><span class="sxs-lookup"><span data-stu-id="e86dd-132">Before we actually implement paging and sorting capabilities, let s first create a standard non-sortable, non-pageable GridView that lists the product information.</span></span> <span data-ttu-id="e86dd-133">To zadanie jest wykonywane wiele razy przed wykonaniem tej serii samouczków, dlatego należy zapoznać się z tymi krokami.</span><span class="sxs-lookup"><span data-stu-id="e86dd-133">This is a task we ve done many times before throughout this tutorial series so these steps should be familiar.</span></span> <span data-ttu-id="e86dd-134">Zacznij od otworzenia strony `SimplePagingSorting.aspx` i przeciągnij kontrolkę GridView z przybornika do projektanta, ustawiając jej Właściwość `ID` na `Products`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-134">Start by opening the `SimplePagingSorting.aspx` page and drag a GridView control from the Toolbox onto the Designer, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="e86dd-135">Następnie utwórz nowy element ObjectDataSource, który używa metody `GetProducts()` klasy ProductsBLL, aby zwrócić wszystkie informacje o produkcie.</span><span class="sxs-lookup"><span data-stu-id="e86dd-135">Next, create a new ObjectDataSource that uses the ProductsBLL class s `GetProducts()` method to return all of the product information.</span></span>

![Pobierz informacje o wszystkich produktach przy użyciu metody getProducts ()](paging-and-sorting-report-data-cs/_static/image4.png)

<span data-ttu-id="e86dd-137">**Rysunek 4**. Pobieranie informacji o wszystkich produktach przy użyciu metody getProducts ()</span><span class="sxs-lookup"><span data-stu-id="e86dd-137">**Figure 4**: Retrieve Information About All of the Products Using the GetProducts() Method</span></span>

<span data-ttu-id="e86dd-138">Ponieważ ten raport jest raportem tylko do odczytu, nie ma potrzeby mapowania metod "`Insert()`", `Update()`lub `Delete()` do odpowiednich metod `ProductsBLL`; w związku z tym wybierz pozycję (brak) z listy rozwijanej dla kart UPDATE, INSERT i DELETE.</span><span class="sxs-lookup"><span data-stu-id="e86dd-138">Since this report is a read-only report, there s no need to map the ObjectDataSource s `Insert()`, `Update()`, or `Delete()` methods to corresponding `ProductsBLL` methods; therefore, choose (None) from the drop-down list for the UPDATE, INSERT, and DELETE tabs.</span></span>

![Wybierz opcję (brak) z listy rozwijanej na kartach aktualizowanie, wstawianie i usuwanie](paging-and-sorting-report-data-cs/_static/image5.png)

<span data-ttu-id="e86dd-140">**Ilustracja 5**. Wybierz opcję (brak) z listy rozwijanej na kartach aktualizowanie, wstawianie i usuwanie</span><span class="sxs-lookup"><span data-stu-id="e86dd-140">**Figure 5**: Choose the (None) Option in the Drop-Down List in the UPDATE, INSERT, and DELETE Tabs</span></span>

<span data-ttu-id="e86dd-141">Następnie pozwól s dostosować pola GridView w taki sposób, aby były wyświetlane tylko nazwy produktów, dostawcy, kategorie, ceny i Stany wycofane.</span><span class="sxs-lookup"><span data-stu-id="e86dd-141">Next, let s customize the GridView s fields so that only the products names, suppliers, categories, prices, and discontinued statuses are displayed.</span></span> <span data-ttu-id="e86dd-142">Ponadto możesz swobodnie wprowadzać zmiany w formatowaniu na poziomie pola, takie jak dostosowanie `HeaderText` właściwości lub formatowanie ceny jako waluty.</span><span class="sxs-lookup"><span data-stu-id="e86dd-142">Furthermore, feel free to make any field-level formatting changes, such as adjusting the `HeaderText` properties or formatting the price as a currency.</span></span> <span data-ttu-id="e86dd-143">Po wprowadzeniu tych zmian znaczniki deklaratywne GridView powinny wyglądać podobnie do następujących:</span><span class="sxs-lookup"><span data-stu-id="e86dd-143">After these changes, your GridView s declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample2.aspx)]

<span data-ttu-id="e86dd-144">Rysunek 6 przedstawia postęp z tego względu, gdy jest wyświetlany za pomocą przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="e86dd-144">Figure 6 shows our progress thus far when viewed through a browser.</span></span> <span data-ttu-id="e86dd-145">Zwróć uwagę na to, że strona wyświetla wszystkie produkty na jednym ekranie, pokazując każdy produkt, kategorię, dostawcę, cenę i stan wycofany.</span><span class="sxs-lookup"><span data-stu-id="e86dd-145">Note that the page lists all of the products in one screen, showing each product s name, category, supplier, price, and discontinued status.</span></span>

<span data-ttu-id="e86dd-146">[![wszystkie produkty są wymienione na liście](paging-and-sorting-report-data-cs/_static/image7.png)](paging-and-sorting-report-data-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="e86dd-146">[![Each of the Products are Listed](paging-and-sorting-report-data-cs/_static/image7.png)](paging-and-sorting-report-data-cs/_static/image6.png)</span></span>

<span data-ttu-id="e86dd-147">**Ilustracja 6**. wszystkie produkty są wymienione na liście ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="e86dd-147">**Figure 6**: Each of the Products are Listed ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image8.png))</span></span>

## <a name="step-3-adding-paging-support"></a><span data-ttu-id="e86dd-148">Krok 3. Dodawanie obsługi stronicowania</span><span class="sxs-lookup"><span data-stu-id="e86dd-148">Step 3: Adding Paging Support</span></span>

<span data-ttu-id="e86dd-149">Lista *wszystkich* produktów na jednym ekranie może prowadzić do przeciążenia informacji dla użytkownika, w którym dane są przeciążać.</span><span class="sxs-lookup"><span data-stu-id="e86dd-149">Listing *all* of the products on one screen can lead to information overload for the user perusing the data.</span></span> <span data-ttu-id="e86dd-150">Aby ułatwić łatwiejsze zarządzanie wynikami, możemy podzielić dane na mniejsze strony danych i umożliwić użytkownikowi przechodzenie między danymi po jednej stronie.</span><span class="sxs-lookup"><span data-stu-id="e86dd-150">To help make the results more manageable, we can break up the data into smaller pages of data and allow the user to step through the data one page at a time.</span></span> <span data-ttu-id="e86dd-151">Aby to osiągnąć, po prostu zaznacz pole wyboru Włącz stronicowanie z taga inteligentnego "GridView s" (ustawia [właściwość GridView`AllowPaging`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowpaging.aspx) na `true`).</span><span class="sxs-lookup"><span data-stu-id="e86dd-151">To accomplish this simply check the Enable Paging checkbox from the GridView s smart tag (this sets the GridView s [`AllowPaging` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowpaging.aspx) to `true`).</span></span>

<span data-ttu-id="e86dd-152">[![zaznacz pole wyboru Włącz stronicowanie, aby dodać obsługę stronicowania](paging-and-sorting-report-data-cs/_static/image10.png)](paging-and-sorting-report-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="e86dd-152">[![Check the Enable Paging Checkbox to Add Paging Support](paging-and-sorting-report-data-cs/_static/image10.png)](paging-and-sorting-report-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="e86dd-153">**Rysunek 7**. Zaznacz pole wyboru Włącz stronicowanie, aby dodać obsługę stronicowania ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="e86dd-153">**Figure 7**: Check the Enable Paging Checkbox to Add Paging Support ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image11.png))</span></span>

<span data-ttu-id="e86dd-154">Włączenie stronicowania ogranicza liczbę rekordów wyświetlanych na stronie i dodaje *interfejs stronicowania* do widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="e86dd-154">Enabling paging limits the number of records shown per page and adds a *paging interface* to the GridView.</span></span> <span data-ttu-id="e86dd-155">Domyślny interfejs stronicowania, przedstawiony na rysunku 7, to seria numerów stron, dzięki czemu użytkownik może szybko nawigować z jednej strony danych do innej.</span><span class="sxs-lookup"><span data-stu-id="e86dd-155">The default paging interface, shown in Figure 7, is a series of page numbers, allowing the user to quickly navigate from one page of data to another.</span></span> <span data-ttu-id="e86dd-156">Ten interfejs stronicowania powinien wyglądać znajomo, ponieważ jest on widoczny podczas dodawania obsługi stronicowania do kontrolek DetailsView i FormView w poprzednich samouczkach.</span><span class="sxs-lookup"><span data-stu-id="e86dd-156">This paging interface should look familiar, as we ve seen it when adding paging support to the DetailsView and FormView controls in past tutorials.</span></span>

<span data-ttu-id="e86dd-157">Zarówno kontrolki DetailsView, jak i FormView pokazują tylko jeden rekord na stronę.</span><span class="sxs-lookup"><span data-stu-id="e86dd-157">Both the DetailsView and FormView controls only show a single record per page.</span></span> <span data-ttu-id="e86dd-158">W widoku GridView jest jednak sprawdzana [`PageSize` właściwości](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.pagesize.aspx) , aby określić liczbę rekordów do wyświetlenia na stronie (wartość domyślna to 10).</span><span class="sxs-lookup"><span data-stu-id="e86dd-158">The GridView, however, consults its [`PageSize` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.pagesize.aspx) to determine how many records to show per page (this property defaults to a value of 10).</span></span>

<span data-ttu-id="e86dd-159">Ten interfejs stronicowania GridView, DetailsView i FormView można dostosować przy użyciu następujących właściwości:</span><span class="sxs-lookup"><span data-stu-id="e86dd-159">This GridView, DetailsView, and FormView s paging interface can be customized using the following properties:</span></span>

- <span data-ttu-id="e86dd-160">`PagerStyle` wskazuje informacje o stylu dla interfejsu stronicowania; może określać ustawienia, takie jak `BackColor`, `ForeColor`, `CssClass`, `HorizontalAlign`i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="e86dd-160">`PagerStyle` indicates the style information for the paging interface; can specify settings like `BackColor`, `ForeColor`, `CssClass`, `HorizontalAlign`, and so on.</span></span>
- <span data-ttu-id="e86dd-161">`PagerSettings` zawiera bevy właściwości, które mogą dostosować funkcjonalność interfejsu stronicowania; `PageButtonCount` wskazuje maksymalną liczbę liczb stron numerycznych wyświetlanych w interfejsie stronicowania (wartość domyślna to 10); [właściwość`Mode`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pagersettings.mode.aspx) wskazuje, jak działa interfejs stronicowania i można ją ustawić na:</span><span class="sxs-lookup"><span data-stu-id="e86dd-161">`PagerSettings` contains a bevy of properties that can customize the functionality of the paging interface; `PageButtonCount` indicates the maximum number of numeric page numbers displayed in the paging interface (the default is 10); the [`Mode` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pagersettings.mode.aspx) indicates how the paging interface operates and can be set to:</span></span> 

    - <span data-ttu-id="e86dd-162">`NextPrevious` Wyświetla następny i Poprzedni przycisk, umożliwiając użytkownikowi przechodzenie do przodu lub do tyłu jednej strony w danym momencie</span><span class="sxs-lookup"><span data-stu-id="e86dd-162">`NextPrevious` shows a Next and Previous buttons, allowing the user to step forwards or backwards one page at a time</span></span>
    - <span data-ttu-id="e86dd-163">`NextPreviousFirstLast` oprócz przycisków Następny i poprzedni, są również dołączone przyciski pierwszy i ostatni, co umożliwia użytkownikowi szybkie przechodzenie do pierwszej lub ostatniej strony danych</span><span class="sxs-lookup"><span data-stu-id="e86dd-163">`NextPreviousFirstLast` in addition to Next and Previous buttons, First and Last buttons are also included, allowing the user to quickly move to the first or last page of data</span></span>
    - <span data-ttu-id="e86dd-164">`Numeric` przedstawia serię numerów stron, umożliwiając użytkownikowi natychmiastowe przechodzenie do dowolnej strony</span><span class="sxs-lookup"><span data-stu-id="e86dd-164">`Numeric` shows a series of page numbers, allowing the user to immediately jump to any page</span></span>
    - <span data-ttu-id="e86dd-165">Oprócz numerów stron, zawiera przyciski pierwszy i ostatni, co umożliwia użytkownikowi szybkie przechodzenie do pierwszej lub ostatniej strony danych; `NumericFirstLast` Pierwszy/ostatni przycisk jest wyświetlany tylko wtedy, gdy nie można dopasować wszystkich liczb stron numerycznych</span><span class="sxs-lookup"><span data-stu-id="e86dd-165">`NumericFirstLast` in addition to the page numbers, includes First and Last buttons, allowing the user to quickly move to the first or last page of data; the First/Last buttons are only shown if all of the numeric page numbers cannot fit</span></span>

<span data-ttu-id="e86dd-166">Ponadto w obszarze GridView, DetailsView i FormView All są oferowane `PageIndex` i `PageCount` właściwości, które wskazują bieżącą przeglądaną stronę i łączną liczbę stron danych.</span><span class="sxs-lookup"><span data-stu-id="e86dd-166">Moreover, the GridView, DetailsView, and FormView all offer the `PageIndex` and `PageCount` properties, which indicate the current page being viewed and the total number of pages of data, respectively.</span></span> <span data-ttu-id="e86dd-167">Właściwość `PageIndex` jest indeksowana począwszy od 0, co oznacza, że podczas wyświetlania pierwszej strony `PageIndex` danych będzie równa 0.</span><span class="sxs-lookup"><span data-stu-id="e86dd-167">The `PageIndex` property is indexed starting at 0, meaning that when viewing the first page of data `PageIndex` will equal 0.</span></span> <span data-ttu-id="e86dd-168">`PageCount`, z drugiej strony, rozpocznie zliczanie o 1, co oznacza, że `PageIndex` są ograniczone do wartości z zakresu od 0 do `PageCount - 1`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-168">`PageCount`, on the other hand, starts counting at 1, meaning that `PageIndex` is limited to the values between 0 and `PageCount - 1`.</span></span>

<span data-ttu-id="e86dd-169">Poświęć chwilę na zwiększenie domyślnego wyglądu naszego interfejsu stronicowania w widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="e86dd-169">Let s take a moment to improve the default appearance of our GridView s paging interface.</span></span> <span data-ttu-id="e86dd-170">Poinformuj o to, aby interfejs stronicowania był wyrównany do prawej strony przy użyciu jasnego szarego tła.</span><span class="sxs-lookup"><span data-stu-id="e86dd-170">Specifically, let s have the paging interface right-aligned with a light gray background.</span></span> <span data-ttu-id="e86dd-171">Zamiast ustawiania tych właściwości bezpośrednio za pomocą właściwości `PagerStyle` GridView, Zezwól na tworzenie klasy CSS w `Styles.css` o nazwie `PagerRowStyle`, a następnie przypisz Właściwość `PagerStyle` s `CssClass` za pomocą naszego motywu.</span><span class="sxs-lookup"><span data-stu-id="e86dd-171">Rather than setting these properties directly through the GridView s `PagerStyle` property, let s create a CSS class in `Styles.css` named `PagerRowStyle` and then assign the `PagerStyle` s `CssClass` property through our Theme.</span></span> <span data-ttu-id="e86dd-172">Zacznij od otwarcia `Styles.css` i dodania następującej definicji klasy CSS:</span><span class="sxs-lookup"><span data-stu-id="e86dd-172">Start by opening `Styles.css` and adding the following CSS class definition:</span></span>

[!code-css[Main](paging-and-sorting-report-data-cs/samples/sample3.css)]

<span data-ttu-id="e86dd-173">Następnie otwórz plik `GridView.skin` w folderze `DataWebControls` w folderze `App_Themes`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-173">Next, open the `GridView.skin` file in the `DataWebControls` folder within the `App_Themes` folder.</span></span> <span data-ttu-id="e86dd-174">Jak opisano w samouczku *strony wzorcowe i nawigacja w witrynie* , można użyć plików karnacji do określenia domyślnych wartości właściwości kontrolki sieci Web.</span><span class="sxs-lookup"><span data-stu-id="e86dd-174">As we discussed in the *Master Pages and Site Navigation* tutorial, Skin files can be used to specify the default property values for a Web control.</span></span> <span data-ttu-id="e86dd-175">W związku z tym, uzupełnij istniejące ustawienia, aby uwzględnić ustawienie właściwości `CssClass` `PagerStyle` s na `PagerRowStyle`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-175">Therefore, augment the existing settings to include setting the `PagerStyle` s `CssClass` property to `PagerRowStyle`.</span></span> <span data-ttu-id="e86dd-176">Ponadto, pozwól, aby skonfigurować interfejs stronicowania, aby pokazywał maksymalnie pięć przycisków stron liczbowych przy użyciu interfejsu stronicowania `NumericFirstLast`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-176">Also, let s configure the paging interface to show at most five numeric page buttons using the `NumericFirstLast` paging interface.</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample4.aspx)]

## <a name="the-paging-user-experience"></a><span data-ttu-id="e86dd-177">Środowisko użytkownika stronicowania</span><span class="sxs-lookup"><span data-stu-id="e86dd-177">The Paging User Experience</span></span>

<span data-ttu-id="e86dd-178">Na rysunku nr 8 przedstawiono stronę sieci Web, która jest przeglądana za pomocą przeglądarki po sprawdzeniu pola wyboru "Włącz stronicowanie w widoku GridView", a konfiguracje `PagerStyle` i `PagerSettings` zostały wykonane za pomocą pliku `GridView.skin`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-178">Figure 8 shows the web page when visited through a browser after the GridView s Enable Paging checkbox has been checked and the `PagerStyle` and `PagerSettings` configurations have been made through the `GridView.skin` file.</span></span> <span data-ttu-id="e86dd-179">Zwróć uwagę, jak wyświetlane są tylko dziesięć rekordów, a interfejs stronicowania wskazuje, że oglądamy pierwszą stronę danych.</span><span class="sxs-lookup"><span data-stu-id="e86dd-179">Note how only ten records are shown, and the paging interface indicates that we are viewing the first page of data.</span></span>

<span data-ttu-id="e86dd-180">[![ze stronicowaniem włączonym, tylko podzbiór rekordów jest wyświetlany w danym momencie](paging-and-sorting-report-data-cs/_static/image13.png)](paging-and-sorting-report-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="e86dd-180">[![With Paging Enabled, Only a Subset of the Records are Displayed at a Time](paging-and-sorting-report-data-cs/_static/image13.png)](paging-and-sorting-report-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="e86dd-181">**Ilustracja 8**. po włączeniu stronicowania w danym momencie jest wyświetlany tylko podzestaw rekordów ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="e86dd-181">**Figure 8**: With Paging Enabled, Only a Subset of the Records are Displayed at a Time ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image14.png))</span></span>

<span data-ttu-id="e86dd-182">Gdy użytkownik kliknie jeden z numerów stron w interfejsie stronicowania, nastąpi odświeżenie i ponowne załadowanie strony zawierające żądane rekordy strony s.</span><span class="sxs-lookup"><span data-stu-id="e86dd-182">When the user clicks on one of the page numbers in the paging interface, a postback ensues and the page reloads showing that requested page s records.</span></span> <span data-ttu-id="e86dd-183">Na rysunku 9 przedstawiono wyniki, które należy wykonać, aby wyświetlić końcową stronę danych.</span><span class="sxs-lookup"><span data-stu-id="e86dd-183">Figure 9 shows the results after opting to view the final page of data.</span></span> <span data-ttu-id="e86dd-184">Zwróć uwagę, że Ostatnia strona zawiera tylko jeden rekord; wynika to z faktu, że w sumie występuje 81 rekordów, co spowoduje osiem stron 10 rekordów na stronę oraz jedną stronę z rekordem Lone.</span><span class="sxs-lookup"><span data-stu-id="e86dd-184">Notice that the final page only has one record; this is because there are 81 records in total, resulting in eight pages of 10 records per page plus one page with a lone record.</span></span>

<span data-ttu-id="e86dd-185">[![kliknięcie numeru strony powoduje ogłoszenie zwrotne i zawiera odpowiedni podzestaw rekordów](paging-and-sorting-report-data-cs/_static/image16.png)](paging-and-sorting-report-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="e86dd-185">[![Clicking On a Page Number Causes a Postback and Shows the Appropriate Subset of Records](paging-and-sorting-report-data-cs/_static/image16.png)](paging-and-sorting-report-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="e86dd-186">**Ilustracja 9**. kliknięcie numeru strony powoduje ogłoszenie zwrotne i zawiera odpowiedni podzestaw rekordów ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="e86dd-186">**Figure 9**: Clicking On a Page Number Causes a Postback and Shows the Appropriate Subset of Records ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image17.png))</span></span>

## <a name="paging-s-server-side-workflow"></a><span data-ttu-id="e86dd-187">Stronicowanie przepływu pracy po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="e86dd-187">Paging s Server-Side Workflow</span></span>

<span data-ttu-id="e86dd-188">Gdy użytkownik końcowy kliknie przycisk w interfejsie stronicowania, proces ogłaszania zwrotnego zostanie zakończony i rozpocznie się następujący przepływ pracy po stronie serwera:</span><span class="sxs-lookup"><span data-stu-id="e86dd-188">When the end user clicks on a button in the paging interface, a postback ensues and the following server-side workflow begins:</span></span>

1. <span data-ttu-id="e86dd-189">Wyzwolono zdarzenie `PageIndexChanging` GridView (lub DetailsView lub FormView)</span><span class="sxs-lookup"><span data-stu-id="e86dd-189">The GridView s (or DetailsView or FormView) `PageIndexChanging` event fires</span></span>
2. <span data-ttu-id="e86dd-190">Element ObjectDataSource żąda ponownego żądania *wszystkich* danych z logiki biznesowej; wartości właściwości GridView `PageIndex` i `PageSize` są używane do określania, które rekordy zwracane z LOGIKI biznesowej muszą być wyświetlane w widoku GridView</span><span class="sxs-lookup"><span data-stu-id="e86dd-190">The ObjectDataSource re-requests *all* of the data from the BLL; the GridView s `PageIndex` and `PageSize` property values are used to determine what records returned from the BLL need to be displayed in the GridView</span></span>
3. <span data-ttu-id="e86dd-191">Wyzwolono zdarzenie `PageIndexChanged` w widoku GridView</span><span class="sxs-lookup"><span data-stu-id="e86dd-191">The GridView s `PageIndexChanged` event fires</span></span>

<span data-ttu-id="e86dd-192">W kroku 2 Element ObjectDataSource żąda ponownego żądania wszystkich danych ze źródła danych.</span><span class="sxs-lookup"><span data-stu-id="e86dd-192">In Step 2, the ObjectDataSource re-requests all of the data from its data source.</span></span> <span data-ttu-id="e86dd-193">Ten styl stronicowania jest często określany jako *domyślne stronicowanie*, w miarę jak s zachowanie stronicowania używane domyślnie podczas ustawiania właściwości `AllowPaging` na `true`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-193">This style of paging is commonly referred to as *default paging*, as it s the paging behavior used by default when setting the `AllowPaging` property to `true`.</span></span> <span data-ttu-id="e86dd-194">Z domyślnym stronicowaniem formant sieci Web danych naively pobiera wszystkie rekordy dla każdej strony danych, nawet jeśli tylko podzbiór rekordów jest faktycznie renderowany w kodzie HTML, który został wysłany do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="e86dd-194">With default paging the data Web control naively retrieves all records for each page of data, even though only a subset of records are actually rendered into the HTML that s sent to the browser.</span></span> <span data-ttu-id="e86dd-195">Jeśli dane bazy danych nie są buforowane przez LOGIKI biznesowej lub ObjectDataSource, domyślne stronicowanie nie będzie działało dla dostatecznie dużych zestawów wyników lub dla aplikacji sieci Web z wieloma współbieżnymi użytkownikami.</span><span class="sxs-lookup"><span data-stu-id="e86dd-195">Unless the database data is cached by the BLL or ObjectDataSource, default paging is unworkable for sufficiently large result sets or for web applications with many concurrent users.</span></span>

<span data-ttu-id="e86dd-196">W następnym samouczku sprawdzimy, jak zaimplementować *niestandardowe stronicowanie*.</span><span class="sxs-lookup"><span data-stu-id="e86dd-196">In the next tutorial we'll examine how to implement *custom paging*.</span></span> <span data-ttu-id="e86dd-197">Za pomocą niestandardowego stronicowania można w tym celu wymusić, aby element ObjectDataSource pobierał tylko dokładny zestaw rekordów wymaganych przez żądaną stronę danych.</span><span class="sxs-lookup"><span data-stu-id="e86dd-197">With custom paging you can specifically instruct the ObjectDataSource to only retrieve the precise set of records needed for the requested page of data.</span></span> <span data-ttu-id="e86dd-198">Jak można wyobrazić, niestandardowe stronicowanie znacznie poprawia wydajność stronicowania w dużych zestawach wyników.</span><span class="sxs-lookup"><span data-stu-id="e86dd-198">As you can imagine, custom paging greatly improves the efficiency of paging through large result sets.</span></span>

> [!NOTE]
> <span data-ttu-id="e86dd-199">Gdy domyślne stronicowanie nie jest odpowiednie podczas stronicowania za pomocą wystarczająco dużych zestawów wyników lub dla witryn z wieloma jednoczesnymi użytkownikami, należy pamiętać, że niestandardowe stronicowanie wymaga większej liczby zmian i wysiłku w celu zaimplementowania i nie jest tak proste jak sprawdzanie pola wyboru (domyślnie stronicowanie).</span><span class="sxs-lookup"><span data-stu-id="e86dd-199">While default paging is not suitable when paging through sufficiently large result sets or for sites with many simultaneous users, realize that custom paging requires more changes and effort to implement and is not as simple as checking a checkbox (as is default paging).</span></span> <span data-ttu-id="e86dd-200">W związku z tym domyślne stronicowanie może być idealnym wyborem dla małych i niewielkich witryn sieci Web, a także w przypadku odczytywania ich za pomocą stosunkowo małych zestawów wyników.</span><span class="sxs-lookup"><span data-stu-id="e86dd-200">Therefore, default paging may be the ideal choice for small, low-traffic websites or when paging through relatively small result sets, as it s much easier and quicker to implement.</span></span>

<span data-ttu-id="e86dd-201">Jeśli na przykład firma Microsoft wie, że nigdy nie będziemy mieć więcej niż 100 produktów w naszej bazie danych, minimalny wpływ na wydajność spowodowany przez stronicowanie niestandardowe będzie prawdopodobnie przesunięty o nakład pracy wymagany do jego wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="e86dd-201">For example, if we know that we'll never have more than 100 products in our database, the minimal performance gain enjoyed by custom paging is likely offset by the effort required to implement it.</span></span> <span data-ttu-id="e86dd-202">Jeśli jednak firma Microsoft może w jednym dniu mieć tysiące lub dziesiątki tysięcy produktów, *nie* implementuje stronicowania niestandardowego, znacznie hamuje skalowalność naszej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e86dd-202">If, however, we may one day have thousands or tens of thousands of products, *not* implementing custom paging would greatly hamper the scalability of our application.</span></span>

## <a name="step-4-customizing-the-paging-experience"></a><span data-ttu-id="e86dd-203">Krok 4. Dostosowywanie środowiska stronicowania</span><span class="sxs-lookup"><span data-stu-id="e86dd-203">Step 4: Customizing the Paging Experience</span></span>

<span data-ttu-id="e86dd-204">Kontrolki sieci Web danych udostępniają wiele właściwości, których można użyć do zwiększenia środowiska stronicowania użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e86dd-204">The data Web controls provide a number of properties that can be used to enhance the user s paging experience.</span></span> <span data-ttu-id="e86dd-205">Właściwość `PageCount`, na przykład wskazuje liczbę stron, które znajdują się w tym miejscu, podczas gdy właściwość `PageIndex` wskazuje bieżącą stronę, która jest odwiedzona i można ją ustawić, aby szybko przenieść użytkownika na określoną stronę.</span><span class="sxs-lookup"><span data-stu-id="e86dd-205">The `PageCount` property, for example, indicates how many total pages there are, while the `PageIndex` property indicates the current page being visited and can be set to quickly move a user to a specific page.</span></span> <span data-ttu-id="e86dd-206">Aby zilustrować, jak używać tych właściwości do ulepszania środowiska stronicowania użytkownika, Dodaj kontrolkę sieci Web etykieta do naszej strony, która informuje użytkownika o tym, jakie strony odwiedzają obecnie, wraz z kontrolką DropDownList, która umożliwia im szybkie przechodzenie do dowolnej strony. .</span><span class="sxs-lookup"><span data-stu-id="e86dd-206">To illustrate how to use these properties to improve upon the user s paging experience, let s add a Label Web control to our page that informs the user what page they re currently visiting, along with a DropDownList control that allows them to quickly jump to any given page.</span></span>

<span data-ttu-id="e86dd-207">Najpierw Dodaj kontrolkę sieci Web etykieta do strony, ustaw jej Właściwość `ID` na `PagingInformation`i wyczyść Właściwość `Text`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-207">First, add a Label Web control to your page, set its `ID` property to `PagingInformation`, and clear out its `Text` property.</span></span> <span data-ttu-id="e86dd-208">Następnie Utwórz procedurę obsługi zdarzeń dla zdarzenia GridView `DataBound` i Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="e86dd-208">Next, create an event handler for the GridView s `DataBound` event and add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample5.cs)]

<span data-ttu-id="e86dd-209">Ta procedura obsługi zdarzeń przypisuje Właściwość `PagingInformation` etykieta s `Text` do wiadomości informującej o tym, że strona, do której są aktualnie odwiedzane, `Products.PageIndex + 1` od liczby stron, które są `Products.PageCount` (dodajemy 1 do właściwości `Products.PageIndex`, ponieważ `PageIndex` jest indeksowana od 0).</span><span class="sxs-lookup"><span data-stu-id="e86dd-209">This event handler assigns the `PagingInformation` Label s `Text` property to a message informing the user the page they are currently visiting `Products.PageIndex + 1` out of how many total pages `Products.PageCount` (we add 1 to the `Products.PageIndex` property because `PageIndex` is indexed starting at 0).</span></span> <span data-ttu-id="e86dd-210">Po wybraniu właściwości Przypisz tę etykietę `Text` w obsłudze zdarzeń `DataBound`, a nie do programu obsługi zdarzeń `PageIndexChanged`, ponieważ zdarzenie `DataBound` wyzwalane za każdym razem, gdy dane są powiązane z elementem GridView, a program obsługi zdarzeń `PageIndexChanged` jest uruchamiany tylko wtedy, gdy indeks strony zostanie zmieniony.</span><span class="sxs-lookup"><span data-stu-id="e86dd-210">I chose the assign this Label s `Text` property in the `DataBound` event handler as opposed to the `PageIndexChanged` event handler because the `DataBound` event fires every time data is bound to the GridView whereas the `PageIndexChanged` event handler only fires when the page index is changed.</span></span> <span data-ttu-id="e86dd-211">Gdy GridView jest początkowo powiązane z danymi na pierwszej stronie, odwiedzanie zdarzenia `PageIndexChanging` nie jest wyzwalane (podczas gdy `DataBound` zdarzenia).</span><span class="sxs-lookup"><span data-stu-id="e86dd-211">When the GridView is initially data bound on the first page visit, the `PageIndexChanging` event doesn t fire (whereas the `DataBound` event does).</span></span>

<span data-ttu-id="e86dd-212">Dzięki temu użytkownikowi zostanie wyświetlony komunikat informujący o tym, którą stronę odwiedzasz i ile razem zawiera łączną liczbę stron danych.</span><span class="sxs-lookup"><span data-stu-id="e86dd-212">With this addition, the user is now shown a message indicating what page they are visiting and how many total pages of data there are.</span></span>

<span data-ttu-id="e86dd-213">[![bieżący numer strony i całkowita liczba wyświetlanych stron](paging-and-sorting-report-data-cs/_static/image19.png)](paging-and-sorting-report-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="e86dd-213">[![The Current Page Number and Total Number of Pages are Displayed](paging-and-sorting-report-data-cs/_static/image19.png)](paging-and-sorting-report-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="e86dd-214">**Ilustracja 10**. wyświetlane są bieżące numery stron i łączna liczba stron ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="e86dd-214">**Figure 10**: The Current Page Number and Total Number of Pages are Displayed ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image20.png))</span></span>

<span data-ttu-id="e86dd-215">Oprócz kontrolki etykieta, pozwól również dodać kontrolkę DropDownList, która wyświetla listę numerów stron w widoku GridView z wybraną aktualnie wyświetlaną stroną.</span><span class="sxs-lookup"><span data-stu-id="e86dd-215">In addition to the Label control, let s also add a DropDownList control that lists the page numbers in the GridView with the currently viewed page selected.</span></span> <span data-ttu-id="e86dd-216">Dobrym pomysłem jest to, że użytkownik może szybko przeskoczyć od bieżącej strony do innej, wybierając nowy indeks strony z DropDownList.</span><span class="sxs-lookup"><span data-stu-id="e86dd-216">The idea here is that the user can quickly jump from the current page to another by simply selecting the new page index from the DropDownList.</span></span> <span data-ttu-id="e86dd-217">Zacznij od dodania DropDownList do projektanta, ustawiając jego właściwość `ID` na `PageList` i sprawdzając opcję Włącz autoogłaszanie przy użyciu tagu inteligentnego.</span><span class="sxs-lookup"><span data-stu-id="e86dd-217">Start by adding a DropDownList to the Designer, setting its `ID` property to `PageList` and checking the Enable AutoPostBack option from its smart tag.</span></span>

<span data-ttu-id="e86dd-218">Następnie wróć do programu obsługi zdarzeń `DataBound` i Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="e86dd-218">Next, return to the `DataBound` event handler and add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample6.cs)]

<span data-ttu-id="e86dd-219">Ten kod rozpoczyna się od usunięcia elementów w `PageList` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="e86dd-219">This code begins by clearing out the items in the `PageList` DropDownList.</span></span> <span data-ttu-id="e86dd-220">Może to pozornie być niepotrzebne, ponieważ nikt nie będzie oczekiwał liczby stron do zmiany, ale inni użytkownicy mogą używać systemu jednocześnie, dodając lub usuwając rekordy z tabeli `Products`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-220">This may seem superfluous, since one wouldn't expect the number of pages to change, but other users may be using the system simultaneously, adding or removing records from the `Products` table.</span></span> <span data-ttu-id="e86dd-221">Takie wstawienia lub usunięcia mogą zmienić liczbę stron danych.</span><span class="sxs-lookup"><span data-stu-id="e86dd-221">Such insertions or deletions could alter the number of pages of data.</span></span>

<span data-ttu-id="e86dd-222">Następnie musimy ponownie utworzyć numery stron i mieć te, które są domyślnie mapowane na aktualnie wybrane `PageIndex` GridView.</span><span class="sxs-lookup"><span data-stu-id="e86dd-222">Next, we need to create the page numbers again and have the one that maps to the current GridView `PageIndex` selected by default.</span></span> <span data-ttu-id="e86dd-223">Wykonujemy to z pętlą od 0 do `PageCount - 1`, dodając nowe `ListItem` w każdej iteracji i ustawiając jej Właściwość `Selected` na wartość true, jeśli bieżący indeks iteracji jest równy właściwości GridView s `PageIndex`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-223">We accomplish this with a loop from 0 to `PageCount - 1`, adding a new `ListItem` in each iteration and setting its `Selected` property to true if the current iteration index equals the GridView s `PageIndex` property.</span></span>

<span data-ttu-id="e86dd-224">Na koniec musimy utworzyć procedurę obsługi zdarzeń dla zdarzenia `SelectedIndexChanged` s DropDownList, które będzie wyzwalane za każdym razem, gdy użytkownik wybierze inny element z listy.</span><span class="sxs-lookup"><span data-stu-id="e86dd-224">Finally, we need to create an event handler for the DropDownList s `SelectedIndexChanged` event, which fires each time the user pick a different item from the list.</span></span> <span data-ttu-id="e86dd-225">Aby utworzyć ten program obsługi zdarzeń, po prostu kliknij dwukrotnie DropDownList w projektancie, a następnie Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="e86dd-225">To create this event handler, simply double-click the DropDownList in the Designer, then add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample7.cs)]

<span data-ttu-id="e86dd-226">Jak pokazano na rysunku 11, tylko zmiana właściwości `PageIndex` GridView powoduje, że dane zostaną przepowiązane z elementem GridView.</span><span class="sxs-lookup"><span data-stu-id="e86dd-226">As Figure 11 shows, merely changing the GridView s `PageIndex` property causes the data to be rebound to the GridView.</span></span> <span data-ttu-id="e86dd-227">W programie obsługi zdarzeń `DataBound` GridView jest zaznaczone odpowiednie `ListItem` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="e86dd-227">In the GridView s `DataBound` event handler, the appropriate DropDownList `ListItem` is selected.</span></span>

<span data-ttu-id="e86dd-228">[![użytkownik zostanie automatycznie przełączony do szóstej strony podczas wybierania elementu listy rozwijanej Strona 6](paging-and-sorting-report-data-cs/_static/image22.png)](paging-and-sorting-report-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="e86dd-228">[![The User is Automatically Taken to the Sixth Page When Selecting the Page 6 Drop-Down List Item](paging-and-sorting-report-data-cs/_static/image22.png)](paging-and-sorting-report-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="e86dd-229">**Ilustracja 11**. użytkownik jest automatycznie pobierany do szóstej strony podczas wybierania elementu listy rozwijanej Strona 6 (kliknij,[Aby wyświetlić obraz o pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="e86dd-229">**Figure 11**: The User is Automatically Taken to the Sixth Page When Selecting the Page 6 Drop-Down List Item ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image23.png))</span></span>

## <a name="step-5-adding-bi-directional-sorting-support"></a><span data-ttu-id="e86dd-230">Krok 5. Dodawanie obsługi sortowania dwukierunkowego</span><span class="sxs-lookup"><span data-stu-id="e86dd-230">Step 5: Adding Bi-Directional Sorting Support</span></span>

<span data-ttu-id="e86dd-231">Dodanie obsługi sortowania dwukierunkowego jest tak proste, jak dodanie obsługi stronicowania po prostu zaznacz opcję Włącz sortowanie z taga inteligentnego w widoku GridView, który ustawia właściwość GridView- [`AllowSorting`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowsorting.aspx) na `true`).</span><span class="sxs-lookup"><span data-stu-id="e86dd-231">Adding bi-directional sorting support is as simple as adding paging support simply check the Enable Sorting option from the GridView s smart tag (which sets the GridView s [`AllowSorting` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowsorting.aspx) to `true`).</span></span> <span data-ttu-id="e86dd-232">Renderuje każdy z nagłówków pól GridView jako LinkButtons, które po kliknięciu, powodują ogłaszanie zwrotne i zwracają dane posortowane według klikniętej kolumny w kolejności rosnącej.</span><span class="sxs-lookup"><span data-stu-id="e86dd-232">This renders each of the headers of the GridView s fields as LinkButtons that, when clicked, cause a postback and return the data sorted by the clicked column in ascending order.</span></span> <span data-ttu-id="e86dd-233">Kliknięcie tego samego nagłówka element LinkButton ponownie posortuje dane w kolejności malejącej.</span><span class="sxs-lookup"><span data-stu-id="e86dd-233">Clicking the same header LinkButton again re-sorts the data in descending order.</span></span>

> [!NOTE]
> <span data-ttu-id="e86dd-234">Jeśli używasz niestandardowej warstwy dostępu do danych, a nie zestawu danych, możesz nie mieć opcji Włącz sortowanie w tagu inteligentnym GridView.</span><span class="sxs-lookup"><span data-stu-id="e86dd-234">If you are using a custom Data Access Layer rather than a Typed DataSet, you may not have an Enable Sorting option in the GridView s smart tag.</span></span> <span data-ttu-id="e86dd-235">Tylko okienka GridView powiązane z źródłami danych, które natywnie obsługują sortowanie, mają dostępne to pole wyboru.</span><span class="sxs-lookup"><span data-stu-id="e86dd-235">Only GridViews bound to data sources that natively support sorting have this checkbox available.</span></span> <span data-ttu-id="e86dd-236">Typ zestawu danych zapewnia wbudowaną obsługę sortowania, ponieważ element DataTable ADO.NET udostępnia metodę `Sort`, która po wywołaniu sortuje wiersze datadatatable, używając określonych kryteriów.</span><span class="sxs-lookup"><span data-stu-id="e86dd-236">The Typed DataSet provides out-of-the-box sorting support since the ADO.NET DataTable provides a `Sort` method that, when invoked, sorts the DataTable s DataRows using the criteria specified.</span></span>

<span data-ttu-id="e86dd-237">Jeśli DAL nie zwraca obiektów, które natywnie obsługują sortowanie, należy skonfigurować element ObjectDataSource do przekazywania informacji o sortowaniu do warstwy logiki biznesowej, która może sortować dane lub mieć dane posortowane przez DAL.</span><span class="sxs-lookup"><span data-stu-id="e86dd-237">If your DAL does not return objects that natively support sorting you will need to configure the ObjectDataSource to pass sorting information to the Business Logic Layer, which can either sort the data or have the data sorted by the DAL.</span></span> <span data-ttu-id="e86dd-238">Dowiesz się, jak sortować dane za pomocą logiki biznesowej i warstw dostępu do danych w przyszłym samouczku.</span><span class="sxs-lookup"><span data-stu-id="e86dd-238">We'll explore how to sort data at the Business Logic and Data Access Layers in a future tutorial.</span></span>

<span data-ttu-id="e86dd-239">LinkButtons sortowania są renderowane jako hiperłącza HTML, których bieżące kolory (niebieskie dla nieodwiedzonego linku i ciemne czerwona dla odwiedzonego linku) kolidują z kolorem tła wiersza nagłówka.</span><span class="sxs-lookup"><span data-stu-id="e86dd-239">The sorting LinkButtons are rendered as HTML hyperlinks, whose current colors (blue for an unvisited link and a dark red for a visited link) clash with the background color of the header row.</span></span> <span data-ttu-id="e86dd-240">W zamian wszystkie linki wierszy nagłówka są wyświetlane w kolorze białym, bez względu na to, czy zostały one odwiedzone.</span><span class="sxs-lookup"><span data-stu-id="e86dd-240">Instead, let s have all header row links displayed in white, regardless of whether they ve been visited or not.</span></span> <span data-ttu-id="e86dd-241">Można to osiągnąć przez dodanie następujących do klasy `Styles.css`:</span><span class="sxs-lookup"><span data-stu-id="e86dd-241">This can be accomplished by adding the following to the `Styles.css` class:</span></span>

[!code-css[Main](paging-and-sorting-report-data-cs/samples/sample8.css)]

<span data-ttu-id="e86dd-242">Ta składnia wskazuje, aby użyć białego tekstu podczas wyświetlania tych hiperłączy w elemencie, który używa klasy nagłówkowe.</span><span class="sxs-lookup"><span data-stu-id="e86dd-242">This syntax indicates to use white text when displaying those hyperlinks within an element that uses the HeaderStyle class.</span></span>

<span data-ttu-id="e86dd-243">Po dodaniu tej CSS podczas odwiedzania strony za pomocą przeglądarki ekran powinien wyglądać podobnie do rysunku 12.</span><span class="sxs-lookup"><span data-stu-id="e86dd-243">After this CSS addition, when visiting the page through a browser your screen should look similar to Figure 12.</span></span> <span data-ttu-id="e86dd-244">W szczególności Rysunek 12 przedstawia wyniki po kliknięciu łącza do nagłówka pola Cena.</span><span class="sxs-lookup"><span data-stu-id="e86dd-244">In particular, Figure 12 shows the results after the Price field s header link has been clicked.</span></span>

<span data-ttu-id="e86dd-245">[![wyniki zostały posortowane według ceny jednostkowej w kolejności rosnącej](paging-and-sorting-report-data-cs/_static/image25.png)](paging-and-sorting-report-data-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="e86dd-245">[![The Results Have Been Sorted by the UnitPrice in Ascending Order](paging-and-sorting-report-data-cs/_static/image25.png)](paging-and-sorting-report-data-cs/_static/image24.png)</span></span>

<span data-ttu-id="e86dd-246">**Ilustracja 12**. wyniki zostały posortowane według wartości jednostkowej w kolejności rosnącej ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="e86dd-246">**Figure 12**: The Results Have Been Sorted by the UnitPrice in Ascending Order ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image26.png))</span></span>

## <a name="examining-the-sorting-workflow"></a><span data-ttu-id="e86dd-247">Badanie przepływu pracy sortowania</span><span class="sxs-lookup"><span data-stu-id="e86dd-247">Examining the Sorting Workflow</span></span>

<span data-ttu-id="e86dd-248">Wszystkie pola GridView, BoundField, CheckBoxField, TemplateField i tak dalej, mają właściwość `SortExpression`, która wskazuje wyrażenie, które ma być używane do sortowania danych, gdy kliknięto łącze nagłówka sortowania pól s.</span><span class="sxs-lookup"><span data-stu-id="e86dd-248">All GridView fields the BoundField, CheckBoxField, TemplateField, and so on have a `SortExpression` property that indicates the expression that should be used to sort the data when that field s sorting header link is clicked.</span></span> <span data-ttu-id="e86dd-249">Widok GridView ma również właściwość `SortExpression`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-249">The GridView also has a `SortExpression` property.</span></span> <span data-ttu-id="e86dd-250">Po kliknięciu nagłówka sortowania element LinkButton, GridView przypisuje `SortExpression` wartość pola do właściwości `SortExpression`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-250">When a sorting header LinkButton is clicked, the GridView assigns that field s `SortExpression` value to its `SortExpression` property.</span></span> <span data-ttu-id="e86dd-251">Następnie dane są pobierane ponownie z elementu ObjectDataSource i sortowane według właściwości `SortExpression` GridView.</span><span class="sxs-lookup"><span data-stu-id="e86dd-251">Next, the data is re-retrieved from the ObjectDataSource and sorted according to the GridView s `SortExpression` property.</span></span> <span data-ttu-id="e86dd-252">Poniższa lista zawiera szczegółowe informacje na temat sekwencji kroków, które transpires, gdy użytkownik końcowy sortuje dane w widoku GridView:</span><span class="sxs-lookup"><span data-stu-id="e86dd-252">The following list details the sequence of steps that transpires when an end user sorts the data in a GridView:</span></span>

1. <span data-ttu-id="e86dd-253">Wyzwolono [zdarzenie sortowania](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorting(VS.80).aspx) GridView s</span><span class="sxs-lookup"><span data-stu-id="e86dd-253">The GridView s [Sorting event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorting(VS.80).aspx) fires</span></span>
2. <span data-ttu-id="e86dd-254">[Właściwość GridView`SortExpression`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sortexpression.aspx) jest ustawiona na `SortExpression` pola, którego nagłówek sortowania element LinkButton został kliknięty</span><span class="sxs-lookup"><span data-stu-id="e86dd-254">The GridView s [`SortExpression` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sortexpression.aspx) is set to the `SortExpression` of the field whose sorting header LinkButton was clicked</span></span>
3. <span data-ttu-id="e86dd-255">Element ObjectDataSource ponownie pobiera wszystkie dane z LOGIKI biznesowej, a następnie sortuje dane przy użyciu `SortExpression` GridView</span><span class="sxs-lookup"><span data-stu-id="e86dd-255">The ObjectDataSource re-retrieves all of the data from the BLL and then sorts the data using the GridView s `SortExpression`</span></span>
4. <span data-ttu-id="e86dd-256">Właściwość GridView s `PageIndex` jest resetowana do wartości 0, co oznacza, że podczas sortowania użytkownika jest zwracana do pierwszej strony danych (przy założeniu, że obsługa stronicowania została zaimplementowana)</span><span class="sxs-lookup"><span data-stu-id="e86dd-256">The GridView s `PageIndex` property is reset to 0, meaning that when sorting the user is returned to the first page of data (assuming paging support has been implemented)</span></span>
5. <span data-ttu-id="e86dd-257">Wyzwolono [zdarzenie`Sorted`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorted(VS.80).aspx) w widoku GridView</span><span class="sxs-lookup"><span data-stu-id="e86dd-257">The GridView s [`Sorted` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorted(VS.80).aspx) fires</span></span>

<span data-ttu-id="e86dd-258">Podobnie jak w przypadku domyślnego stronicowania, opcja sortowania domyślnie pobiera *wszystkie* rekordy z logiki biznesowej.</span><span class="sxs-lookup"><span data-stu-id="e86dd-258">Like with default paging, the default sorting option re-retrieves *all* of the records from the BLL.</span></span> <span data-ttu-id="e86dd-259">W przypadku korzystania z sortowania bez stronicowania lub sortowania przy użyciu domyślnego stronicowania nie ma możliwości obejścia tego trafienia wydajności (w skrócie pamięci podręcznej danych bazy danych).</span><span class="sxs-lookup"><span data-stu-id="e86dd-259">When using sorting without paging or when using sorting with default paging, there s no way to circumvent this performance hit (short of caching the database data).</span></span> <span data-ttu-id="e86dd-260">Jednak w przyszłości zobaczymy, że będziemy mogli efektywnie sortować dane przy użyciu stronicowania niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="e86dd-260">However, as we'll see in a future tutorial, it s possible to efficiently sort data when using custom paging.</span></span>

<span data-ttu-id="e86dd-261">W przypadku powiązania elementu ObjectDataSource z GridView przez listę rozwijaną w tagu inteligentnym GridView, każde pole GridView ma automatycznie przypisaną Właściwość `SortExpression` do nazwy pola danych w klasie `ProductsRow`.</span><span class="sxs-lookup"><span data-stu-id="e86dd-261">When binding an ObjectDataSource to the GridView through the drop-down list in the GridView s smart tag, each GridView field automatically has its `SortExpression` property assigned to the name of the data field in the `ProductsRow` class.</span></span> <span data-ttu-id="e86dd-262">Na przykład `ProductName` BoundField s `SortExpression` jest ustawiona na `ProductName`, jak pokazano w następujących deklaracyjne znaczniki:</span><span class="sxs-lookup"><span data-stu-id="e86dd-262">For example, the `ProductName` BoundField s `SortExpression` is set to `ProductName`, as shown in the following declarative markup:</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample9.aspx)]

<span data-ttu-id="e86dd-263">Pole można skonfigurować tak, aby nie było możliwe do odsortowania przez wyczyszczenie jego właściwości `SortExpression` (przypisanie go do pustego ciągu).</span><span class="sxs-lookup"><span data-stu-id="e86dd-263">A field can be configured so that it s not sortable by clearing out its `SortExpression` property (assigning it to an empty string).</span></span> <span data-ttu-id="e86dd-264">Aby to zilustrować, Wyobraź sobie, że nie chcemy pozwolić naszym klientom na sortowanie naszych produktów według cen.</span><span class="sxs-lookup"><span data-stu-id="e86dd-264">To illustrate this, imagine that we didn't want to let our customers sort our products by price.</span></span> <span data-ttu-id="e86dd-265">Właściwość `UnitPrice` BoundField s `SortExpression` można usunąć z znaczników deklaratywnych lub za pomocą okna dialogowego pola (dostępnego po kliknięciu łącza Edytuj kolumny w tagu inteligentnym GridView).</span><span class="sxs-lookup"><span data-stu-id="e86dd-265">The `UnitPrice` BoundField s `SortExpression` property can be removed either from the declarative markup or through the Fields dialog box (which is accessible by clicking on the Edit Columns link in the GridView s smart tag).</span></span>

![Wyniki zostały posortowane według ceny jednostkowej w kolejności rosnącej](paging-and-sorting-report-data-cs/_static/image27.png)

<span data-ttu-id="e86dd-267">**Ilustracja 13**. wyniki zostały posortowane według wartości jednostkowej w kolejności rosnącej</span><span class="sxs-lookup"><span data-stu-id="e86dd-267">**Figure 13**: The Results Have Been Sorted by the UnitPrice in Ascending Order</span></span>

<span data-ttu-id="e86dd-268">Po usunięciu `SortExpression` właściwości dla `UnitPrice` BoundField, nagłówek jest renderowany jako tekst, a nie jako link, uniemożliwiając użytkownikom sortowanie danych według ceny.</span><span class="sxs-lookup"><span data-stu-id="e86dd-268">Once the `SortExpression` property has been removed for the `UnitPrice` BoundField, the header is rendered as text rather than as a link, thereby preventing users from sorting the data by price.</span></span>

<span data-ttu-id="e86dd-269">[![, usuwając Właściwość 'Sortexpression, użytkownicy nie będą już sortować produktów według ceny](paging-and-sorting-report-data-cs/_static/image29.png)](paging-and-sorting-report-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="e86dd-269">[![By Removing the SortExpression Property, Users Can No Longer Sort the Products By Price](paging-and-sorting-report-data-cs/_static/image29.png)](paging-and-sorting-report-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="e86dd-270">**Ilustracja 14**. usunięcie właściwości 'Sortexpression użytkownicy nie mogą już sortować produktów według ceny ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="e86dd-270">**Figure 14**: By Removing the SortExpression Property, Users Can No Longer Sort the Products By Price ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image30.png))</span></span>

## <a name="programmatically-sorting-the-gridview"></a><span data-ttu-id="e86dd-271">Programistyczne sortowanie widoku GridView</span><span class="sxs-lookup"><span data-stu-id="e86dd-271">Programmatically Sorting the GridView</span></span>

<span data-ttu-id="e86dd-272">Zawartość widoku GridView można także sortować programowo przy użyciu [metody`Sort`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sort.aspx)GridView.</span><span class="sxs-lookup"><span data-stu-id="e86dd-272">You can also sort the contents of the GridView programmatically by using the GridView s [`Sort` method](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sort.aspx).</span></span> <span data-ttu-id="e86dd-273">Po prostu przekaż wartość `SortExpression`, aby posortować według [`SortDirection`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sortdirection.aspx) (`Ascending` lub `Descending`), a dane GridView zostaną posortowane.</span><span class="sxs-lookup"><span data-stu-id="e86dd-273">Simply pass in the `SortExpression` value to sort by along with the [`SortDirection`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sortdirection.aspx) (`Ascending` or `Descending`), and the GridView s data will be re-sorted.</span></span>

<span data-ttu-id="e86dd-274">Załóżmy, że powód, dla którego wystąpiło sortowanie według `UnitPrice`, został martwisz się, że nasi klienci po prostu kupują tylko produkty o najniższych cenach.</span><span class="sxs-lookup"><span data-stu-id="e86dd-274">Imagine that the reason we turned off sorting by the `UnitPrice` was because we were worried that our customers would simply buy only the lowest-priced products.</span></span> <span data-ttu-id="e86dd-275">Chcemy jednak zachęcić użytkowników do kupowania najbardziej kosztownych produktów, więc lubimy, aby posortować produkty według ceny, ale tylko od najbardziej kosztownej ceny do najmniej.</span><span class="sxs-lookup"><span data-stu-id="e86dd-275">However, we want to encourage them to buy the most expensive products, so we d like them to be able to sort the products by price, but only from the most expensive price to the least.</span></span>

<span data-ttu-id="e86dd-276">Aby to zrobić, Dodaj kontrolkę sieci Web przycisku do strony, ustaw jej Właściwość `ID` na `SortPriceDescending`, a jej Właściwość `Text` umożliwia sortowanie według cen.</span><span class="sxs-lookup"><span data-stu-id="e86dd-276">To accomplish this add a Button Web control to the page, set its `ID` property to `SortPriceDescending`, and its `Text` property to Sort by Price.</span></span> <span data-ttu-id="e86dd-277">Następnie Utwórz procedurę obsługi zdarzeń dla zdarzenia `Click` przycisku, klikając dwukrotnie formant Button w projektancie.</span><span class="sxs-lookup"><span data-stu-id="e86dd-277">Next, create an event handler for the Button s `Click` event by double-clicking the Button control in the Designer.</span></span> <span data-ttu-id="e86dd-278">Dodaj następujący kod do tej procedury obsługi zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="e86dd-278">Add the following code to this event handler:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample10.cs)]

<span data-ttu-id="e86dd-279">Kliknięcie tego przycisku zwraca użytkownika do pierwszej strony z produktami posortowanymi według ceny, od najtańszych do najtańszych (zobacz rysunek 15).</span><span class="sxs-lookup"><span data-stu-id="e86dd-279">Clicking this Button returns the user to the first page with the products sorted by price, from most expensive to least expensive (see Figure 15).</span></span>

<span data-ttu-id="e86dd-280">[![kliknięcie przycisku powoduje zamówienie produktów od najtańszych do najmniej](paging-and-sorting-report-data-cs/_static/image32.png)](paging-and-sorting-report-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="e86dd-280">[![Clicking the Button Orders the Products From the Most Expensive to the Least](paging-and-sorting-report-data-cs/_static/image32.png)](paging-and-sorting-report-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="e86dd-281">**Ilustracja 15**. kliknięcie przycisku powoduje zamówienie produktów od najtańszych do najmniej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-and-sorting-report-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="e86dd-281">**Figure 15**: Clicking the Button Orders the Products From the Most Expensive to the Least ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image33.png))</span></span>

## <a name="summary"></a><span data-ttu-id="e86dd-282">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="e86dd-282">Summary</span></span>

<span data-ttu-id="e86dd-283">W tym samouczku przedstawiono sposób implementacji domyślnych funkcji stronicowania i sortowania, z których oba były łatwe do sprawdzenia pola wyboru.</span><span class="sxs-lookup"><span data-stu-id="e86dd-283">In this tutorial we saw how to implement default paging and sorting capabilities, both of which were as easy as checking a checkbox!</span></span> <span data-ttu-id="e86dd-284">Gdy użytkownik sortuje lub strony za pomocą danych, podobne przepływy pracy są niezgięcie:</span><span class="sxs-lookup"><span data-stu-id="e86dd-284">When a user sorts or pages through data, a similar workflow unfolds:</span></span>

1. <span data-ttu-id="e86dd-285">Ogłaszanie zwrotne wynikający z</span><span class="sxs-lookup"><span data-stu-id="e86dd-285">A postback ensues</span></span>
2. <span data-ttu-id="e86dd-286">Wyzwalane jest zdarzenie przedpoziomu (`PageIndexChanging` lub `Sorting`) kontrolki Web Data</span><span class="sxs-lookup"><span data-stu-id="e86dd-286">The data Web control s pre-level event fires (`PageIndexChanging` or `Sorting`)</span></span>
3. <span data-ttu-id="e86dd-287">Wszystkie dane są pobierane do ponownego pobrania przez element ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="e86dd-287">All of the data is re-retrieved by the ObjectDataSource</span></span>
4. <span data-ttu-id="e86dd-288">Wyzwalane przez formant sieci Web danych zdarzenie na poziomie post (`PageIndexChanged` lub `Sorted`)</span><span class="sxs-lookup"><span data-stu-id="e86dd-288">The data Web control s post-level event fires (`PageIndexChanged` or `Sorted`)</span></span>

<span data-ttu-id="e86dd-289">Podczas implementowania podstawowego stronicowania i sortowania jest Breeze, aby zwiększyć efektywność pracy przy użyciu bardziej wydajnego niestandardowego stronicowania lub aby dokładniej ulepszyć interfejs stronicowania lub sortowania.</span><span class="sxs-lookup"><span data-stu-id="e86dd-289">While implementing basic paging and sorting is a breeze, more effort must be exerted to utilize the more efficient custom paging or to further enhance the paging or sorting interface.</span></span> <span data-ttu-id="e86dd-290">W przyszłości samouczki zapoznają się z tymi tematami.</span><span class="sxs-lookup"><span data-stu-id="e86dd-290">Future tutorials will explore these topics.</span></span>

<span data-ttu-id="e86dd-291">Szczęśliwe programowanie!</span><span class="sxs-lookup"><span data-stu-id="e86dd-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="e86dd-292">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="e86dd-292">About the Author</span></span>

<span data-ttu-id="e86dd-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor siedmiu grup ASP/ASP. NET Books i założyciel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracował z technologiami sieci Web firmy Microsoft od czasu 1998.</span><span class="sxs-lookup"><span data-stu-id="e86dd-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="e86dd-294">Scott działa jako niezależny konsultant, trainer i składnik zapisywania.</span><span class="sxs-lookup"><span data-stu-id="e86dd-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="e86dd-295">Jego Najnowsza książka to [*Sams ASP.NET 2,0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="e86dd-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="e86dd-296">Można go osiągnąć w [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="e86dd-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="e86dd-297">lub za pośrednictwem swojego blogu, który można znaleźć w [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="e86dd-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="e86dd-298">Dalej</span><span class="sxs-lookup"><span data-stu-id="e86dd-298">Next</span></span>](efficiently-paging-through-large-amounts-of-data-cs.md)
