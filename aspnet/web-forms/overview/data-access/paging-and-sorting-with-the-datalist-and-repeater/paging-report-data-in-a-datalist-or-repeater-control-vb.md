---
uid: web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/paging-report-data-in-a-datalist-or-repeater-control-vb
title: Stronicowanie danych raportu w kontrolce DataList lub wzmacniak (VB) | Microsoft Docs
author: rick-anderson
description: Chociaż żadna z elementów DataList ani wzmacniak nie oferuje automatycznej obsługi stronicowania ani sortowania, w tym samouczku pokazano, jak dodać obsługę stronicowania do elementu DataList lub wzmacniak,...
ms.author: riande
ms.date: 11/13/2006
ms.assetid: bbd6b7f7-b98a-48b4-93f3-341d6a4f53c0
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/paging-report-data-in-a-datalist-or-repeater-control-vb
msc.type: authoredcontent
ms.openlocfilehash: 5c65ca1f263e41748d99323dbdf1c28fdd077246
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/28/2019
ms.locfileid: "74570210"
---
# <a name="paging-report-data-in-a-datalist-or-repeater-control-vb"></a><span data-ttu-id="28dd5-103">Stronicowanie danych raportu w kontrolce DataList lub Repeater (VB)</span><span class="sxs-lookup"><span data-stu-id="28dd5-103">Paging Report Data in a DataList or Repeater Control (VB)</span></span>

<span data-ttu-id="28dd5-104">przez [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="28dd5-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="28dd5-105">[Pobierz przykładową aplikację](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_44_VB.exe) lub [Pobierz plik PDF](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/datatutorial44vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="28dd5-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_44_VB.exe) or [Download PDF](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/datatutorial44vb1.pdf)</span></span>

> <span data-ttu-id="28dd5-106">Chociaż żadna z elementów DataList ani wzmacniak nie oferuje automatycznej obsługi stronicowania ani sortowania, w tym samouczku pokazano, jak dodać obsługę stronicowania do elementu DataList lub wzmacniak, który umożliwia znacznie bardziej elastyczne interfejsy stronicowania i wyświetlania danych.</span><span class="sxs-lookup"><span data-stu-id="28dd5-106">While neither the DataList nor Repeater offer automatic paging or sorting support, this tutorial shows how to add paging support to the DataList or Repeater, which allows for much more flexible paging and data display interfaces.</span></span>

## <a name="introduction"></a><span data-ttu-id="28dd5-107">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="28dd5-107">Introduction</span></span>

<span data-ttu-id="28dd5-108">Stronicowanie i sortowanie to dwie bardzo popularne funkcje podczas wyświetlania danych w aplikacji online.</span><span class="sxs-lookup"><span data-stu-id="28dd5-108">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="28dd5-109">Na przykład podczas wyszukiwania książek ASP.NET w księgarni online mogą istnieć setki takich książek, ale Raport z listą wyników wyszukiwania dotyczy tylko dziesięciu odpowiedników na stronę.</span><span class="sxs-lookup"><span data-stu-id="28dd5-109">For example, when searching for ASP.NET books at an online bookstore, there may be hundreds of such books, but the report listing the search results lists only ten matches per page.</span></span> <span data-ttu-id="28dd5-110">Ponadto wyniki mogą być sortowane według tytułu, ceny, liczby stron, nazwy autora itd.</span><span class="sxs-lookup"><span data-stu-id="28dd5-110">Moreover, the results can be sorted by title, price, page count, author name, and so on.</span></span> <span data-ttu-id="28dd5-111">Zgodnie z opisem w samouczku dotyczącego [stronicowania i sortowania danych raportu](../paging-and-sorting/paging-and-sorting-report-data-vb.md) , wszystkie kontrolki GridView, DetailsView i FormView zapewniają wbudowaną obsługę stronicowania, którą można włączyć na osi pola wyboru.</span><span class="sxs-lookup"><span data-stu-id="28dd5-111">As we discussed in the [Paging and Sorting Report Data](../paging-and-sorting/paging-and-sorting-report-data-vb.md) tutorial, the GridView, DetailsView, and FormView controls all provide built-in paging support that can be enabled at the tick of a checkbox.</span></span> <span data-ttu-id="28dd5-112">Widok GridView obejmuje również obsługę sortowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-112">The GridView also includes sorting support.</span></span>

<span data-ttu-id="28dd5-113">Niestety, żadna z elementów DataList ani wzmacniak nie oferuje automatycznej obsługi stronicowania ani sortowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-113">Unfortunately, neither the DataList nor Repeater offer automatic paging or sorting support.</span></span> <span data-ttu-id="28dd5-114">W tym samouczku sprawdzimy, jak dodać obsługę stronicowania do elementu DataList lub wzmacniak.</span><span class="sxs-lookup"><span data-stu-id="28dd5-114">In this tutorial we'll examine how to add paging support to the DataList or Repeater.</span></span> <span data-ttu-id="28dd5-115">Konieczne jest ręczne utworzenie interfejsu stronicowania, wyświetlenie odpowiedniej strony rekordów i zapamiętanie przeglądanej strony na stronach ogłaszania zwrotnego.</span><span class="sxs-lookup"><span data-stu-id="28dd5-115">We must manually create the paging interface, display the appropriate page of records, and remember the page being visited across postbacks.</span></span> <span data-ttu-id="28dd5-116">Chociaż to zajmie więcej czasu i kodu niż w widoku GridView, DetailsView lub FormView, element DataList i wzmacniak umożliwiają znacznie bardziej elastyczne interfejsy stronicowania i wyświetlania danych.</span><span class="sxs-lookup"><span data-stu-id="28dd5-116">While this does take more time and code than with the GridView, DetailsView, or FormView, the DataList and Repeater allow for much more flexible paging and data display interfaces.</span></span>

> [!NOTE]
> <span data-ttu-id="28dd5-117">Ten samouczek koncentruje się wyłącznie na stronicowaniu.</span><span class="sxs-lookup"><span data-stu-id="28dd5-117">This tutorial focuses exclusively on paging.</span></span> <span data-ttu-id="28dd5-118">W następnym samouczku będziemy zachęcamy do dodawania funkcji sortowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-118">In the next tutorial we'll turn our attention to adding sorting capabilities.</span></span>

## <a name="step-1-adding-the-paging-and-sorting-tutorial-web-pages"></a><span data-ttu-id="28dd5-119">Krok 1. Dodawanie stron sieci Web samouczka stronicowania i sortowania</span><span class="sxs-lookup"><span data-stu-id="28dd5-119">Step 1: Adding the Paging and Sorting Tutorial Web Pages</span></span>

<span data-ttu-id="28dd5-120">Przed rozpoczęciem pracy z tym samouczkiem Poświęć chwilę na dodanie ASP.NET stron, których potrzebujemy do tego samouczka i kolejnego.</span><span class="sxs-lookup"><span data-stu-id="28dd5-120">Before we start this tutorial, let s first take a moment to add the ASP.NET pages we'll need for this tutorial and the next one.</span></span> <span data-ttu-id="28dd5-121">Zacznij od utworzenia nowego folderu w projekcie o nazwie `PagingSortingDataListRepeater`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-121">Start by creating a new folder in the project named `PagingSortingDataListRepeater`.</span></span> <span data-ttu-id="28dd5-122">Następnie Dodaj następujące pięć stron ASP.NET do tego folderu, z których wszystkie są skonfigurowane do korzystania z strony wzorcowej `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="28dd5-122">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `Paging.aspx`
- `Sorting.aspx`
- `SortingWithDefaultPaging.aspx`
- `SortingWithCustomPaging.aspx`

![Utwórz folder PagingSortingDataListRepeater i Dodaj samouczek ASP.NET stron](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image1.png)

<span data-ttu-id="28dd5-124">**Rysunek 1**. tworzenie folderu `PagingSortingDataListRepeater` i dodawanie stron samouczka ASP.NET</span><span class="sxs-lookup"><span data-stu-id="28dd5-124">**Figure 1**: Create a `PagingSortingDataListRepeater` Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="28dd5-125">Następnie otwórz stronę `Default.aspx` i przeciągnij kontrolkę użytkownika `SectionLevelTutorialListing.ascx` z folderu `UserControls` na powierzchnię projektu.</span><span class="sxs-lookup"><span data-stu-id="28dd5-125">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="28dd5-126">Ta kontrolka użytkownika, utworzona na [stronach wzorcowych i](../introduction/master-pages-and-site-navigation-vb.md) w samouczku nawigacji po witrynie, wylicza mapę witryny i wyświetla te samouczki w bieżącej sekcji na liście punktowanej.</span><span class="sxs-lookup"><span data-stu-id="28dd5-126">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-vb.md) tutorial, enumerates the site map and displays those tutorials in the current section in a bulleted list.</span></span>

<span data-ttu-id="28dd5-127">[![dodać kontrolkę użytkownika SectionLevelTutorialListing. ascx do default. aspx](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image3.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="28dd5-127">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image3.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image2.png)</span></span>

<span data-ttu-id="28dd5-128">**Rysunek 2**. Dodawanie kontrolki użytkownika `SectionLevelTutorialListing.ascx` do `Default.aspx` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="28dd5-128">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image4.png))</span></span>

<span data-ttu-id="28dd5-129">Aby Lista punktowana wyświetlała wyświetlane przez siebie samouczki i sortowania, należy dodać je do mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="28dd5-129">In order to have the bulleted list display the paging and sorting tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="28dd5-130">Otwórz plik `Web.sitemap` i Dodaj następujące znaczniki po edycji i usunięciu za pomocą znacznika węzła mapy witryny DataList:</span><span class="sxs-lookup"><span data-stu-id="28dd5-130">Open the `Web.sitemap` file and add the following markup after the Editing and Deleting with the DataList site map node markup:</span></span>

[!code-xml[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample1.xml)]

![Aktualizowanie mapy witryny w celu uwzględnienia nowych stron ASP.NET](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image5.png)

<span data-ttu-id="28dd5-132">**Rysunek 3**. aktualizowanie mapy witryny w celu uwzględnienia nowych stron ASP.NET</span><span class="sxs-lookup"><span data-stu-id="28dd5-132">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="a-review-of-paging"></a><span data-ttu-id="28dd5-133">Przegląd stronicowania</span><span class="sxs-lookup"><span data-stu-id="28dd5-133">A Review of Paging</span></span>

<span data-ttu-id="28dd5-134">W poprzednich samouczkach przedstawiono sposób wyświetlania stron przez dane w kontrolkach GridView, DetailsView i FormView.</span><span class="sxs-lookup"><span data-stu-id="28dd5-134">In previous tutorials we saw how to page through the data in the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="28dd5-135">Te trzy kontrolki oferują prostą postać stronicowania o nazwie *domyślne stronicowanie* , które można zaimplementować, po prostu zaznaczając opcję Włącz stronicowanie w tagu inteligentnym sterowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-135">These three controls offer a simple form of paging called *default paging* that can be implemented by simply checking the Enable Paging option in the control s smart tag.</span></span> <span data-ttu-id="28dd5-136">Za pomocą domyślnego stronicowania, za każdym razem, gdy strona danych jest żądana na pierwszej stronie lub gdy użytkownik nawiguje do innej strony danych, formant GridView, DetailsView lub FormView ponownie żąda *wszystkich* danych z elementu ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="28dd5-136">With default paging, each time a page of data is requested either on the first page visit or when the user navigates to a different page of data the GridView, DetailsView, or FormView control re-requests *all* of the data from the ObjectDataSource.</span></span> <span data-ttu-id="28dd5-137">Następnie wykreśla określony zestaw rekordów, aby wyświetlić dane z żądanym indeksem strony oraz liczbę rekordów do wyświetlenia na stronie.</span><span class="sxs-lookup"><span data-stu-id="28dd5-137">It then snips out the particular set of records to display given the requested page index and the number of records to display per page.</span></span> <span data-ttu-id="28dd5-138">Szczegółowo omówiono domyślne stronicowanie w samouczku dotyczącego [stronicowania i sortowania danych raportu](../paging-and-sorting/paging-and-sorting-report-data-vb.md) .</span><span class="sxs-lookup"><span data-stu-id="28dd5-138">We discussed default paging in detail in the [Paging and Sorting Report Data](../paging-and-sorting/paging-and-sorting-report-data-vb.md) tutorial.</span></span>

<span data-ttu-id="28dd5-139">Ponieważ domyślne stronicowanie powoduje ponowne zażądanie wszystkich rekordów dla każdej strony, nie jest to rozwiązanie praktyczne podczas stronicowania przy użyciu wystarczająco dużych ilości danych.</span><span class="sxs-lookup"><span data-stu-id="28dd5-139">Since default paging re-requests all records for each page, it is not practical when paging through sufficiently large amounts of data.</span></span> <span data-ttu-id="28dd5-140">Załóżmy na przykład, że stronicowanie odbywa się za pomocą rekordów 50 000 o rozmiarze 10.</span><span class="sxs-lookup"><span data-stu-id="28dd5-140">For example, imagine paging through 50,000 records with a page size of 10.</span></span> <span data-ttu-id="28dd5-141">Za każdym razem, gdy użytkownik przechodzi do nowej strony, wszystkie rekordy 50 000 muszą zostać pobrane z bazy danych, nawet jeśli są wyświetlane tylko dziesięć z nich.</span><span class="sxs-lookup"><span data-stu-id="28dd5-141">Each time the user moves to a new page, all 50,000 records must be retrieved from the database, even though only ten of them are displayed.</span></span>

<span data-ttu-id="28dd5-142">*Niestandardowe stronicowanie* rozwiązuje problemy związane z wydajnością domyślnego stronicowania, ponieważ jest to możliwe tylko do wyświetlania dokładnego podzestawu rekordów, które mają być wyświetlane na żądana stronie.</span><span class="sxs-lookup"><span data-stu-id="28dd5-142">*Custom paging* solves the performance concerns of default paging by grabbing only the precise subset of records to display on the requested page.</span></span> <span data-ttu-id="28dd5-143">Podczas implementowania niestandardowego stronicowania należy napisać zapytanie SQL, które będzie efektywnie zwracać tylko poprawny zestaw rekordów.</span><span class="sxs-lookup"><span data-stu-id="28dd5-143">When implementing custom paging, we must write the SQL query that will efficiently return just the correct set of records.</span></span> <span data-ttu-id="28dd5-144">Znaleźliśmy, jak utworzyć takie zapytanie przy użyciu SQL Server 2005 s nowe [`ROW_NUMBER()` słowo kluczowe](http://www.4guysfromrolla.com/webtech/010406-1.shtml) z powrotem w [wydajnej stronicowaniu za pośrednictwem dużych ilości danych](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) — samouczek.</span><span class="sxs-lookup"><span data-stu-id="28dd5-144">We saw how to create such a query using SQL Server 2005 s new [`ROW_NUMBER()` keyword](http://www.4guysfromrolla.com/webtech/010406-1.shtml) back in the [Efficiently Paging Through Large Amounts of Data](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) tutorial.</span></span>

<span data-ttu-id="28dd5-145">Aby zaimplementować domyślne stronicowanie w kontrolkach DataList lub Wzmacniake, możemy użyć [klasy`PagedDataSource`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.aspx) jako otoka wokół `ProductsDataTable`, którego zawartość jest stronicowana.</span><span class="sxs-lookup"><span data-stu-id="28dd5-145">To implement default paging in the DataList or Repeater controls, we can use the [`PagedDataSource` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.aspx) as a wrapper around the `ProductsDataTable` whose contents are being paged.</span></span> <span data-ttu-id="28dd5-146">Klasa `PagedDataSource` ma właściwość `DataSource`, która może być przypisana do dowolnego wyliczalnego obiektu i [`PageSize`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.pagesize.aspx) i [`CurrentPageIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.currentpageindex.aspx) właściwości, które wskazują, ile rekordów ma być pokazywanych na stronie i na bieżącym indeksie strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-146">The `PagedDataSource` class has a `DataSource` property that can be assigned to any enumerable object and [`PageSize`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.pagesize.aspx) and [`CurrentPageIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.currentpageindex.aspx) properties that indicate how many records to show per page and the current page index.</span></span> <span data-ttu-id="28dd5-147">Po ustawieniu tych właściwości `PagedDataSource` mogą być używane jako źródło danych dowolnego formantu sieci Web danych.</span><span class="sxs-lookup"><span data-stu-id="28dd5-147">Once these properties have been set, the `PagedDataSource` can be used as the data source of any data Web control.</span></span> <span data-ttu-id="28dd5-148">`PagedDataSource`, po wyliczeniu, zwróci tylko odpowiedni podzbiór rekordów jego wewnętrznego `DataSource` na podstawie właściwości `PageSize` i `CurrentPageIndex`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-148">The `PagedDataSource`, when enumerated, will only return the appropriate subset of records of its inner `DataSource` based on the `PageSize` and `CurrentPageIndex` properties.</span></span> <span data-ttu-id="28dd5-149">Rysunek 4 przedstawia funkcjonalność klasy `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-149">Figure 4 depicts the functionality of the `PagedDataSource` class.</span></span>

![PagedDataSource zawija wyliczalny obiekt z interfejsem stronicowania](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image6.png)

<span data-ttu-id="28dd5-151">**Rysunek 4**. `PagedDataSource` zawija obiekt wyliczalny z interfejsem stronicowania</span><span class="sxs-lookup"><span data-stu-id="28dd5-151">**Figure 4**: The `PagedDataSource` Wraps an Enumerable Object with a Pageable Interface</span></span>

<span data-ttu-id="28dd5-152">Obiekt `PagedDataSource` można utworzyć i skonfigurować bezpośrednio z poziomu warstwy logiki biznesowej i powiązana z elementem DataList lub wzmacniak za pośrednictwem elementu ObjectDataSource lub można go utworzyć i skonfigurować bezpośrednio w klasie z kodem ASP.NET Page s.</span><span class="sxs-lookup"><span data-stu-id="28dd5-152">The `PagedDataSource` object can be created and configured directly from the Business Logic Layer and bound to a DataList or Repeater through an ObjectDataSource, or can be created and configured directly in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="28dd5-153">Jeśli używane jest drugie podejście, musimy forgo przy użyciu elementu ObjectDataSource i zamiast tego powiązać dane stronicowane z właściwością DataList lub wzmacniak programowo.</span><span class="sxs-lookup"><span data-stu-id="28dd5-153">If the latter approach is used, we must forgo using the ObjectDataSource and instead bind the paged data to the DataList or Repeater programmatically.</span></span>

<span data-ttu-id="28dd5-154">Obiekt `PagedDataSource` ma również właściwości do obsługi stronicowania niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="28dd5-154">The `PagedDataSource` object also has properties to support custom paging.</span></span> <span data-ttu-id="28dd5-155">Można jednak obejść przy użyciu `PagedDataSource` niestandardowego stronicowania, ponieważ mamy już metody LOGIKI biznesowej w klasie `ProductsBLL` zaprojektowane dla niestandardowego stronicowania, które zwraca precyzyjne rekordy do wyświetlenia.</span><span class="sxs-lookup"><span data-stu-id="28dd5-155">However, we can bypass using a `PagedDataSource` for custom paging because we already have BLL methods in the `ProductsBLL` class designed for custom paging that return the precise records to display.</span></span>

<span data-ttu-id="28dd5-156">W tym samouczku Przyjrzyjmy się implementacji domyślnego stronicowania w elemencie DataList przez dodanie nowej metody do klasy `ProductsBLL`, która zwraca odpowiednio skonfigurowany obiekt `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-156">In this tutorial we'll look at implementing default paging in a DataList by adding a new method to the `ProductsBLL` class that returns an appropriately configured `PagedDataSource` object.</span></span> <span data-ttu-id="28dd5-157">W następnym samouczku zobaczymy, jak używać stronicowania niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="28dd5-157">In the next tutorial, we'll see how to use custom paging.</span></span>

## <a name="step-2-adding-a-default-paging-method-in-the-business-logic-layer"></a><span data-ttu-id="28dd5-158">Krok 2. Dodawanie domyślnej metody stronicowania w warstwie logiki biznesowej</span><span class="sxs-lookup"><span data-stu-id="28dd5-158">Step 2: Adding a Default Paging Method in the Business Logic Layer</span></span>

<span data-ttu-id="28dd5-159">Obecnie Klasa `ProductsBLL` ma metodę zwracającą wszystkie informacje o produkcie `GetProducts()` i jeden do zwrócenia określonego podzestawu produktów w `GetProductsPaged(startRowIndex, maximumRows)`indeksie początkowym.</span><span class="sxs-lookup"><span data-stu-id="28dd5-159">The `ProductsBLL` class currently has a method for returning all product information `GetProducts()` and one for returning a particular subset of products at a starting index `GetProductsPaged(startRowIndex, maximumRows)`.</span></span> <span data-ttu-id="28dd5-160">Przy użyciu domyślnego stronicowania formanty GridView, DetailsView i FormView wykorzystują metodę `GetProducts()` do pobierania wszystkich produktów, a następnie używają `PagedDataSource` wewnętrznie do wyświetlania tylko poprawnego podzestawu rekordów.</span><span class="sxs-lookup"><span data-stu-id="28dd5-160">With default paging, the GridView, DetailsView, and FormView controls all use the `GetProducts()` method to retrieve all products, but then use a `PagedDataSource` internally to display only the correct subset of records.</span></span> <span data-ttu-id="28dd5-161">Aby replikować tę funkcję za pomocą kontrolek DataList i wzmacniak, możemy utworzyć nową metodę w LOGIKI biznesowej, która naśladuje to zachowanie.</span><span class="sxs-lookup"><span data-stu-id="28dd5-161">To replicate this functionality with the DataList and Repeater controls, we can create a new method in the BLL that mimics this behavior.</span></span>

<span data-ttu-id="28dd5-162">Dodaj metodę do klasy `ProductsBLL` o nazwie `GetProductsAsPagedDataSource`, która przyjmuje dwa parametry wejściowe w postaci liczby całkowitej:</span><span class="sxs-lookup"><span data-stu-id="28dd5-162">Add a method to the `ProductsBLL` class named `GetProductsAsPagedDataSource` that takes in two integer input parameters:</span></span>

- <span data-ttu-id="28dd5-163">`pageIndex` indeks strony do wyświetlenia, indeksowanie na zero i</span><span class="sxs-lookup"><span data-stu-id="28dd5-163">`pageIndex` the index of the page to display, indexed at zero, and</span></span>
- <span data-ttu-id="28dd5-164">`pageSize` liczbę rekordów do wyświetlenia na stronie.</span><span class="sxs-lookup"><span data-stu-id="28dd5-164">`pageSize` the number of records to display per page.</span></span>

<span data-ttu-id="28dd5-165">`GetProductsAsPagedDataSource` uruchamia się, pobierając *wszystkie* rekordy z `GetProducts()`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-165">`GetProductsAsPagedDataSource` starts by retrieving *all* of the records from `GetProducts()`.</span></span> <span data-ttu-id="28dd5-166">Następnie tworzy obiekt `PagedDataSource`, ustawiając jego właściwości `CurrentPageIndex` i `PageSize` na wartości przetworzonych `pageIndex` i `pageSize` parametrów.</span><span class="sxs-lookup"><span data-stu-id="28dd5-166">It then creates a `PagedDataSource` object, setting its `CurrentPageIndex` and `PageSize` properties to the values of the passed-in `pageIndex` and `pageSize` parameters.</span></span> <span data-ttu-id="28dd5-167">Metoda kończy przez zwróceniem skonfigurowanego `PagedDataSource`:</span><span class="sxs-lookup"><span data-stu-id="28dd5-167">The method concludes by returning this configured `PagedDataSource`:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample2.vb)]

## <a name="step-3-displaying-product-information-in-a-datalist-using-default-paging"></a><span data-ttu-id="28dd5-168">Krok 3. Wyświetlanie informacji o produkcie w elemencie DataList przy użyciu domyślnego stronicowania</span><span class="sxs-lookup"><span data-stu-id="28dd5-168">Step 3: Displaying Product Information in a DataList Using Default Paging</span></span>

<span data-ttu-id="28dd5-169">Za pomocą metody `GetProductsAsPagedDataSource` dodanej do klasy `ProductsBLL` możemy teraz utworzyć element DataList lub wzmacniak, który zapewnia domyślne stronicowanie.</span><span class="sxs-lookup"><span data-stu-id="28dd5-169">With the `GetProductsAsPagedDataSource` method added to the `ProductsBLL` class, we can now create a DataList or Repeater that provides default paging.</span></span> <span data-ttu-id="28dd5-170">Aby rozpocząć, Otwórz stronę `Paging.aspx` w folderze `PagingSortingDataListRepeater` i przeciągnij element DataList z przybornika do projektanta, ustawiając Właściwość DataList s `ID` na `ProductsDefaultPaging`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-170">Start by opening the `Paging.aspx` page in the `PagingSortingDataListRepeater` folder and drag a DataList from the Toolbox onto the Designer, setting the DataList s `ID` property to `ProductsDefaultPaging`.</span></span> <span data-ttu-id="28dd5-171">W tagu inteligentnym DataList s Utwórz nowy element ObjectDataSource o nazwie `ProductsDefaultPagingDataSource` i skonfiguruj go tak, aby pobierał dane przy użyciu metody `GetProductsAsPagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-171">From the DataList s smart tag, create a new ObjectDataSource named `ProductsDefaultPagingDataSource` and configure it so that it retrieves data using the `GetProductsAsPagedDataSource` method.</span></span>

<span data-ttu-id="28dd5-172">[![utworzyć elementu ObjectDataSource i skonfigurować go tak, aby korzystał z metody GetProductsAsPagedDataSource ()](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image8.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="28dd5-172">[![Create an ObjectDataSource and Configure it to Use the GetProductsAsPagedDataSource () Method](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image8.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image7.png)</span></span>

<span data-ttu-id="28dd5-173">**Rysunek 5**. Utwórz element ObjectDataSource i skonfiguruj go tak, aby korzystał z metody `()` `GetProductsAsPagedDataSource` ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="28dd5-173">**Figure 5**: Create an ObjectDataSource and Configure it to Use the `GetProductsAsPagedDataSource` `()` Method ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image9.png))</span></span>

<span data-ttu-id="28dd5-174">Ustaw listę rozwijaną na kartach UPDATE, INSERT i DELETE na wartość (brak).</span><span class="sxs-lookup"><span data-stu-id="28dd5-174">Set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>

<span data-ttu-id="28dd5-175">[![ustawić listy rozwijane na kartach Aktualizuj, Wstaw i Usuń do (brak).](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image11.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="28dd5-175">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image11.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image10.png)</span></span>

<span data-ttu-id="28dd5-176">**Ilustracja 6**. Ustawianie list rozwijanych w kartach Aktualizuj, Wstaw i Usuń do (brak) ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="28dd5-176">**Figure 6**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None) ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image12.png))</span></span>

<span data-ttu-id="28dd5-177">Ponieważ metoda `GetProductsAsPagedDataSource` oczekuje dwóch parametrów wejściowych, Kreator monituje nas o źródło tych wartości parametrów.</span><span class="sxs-lookup"><span data-stu-id="28dd5-177">Since the `GetProductsAsPagedDataSource` method expects two input parameters, the wizard prompts us for the source of these parameter values.</span></span>

<span data-ttu-id="28dd5-178">Wartości indeksu strony i rozmiaru strony muszą być zapamiętywane na stronach ogłaszania zwrotnego.</span><span class="sxs-lookup"><span data-stu-id="28dd5-178">The page index and page size values must be remembered across postbacks.</span></span> <span data-ttu-id="28dd5-179">Mogą być przechowywane w stanie widoku, utrwalone w ciągu QueryString, przechowywane w zmiennych sesji lub zapamiętane przy użyciu innej techniki.</span><span class="sxs-lookup"><span data-stu-id="28dd5-179">They can be stored in view state, persisted to the querystring, stored in session variables, or remembered using some other technique.</span></span> <span data-ttu-id="28dd5-180">Na potrzeby tego samouczka użyjemy ciągu QueryString, który pozwala na tworzenie zakładek określonej strony danych.</span><span class="sxs-lookup"><span data-stu-id="28dd5-180">For this tutorial we'll use the querystring, which has the advantage of allowing a particular page of data to be bookmarked.</span></span>

<span data-ttu-id="28dd5-181">W szczególności należy odpowiednio użyć pól QueryString i pageSize dla parametrów `pageIndex` i `pageSize` (patrz rysunek 7).</span><span class="sxs-lookup"><span data-stu-id="28dd5-181">In particular, use the querystring fields pageIndex and pageSize for the `pageIndex` and `pageSize` parameters, respectively (see Figure 7).</span></span> <span data-ttu-id="28dd5-182">Poświęć chwilę na ustawienie wartości domyślnych dla tych parametrów, ponieważ wartości QueryString nie będą wyświetlane, gdy użytkownik po raz pierwszy odwiedzi tę stronę.</span><span class="sxs-lookup"><span data-stu-id="28dd5-182">Take a moment to set the default values for these parameters, as the querystring values won't be present when a user first visits this page.</span></span> <span data-ttu-id="28dd5-183">Dla `pageIndex`ustaw wartość domyślną na 0 (co spowoduje wyświetlenie pierwszej strony danych), a wartość domyślna `pageSize` s na 4.</span><span class="sxs-lookup"><span data-stu-id="28dd5-183">For `pageIndex`, set the default value to 0 (which will show the first page of data) and `pageSize` s default value to 4.</span></span>

<span data-ttu-id="28dd5-184">[![użyć ciągu QueryString jako źródła parametrów pageIndex i pageSize](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image14.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="28dd5-184">[![Use the QueryString as the Source for the pageIndex and pageSize Parameters](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image14.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image13.png)</span></span>

<span data-ttu-id="28dd5-185">**Rysunek 7**. Użyj ciągu QueryString jako źródła parametrów `pageIndex` i `pageSize` ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="28dd5-185">**Figure 7**: Use the QueryString as the Source for the `pageIndex` and `pageSize` Parameters ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image15.png))</span></span>

<span data-ttu-id="28dd5-186">Po skonfigurowaniu elementu ObjectDataSource program Visual Studio automatycznie tworzy `ItemTemplate` dla elementu DataList.</span><span class="sxs-lookup"><span data-stu-id="28dd5-186">After configuring the ObjectDataSource, Visual Studio automatically creates an `ItemTemplate` for the DataList.</span></span> <span data-ttu-id="28dd5-187">Dostosuj `ItemTemplate` tak, aby były wyświetlane tylko nazwy produktu, kategorii i dostawcy.</span><span class="sxs-lookup"><span data-stu-id="28dd5-187">Customize the `ItemTemplate` so that only the product s name, category, and supplier are shown.</span></span> <span data-ttu-id="28dd5-188">Ustaw również Właściwość DataList s `RepeatColumns` na wartość 2, jej `Width` na 100%, a jej `ItemStyle` s `Width` do 50%.</span><span class="sxs-lookup"><span data-stu-id="28dd5-188">Also set the DataList s `RepeatColumns` property to 2, its `Width` to 100%, and its `ItemStyle` s `Width` to 50%.</span></span> <span data-ttu-id="28dd5-189">Te ustawienia szerokości zapewniają równe odstępy dla dwóch kolumn.</span><span class="sxs-lookup"><span data-stu-id="28dd5-189">These width settings will provide equal spacing for the two columns.</span></span>

<span data-ttu-id="28dd5-190">Po wprowadzeniu tych zmian znaczniki DataList i ObjectDataSource s powinny wyglądać podobnie do następujących:</span><span class="sxs-lookup"><span data-stu-id="28dd5-190">After making these changes, the DataList and ObjectDataSource s markup should look similar to the following:</span></span>

[!code-aspx[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample3.aspx)]

> [!NOTE]
> <span data-ttu-id="28dd5-191">Ponieważ nie wykonujemy żadnej funkcji aktualizacji ani usuwania w tym samouczku, możesz wyłączyć stan widoku DataList s, aby zmniejszyć rozmiar renderowanej strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-191">Since we are not performing any update or delete functionality in this tutorial, you may disable the DataList s view state to reduce the rendered page size.</span></span>

<span data-ttu-id="28dd5-192">Po wstępnym odwiedzeniu tej strony za pomocą przeglądarki nie podano `pageIndex` ani `pageSize` parametrów QueryString.</span><span class="sxs-lookup"><span data-stu-id="28dd5-192">When initially visiting this page through a browser, neither the `pageIndex` nor `pageSize` querystring parameters are provided.</span></span> <span data-ttu-id="28dd5-193">W związku z tym są używane wartości domyślne 0 i 4.</span><span class="sxs-lookup"><span data-stu-id="28dd5-193">Hence, the default values of 0 and 4 are used.</span></span> <span data-ttu-id="28dd5-194">Jak pokazano na rysunku 8, spowoduje to wyświetlenie elementu DataList zawierającego pierwsze cztery produkty.</span><span class="sxs-lookup"><span data-stu-id="28dd5-194">As Figure 8 shows, this results in a DataList that displays the first four products.</span></span>

<span data-ttu-id="28dd5-195">[![wymienione są pierwsze cztery produkty](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image17.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="28dd5-195">[![The First Four Products are Listed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image17.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image16.png)</span></span>

<span data-ttu-id="28dd5-196">**Ilustracja 8**. wymienione są pierwsze cztery produkty ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="28dd5-196">**Figure 8**: The First Four Products are Listed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image18.png))</span></span>

<span data-ttu-id="28dd5-197">Bez interfejsu stronicowania nie jest obecnie proste, aby użytkownik mógł przejść do drugiej strony danych.</span><span class="sxs-lookup"><span data-stu-id="28dd5-197">Without a paging interface, there s currently no straightforward means for a user to navigate to the second page of data.</span></span> <span data-ttu-id="28dd5-198">Utworzymy interfejs stronicowania w kroku 4.</span><span class="sxs-lookup"><span data-stu-id="28dd5-198">We'll create a paging interface in step 4.</span></span> <span data-ttu-id="28dd5-199">Dla tej pory stronicowanie można wykonać tylko przez bezpośrednie określenie kryteriów stronicowania w ciągu QueryString.</span><span class="sxs-lookup"><span data-stu-id="28dd5-199">For now, though, paging can only be accomplished by directly specifying the paging criteria in the querystring.</span></span> <span data-ttu-id="28dd5-200">Na przykład aby wyświetlić drugą stronę, Zmień adres URL na pasku adresu przeglądarki z `Paging.aspx` na `Paging.aspx?pageIndex=2` i naciśnij klawisz ENTER.</span><span class="sxs-lookup"><span data-stu-id="28dd5-200">For example, to view the second page, change the URL in the browser s Address bar from `Paging.aspx` to `Paging.aspx?pageIndex=2` and hit Enter.</span></span> <span data-ttu-id="28dd5-201">Powoduje to wyświetlenie drugiej strony danych (patrz rysunek 9).</span><span class="sxs-lookup"><span data-stu-id="28dd5-201">This causes the second page of data to be displayed (see Figure 9).</span></span>

<span data-ttu-id="28dd5-202">[![zostanie wyświetlona druga strona danych](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image20.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="28dd5-202">[![The Second Page of Data is Displayed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image20.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image19.png)</span></span>

<span data-ttu-id="28dd5-203">**Ilustracja 9**. wyświetlana jest druga strona danych ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="28dd5-203">**Figure 9**: The Second Page of Data is Displayed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image21.png))</span></span>

## <a name="step-4-creating-the-paging-interface"></a><span data-ttu-id="28dd5-204">Krok 4. Tworzenie interfejsu stronicowania</span><span class="sxs-lookup"><span data-stu-id="28dd5-204">Step 4: Creating the Paging Interface</span></span>

<span data-ttu-id="28dd5-205">Istnieją różne interfejsy stronicowania, które mogą być implementowane.</span><span class="sxs-lookup"><span data-stu-id="28dd5-205">There are a variety of different paging interfaces that can be implemented.</span></span> <span data-ttu-id="28dd5-206">Kontrolki GridView, DetailsView i FormView udostępniają cztery różne interfejsy, spośród których można wybierać:</span><span class="sxs-lookup"><span data-stu-id="28dd5-206">The GridView, DetailsView, and FormView controls provide four different interfaces to choose among:</span></span>

- <span data-ttu-id="28dd5-207">**Następnie Poprzedni** użytkownicy mogą przenieść jedną stronę jednocześnie do następnej lub poprzedniej.</span><span class="sxs-lookup"><span data-stu-id="28dd5-207">**Next, Previous** users can move one page at a time, to either the next or previous one.</span></span>
- <span data-ttu-id="28dd5-208">Przycisk **Dalej, poprzedni, pierwszy, ostatni,** oprócz przycisków dalej i wstecz, ten interfejs zawiera pierwsze i ostatnie przyciski do przechodzenia do pierwszej lub bardzo ostatniej strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-208">**Next, Previous, First, Last** in addition to Next and Previous buttons, this interface includes First and Last buttons for moving to the very first or very last page.</span></span>
- <span data-ttu-id="28dd5-209">Wartość **liczbowa** wyświetla listę numerów stron w interfejsie stronicowania, co umożliwia użytkownikowi szybkie przechodzenie do określonej strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-209">**Numeric** lists the page numbers in the paging interface, allowing a user to quickly jump to a particular page.</span></span>
- <span data-ttu-id="28dd5-210">**Liczbowa, pierwsza, Ostatnia** oprócz liczbowych numerów stron, zawiera przyciski do przechodzenia do pierwszej lub bardzo ostatniej strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-210">**Numeric, First, Last** in addition to the numeric page numbers, includes buttons for moving to the very first or very last page.</span></span>

<span data-ttu-id="28dd5-211">Dla elementu DataList i wzmacniak są odpowiedzialni za decydowanie o interfejsie stronicowania i jego wdrożeniu.</span><span class="sxs-lookup"><span data-stu-id="28dd5-211">For the DataList and Repeater, we are responsible for deciding upon a paging interface and implementing it.</span></span> <span data-ttu-id="28dd5-212">Obejmuje to utworzenie wymaganych kontrolek sieci Web na stronie i wyświetlenie strony żądana, gdy zostanie kliknięty określony przycisk interfejsu stronicowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-212">This involves creating the needed Web controls in the page and displaying the requested page when a particular paging interface button is clicked.</span></span> <span data-ttu-id="28dd5-213">Ponadto może być konieczne wyłączenie pewnych kontrolek interfejsu stronicowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-213">Additionally, certain paging interface controls may need to be disabled.</span></span> <span data-ttu-id="28dd5-214">Na przykład podczas przeglądania pierwszej strony danych przy użyciu przycisków dalej, poprzedni, pierwszy i ostatni, zarówno pierwszy, jak i poprzedni zostaną wyłączone.</span><span class="sxs-lookup"><span data-stu-id="28dd5-214">For example, when viewing the first page of data using the Next, Previous, First, Last interface, both the First and Previous buttons would be disabled.</span></span>

<span data-ttu-id="28dd5-215">Na potrzeby tego samouczka Użyj instrukcji use Next, Previous, First i Last.</span><span class="sxs-lookup"><span data-stu-id="28dd5-215">For this tutorial, let s use the Next, Previous, First, Last interface.</span></span> <span data-ttu-id="28dd5-216">Dodaj cztery kontrolki sieci Web przycisków na stronie i ustaw ich `ID` s na `FirstPage`, `PrevPage`, `NextPage`i `LastPage`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-216">Add four Button Web controls to the page and set their `ID` s to `FirstPage`, `PrevPage`, `NextPage`, and `LastPage`.</span></span> <span data-ttu-id="28dd5-217">Ustaw właściwości `Text`, aby &lt;&lt; pierwsze, &lt; poprzedni, następny &gt;i ostatni &gt;&gt;.</span><span class="sxs-lookup"><span data-stu-id="28dd5-217">Set the `Text` properties to &lt;&lt; First, &lt; Prev, Next &gt;, and Last &gt;&gt; .</span></span>

[!code-aspx[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample4.aspx)]

<span data-ttu-id="28dd5-218">Następnie Utwórz procedurę obsługi zdarzeń `Click` dla każdego z tych przycisków.</span><span class="sxs-lookup"><span data-stu-id="28dd5-218">Next, create a `Click` event handler for each of these Buttons.</span></span> <span data-ttu-id="28dd5-219">W chwili dodamy kod niezbędny do wyświetlenia wybranej strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-219">In a moment we'll add the code necessary to display the requested page.</span></span>

## <a name="remembering-the-total-number-of-records-being-paged-through"></a><span data-ttu-id="28dd5-220">Zapamiętywanie łącznej liczby rekordów na stronie</span><span class="sxs-lookup"><span data-stu-id="28dd5-220">Remembering the Total Number of Records Being Paged Through</span></span>

<span data-ttu-id="28dd5-221">Niezależnie od wybranego interfejsu stronicowania, musimy obliczyć i zapamiętać łączną liczbę rekordów, które są stronicowane.</span><span class="sxs-lookup"><span data-stu-id="28dd5-221">Regardless of the paging interface selected, we need to compute and remember the total number of records being paged through.</span></span> <span data-ttu-id="28dd5-222">Łączna liczba wierszy (w połączeniu z rozmiarem strony) określa, ile łącznych stron danych jest stronicowanych przez, co określa, jakie kontrolki interfejsu stronicowania są dodawane lub są włączone.</span><span class="sxs-lookup"><span data-stu-id="28dd5-222">The total row count (in conjunction with the page size) determines how many total pages of data are being paged through, which determines what paging interface controls are added or are enabled.</span></span> <span data-ttu-id="28dd5-223">W następnym, poprzednim, pierwszym, ostatnim interfejsie, który tworzysz, liczba stron jest używana na dwa sposoby:</span><span class="sxs-lookup"><span data-stu-id="28dd5-223">In the Next, Previous, First, Last interface that we are building, the page count is used in two ways:</span></span>

- <span data-ttu-id="28dd5-224">Aby określić, czy jest wyświetlana Ostatnia strona, w takim przypadku przyciski Następny i ostatni są wyłączone.</span><span class="sxs-lookup"><span data-stu-id="28dd5-224">To determine whether we are viewing the last page, in which case the Next and Last buttons are disabled.</span></span>
- <span data-ttu-id="28dd5-225">Jeśli użytkownik kliknie ostatni przycisk, musimy przewhiskić je do ostatniej strony, której indeks jest mniejszy niż liczba stron.</span><span class="sxs-lookup"><span data-stu-id="28dd5-225">If the user clicks the Last button we need to whisk them to the last page, whose index is one less than the page count.</span></span>

<span data-ttu-id="28dd5-226">Liczba stron jest obliczana jako wartość limitu całkowitej liczby wierszy podzielona przez rozmiar strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-226">The page count is calculated as the ceiling of the total row count divided by the page size.</span></span> <span data-ttu-id="28dd5-227">Na przykład jeśli dane są stronicowane za pomocą 79 rekordów z czterema rekordami na stronie, liczba stron wynosi 20 (górny limit 79/4).</span><span class="sxs-lookup"><span data-stu-id="28dd5-227">For example, if we are paging through 79 records with four records per page, then the page count is 20 (the ceiling of 79 / 4).</span></span> <span data-ttu-id="28dd5-228">Jeśli korzystamy z interfejsu stronicowania numerycznego, te informacje informuje nas, jak wiele przycisków stron numerycznych ma być wyświetlanych; Jeśli interfejs stronicowania zawiera przyciski Dalej lub ostatnie, liczba stron jest używana do określenia, kiedy należy wyłączyć następne lub ostatnie przyciski.</span><span class="sxs-lookup"><span data-stu-id="28dd5-228">If we are using the Numeric paging interface, this information informs us as to how many numeric page buttons to display; if our paging interface includes Next or Last buttons, the page count is used to determine when to disable the Next or Last buttons.</span></span>

<span data-ttu-id="28dd5-229">Jeśli interfejs stronicowania zawiera ostatni przycisk, należy pamiętać, że całkowita liczba rekordów, które są stronicowane w ramach ogłaszania zwrotnego, tak, aby po kliknięciu ostatniego przycisku można było określić ostatni indeks strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-229">If the paging interface includes a Last button, it is imperative that the total number of records being paged through be remembered across postbacks so that when the Last button is clicked we can determine the last page index.</span></span> <span data-ttu-id="28dd5-230">Aby to ułatwić, należy utworzyć właściwość `TotalRowCount` w klasie z kodem "ASP.NET Page s", która zachowuje swoją wartość w celu wyświetlenia stanu:</span><span class="sxs-lookup"><span data-stu-id="28dd5-230">To facilitate this, create a `TotalRowCount` property in the ASP.NET page s code-behind class that persists its value to view state:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample5.vb)]

<span data-ttu-id="28dd5-231">Oprócz `TotalRowCount`Poświęć minutę na utworzenie właściwości na poziomie strony tylko do odczytu, aby ułatwić uzyskiwanie dostępu do indeksu strony, rozmiaru strony i liczby stron:</span><span class="sxs-lookup"><span data-stu-id="28dd5-231">In addition to `TotalRowCount`, take a minute to create read-only page-level properties for easily accessing the page index, page size, and page count:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample6.vb)]

## <a name="determining-the-total-number-of-records-being-paged-through"></a><span data-ttu-id="28dd5-232">Określanie łącznej liczby rekordów na stronie</span><span class="sxs-lookup"><span data-stu-id="28dd5-232">Determining the Total Number of Records Being Paged Through</span></span>

<span data-ttu-id="28dd5-233">Obiekt `PagedDataSource` zwrócony przez metodę `Select()` ObjectDataSource s znajduje się w obrębie *wszystkich* rekordów produktu, nawet jeśli tylko podzbiór są wyświetlane na liście DataList.</span><span class="sxs-lookup"><span data-stu-id="28dd5-233">The `PagedDataSource` object returned from the ObjectDataSource s `Select()` method has within it *all* of the product records, even though only a subset of them are displayed in the DataList.</span></span> <span data-ttu-id="28dd5-234">[Właściwość`Count`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.count.aspx) `PagedDataSource` s zwraca tylko liczbę elementów, które będą wyświetlane na liście DataList; [właściwość`DataSourceCount`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.datasourcecount.aspx) zwraca łączną liczbę elementów w `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-234">The `PagedDataSource` s [`Count` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.count.aspx) returns only the number of items that will be displayed in the DataList; the [`DataSourceCount` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.datasourcecount.aspx) returns the total number of items within the `PagedDataSource`.</span></span> <span data-ttu-id="28dd5-235">W związku z tym musimy przypisać ASP.NET strony `TotalRowCount` wartość właściwości `DataSourceCount` `PagedDataSource` s.</span><span class="sxs-lookup"><span data-stu-id="28dd5-235">Therefore, we need to assign the ASP.NET page s `TotalRowCount` property the value of the `PagedDataSource` s `DataSourceCount` property.</span></span>

<span data-ttu-id="28dd5-236">Aby to osiągnąć, Utwórz procedurę obsługi zdarzeń dla zdarzenia `Selected` elementu ObjectDataSource s.</span><span class="sxs-lookup"><span data-stu-id="28dd5-236">To accomplish this, create an event handler for the ObjectDataSource s `Selected` event.</span></span> <span data-ttu-id="28dd5-237">W programie obsługi zdarzeń `Selected` mamy dostęp do wartości zwracanej przez metodę `Select()` ObjectDataSource s w tym przypadku `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-237">In the `Selected` event handler we have access to the return value of the ObjectDataSource s `Select()` method in this case, the `PagedDataSource`.</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample7.vb)]

## <a name="displaying-the-requested-page-of-data"></a><span data-ttu-id="28dd5-238">Wyświetlanie żądanej strony danych</span><span class="sxs-lookup"><span data-stu-id="28dd5-238">Displaying the Requested Page of Data</span></span>

<span data-ttu-id="28dd5-239">Gdy użytkownik kliknie jeden z przycisków w interfejsie stronicowania, musi wyświetlić żądaną stronę danych.</span><span class="sxs-lookup"><span data-stu-id="28dd5-239">When the user clicks one of the buttons in the paging interface, we need to display the requested page of data.</span></span> <span data-ttu-id="28dd5-240">Ponieważ parametry stronicowania są określone za pośrednictwem ciągu QueryString, aby wyświetlić żądaną stronę danych, użyj `Response.Redirect(url)`, aby przeglądarka użytkownika zażądała ponownego żądania strony `Paging.aspx` z odpowiednimi parametrami stronicowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-240">Since the paging parameters are specified via the querystring, to show the requested page of data use `Response.Redirect(url)` to have the user s browser re-request the `Paging.aspx` page with the appropriate paging parameters.</span></span> <span data-ttu-id="28dd5-241">Na przykład aby wyświetlić drugą stronę danych, należy przekierować użytkownika do `Paging.aspx?pageIndex=1`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-241">For example, to display the second page of data, we would redirect the user to `Paging.aspx?pageIndex=1`.</span></span>

<span data-ttu-id="28dd5-242">Aby to ułatwić, należy utworzyć metodę `RedirectUser(sendUserToPageIndex)`, która przekierowuje użytkownika do `Paging.aspx?pageIndex=sendUserToPageIndex`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-242">To facilitate this, create a `RedirectUser(sendUserToPageIndex)` method that redirects the user to `Paging.aspx?pageIndex=sendUserToPageIndex`.</span></span> <span data-ttu-id="28dd5-243">Następnie Wywołaj tę metodę z czterema przyciskami `Click` obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="28dd5-243">Then, call this method from the four Button `Click` event handlers.</span></span> <span data-ttu-id="28dd5-244">W programie obsługi zdarzeń `Click` `FirstPage` Wywołaj `RedirectUser(0)`, aby wysłać je do pierwszej strony; w programie obsługi zdarzeń `Click` `PrevPage` Użyj `PageIndex - 1` jako indeksu strony. i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="28dd5-244">In the `FirstPage` `Click` event handler, call `RedirectUser(0)`, to send them to the first page; in the `PrevPage` `Click` event handler, use `PageIndex - 1` as the page index; and so on.</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample8.vb)]

<span data-ttu-id="28dd5-245">Po zakończeniu obsługi zdarzeń `Click` rekordy DataList s mogą być stronicowane przez kliknięcie przycisków.</span><span class="sxs-lookup"><span data-stu-id="28dd5-245">With the `Click` event handlers complete, the DataList s records can be paged through by clicking the buttons.</span></span> <span data-ttu-id="28dd5-246">Poświęć chwilę, aby ją wypróbować!</span><span class="sxs-lookup"><span data-stu-id="28dd5-246">Take a moment to try it out!</span></span>

## <a name="disabling-paging-interface-controls"></a><span data-ttu-id="28dd5-247">Wyłączanie kontrolek interfejsu stronicowania</span><span class="sxs-lookup"><span data-stu-id="28dd5-247">Disabling Paging Interface Controls</span></span>

<span data-ttu-id="28dd5-248">Obecnie wszystkie cztery przyciski są włączane niezależnie od wyświetlanej strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-248">Currently, all four buttons are enabled regardless of the page being viewed.</span></span> <span data-ttu-id="28dd5-249">Jednak chcemy wyłączyć przyciski pierwszy i poprzedni przy pokazywaniu pierwszej strony danych oraz przyciski Następny i ostatni podczas wyświetlania ostatniej strony.</span><span class="sxs-lookup"><span data-stu-id="28dd5-249">However, we want to disable the First and Previous buttons when showing the first page of data, and the Next and Last buttons when showing the last page.</span></span> <span data-ttu-id="28dd5-250">Obiekt `PagedDataSource` zwrócony przez metodę `Select()` ObjectDataSource s ma właściwości [`IsFirstPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.isfirstpage.aspx) i [`IsLastPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.islastpage.aspx) , które możemy sprawdzić, aby określić, czy oglądamy pierwszą lub ostatnią stronę danych.</span><span class="sxs-lookup"><span data-stu-id="28dd5-250">The `PagedDataSource` object returned by the ObjectDataSource s `Select()` method has properties [`IsFirstPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.isfirstpage.aspx) and [`IsLastPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.islastpage.aspx) that we can examine to determine if we are viewing the first or last page of data.</span></span>

<span data-ttu-id="28dd5-251">Dodaj następujący element do programu obsługi zdarzeń `Selected` ObjectDataSource s:</span><span class="sxs-lookup"><span data-stu-id="28dd5-251">Add the following to the ObjectDataSource s `Selected` event handler:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample9.vb)]

<span data-ttu-id="28dd5-252">W przypadku tego dodania przyciski pierwszy i poprzedni zostaną wyłączone podczas wyświetlania pierwszej strony, podczas gdy podczas wyświetlania ostatniej strony zostaną wyłączone przyciski Następny i ostatni.</span><span class="sxs-lookup"><span data-stu-id="28dd5-252">With this addition, the First and Previous buttons will be disabled when viewing the first page, while the Next and Last buttons will be disabled when viewing the last page.</span></span>

<span data-ttu-id="28dd5-253">Niech s uzupełnia interfejs stronicowania, informując użytkownika o tym, co strona aktualnie przegląda i ile z nich łączą się.</span><span class="sxs-lookup"><span data-stu-id="28dd5-253">Let s complete the paging interface by informing the user what page they re currently viewing and how many total pages exist.</span></span> <span data-ttu-id="28dd5-254">Dodaj kontrolkę sieci Web etykieta do strony i ustaw jej Właściwość `ID` na `CurrentPageNumber`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-254">Add a Label Web control to the page and set its `ID` property to `CurrentPageNumber`.</span></span> <span data-ttu-id="28dd5-255">Ustaw jej Właściwość `Text` w procedurze obsługi zdarzeń w wybranym elemencie ObjectDataSource s tak, aby zawierała bieżącą stronę wyświetlaną (`PageIndex + 1`) i łączną liczbę stron (`PageCount`).</span><span class="sxs-lookup"><span data-stu-id="28dd5-255">Set its `Text` property in the ObjectDataSource s Selected event handler such that it includes the current page being viewed (`PageIndex + 1`) and the total number of pages (`PageCount`).</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample10.vb)]

<span data-ttu-id="28dd5-256">Rysunek 10 pokazuje `Paging.aspx` podczas pierwszej wizyty.</span><span class="sxs-lookup"><span data-stu-id="28dd5-256">Figure 10 shows `Paging.aspx` when first visited.</span></span> <span data-ttu-id="28dd5-257">Ponieważ ciąg QueryString jest pusty, domyślnie wyświetlana jest wartość domyślna elementu DataList pokazująca pierwsze cztery produkty; przyciski pierwszy i poprzedni są wyłączone.</span><span class="sxs-lookup"><span data-stu-id="28dd5-257">Since the querystring is empty, the DataList defaults to showing the first four products; the First and Previous buttons are disabled.</span></span> <span data-ttu-id="28dd5-258">Kliknięcie przycisku Dalej wyświetla następne cztery rekordy (patrz rysunek 11). przyciski pierwszy i poprzedni są teraz włączone.</span><span class="sxs-lookup"><span data-stu-id="28dd5-258">Clicking Next displays the next four records (see Figure 11); the First and Previous buttons are now enabled.</span></span>

<span data-ttu-id="28dd5-259">[![zostanie wyświetlona pierwsza strona danych](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image23.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="28dd5-259">[![The First Page of Data is Displayed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image23.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image22.png)</span></span>

<span data-ttu-id="28dd5-260">**Ilustracja 10**. wyświetlana jest pierwsza strona danych ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="28dd5-260">**Figure 10**: The First Page of Data is Displayed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image24.png))</span></span>

<span data-ttu-id="28dd5-261">[![zostanie wyświetlona druga strona danych](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image26.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="28dd5-261">[![The Second Page of Data is Displayed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image26.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image25.png)</span></span>

<span data-ttu-id="28dd5-262">**Ilustracja 11**. wyświetlana jest druga strona danych ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="28dd5-262">**Figure 11**: The Second Page of Data is Displayed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image27.png))</span></span>

> [!NOTE]
> <span data-ttu-id="28dd5-263">Interfejs stronicowania można dodatkowo zwiększyć, umożliwiając użytkownikowi określenie, ile stron ma być wyświetlanych na stronie.</span><span class="sxs-lookup"><span data-stu-id="28dd5-263">The paging interface can be further enhanced by allowing the user to specify how many pages to view per page.</span></span> <span data-ttu-id="28dd5-264">Na przykład DropDownList można dodać listę opcji rozmiaru strony, takich jak 5, 10, 25, 50 i wszystkie.</span><span class="sxs-lookup"><span data-stu-id="28dd5-264">For example, a DropDownList could be added listing page size options like 5, 10, 25, 50, and All.</span></span> <span data-ttu-id="28dd5-265">Po wybraniu rozmiaru strony użytkownik powinien zostać przekierowany z powrotem do `Paging.aspx?pageIndex=0&pageSize=selectedPageSize`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-265">Upon selecting a page size, the user would need to be redirected back to `Paging.aspx?pageIndex=0&pageSize=selectedPageSize`.</span></span> <span data-ttu-id="28dd5-266">Pozostawiam to ulepszenie jako ćwiczenie dla czytnika.</span><span class="sxs-lookup"><span data-stu-id="28dd5-266">I leave implementing this enhancement as an exercise for the reader.</span></span>

## <a name="using-custom-paging"></a><span data-ttu-id="28dd5-267">Używanie niestandardowego stronicowania</span><span class="sxs-lookup"><span data-stu-id="28dd5-267">Using Custom Paging</span></span>

<span data-ttu-id="28dd5-268">Strony DataList za pośrednictwem swoich danych przy użyciu niewydajnej domyślnej techniki stronicowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-268">The DataList pages through its data using the inefficient default paging technique.</span></span> <span data-ttu-id="28dd5-269">Podczas stronicowania przy użyciu wystarczająco dużych ilości danych jest konieczne użycie stronicowania niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="28dd5-269">When paging through sufficiently large amounts of data, it is imperative that custom paging be used.</span></span> <span data-ttu-id="28dd5-270">Chociaż szczegóły implementacji różnią się nieznacznie, koncepcje związane z implementacją niestandardowego stronicowania w elemencie DataList są takie same jak w przypadku domyślnego stronicowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-270">Although the implementation details differ slightly, the concepts behind implementing custom paging in a DataList are the same as with default paging.</span></span> <span data-ttu-id="28dd5-271">Przy użyciu niestandardowego stronicowania Użyj metody `ProductBLL` klasy s `GetProductsPaged` (zamiast `GetProductsAsPagedDataSource`).</span><span class="sxs-lookup"><span data-stu-id="28dd5-271">With custom paging, use the `ProductBLL` class s `GetProductsPaged` method (instead of `GetProductsAsPagedDataSource`).</span></span> <span data-ttu-id="28dd5-272">Jak opisano w [efektywnej stronicowaniu za pomocą dużych ilości danych](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) , `GetProductsPaged` należy przekazywać indeks początkowych wierszy i maksymalną liczbę wierszy do zwrócenia.</span><span class="sxs-lookup"><span data-stu-id="28dd5-272">As discussed in the [Efficiently Paging Through Large Amounts of Data](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) tutorial, `GetProductsPaged` must be passed the start row index and maximum number of rows to return.</span></span> <span data-ttu-id="28dd5-273">Te parametry można utrzymywać za pomocą ciągu QueryString podobnie jak parametry `pageIndex` i `pageSize` używane w domyślnym stronicowaniu.</span><span class="sxs-lookup"><span data-stu-id="28dd5-273">These parameters can be maintained through the querystring just like the `pageIndex` and `pageSize` parameters used in default paging.</span></span>

<span data-ttu-id="28dd5-274">Ponieważ nie ma żadnych `PagedDataSource` z stronicowaniem niestandardowym, należy użyć alternatywnych technik do określenia łącznej liczby rekordów, które są wyświetlane w tym miejscu, oraz od tego, czy będziemy ponownie wyświetlać pierwszą lub ostatnią stronę danych.</span><span class="sxs-lookup"><span data-stu-id="28dd5-274">Since there s no `PagedDataSource` with custom paging, alternative techniques must be used to determine the total number of records being paged through and whether we re displaying the first or last page of data.</span></span> <span data-ttu-id="28dd5-275">Metoda `TotalNumberOfProducts()` w klasie `ProductsBLL` zwraca łączną liczbę produktów, które są stronicowane.</span><span class="sxs-lookup"><span data-stu-id="28dd5-275">The `TotalNumberOfProducts()` method in the `ProductsBLL` class returns the total number of products being paged through.</span></span> <span data-ttu-id="28dd5-276">Aby określić, czy pierwsza strona danych jest wyświetlana, sprawdź, czy jest wyświetlany indeks wierszy początkowych, jeśli jest równa zero, a następnie jest wyświetlana pierwsza strona.</span><span class="sxs-lookup"><span data-stu-id="28dd5-276">To determine if the first page of data is being viewed, examine the start row index if it is zero, then the first page is being viewed.</span></span> <span data-ttu-id="28dd5-277">Ostatnia strona jest wyświetlana, jeśli indeks wierszy początkowych i Maksymalna liczba wierszy do zwrócenia jest większa lub równa łącznej liczbie rekordów, które są wyświetlane na stronie.</span><span class="sxs-lookup"><span data-stu-id="28dd5-277">The last page is being viewed if the start row index plus the maximum rows to return is greater than or equal to the total number of records being paged through.</span></span>

<span data-ttu-id="28dd5-278">W następnym samouczku dowiesz się, jak wdrażać niestandardowe stronicowanie w bardziej szczegółowy sposób.</span><span class="sxs-lookup"><span data-stu-id="28dd5-278">We'll explore implementing custom paging in greater detail in the next tutorial.</span></span>

## <a name="summary"></a><span data-ttu-id="28dd5-279">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="28dd5-279">Summary</span></span>

<span data-ttu-id="28dd5-280">Chociaż ani element DataList, ani wzmacniak nie oferuje funkcji obsługi stronicowania Box dostępnej w kontrolkach GridView, DetailsView i FormView, można dodawać takie funkcje z minimalnym nakładem pracy.</span><span class="sxs-lookup"><span data-stu-id="28dd5-280">While neither the DataList nor Repeater offers the out of the box paging support found in the GridView, DetailsView, and FormView controls, such functionality can be added with minimal effort.</span></span> <span data-ttu-id="28dd5-281">Najprostszym sposobem implementacji stronicowania domyślnego jest Zawijanie całego zestawu produktów w ramach `PagedDataSource`, a następnie powiązanie `PagedDataSource` z elementem DataList lub Wzmacniake.</span><span class="sxs-lookup"><span data-stu-id="28dd5-281">The easiest way to implement default paging is to wrap the entire set of products within a `PagedDataSource` and then bind the `PagedDataSource` to the DataList or Repeater.</span></span> <span data-ttu-id="28dd5-282">W tym samouczku dodaliśmy metodę `GetProductsAsPagedDataSource` do klasy `ProductsBLL` w celu zwrócenia `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-282">In this tutorial we added the `GetProductsAsPagedDataSource` method to the `ProductsBLL` class to return the `PagedDataSource`.</span></span> <span data-ttu-id="28dd5-283">Klasa `ProductsBLL` zawiera już metody, które są zbędne dla niestandardowego `GetProductsPaged` stronicowania i `TotalNumberOfProducts`.</span><span class="sxs-lookup"><span data-stu-id="28dd5-283">The `ProductsBLL` class already contains the methods needed for custom paging `GetProductsPaged` and `TotalNumberOfProducts`.</span></span>

<span data-ttu-id="28dd5-284">Wraz z pobraniem precyzyjnego zestawu rekordów do wyświetlania dla niestandardowego stronicowania lub wszystkich rekordów w `PagedDataSource` dla domyślnego stronicowania, należy również ręcznie dodać interfejs stronicowania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-284">Along with retrieving either the precise set of records to display for custom paging or all records in a `PagedDataSource` for default paging, we also need to manually add the paging interface.</span></span> <span data-ttu-id="28dd5-285">W tym samouczku utworzyliśmy następny, poprzedni, pierwszy, ostatni interfejs z czterema kontrolkami sieci Web.</span><span class="sxs-lookup"><span data-stu-id="28dd5-285">For this tutorial we created a Next, Previous, First, Last interface with four Button Web controls.</span></span> <span data-ttu-id="28dd5-286">Dodatkowo dodano kontrolkę etykieta wyświetlającą bieżący numer strony i całkowitą liczbę stron.</span><span class="sxs-lookup"><span data-stu-id="28dd5-286">Also, a Label control displaying the current page number and total number of pages was added.</span></span>

<span data-ttu-id="28dd5-287">W następnym samouczku zobaczymy, jak dodać obsługę sortowania do elementu DataList i wzmacniak.</span><span class="sxs-lookup"><span data-stu-id="28dd5-287">In the next tutorial we'll see how to add sorting support to the DataList and Repeater.</span></span> <span data-ttu-id="28dd5-288">Zobaczymy również, jak utworzyć element DataList, który może być zarówno stronicowane, jak i posortowany (z przykładami przy użyciu domyślnego i niestandardowego stronicowania).</span><span class="sxs-lookup"><span data-stu-id="28dd5-288">We'll also see how to create a DataList that can be both paged and sorted (with examples using default and custom paging).</span></span>

<span data-ttu-id="28dd5-289">Szczęśliwe programowanie!</span><span class="sxs-lookup"><span data-stu-id="28dd5-289">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="28dd5-290">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="28dd5-290">About the Author</span></span>

<span data-ttu-id="28dd5-291">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor siedmiu grup ASP/ASP. NET Books i założyciel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracował z technologiami sieci Web firmy Microsoft od czasu 1998.</span><span class="sxs-lookup"><span data-stu-id="28dd5-291">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="28dd5-292">Scott działa jako niezależny konsultant, trainer i składnik zapisywania.</span><span class="sxs-lookup"><span data-stu-id="28dd5-292">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="28dd5-293">Jego Najnowsza książka to [*Sams ASP.NET 2,0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="28dd5-293">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="28dd5-294">Można go osiągnąć w [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="28dd5-294">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="28dd5-295">lub za pośrednictwem swojego blogu, który można znaleźć w [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="28dd5-295">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="28dd5-296">Specjalne podziękowania</span><span class="sxs-lookup"><span data-stu-id="28dd5-296">Special Thanks To</span></span>

<span data-ttu-id="28dd5-297">Ta seria samouczków została sprawdzona przez wielu przydatnych recenzentów.</span><span class="sxs-lookup"><span data-stu-id="28dd5-297">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="28dd5-298">Recenzenci liderzy dla tego samouczka to Liz Shulok, Krzysztof Pespisa i Bernadette Leigh.</span><span class="sxs-lookup"><span data-stu-id="28dd5-298">Lead reviewers for this tutorial were Liz Shulok, Ken Pespisa, and Bernadette Leigh.</span></span> <span data-ttu-id="28dd5-299">Chcesz przeglądać moje nadchodzące artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="28dd5-299">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="28dd5-300">Jeśli tak, upuść mi linię w [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="28dd5-300">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="28dd5-301">[Poprzednie](sorting-data-in-a-datalist-or-repeater-control-cs.md)
> [dalej](sorting-data-in-a-datalist-or-repeater-control-vb.md)</span><span class="sxs-lookup"><span data-stu-id="28dd5-301">[Previous](sorting-data-in-a-datalist-or-repeater-control-cs.md)
[Next](sorting-data-in-a-datalist-or-repeater-control-vb.md)</span></span>
