---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
title: Dodawanie kontrolek weryfikacji do edycji i wstawiania interfejsów (C#) | Dokumentacja firmy Microsoft
author: rick-anderson
description: W tym samouczku zobaczymy, jak łatwo jest dodawanie kontrolek weryfikacji do EditItemTemplate i InsertItemTemplate danych formantu sieci Web, aby zapewnić bardziej...
ms.author: riande
ms.date: 07/17/2006
ms.assetid: 2086cb1a-ab78-49ae-9c0b-03891c69776a
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
msc.type: authoredcontent
ms.openlocfilehash: 157a71c7b8a7b5e8e34c08957d0520dfb8da8db9
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/09/2019
ms.locfileid: "59391263"
---
# <a name="adding-validation-controls-to-the-editing-and-inserting-interfaces-c"></a><span data-ttu-id="80afb-103">Dodawanie kontrolek walidacji do interfejsów edycji i wstawiania (C#)</span><span class="sxs-lookup"><span data-stu-id="80afb-103">Adding Validation Controls to the Editing and Inserting Interfaces (C#)</span></span>

<span data-ttu-id="80afb-104">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="80afb-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="80afb-105">[Pobierz przykładową aplikację](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) lub [Pobierz plik PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="80afb-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) or [Download PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span></span>

> <span data-ttu-id="80afb-106">W tym samouczku zobaczymy, jak łatwo jest dodawanie kontrolek weryfikacji do EditItemTemplate i InsertItemTemplate danych formantu sieci Web, aby zapewnić bardziej niezawodne interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="80afb-106">In this tutorial we'll see how easy it is to add validation controls to the EditItemTemplate and InsertItemTemplate of a data Web control, to provide a more foolproof user interface.</span></span>


## <a name="introduction"></a><span data-ttu-id="80afb-107">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="80afb-107">Introduction</span></span>

<span data-ttu-id="80afb-108">Kontrolki GridView i DetailsView w przykładach rozważyliśmy już przestrzeni ostatnich trzech samouczków wszystko zostało połączyły BoundFields i CheckBoxFields (typy pól automatycznie dodawane przez program Visual Studio, podczas tworzenia powiązania GridView lub DetailsView ze źródłem danych kontrolowanie za pomocą tagu inteligentnego).</span><span class="sxs-lookup"><span data-stu-id="80afb-108">The GridView and DetailsView controls in the examples we've explored over the past three tutorials have all been composed of BoundFields and CheckBoxFields (the field types automatically added by Visual Studio when binding a GridView or DetailsView to a data source control through the smart tag).</span></span> <span data-ttu-id="80afb-109">W trakcie edytowania wierszy w kontrolce GridView lub DetailsView BoundFields, te, które nie są tylko do odczytu są konwertowane na pola tekstowe, z którego użytkownik końcowy może modyfikować istniejące dane.</span><span class="sxs-lookup"><span data-stu-id="80afb-109">When editing a row in a GridView or DetailsView, those BoundFields that are not read-only are converted into textboxes, from which the end user can modify the existing data.</span></span> <span data-ttu-id="80afb-110">Podobnie podczas wstawiania nowego rejestrowania w kontrolce DetailsView tych BoundFields którego `InsertVisible` właściwość jest ustawiona na `true` (ustawienie domyślne) są renderowane jako puste pola tekstowe, w którym użytkownik może podać wartości pola nowego rekordu.</span><span class="sxs-lookup"><span data-stu-id="80afb-110">Similarly, when inserting a new record into a DetailsView control, those BoundFields whose `InsertVisible` property is set to `true` (the default) are rendered as empty textboxes, into which the user can provide the new record's field values.</span></span> <span data-ttu-id="80afb-111">Podobnie CheckBoxFields, które są wyłączone w interfejsie standardowe, tylko do odczytu, są konwertowane do włączonego pola wyboru w edycji i wstawiania interfejsów.</span><span class="sxs-lookup"><span data-stu-id="80afb-111">Likewise, CheckBoxFields, which are disabled in the standard, read-only interface, are converted into enabled checkboxes in the editing and inserting interfaces.</span></span>

<span data-ttu-id="80afb-112">Wartość domyślna, edycji i wstawiania interfejsów elementu BoundField i CheckBoxField mogą być przydatne, interfejs brakuje dowolny rodzaj sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="80afb-112">While the default editing and inserting interfaces for the BoundField and CheckBoxField can be helpful, the interface lacks any sort of validation.</span></span> <span data-ttu-id="80afb-113">Jeśli użytkownik popełni błąd danych wpis — takich jak pominięcie `ProductName` pola lub wprowadzając nieprawidłową wartością dla `UnitsInStock` (na przykład -50) będzie zgłaszany wyjątek z w ramach głębokości architektury aplikacji.</span><span class="sxs-lookup"><span data-stu-id="80afb-113">If a user makes a data entry mistake - such as omitting the `ProductName` field or entering an invalid value for `UnitsInStock` (such as -50) an exception will be raised from within the depths of the application architecture.</span></span> <span data-ttu-id="80afb-114">Gdy ten wyjątek może być bezpiecznie obsługiwany, jak pokazano w [poprzedniego samouczka](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), najlepiej edycji i wstawiania interfejsu użytkownika obejmuje kontrolek weryfikacji, aby uniemożliwić użytkownikowi wprowadzanie takich nieprawidłowe dane w pierwsze miejsce.</span><span class="sxs-lookup"><span data-stu-id="80afb-114">While this exception can be gracefully handled as demonstrated in the [previous tutorial](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), ideally the editing or inserting user interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="80afb-115">Aby podasz niestandardowe edycji lub wstawianie interfejsu, należy zastąpić elementu BoundField lub CheckBoxField TemplateField.</span><span class="sxs-lookup"><span data-stu-id="80afb-115">In order to provide a customized editing or inserting interface, we need to replace the BoundField or CheckBoxField with a TemplateField.</span></span> <span data-ttu-id="80afb-116">Kontrolek TemplateField, które były temat dyskusji w [za pomocą kontrolek TemplateField w kontrolce GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) i [za pomocą kontrolek TemplateField w kontrolce DetailsView](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) samouczki i może składać się z wielu Definiowanie szablonów oddzielnych interfejsów wiersza różne stany.</span><span class="sxs-lookup"><span data-stu-id="80afb-116">TemplateFields, which were the topic of discussion in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) and [Using TemplateFields in the DetailsView Control](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) tutorials, can consist of multiple templates defining separate interfaces for different row states.</span></span> <span data-ttu-id="80afb-117">TemplateField `ItemTemplate` służy do podczas renderowania pól tylko do odczytu lub wiersze w kontrolkach DetailsView lub GridView, natomiast `EditItemTemplate` i `InsertItemTemplate` wskazują interfejsy do edycji i wstawiania tryby, odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="80afb-117">The TemplateField's `ItemTemplate` is used to when rendering read-only fields or rows in the DetailsView or GridView controls, whereas the `EditItemTemplate` and `InsertItemTemplate` indicate the interfaces to use for the editing and inserting modes, respectively.</span></span>

<span data-ttu-id="80afb-118">W tym samouczku zobaczymy, jak łatwo jest dodawanie kontrolek weryfikacji do TemplateField `EditItemTemplate` i `InsertItemTemplate` zapewnia bardziej niezawodna interfejs użytkownika.</span><span class="sxs-lookup"><span data-stu-id="80afb-118">In this tutorial we'll see how easy it is to add validation controls to the TemplateField's `EditItemTemplate` and `InsertItemTemplate` to provide a more foolproof user interface.</span></span> <span data-ttu-id="80afb-119">W szczególności ten samouczek przedstawia przykład utworzone w [badanie zdarzeń skojarzonych z Wstawianie, aktualizowanie i usuwanie](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) samouczek i rozszerzają edycji i wstawiania interfejsy do uwzględnienia odpowiednie sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="80afb-119">Specifically, this tutorial takes the example created in the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial and augments the editing and inserting interfaces to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromexamining-the-events-associated-with-inserting-updating-and-deletingexamining-the-events-associated-with-inserting-updating-and-deleting-csmd"></a><span data-ttu-id="80afb-120">Krok 1. Replikowanie przykładu z[badanie zdarzeń skojarzonych z Wstawianie, aktualizowanie i usuwanie](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span><span class="sxs-lookup"><span data-stu-id="80afb-120">Step 1: Replicating the Example from[Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span></span>

<span data-ttu-id="80afb-121">W [badanie zdarzeń skojarzonych z Wstawianie, aktualizowanie i usuwanie](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) samouczka utworzona strona, która wymienione nazwy i ceny produktów w edycji kontrolki GridView.</span><span class="sxs-lookup"><span data-stu-id="80afb-121">In the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial we created a page that listed the names and prices of the products in an editable GridView.</span></span> <span data-ttu-id="80afb-122">Ponadto strona ujęte DetailsView którego `DefaultMode` właściwość `Insert`, a tym samym zawsze renderowanie w trybie wstawiania.</span><span class="sxs-lookup"><span data-stu-id="80afb-122">Additionally, the page included a DetailsView whose `DefaultMode` property was set to `Insert`, thereby always rendering in insert mode.</span></span> <span data-ttu-id="80afb-123">Z tym DetailsView użytkownik może wprowadź nazwę i cena dla nowych produktów, kliknij przycisk Wstaw i jest dodawane do systemu (patrz rysunek 1).</span><span class="sxs-lookup"><span data-stu-id="80afb-123">From this DetailsView, the user could enter the name and price for a new product, click Insert, and have it added to the system (see Figure 1).</span></span>


[![T<span data-ttu-id="80afb-124">ADAM poprzedniego przykładu umożliwia użytkownikom dodawanie nowych produktów i edytować istniejące]</span><span class="sxs-lookup"><span data-stu-id="80afb-124">he Previous Example Allows Users to Add New Products and Edit Existing Ones]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image1.png)

<span data-ttu-id="80afb-125">**Rysunek 1**: Poprzedniego przykładu umożliwia użytkownikom dodawanie nowych produktów i edytować istniejące ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-125">**Figure 1**: The Previous Example Allows Users to Add New Products and Edit Existing Ones ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span></span>


<span data-ttu-id="80afb-126">Naszym celem na potrzeby tego samouczka jest rozszerzyć DetailsView i GridView, aby zapewnić kontrolkami walidacji.</span><span class="sxs-lookup"><span data-stu-id="80afb-126">Our goal for this tutorial is to augment the DetailsView and GridView to provide validation controls.</span></span> <span data-ttu-id="80afb-127">W szczególności naszych logikę weryfikacji wykonują następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="80afb-127">In particular, our validation logic will:</span></span>

- <span data-ttu-id="80afb-128">Wymaga podania nazwy podczas wstawiania lub edytowania produktu</span><span class="sxs-lookup"><span data-stu-id="80afb-128">Require that the name be provided when inserting or editing a product</span></span>
- <span data-ttu-id="80afb-129">Wymaga podania cena przy wstawianiu rekordu Podczas edytowania rekordu, firma Microsoft nadal będzie wymagać ceny, ale będzie użyć logiki programowej w GridView `RowUpdating` już istnieje z wcześniejszych samouczka program obsługi zdarzeń</span><span class="sxs-lookup"><span data-stu-id="80afb-129">Require that the price be provided when inserting a record; when editing a record, we will still require a price, but will use the programmatic logic in the GridView's `RowUpdating` event handler already present from the earlier tutorial</span></span>
- <span data-ttu-id="80afb-130">Upewnij się, że wartość wprowadzona w cenie formacie waluty prawidłowe</span><span class="sxs-lookup"><span data-stu-id="80afb-130">Ensure that the value entered for the price is a valid currency format</span></span>

<span data-ttu-id="80afb-131">Zanim można przyjrzymy się rozszerzając poprzedniego przykładu, aby uwzględnić sprawdzania poprawności, najpierw trzeba replikować przykładu z `DataModificationEvents.aspx` strony do strony, w tym samouczku `UIValidation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="80afb-131">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `DataModificationEvents.aspx` page to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="80afb-132">W tym potrzebujemy do skopiowania zarówno `DataModificationEvents.aspx` oznaczeniu deklaracyjnym strony i jego kod źródłowy.</span><span class="sxs-lookup"><span data-stu-id="80afb-132">To accomplish this we need to copy over both the `DataModificationEvents.aspx` page's declarative markup and its source code.</span></span> <span data-ttu-id="80afb-133">Najpierw skopiuj oznaczeniu deklaracyjnym, wykonując następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="80afb-133">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="80afb-134">Otwórz `DataModificationEvents.aspx` strony w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="80afb-134">Open the `DataModificationEvents.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="80afb-135">Przejdź do strony oznaczeniu deklaracyjnym (kliknij przycisk źródło w dolnej części strony)</span><span class="sxs-lookup"><span data-stu-id="80afb-135">Go to the page's declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="80afb-136">Kopiuj tekst w obrębie `<asp:Content>` i `</asp:Content>` tagi (linie 3 – 44), jak pokazano na rysunku 2.</span><span class="sxs-lookup"><span data-stu-id="80afb-136">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 44), as shown in Figure 2.</span></span>


[![C<span data-ttu-id="80afb-137">Kopiuj tekst w &lt;asp: Content&gt; kontroli]</span><span class="sxs-lookup"><span data-stu-id="80afb-137">opy the Text Within the &lt;asp:Content&gt; Control]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image4.png)

<span data-ttu-id="80afb-138">**Rysunek 2**: Kopiuj tekst w `<asp:Content>` kontroli ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-138">**Figure 2**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span></span>


1. <span data-ttu-id="80afb-139">Otwórz `UIValidation.aspx` strony</span><span class="sxs-lookup"><span data-stu-id="80afb-139">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="80afb-140">Przejdź do strony oznaczeniu deklaracyjnym</span><span class="sxs-lookup"><span data-stu-id="80afb-140">Go to the page's declarative markup</span></span>
3. <span data-ttu-id="80afb-141">Wklej tekst w obrębie `<asp:Content>` kontroli.</span><span class="sxs-lookup"><span data-stu-id="80afb-141">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="80afb-142">Aby skopiować kod źródłowy, otwórz `DataModificationEvents.aspx.cs` strony i skopiować właśnie tekst *w ramach* `EditInsertDelete_DataModificationEvents` klasy.</span><span class="sxs-lookup"><span data-stu-id="80afb-142">To copy over the source code, open the `DataModificationEvents.aspx.cs` page and copy just the text *within* the `EditInsertDelete_DataModificationEvents` class.</span></span> <span data-ttu-id="80afb-143">Skopiuj obsługi trzech zdarzeń (`Page_Load`, `GridView1_RowUpdating`, i `ObjectDataSource1_Inserting`), jednak **nie** skopiuj deklaracji klasy lub `using` instrukcji.</span><span class="sxs-lookup"><span data-stu-id="80afb-143">Copy the three event handlers (`Page_Load`, `GridView1_RowUpdating`, and `ObjectDataSource1_Inserting`), but do **not** copy the class declaration or `using` statements.</span></span> <span data-ttu-id="80afb-144">Wklej skopiowany tekst *w ramach* `EditInsertDelete_UIValidation` klasy w `UIValidation.aspx.cs`.</span><span class="sxs-lookup"><span data-stu-id="80afb-144">Paste the copied text *within* the `EditInsertDelete_UIValidation` class in `UIValidation.aspx.cs`.</span></span>

<span data-ttu-id="80afb-145">Po przeniesieniu za pośrednictwem treści i kodu z `DataModificationEvents.aspx` do `UIValidation.aspx`, Poświęć chwilę, w celu przetestowania swoje postępy w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="80afb-145">After moving over the content and code from `DataModificationEvents.aspx` to `UIValidation.aspx`, take a moment to test out your progress in a browser.</span></span> <span data-ttu-id="80afb-146">Powinien zostać wyświetlony takie same dane wyjściowe i środowisko funkcji w każdym z tych dwóch stronach (odnoszą się do rysunku 1 dla zrzut ekranu `DataModificationEvents.aspx` w działaniu).</span><span class="sxs-lookup"><span data-stu-id="80afb-146">You should see the same output and experience the same functionality in each of these two pages (refer back to Figure 1 for a screen shot of `DataModificationEvents.aspx` in action).</span></span>

## <a name="step-2-converting-the-boundfields-into-templatefields"></a><span data-ttu-id="80afb-147">Krok 2. Konwertowanie BoundFields do kontrolek TemplateField</span><span class="sxs-lookup"><span data-stu-id="80afb-147">Step 2: Converting the BoundFields Into TemplateFields</span></span>

<span data-ttu-id="80afb-148">Aby dodać kontrolek weryfikacji do interfejsów edycji i wstawianie, BoundFields używany przez formanty DetailsView i GridView muszą zostać przekonwertowane do kontrolek TemplateField.</span><span class="sxs-lookup"><span data-stu-id="80afb-148">To add validation controls to the editing and inserting interfaces, the BoundFields used by the DetailsView and GridView controls need to be converted into TemplateFields.</span></span> <span data-ttu-id="80afb-149">Aby to osiągnąć, kliknij linki Edytuj kolumny i Edytuj pola w kontrolkami GridView i DetailsView tagów inteligentnych, odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="80afb-149">To achieve this, click on the Edit Columns and Edit Fields links in the GridView and DetailsView's smart tags, respectively.</span></span> <span data-ttu-id="80afb-150">Istnieje, zaznacz wszystkie BoundFields, a następnie kliknij link "Konwertuj to pole na TemplateField".</span><span class="sxs-lookup"><span data-stu-id="80afb-150">There, select each of the BoundFields and click the "Convert this field into a TemplateField" link.</span></span>


[![C<span data-ttu-id="80afb-151">Konwertuj każdego DetailsView i GridView BoundFields do kontrolek TemplateField]</span><span class="sxs-lookup"><span data-stu-id="80afb-151">onvert Each of the DetailsView's and GridView's BoundFields Into TemplateFields]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image7.png)

<span data-ttu-id="80afb-152">**Rysunek 3**: Konwertuj każdego DetailsView i GridView BoundFields do kontrolek TemplateField ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-152">**Figure 3**: Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span></span>


<span data-ttu-id="80afb-153">Konwertowanie elementu BoundField na TemplateField za pomocą okna dialogowego pola generuje TemplateField, która wykazuje te same interfejsy, tylko do odczytu, edycji i wstawianie elementu BoundField, sam.</span><span class="sxs-lookup"><span data-stu-id="80afb-153">Converting a BoundField into a TemplateField through the Fields dialog box generates a TemplateField that exhibits the same read-only, editing, and inserting interfaces as the BoundField itself.</span></span> <span data-ttu-id="80afb-154">Następujący kod przedstawia składni deklaratywnej dla `ProductName` pole DetailsView po został przekonwertowany na TemplateField:</span><span class="sxs-lookup"><span data-stu-id="80afb-154">The following markup shows the declarative syntax for the `ProductName` field in the DetailsView after it has been converted into a TemplateField:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample1.aspx)]

<span data-ttu-id="80afb-155">Należy pamiętać, że ta TemplateField miał trzy szablony tworzone automatycznie `ItemTemplate`, `EditItemTemplate`, i `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="80afb-155">Note that this TemplateField had three templates automatically created `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate`.</span></span> <span data-ttu-id="80afb-156">`ItemTemplate` Wyświetla wartość pola danych jednego (`ProductName`) za pomocą formantu sieci Web etykiety, podczas gdy `EditItemTemplate` i `InsertItemTemplate` przedstawiają wartości pola danych w kontrolce TextBox w sieci Web, która kojarzy pola danych za pomocą pole tekstowe `Text` Właściwość przy użyciu dwukierunkowego wiązania danych.</span><span class="sxs-lookup"><span data-stu-id="80afb-156">The `ItemTemplate` displays a single data field value (`ProductName`) using a Label Web control, while the `EditItemTemplate` and `InsertItemTemplate` present the data field value in a TextBox Web control that associates the data field with the TextBox's `Text` property using two-way databinding.</span></span> <span data-ttu-id="80afb-157">Ponieważ tylko używamy DetailsView na tej stronie do wrzucania, możesz usunąć `ItemTemplate` i `EditItemTemplate` z dwóch kontrolek TemplateField, mimo że nie przynosi żadnych szkód w pozostawiania je.</span><span class="sxs-lookup"><span data-stu-id="80afb-157">Since we are only using the DetailsView in this page for inserting, you may remove the `ItemTemplate` and `EditItemTemplate` from the two TemplateFields, although there's no harm in leaving them.</span></span>

<span data-ttu-id="80afb-158">Ponieważ widoku GridView nie obsługuje wbudowanej Wstawianie funkcji DetailsView, konwertowania GridView `ProductName` pole TemplateField powoduje tylko `ItemTemplate` i `EditItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="80afb-158">Since the GridView does not support the built-in inserting features of the DetailsView, converting the GridView's `ProductName` field into a TemplateField results in only an `ItemTemplate` and `EditItemTemplate`:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample2.aspx)]

<span data-ttu-id="80afb-159">Klikając pozycję "Convert to pole do TemplateField", programu Visual Studio został utworzony TemplateField, w których szablonów naśladować interfejs użytkownika elementu przekonwertowanego BoundField.</span><span class="sxs-lookup"><span data-stu-id="80afb-159">By clicking the "Convert this field into a TemplateField," Visual Studio has created a TemplateField whose templates mimic the user interface of the converted BoundField.</span></span> <span data-ttu-id="80afb-160">Można to sprawdzić, przechodząc do tej strony za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="80afb-160">You can verify this by visiting this page through a browser.</span></span> <span data-ttu-id="80afb-161">Przekonasz się, że wygląd i zachowanie kontrolek TemplateField jest taka sama jak środowisko podczas BoundFields były używane zamiast tego.</span><span class="sxs-lookup"><span data-stu-id="80afb-161">You'll find that the appearance and behavior of the TemplateFields is identical to the experience when BoundFields were used instead.</span></span>

> [!NOTE]
> <span data-ttu-id="80afb-162">Możesz dostosować edycji interfejsów w szablonach, zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="80afb-162">Feel free to customize the editing interfaces in the templates as needed.</span></span> <span data-ttu-id="80afb-163">Na przykład warto mieć w polu tekstowym w `UnitPrice` kontrolek TemplateField renderowane jako pole tekstowe z mniejszych niż `ProductName` pola tekstowego.</span><span class="sxs-lookup"><span data-stu-id="80afb-163">For example, we may want to have the TextBox in the `UnitPrice` TemplateFields rendered as a smaller textbox than the `ProductName` textbox.</span></span> <span data-ttu-id="80afb-164">W tym celu można ustawić pole tekstowe `Columns` właściwość do odpowiedniej wartości lub podać bezwzględne szerokość za pośrednictwem `Width` właściwości.</span><span class="sxs-lookup"><span data-stu-id="80afb-164">To accomplish this you can set the TextBox's `Columns` property to an appropriate value or provide an absolute width via the `Width` property.</span></span> <span data-ttu-id="80afb-165">W następnym samouczku zobaczymy całkowicie Dostosowywanie interfejsu edycji, zastępując wprowadzania danych alternatywny kontrolki sieci Web w polu tekstowym.</span><span class="sxs-lookup"><span data-stu-id="80afb-165">In the next tutorial we'll see how to completely customize the editing interface by replacing the TextBox with an alternate data entry Web control.</span></span>


## <a name="step-3-adding-the-validation-controls-to-the-gridviewsedititemtemplate-s"></a><span data-ttu-id="80afb-166">Krok 3. Dodawanie kontrolek weryfikacji do GridView`EditItemTemplate` s</span><span class="sxs-lookup"><span data-stu-id="80afb-166">Step 3: Adding the Validation Controls to the GridView's`EditItemTemplate` s</span></span>

<span data-ttu-id="80afb-167">Podczas tworzenia formularzy wprowadzania danych, ważne jest użytkownikom wprowadzanie wszystkich wymaganych pól oraz czy wszystkie podane dane wejściowe są wartości prawne, niepoprawnie sformatowany.</span><span class="sxs-lookup"><span data-stu-id="80afb-167">When constructing data entry forms, it is important that users enter any required fields and that all provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="80afb-168">Aby upewnić się, że dane wejściowe użytkownika są prawidłowe, ASP.NET zawiera pięć formantów wbudowanych sprawdzania poprawności, które są przeznaczone do użycia w celu sprawdzenia wartości pojedynczej kontrolki wprowadzania:</span><span class="sxs-lookup"><span data-stu-id="80afb-168">To help ensure that a user's inputs are valid, ASP.NET provides five built-in validation controls that are designed to be used to validate the value of a single input control:</span></span>

- <span data-ttu-id="80afb-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) gwarantuje, że podać wartość</span><span class="sxs-lookup"><span data-stu-id="80afb-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="80afb-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) sprawdza poprawność wartości z inną wartością formantu sieci Web lub wartości stałej lub gwarantuje, że format wartości jest dozwolony dla określonego typu danych</span><span class="sxs-lookup"><span data-stu-id="80afb-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value's format is legal for a specified data type</span></span>
- <span data-ttu-id="80afb-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) gwarantuje, że wartość znajduje się w zakresie wartości</span><span class="sxs-lookup"><span data-stu-id="80afb-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="80afb-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) weryfikuje czy wartość [wyrażeń regularnych](http://en.wikipedia.org/wiki/Regular_expression)</span><span class="sxs-lookup"><span data-stu-id="80afb-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="80afb-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) weryfikuje czy wartość niestandardowych, zdefiniowanych przez użytkownika — metoda</span><span class="sxs-lookup"><span data-stu-id="80afb-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="80afb-174">Aby uzyskać więcej informacji na temat tych pięć formantów, zapoznaj się [sekcji kontrolkami walidacji](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) z [samouczki Szybki Start platformy ASP.NET](https://asp.net/QuickStart/aspnet/).</span><span class="sxs-lookup"><span data-stu-id="80afb-174">For more information on these five controls, check out the [Validation Controls section](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://asp.net/QuickStart/aspnet/).</span></span>

<span data-ttu-id="80afb-175">W naszym samouczku musimy użyć RequiredFieldValidator w DetailsView i GridView `ProductName` kontrolek TemplateField i RequiredFieldValidator w DetailsView `UnitPrice` TemplateField.</span><span class="sxs-lookup"><span data-stu-id="80afb-175">For our tutorial we'll need to use a RequiredFieldValidator in both the DetailsView and GridView's `ProductName` TemplateFields and a RequiredFieldValidator in the DetailsView's `UnitPrice` TemplateField.</span></span> <span data-ttu-id="80afb-176">Ponadto należy dodać CompareValidator do obie kontrolki `UnitPrice` kontrolek TemplateField, który gwarantuje, że wprowadzona cena ma wartość większą niż lub równa 0 i są prezentowane w formacie waluty prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="80afb-176">Furthermore, we'll need to add a CompareValidator to both controls' `UnitPrice` TemplateFields that ensures that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="80afb-177">Podczas gdy ASP.NET 1.x miał tych tych samych kontrolek pięć sprawdzania poprawności, ASP.NET 2.0 dodał szereg ulepszeń, głównym, dwa skryptu po stronie klienta jest obsługa przeglądarek innych niż Internet Explorer i możliwość partycji sprawdzania poprawności formantów na stronie do Sprawdzanie poprawności grupy.</span><span class="sxs-lookup"><span data-stu-id="80afb-177">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers other than Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="80afb-178">Aby uzyskać więcej informacji na temat nowych funkcji kontroli sprawdzania poprawności w wersji 2.0, zobacz [analiza formanty sprawdzania poprawności w programie ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="80afb-178">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>


<span data-ttu-id="80afb-179">Zacznijmy od Dodawanie kontrolek weryfikacji niezbędne, aby `EditItemTemplate` s w kontrolek TemplateField w kontrolce GridView.</span><span class="sxs-lookup"><span data-stu-id="80afb-179">Let's start by adding the necessary validation controls to the `EditItemTemplate` s in the GridView's TemplateFields.</span></span> <span data-ttu-id="80afb-180">Aby to zrobić, kliknij link Edytuj szablony z GridView tagu inteligentnego, aby wyświetlić interfejs edytowania szablonu.</span><span class="sxs-lookup"><span data-stu-id="80afb-180">To accomplish this, click on the Edit Templates link from the GridView's smart tag to bring up the template editing interface.</span></span> <span data-ttu-id="80afb-181">W tym miejscu można wybrać szablon, który do edycji z listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="80afb-181">From here, you can select which template to edit from the drop-down list.</span></span> <span data-ttu-id="80afb-182">Ponieważ chcemy rozszerzyć interfejs edytowania, musimy dodać kontrolek weryfikacji do `ProductName` i `UnitPrice`firmy `EditItemTemplate` s.</span><span class="sxs-lookup"><span data-stu-id="80afb-182">Since we want to augment the editing interface, we need to add validation controls to the `ProductName` and `UnitPrice`'s `EditItemTemplate` s.</span></span>


[![W<span data-ttu-id="80afb-183">e należy rozszerzyć właściwościami ProductName i EditItemTemplates firmy UnitPrice]</span><span class="sxs-lookup"><span data-stu-id="80afb-183">e Need to Extend the ProductName and UnitPrice's EditItemTemplates]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image10.png)

<span data-ttu-id="80afb-184">**Rysunek 4**: Musimy Rozszerz `ProductName` i `UnitPrice`firmy `EditItemTemplate` s ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-184">**Figure 4**: We Need to Extend the `ProductName` and `UnitPrice`'s `EditItemTemplate` s ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span></span>


<span data-ttu-id="80afb-185">W `ProductName` `EditItemTemplate`, Dodaj RequiredFieldValidator, przeciągając go z przybornika do interfejsu edycji szablonu, umieszczając za pole tekstowe.</span><span class="sxs-lookup"><span data-stu-id="80afb-185">In the `ProductName` `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing after the TextBox.</span></span>


[![A<span data-ttu-id="80afb-186">dd RequiredFieldValidator do ProductName EditItemTemplate]</span><span class="sxs-lookup"><span data-stu-id="80afb-186">dd a RequiredFieldValidator to the ProductName EditItemTemplate]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image13.png)

<span data-ttu-id="80afb-187">**Rysunek 5**: Dodaj RequiredFieldValidator do `ProductName` `EditItemTemplate` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-187">**Figure 5**: Add a RequiredFieldValidator to the `ProductName` `EditItemTemplate` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span></span>


<span data-ttu-id="80afb-188">Wszystkie formanty sprawdzania poprawności działa, sprawdzając poprawność danych wejściowych z jednego formantu sieci Web platformy ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="80afb-188">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="80afb-189">W związku z tym, należy wskazać, że RequiredFieldValidator właśnie dodaliśmy, należy przeprowadzić walidacji względem pola tekstowego w `EditItemTemplate`; jest to realizowane przez ustawienie formant sprawdzania poprawności [Właściwość ControlToValidate elementu](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) do `ID` właściwej kontroli sieci Web.</span><span class="sxs-lookup"><span data-stu-id="80afb-189">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the TextBox in the `EditItemTemplate`; this is accomplished by setting the validation control's [ControlToValidate property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control.</span></span> <span data-ttu-id="80afb-190">Pole tekstowe ma obecnie zamiast nieopisane `ID` z `TextBox1`, ale możemy zmienić ją na coś bardziej odpowiedniego.</span><span class="sxs-lookup"><span data-stu-id="80afb-190">The TextBox currently has the rather nondescript `ID` of `TextBox1`, but let's change it to something more appropriate.</span></span> <span data-ttu-id="80afb-191">Kliknij w polu tekstowym w szablonie, a następnie w oknie Właściwości zmień `ID` z `TextBox1` do `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="80afb-191">Click on the TextBox in the template and then, from the Properties window, change the `ID` from `TextBox1` to `EditProductName`.</span></span>


[![C<span data-ttu-id="80afb-192">Zmień pole tekstowe identyfikator EditProductName]</span><span class="sxs-lookup"><span data-stu-id="80afb-192">hange the TextBox's ID to EditProductName]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image16.png)

<span data-ttu-id="80afb-193">**Rysunek 6**: Zmień pole tekstowe `ID` do `EditProductName` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-193">**Figure 6**: Change the TextBox's `ID` to `EditProductName` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span></span>


<span data-ttu-id="80afb-194">Następnym etapem jest skonfigurowanie RequiredFieldValidator `ControlToValidate` właściwość `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="80afb-194">Next, set the RequiredFieldValidator's `ControlToValidate` property to `EditProductName`.</span></span> <span data-ttu-id="80afb-195">Wreszcie, ustaw [komunikat o błędzie właściwości](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) do "Należy podać nazwę produktu" i [właściwości Text](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) do "\*".</span><span class="sxs-lookup"><span data-stu-id="80afb-195">Finally, set the [ErrorMessage property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to "You must provide the product's name" and the [Text property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to "\*".</span></span> <span data-ttu-id="80afb-196">`Text` Wartość właściwości podana, czy tekst, który jest wyświetlany przez kontrolkę sprawdzania poprawności w przypadku niepowodzenia weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="80afb-196">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="80afb-197">`ErrorMessage` Wartości właściwości, która jest wymagana, jest używana przez kontrolki podsumowania walidacji; Jeśli `Text` wartość właściwości jest pominięty, `ErrorMessage` wartość właściwości jest również tekstu wyświetlanego przez formant sprawdzania poprawności na nieprawidłowe dane wejściowe.</span><span class="sxs-lookup"><span data-stu-id="80afb-197">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is also the text displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="80afb-198">Po ustawieniu tych trzech właściwości RequiredFieldValidator, ekran powinien wyglądać podobnie jak rysunek 7.</span><span class="sxs-lookup"><span data-stu-id="80afb-198">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 7.</span></span>


[![S<span data-ttu-id="80afb-199">te właściwości tekstu, komunikat o błędzie i elementu ControlToValidate RequiredFieldValidator]</span><span class="sxs-lookup"><span data-stu-id="80afb-199">et the RequiredFieldValidator's ControlToValidate, ErrorMessage, and Text Properties]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image19.png)

<span data-ttu-id="80afb-200">**Rysunek 7**: Ustaw RequiredFieldValidator `ControlToValidate`, `ErrorMessage`, i `Text` właściwości ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-200">**Figure 7**: Set the RequiredFieldValidator's `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span></span>


<span data-ttu-id="80afb-201">Za pomocą RequiredFieldValidator dodane do `ProductName` `EditItemTemplate`, wszystkie, że pozostaje tylko niezbędne sprawdzania poprawności, aby dodać `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="80afb-201">With the RequiredFieldValidator added to the `ProductName` `EditItemTemplate`, all that remains is to add the necessary validation to the `UnitPrice` `EditItemTemplate`.</span></span> <span data-ttu-id="80afb-202">Ponieważ firma Microsoft decydujesz, dla tej strony `UnitPrice` jest opcjonalne, jeśli edytowania rekordu, nie musimy dodać RequiredFieldValidator.</span><span class="sxs-lookup"><span data-stu-id="80afb-202">Since we've decided that, for this page, the `UnitPrice` is optional when editing a record, we don't need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="80afb-203">Jednak zrobić należy dodać CompareValidator, aby upewnić się, że `UnitPrice`, jeśli zostanie podany, jest poprawnie sformatowany jako walutę i jest większa lub równa 0.</span><span class="sxs-lookup"><span data-stu-id="80afb-203">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="80afb-204">Zanim dodamy CompareValidator do `UnitPrice` `EditItemTemplate`, zmienimy najpierw identyfikator formantu sieci Web w polu tekstowym z `TextBox2` do `EditUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="80afb-204">Before we add the CompareValidator to the `UnitPrice` `EditItemTemplate`, let's first change the TextBox Web control's ID from `TextBox2` to `EditUnitPrice`.</span></span> <span data-ttu-id="80afb-205">Po wprowadzeniu tej zmiany należy dodać CompareValidator, ustawiając jego `ControlToValidate` właściwości `EditUnitPrice`, jego `ErrorMessage` właściwość "cena musi być większa lub równa zero i nie może zawierać symbolu waluty" i jego `Text` właściwości "\*".</span><span class="sxs-lookup"><span data-stu-id="80afb-205">After making this change, add the CompareValidator, setting its `ControlToValidate` property to `EditUnitPrice`, its `ErrorMessage` property to "The price must be greater than or equal to zero and cannot include the currency symbol", and its `Text` property to "\*".</span></span>

<span data-ttu-id="80afb-206">Aby wskazać, że `UnitPrice` wartość musi być większa lub równa 0, ustaw CompareValidator [właściwości Operator](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) do `GreaterThanEqual`, jego [właściwość ValueToCompare](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) "0" i jego [ Właściwość typu](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) do `Currency`.</span><span class="sxs-lookup"><span data-stu-id="80afb-206">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator's [Operator property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [ValueToCompare property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to "0", and its [Type property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span> <span data-ttu-id="80afb-207">Poniższej składni deklaratywnej `UnitPrice` firmy TemplateField `EditItemTemplate` po tych zmian:</span><span class="sxs-lookup"><span data-stu-id="80afb-207">The following declarative syntax shows the `UnitPrice` TemplateField's `EditItemTemplate` after these changes have been made:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample3.aspx)]

<span data-ttu-id="80afb-208">Po wprowadzeniu tych zmian, otwórz stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="80afb-208">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="80afb-209">Jeśli użytkownik spróbuje pominąć nazwę lub wprowadź wartość Nieprawidłowa cena podczas edytowania produktu, gwiazdkę pojawia się obok pola tekstowego.</span><span class="sxs-lookup"><span data-stu-id="80afb-209">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="80afb-210">Jak pokazano na rysunku 8, która zawiera symbol waluty, takich jak cenie od 19,95 USD wartość cena jest uznawane za nieprawidłowe.</span><span class="sxs-lookup"><span data-stu-id="80afb-210">As Figure 8 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="80afb-211">CompareValidator `Currency` `Type` umożliwia separatory cyfr (na przykład kropki, w zależności od ustawień kultury i przecinki) i wiodący znak plus lub minus, ale *nie* zezwala na symbol waluty.</span><span class="sxs-lookup"><span data-stu-id="80afb-211">The CompareValidator's `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="80afb-212">To zachowanie może perplex użytkowników interfejsu edycji obecnie renderowanie `UnitPrice` przy użyciu formatu waluty.</span><span class="sxs-lookup"><span data-stu-id="80afb-212">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="80afb-213">Pamiętaj, że w *wydarzeń związanych z Wstawianie, aktualizowanie i usuwanie* samouczku ustawimy elementu BoundField `DataFormatString` właściwość `{0:c}` Aby sformatować je jako walutę.</span><span class="sxs-lookup"><span data-stu-id="80afb-213">Recall that in the *Events Associated with Inserting, Updating, and Deleting* tutorial we set the BoundField's `DataFormatString` property to `{0:c}` in order to format it as a currency.</span></span> <span data-ttu-id="80afb-214">Ponadto możemy ustawić `ApplyFormatInEditMode` właściwości na wartość true, powodując widoku GridView przez edytowanie interfejsu do sformatowania `UnitPrice` jako walutę.</span><span class="sxs-lookup"><span data-stu-id="80afb-214">Furthermore, we set the `ApplyFormatInEditMode` property to true, causing the GridView's editing interface to format the `UnitPrice` as a currency.</span></span> <span data-ttu-id="80afb-215">Podczas konwertowania elementu BoundField na TemplateField w Visual Studio wymienionych te ustawienia i sformatowane pole tekstowe `Text` właściwość jako walutę przy użyciu składni wiązania danych `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="80afb-215">When converting the BoundField into a TemplateField, Visual Studio noted these settings and formatted the TextBox's `Text` property as a currency using the databinding syntax `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span>


[![A<span data-ttu-id="80afb-216">Gwiazdka n pojawia się obok pola tekstowe z nieprawidłowe dane wejściowe]</span><span class="sxs-lookup"><span data-stu-id="80afb-216">n Asterisk Appears Next to the Textboxes with Invalid Input]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image22.png)

<span data-ttu-id="80afb-217">**Rysunek 8**: Gwiazdka pojawia się obok pola tekstowe z nieprawidłowe dane wejściowe ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-217">**Figure 8**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span></span>


<span data-ttu-id="80afb-218">Podczas sprawdzania poprawności działania — jest, użytkownik będzie musiał ręcznie usunąć symbol waluty, podczas edytowania rekordu, który nie jest dopuszczalna.</span><span class="sxs-lookup"><span data-stu-id="80afb-218">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="80afb-219">Aby rozwiązać ten problem, mamy trzy opcje:</span><span class="sxs-lookup"><span data-stu-id="80afb-219">To remedy this, we have three options:</span></span>

1. <span data-ttu-id="80afb-220">Konfigurowanie `EditItemTemplate` tak, aby `UnitPrice` wartość nie jest sformatowany jako walutę.</span><span class="sxs-lookup"><span data-stu-id="80afb-220">Configure the `EditItemTemplate` so that the `UnitPrice` value is not formatted as a currency.</span></span>
2. <span data-ttu-id="80afb-221">Zezwalaj użytkownikowi wprowadzanie symbolu waluty, usuwając CompareValidator i zamianę RegularExpressionValidator, który prawidłowo sprawdza, czy wartość waluty poprawnie sformatowane.</span><span class="sxs-lookup"><span data-stu-id="80afb-221">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that properly checks for a properly formatted currency value.</span></span> <span data-ttu-id="80afb-222">Ten problem, w tym miejscu jest wyrażenie regularne, aby sprawdzić wartość waluty nie jest łatwa i wymagałoby pisanie kodu, jeśli chcemy dołączyć ustawienia kultury.</span><span class="sxs-lookup"><span data-stu-id="80afb-222">The problem here is that the regular expression to validate a currency value is not pretty and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="80afb-223">Całkowicie usunąć formant sprawdzania poprawności i zależą od logiki weryfikacji po stronie serwera w GridView `RowUpdating` programu obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="80afb-223">Remove the validation control altogether and rely on server-side validation logic in the GridView's `RowUpdating` event handler.</span></span>

<span data-ttu-id="80afb-224">Użyjmy opcja #1 na potrzeby tego ćwiczenia.</span><span class="sxs-lookup"><span data-stu-id="80afb-224">Let's go with option #1 for this exercise.</span></span> <span data-ttu-id="80afb-225">Obecnie `UnitPrice` są sformatowane jako walutę z powodu wyrażenia wiązania danych dla pola tekstowego w `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="80afb-225">Currently the `UnitPrice` is formatted as a currency due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="80afb-226">Zmień instrukcję powiązania `Bind("UnitPrice", "{0:n2}")`, która formatuje wynik jako liczbę z dwoma cyframi precyzji.</span><span class="sxs-lookup"><span data-stu-id="80afb-226">Change the Bind statement to `Bind("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="80afb-227">Można to zrobić bezpośrednio za pomocą składni deklaratywnej lub klikając łącze edycji powiązania danych z `EditUnitPrice` polu tekstowym w `UnitPrice` firmy TemplateField `EditItemTemplate` (patrz rysunki 9 i 10).</span><span class="sxs-lookup"><span data-stu-id="80afb-227">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `EditUnitPrice` TextBox in the `UnitPrice` TemplateField's `EditItemTemplate` (see Figures 9 and 10).</span></span>


[![C<span data-ttu-id="80afb-228">Kliknij pozycję Link Edytuj powiązania danych pole tekstowe]</span><span class="sxs-lookup"><span data-stu-id="80afb-228">lick on the TextBox's Edit DataBindings link]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image25.png)

<span data-ttu-id="80afb-229">**Rysunek 9**: Kliknij link Edytuj powiązania danych w polu tekstowym ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-229">**Figure 9**: Click on the TextBox's Edit DataBindings link ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span></span>


[![S<span data-ttu-id="80afb-230">Określ specyfikatora formatu w instrukcji powiązać]</span><span class="sxs-lookup"><span data-stu-id="80afb-230">pecify the Format Specifier in the Bind Statement]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image28.png)

<span data-ttu-id="80afb-231">**Na rysunku nr 10**: Określ specyfikatora formatu w `Bind` — instrukcja ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-231">**Figure 10**: Specify the Format Specifier in the `Bind` Statement ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span></span>


<span data-ttu-id="80afb-232">Dzięki tej zmianie sformatowane ceny w interfejsie edycji zawiera przecinki jako separator grup i kropki jako separatora dziesiętnego, ale pozostawia off symbol waluty.</span><span class="sxs-lookup"><span data-stu-id="80afb-232">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="80afb-233">`UnitPrice` `EditItemTemplate` Nie obejmuje RequiredFieldValidator, umożliwiając odświeżenie strony, aby zaktualizować logikę w celu rozpoczęcia.</span><span class="sxs-lookup"><span data-stu-id="80afb-233">The `UnitPrice` `EditItemTemplate` doesn't include a RequiredFieldValidator, allowing the postback to ensue and the updating logic to commence.</span></span> <span data-ttu-id="80afb-234">Jednak `RowUpdating` skopiowanych z programu obsługi zdarzeń *badanie zdarzeń skojarzonych z Wstawianie, aktualizowanie i usuwanie* samouczek obejmuje programowe Sprawdź, czy masz pewność, że `UnitPrice` podano.</span><span class="sxs-lookup"><span data-stu-id="80afb-234">However, the `RowUpdating` event handler copied over from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial includes a programmatic check that ensures that the `UnitPrice` is provided.</span></span> <span data-ttu-id="80afb-235">Możesz usunąć tę logikę, należy pozostawić ją jako — jest lub dodać RequiredFieldValidator do `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="80afb-235">Feel free to remove this logic, leave it in as-is, or add a RequiredFieldValidator to the `UnitPrice` `EditItemTemplate`.</span></span>


## <a name="step-4-summarizing-data-entry-problems"></a><span data-ttu-id="80afb-236">Krok 4. Podsumowanie problemów zapis danych</span><span class="sxs-lookup"><span data-stu-id="80afb-236">Step 4: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="80afb-237">Oprócz pięciu sprawdzania poprawności formantów, program ASP.NET zawiera [kontrolki podsumowania walidacji](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), który wyświetla `ErrorMessage` s te mechanizmy sprawdzania poprawności wykryto nieprawidłowe dane.</span><span class="sxs-lookup"><span data-stu-id="80afb-237">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="80afb-238">Te dane podsumowania mogą być wyświetlane w postaci tekstu na stronie sieci web lub za pośrednictwem messagebox modalne, po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="80afb-238">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="80afb-239">Umożliwia zwiększenie tego samouczka, aby uwzględnić messagebox po stronie klienta, podsumowanie problemów weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="80afb-239">Let's enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="80afb-240">Aby to zrobić, przeciągnij kontrolki podsumowania walidacji z przybornika do projektanta.</span><span class="sxs-lookup"><span data-stu-id="80afb-240">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="80afb-241">Położenie formantu sprawdzania poprawności nie ma znaczenia, ponieważ będziemy skonfigurować tak, aby tylko wyświetlić podsumowanie jako komunikat messagebox.</span><span class="sxs-lookup"><span data-stu-id="80afb-241">The location of the Validation control doesn't really matter, since we're going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="80afb-242">Po dodaniu kontrolki, ustaw jego [właściwość ShowSummary](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) do `false` i jego [właściwość ShowMessageBox](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) do `true`.</span><span class="sxs-lookup"><span data-stu-id="80afb-242">After adding the control, set its [ShowSummary property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `false` and its [ShowMessageBox property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `true`.</span></span> <span data-ttu-id="80afb-243">Dodając ten wszelkie błędy sprawdzania poprawności są podsumowane w messagebox po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="80afb-243">With this addition, any validation errors are summarized in a client-side messagebox.</span></span>


[![T<span data-ttu-id="80afb-244">Błędy sprawdzania poprawności HE są podsumowane w Messagebox po stronie klienta]</span><span class="sxs-lookup"><span data-stu-id="80afb-244">he Validation Errors are Summarized in a Client-Side Messagebox]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image31.png)

<span data-ttu-id="80afb-245">**Rysunek 11**: Błędy sprawdzania poprawności są podsumowane w Messagebox po stronie klienta ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-245">**Figure 11**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span></span>


## <a name="step-5-adding-the-validation-controls-to-the-detailsviewsinsertitemtemplate"></a><span data-ttu-id="80afb-246">Krok 5. Dodawanie kontrolek weryfikacji do DetailsView`InsertItemTemplate`</span><span class="sxs-lookup"><span data-stu-id="80afb-246">Step 5: Adding the Validation Controls to the DetailsView's`InsertItemTemplate`</span></span>

<span data-ttu-id="80afb-247">W tym samouczku pozostaje na dodawanie kontrolek weryfikacji do interfejsu Wstawianie DetailsView.</span><span class="sxs-lookup"><span data-stu-id="80afb-247">All that remains for this tutorial is to add the validation controls to the DetailsView's inserting interface.</span></span> <span data-ttu-id="80afb-248">Dodawanie kontrolek weryfikacji do szablonów DetailsView proces jest identyczna jak sprawdzane w kroku 3; w związku z tym firma Microsoft będzie breeze za pośrednictwem zadań w tym kroku.</span><span class="sxs-lookup"><span data-stu-id="80afb-248">The process of adding validation controls to the DetailsView's templates is identical to that examined in Step 3; therefore, we'll breeze through the task in this step.</span></span> <span data-ttu-id="80afb-249">Ile My mieliśmy przy użyciu GridView `EditItemTemplate` s, zachęcam Cię do zmiany nazwy `ID` s pola tekstowe z nieopisane `TextBox1` i `TextBox2` do `InsertProductName` i `InsertUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="80afb-249">As we did with the GridView's `EditItemTemplate` s, I encourage you to rename the `ID` s of the TextBoxes from the nondescript `TextBox1` and `TextBox2` to `InsertProductName` and `InsertUnitPrice`.</span></span>

<span data-ttu-id="80afb-250">Dodaj RequiredFieldValidator do `ProductName` `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="80afb-250">Add a RequiredFieldValidator to the `ProductName` `InsertItemTemplate`.</span></span> <span data-ttu-id="80afb-251">Ustaw `ControlToValidate` do `ID` pola tekstowego w szablonie, jego `Text` właściwość "\*" i jego `ErrorMessage` właściwość "Należy podać nazwę produktu".</span><span class="sxs-lookup"><span data-stu-id="80afb-251">Set the `ControlToValidate` to the `ID` of the TextBox in the template, its `Text` property to "\*" and its `ErrorMessage` property to "You must provide the product's name".</span></span>

<span data-ttu-id="80afb-252">Ponieważ `UnitPrice` jest wymagany dla tej strony, podczas dodawania nowego rekordu, Dodaj RequiredFieldValidator do `UnitPrice` `InsertItemTemplate`, ustawiając jego `ControlToValidate`, `Text`, i `ErrorMessage` właściwości odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="80afb-252">Since the `UnitPrice` is required for this page when adding a new record, add a RequiredFieldValidator to the `UnitPrice` `InsertItemTemplate`, setting its `ControlToValidate`, `Text`, and `ErrorMessage` properties appropriately.</span></span> <span data-ttu-id="80afb-253">Na koniec należy dodać CompareValidator do `UnitPrice` `InsertItemTemplate` jak również konfigurowanie jej `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, i `ValueToCompare` właściwości tak samo, jak postępowanie z `UnitPrice`firmy CompareValidator w GridView `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="80afb-253">Finally, add a CompareValidator to the `UnitPrice` `InsertItemTemplate` as well, configuring its `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, and `ValueToCompare` properties just like we did with the `UnitPrice`'s CompareValidator in the GridView's `EditItemTemplate`.</span></span>

<span data-ttu-id="80afb-254">Po dodaniu tych kontrolek walidacji, nowy produkt nie dodawane do systemu, jeśli nie podano nazwy lub jej miesięczna cena jest liczbą ujemną lub nielegalny sformatowany.</span><span class="sxs-lookup"><span data-stu-id="80afb-254">After adding these validation controls, a new product cannot be added to the system if its name is not supplied or if its price is a negative number or illegally formatted.</span></span>


[![V<span data-ttu-id="80afb-255">alidation logiki został dodany do interfejsu Wstawianie DetailsView]</span><span class="sxs-lookup"><span data-stu-id="80afb-255">alidation Logic has been Added to the DetailsView's Inserting Interface]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image34.png)

<span data-ttu-id="80afb-256">**Rysunek 12**: Dodano logikę walidacji interfejsu Wstawianie DetailsView ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-256">**Figure 12**: Validation Logic has been Added to the DetailsView's Inserting Interface ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span></span>


## <a name="step-6-partitioning-the-validation-controls-into-validation-groups"></a><span data-ttu-id="80afb-257">Krok 6. Partycjonowanie kontrolek weryfikacji do sprawdzania poprawności grupy</span><span class="sxs-lookup"><span data-stu-id="80afb-257">Step 6: Partitioning the Validation Controls Into Validation Groups</span></span>

<span data-ttu-id="80afb-258">Naszą stronę składa się z dwóch zestawów logicznie różnych kontrolek weryfikacji: te, które odnoszą się do widoku GridView przez edytowanie interfejsu i te, które odpowiadają DetailsView użytkownika wstawiania interfejsu.</span><span class="sxs-lookup"><span data-stu-id="80afb-258">Our page consists of two logically disparate sets of validation controls: those that correspond to the GridView's editing interface and those that correspond to the DetailsView's inserting interface.</span></span> <span data-ttu-id="80afb-259">Domyślnie, gdy wystąpi ogłaszania zwrotnego *wszystkich* sprawdzania poprawności formantów na stronie są sprawdzane.</span><span class="sxs-lookup"><span data-stu-id="80afb-259">By default, when a postback occurs *all* validation controls on the page are checked.</span></span> <span data-ttu-id="80afb-260">Jednak podczas edytowania rekordu nie chcemy DetailsView interfejsu Wstawianie kontrolek weryfikacji do sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="80afb-260">However, when editing a record we don't want the DetailsView's inserting interface's validation controls to validate.</span></span> <span data-ttu-id="80afb-261">Rysunek 13 przedstawiono nasze bieżące dilemma po użytkownik edytuje produktu przy użyciu wartości doskonale prawne, klikając aktualizacja powoduje błąd sprawdzania poprawności, ponieważ wartości nazwy i ceny, wstawianie interfejsu są puste.</span><span class="sxs-lookup"><span data-stu-id="80afb-261">Figure 13 illustrates our current dilemma when a user is editing a product with perfectly legal values, clicking Update causes a validation error because the name and price values in the inserting interface are blank.</span></span>


[![U<span data-ttu-id="80afb-262">ualizacja produktu powoduje, że interfejs Wstawianie kontrolek weryfikacji do uruchomienia]</span><span class="sxs-lookup"><span data-stu-id="80afb-262">pdating a Product Causes the Inserting Interface's Validation Controls to Fire]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image37.png)

<span data-ttu-id="80afb-263">**Rysunek 13**: Aktualizowanie produktu powoduje, że interfejs Wstawianie kontrolek weryfikacji do uruchomienia ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-263">**Figure 13**: Updating a Product Causes the Inserting Interface's Validation Controls to Fire ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span></span>


<span data-ttu-id="80afb-264">Formanty sprawdzania poprawności w programie ASP.NET 2.0 można podzielić na partycje do sprawdzania poprawności grupy za pomocą ich `ValidationGroup` właściwości.</span><span class="sxs-lookup"><span data-stu-id="80afb-264">The validation controls in ASP.NET 2.0 can be partitioned into validation groups through their `ValidationGroup` property.</span></span> <span data-ttu-id="80afb-265">Aby skojarzyć zestaw kontrolek weryfikacji do grupy, wystarczy ustawić ich `ValidationGroup` właściwość taką samą wartość.</span><span class="sxs-lookup"><span data-stu-id="80afb-265">To associate a set of validation controls in a group, simply set their `ValidationGroup` property to the same value.</span></span> <span data-ttu-id="80afb-266">W naszym samouczku ustaw `ValidationGroup` właściwości kontrolki GridView kontrolek TemplateField w celu z weryfikacji `EditValidationControls` i `ValidationGroup` właściwości DetailsView kontrolek TemplateField w celu `InsertValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="80afb-266">For our tutorial, set the `ValidationGroup` properties of the validation controls in the GridView's TemplateFields to `EditValidationControls` and the `ValidationGroup` properties of the DetailsView's TemplateFields to `InsertValidationControls`.</span></span> <span data-ttu-id="80afb-267">Te zmiany może odbywać się bezpośrednio w oznaczeniu deklaracyjnym lub w oknie właściwości, korzystając z projektanta Edytuj szablon interfejsu.</span><span class="sxs-lookup"><span data-stu-id="80afb-267">These changes can be done directly in the declarative markup or through the Properties window when using the Designer's edit template interface.</span></span>

<span data-ttu-id="80afb-268">Oprócz sprawdzania poprawności formantów, przycisk i formanty przycisku w programie ASP.NET 2.0 również obejmować `ValidationGroup` właściwości.</span><span class="sxs-lookup"><span data-stu-id="80afb-268">In addition to the validation controls, the Button and Button-related controls in ASP.NET 2.0 also include a `ValidationGroup` property.</span></span> <span data-ttu-id="80afb-269">Grupy sprawdzania poprawności modułów sprawdzania poprawności są sprawdzane ważności tylko, gdy ogłaszania zwrotnego wywołane przez przycisk, który ma taką samą `ValidationGroup` ustawienie właściwości.</span><span class="sxs-lookup"><span data-stu-id="80afb-269">A validation group's validators are checked for validity only when a postback is induced by a Button that has the same `ValidationGroup` property setting.</span></span> <span data-ttu-id="80afb-270">Na przykład, w kolejności DetailsView przycisk Wstaw wyzwolić `InsertValidationControls` grupy sprawdzania poprawności, musimy CommandField `ValidationGroup` właściwość `InsertValidationControls` (zobacz rysunek 14).</span><span class="sxs-lookup"><span data-stu-id="80afb-270">For example, in order for the DetailsView's Insert button to trigger the `InsertValidationControls` validation group we need to set the CommandField's `ValidationGroup` property to `InsertValidationControls` (see Figure 14).</span></span> <span data-ttu-id="80afb-271">Ponadto, ustawić GridView firmy CommandField `ValidationGroup` właściwość `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="80afb-271">Additionally, set the GridView's CommandField's `ValidationGroup` property to `EditValidationControls`.</span></span>


[![S<span data-ttu-id="80afb-272">et DetailsView właściwość ValidationGroup firmy CommandField InsertValidationControls]</span><span class="sxs-lookup"><span data-stu-id="80afb-272">et the DetailsView's CommandField's ValidationGroup property to InsertValidationControls]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image40.png)

<span data-ttu-id="80afb-273">**Rysunek 14**: Ustaw DetailsView firmy CommandField `ValidationGroup` właściwości `InsertValidationControls` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="80afb-273">**Figure 14**: Set the DetailsView's CommandField's `ValidationGroup` property to `InsertValidationControls` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span></span>


<span data-ttu-id="80afb-274">Po wprowadzeniu tych zmian DetailsView GridView kontrolek TemplateField i CommandFields powinien wyglądać podobnie do następującego:</span><span class="sxs-lookup"><span data-stu-id="80afb-274">After these changes, the DetailsView and GridView's TemplateFields and CommandFields should look similar to the following:</span></span>

<span data-ttu-id="80afb-275">Kontrolek TemplateField i CommandField DetailsView</span><span class="sxs-lookup"><span data-stu-id="80afb-275">The DetailsView's TemplateFields and CommandField</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample4.aspx)]

<span data-ttu-id="80afb-276">CommandField i kontrolek TemplateField w widoku GridView</span><span class="sxs-lookup"><span data-stu-id="80afb-276">The GridView's CommandField and TemplateFields</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample5.aspx)]

<span data-ttu-id="80afb-277">W tym momencie formanty sprawdzania poprawności specyficznych dla edycji ognia tylko po kliknięciu przycisku aktualizacji GridView i fire formanty sprawdzania poprawności specyficznych dla insert tylko wtedy, gdy kliknięto przycisk Wstaw DetailsView rozwiązywania problemu wyróżniony przez rysunek 13.</span><span class="sxs-lookup"><span data-stu-id="80afb-277">At this point the edit-specific validation controls fire only when the GridView's Update button is clicked and the insert-specific validation controls fire only when the DetailsView's Insert button is clicked, resolving the problem highlighted by Figure 13.</span></span> <span data-ttu-id="80afb-278">Jednak dzięki tej zmianie naszych kontrolki podsumowania walidacji nie jest już wyświetlany podczas wprowadzania nieprawidłowe dane.</span><span class="sxs-lookup"><span data-stu-id="80afb-278">However, with this change our ValidationSummary control no longer displays when entering invalid data.</span></span> <span data-ttu-id="80afb-279">Zawiera także kontrolki podsumowania walidacji `ValidationGroup` właściwość i tylko pokazuje informacje podsumowujące dla tych kontrolek walidacji w jego grupie sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="80afb-279">The ValidationSummary control also contains a `ValidationGroup` property and only shows summary information for those validation controls in its validation group.</span></span> <span data-ttu-id="80afb-280">Dlatego musimy mieć dwóch kontrolek walidacji na tej stronie, jeden dla `InsertValidationControls` sprawdzania poprawności grupy, a drugi dla `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="80afb-280">Therefore, we need to have two validation controls in this page, one for the `InsertValidationControls` validation group and one for `EditValidationControls`.</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample6.aspx)]

<span data-ttu-id="80afb-281">W przypadku to dodawanie Nasz samouczek dotyczący jest pełny.</span><span class="sxs-lookup"><span data-stu-id="80afb-281">With this addition our tutorial is complete!</span></span>

## <a name="summary"></a><span data-ttu-id="80afb-282">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="80afb-282">Summary</span></span>

<span data-ttu-id="80afb-283">Gdy BoundFields zapewniają zarówno interfejs Wstawianie i edycji, interfejs nie jest możliwe do dostosowania.</span><span class="sxs-lookup"><span data-stu-id="80afb-283">While BoundFields can provide both an inserting and editing interface, the interface is not customizable.</span></span> <span data-ttu-id="80afb-284">Często chcemy Dodawanie kontrolek weryfikacji do edycji i wstawiania interfejsu, aby upewnić się, że użytkownik musi wprowadzić wymagane dane wejściowe w formacie prawnych.</span><span class="sxs-lookup"><span data-stu-id="80afb-284">Commonly, we want to add validation controls to the editing and inserting interface to ensure that the user enters required inputs in a legal format.</span></span> <span data-ttu-id="80afb-285">W tym celu możemy przekonwertować BoundFields kontrolek TemplateField i dodawanie kontrolek weryfikacji do odpowiednie szablony.</span><span class="sxs-lookup"><span data-stu-id="80afb-285">To accomplish this we must convert the BoundFields into TemplateFields and add the validation controls to the appropriate template(s).</span></span> <span data-ttu-id="80afb-286">W tym samouczku będziemy rozszerzone przykładu z *badanie zdarzeń skojarzonych z Wstawianie, aktualizowanie i usuwanie* samouczek, dodawanie kontrolek weryfikacji do obu DetailsView przez wstawianie interfejsu i w widoku GridView Edytowanie interfejsu.</span><span class="sxs-lookup"><span data-stu-id="80afb-286">In this tutorial we extended the example from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial, adding validation controls to both the DetailsView's inserting interface and the GridView's editing interface.</span></span> <span data-ttu-id="80afb-287">Ponadto widzieliśmy sposób wyświetlania informacji podsumowania weryfikacji za pomocą kontrolki podsumowania walidacji i sposobie partycjonowania formanty sprawdzania poprawności na stronie w odrębnych sprawdzania poprawności grupy.</span><span class="sxs-lookup"><span data-stu-id="80afb-287">Moreover, we saw how to display summary validation information using the ValidationSummary control and how to partition the validation controls on the page into distinct validation groups.</span></span>

<span data-ttu-id="80afb-288">Jak widzieliśmy w tym samouczku kontrolek TemplateField umożliwiają interfejsów edycji i wstawianie uzupełnić obliczonymi obejmujący kontrolkami walidacji.</span><span class="sxs-lookup"><span data-stu-id="80afb-288">As we saw in this tutorial, TemplateFields allow the editing and inserting interfaces to be augmented to include validation controls.</span></span> <span data-ttu-id="80afb-289">Kontrolek TemplateField można również rozszerzać uwzględnienie dodatkowych danych wejściowych kontrolki sieci Web, umożliwiając pole tekstowe, które mają zostać zastąpione przez bardziej odpowiedni formant sieci Web.</span><span class="sxs-lookup"><span data-stu-id="80afb-289">TemplateFields can also be extended to include additional input Web controls, enabling the TextBox to be replaced by a more suitable Web control.</span></span> <span data-ttu-id="80afb-290">W naszym samouczku dalej zobaczymy, jak zastąpić formant pola tekstowego przy użyciu kontrolki DropDownList powiązanych z danymi, co jest idealnym rozwiązaniem podczas edytowania klucz obcy (takie jak `CategoryID` lub `SupplierID` w `Products` tabeli).</span><span class="sxs-lookup"><span data-stu-id="80afb-290">In our next tutorial we'll see how to replace the TextBox control with a data-bound DropDownList control, which is ideal when editing a foreign key (such as `CategoryID` or `SupplierID` in the `Products` table).</span></span>

<span data-ttu-id="80afb-291">Wszystkiego najlepszego programowania!</span><span class="sxs-lookup"><span data-stu-id="80afb-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="80afb-292">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="80afb-292">About the Author</span></span>

<span data-ttu-id="80afb-293">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor siedem ASP/ASP.NET książek i założycielem [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracował nad przy użyciu technologii Microsoft Web od 1998 r.</span><span class="sxs-lookup"><span data-stu-id="80afb-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="80afb-294">Scott działa jako niezależny Konsultant, trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="80afb-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="80afb-295">Jego najnowszą książkę Stephena [ *Sams uczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="80afb-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="80afb-296">ADAM można z Tobą skontaktować w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="80afb-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="80afb-297">lub za pośrednictwem jego blogu, który znajduje się w temacie [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="80afb-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="80afb-298">Specjalne podziękowania dla</span><span class="sxs-lookup"><span data-stu-id="80afb-298">Special Thanks To</span></span>

<span data-ttu-id="80afb-299">W tej serii samouczków został zrecenzowany przez wielu recenzentów pomocne.</span><span class="sxs-lookup"><span data-stu-id="80afb-299">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="80afb-300">Wiodące osób dokonujących przeglądu, w tym samouczku zostały Liz Shulok i Nowak Zack.</span><span class="sxs-lookup"><span data-stu-id="80afb-300">Lead reviewers for this tutorial were Liz Shulok and Zack Jones.</span></span> <span data-ttu-id="80afb-301">Zainteresowani zapoznaniem Moje kolejnych artykułów MSDN?</span><span class="sxs-lookup"><span data-stu-id="80afb-301">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="80afb-302">Jeśli tak, Porzuć mnie linii w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="80afb-302">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="80afb-303">[Poprzednie](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
> [dalej](customizing-the-data-modification-interface-cs.md)</span><span class="sxs-lookup"><span data-stu-id="80afb-303">[Previous](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
[Next](customizing-the-data-modification-interface-cs.md)</span></span>
