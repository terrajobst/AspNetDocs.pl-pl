---
uid: web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb
title: Wzorzec/Szczegóły przy użyciu wybieranego wzorca GridView ze szczegółowym kontrolką detailview (VB) | Microsoft Docs
author: rick-anderson
description: Ten samouczek będzie miał widok GridView, którego wiersze zawierają nazwę i cenę każdego produktu wraz z przyciskiem SELECT. Kliknięcie przycisku Wybierz dla elementu particu...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 1d1a7c93-971d-4690-9c5e-dac0e5014a09
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb
msc.type: authoredcontent
ms.openlocfilehash: a953c00acc4c37fd563321477b6b21689d6e686c
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/28/2019
ms.locfileid: "74576444"
---
# <a name="masterdetail-using-a-selectable-master-gridview-with-a-details-detailview-vb"></a><span data-ttu-id="2a105-104">Formularz typu rekord główny/szczegóły korzystający z kontrolki GridView umożliwiającej wybór rekordu głównego z kontrolką DetailView szczegółów (VB)</span><span class="sxs-lookup"><span data-stu-id="2a105-104">Master/Detail Using a Selectable Master GridView with a Details DetailView (VB)</span></span>

<span data-ttu-id="2a105-105">przez [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="2a105-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="2a105-106">[Pobierz przykładową aplikację](https://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_10_VB.exe) lub [Pobierz plik PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/datatutorial10vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="2a105-106">[Download Sample App](https://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_10_VB.exe) or [Download PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/datatutorial10vb1.pdf)</span></span>

> <span data-ttu-id="2a105-107">Ten samouczek będzie miał widok GridView, którego wiersze zawierają nazwę i cenę każdego produktu wraz z przyciskiem SELECT.</span><span class="sxs-lookup"><span data-stu-id="2a105-107">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="2a105-108">Kliknięcie przycisku Wybierz dla określonego produktu spowoduje, że wszystkie szczegółowe informacje będą wyświetlane w kontrolce DetailsView na tej samej stronie.</span><span class="sxs-lookup"><span data-stu-id="2a105-108">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>

## <a name="introduction"></a><span data-ttu-id="2a105-109">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="2a105-109">Introduction</span></span>

<span data-ttu-id="2a105-110">W [poprzednim samouczku](master-detail-filtering-across-two-pages-vb.md) pokazano, jak utworzyć Raport główny/szczegółowy przy użyciu dwóch stron sieci Web: strony sieci Web "Master", z której została wyświetlona lista dostawców. oraz strona sieci Web "Szczegóły", która zawiera te produkty dostarczone przez wybranego dostawcę.</span><span class="sxs-lookup"><span data-stu-id="2a105-110">In the [previous tutorial](master-detail-filtering-across-two-pages-vb.md) we saw how to create a master/detail report using two web pages: a "master" web page, from which we displayed the list of suppliers; and a "details" web page that listed those products provided by the selected supplier.</span></span> <span data-ttu-id="2a105-111">Ten dwustronicowy format raportu może być zagęszczony na jednej stronie.</span><span class="sxs-lookup"><span data-stu-id="2a105-111">This two page report format can be condensed into one page.</span></span> <span data-ttu-id="2a105-112">Ten samouczek będzie miał widok GridView, którego wiersze zawierają nazwę i cenę każdego produktu wraz z przyciskiem SELECT.</span><span class="sxs-lookup"><span data-stu-id="2a105-112">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="2a105-113">Kliknięcie przycisku Wybierz dla określonego produktu spowoduje, że wszystkie szczegółowe informacje będą wyświetlane w kontrolce DetailsView na tej samej stronie.</span><span class="sxs-lookup"><span data-stu-id="2a105-113">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>

<span data-ttu-id="2a105-114">[![kliknij przycisk Wybierz, aby wyświetlić szczegóły produktu](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-114">[![Clicking the Select Button Displays the Product's Details](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image1.png)</span></span>

<span data-ttu-id="2a105-115">**Rysunek 1**. kliknięcie przycisku Wybierz spowoduje wyświetlenie szczegółów produktu ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-115">**Figure 1**: Clicking the Select Button Displays the Product's Details ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image3.png))</span></span>

## <a name="step-1-creating-a-selectable-gridview"></a><span data-ttu-id="2a105-116">Krok 1. Tworzenie widoku GridView do wyboru</span><span class="sxs-lookup"><span data-stu-id="2a105-116">Step 1: Creating a Selectable GridView</span></span>

<span data-ttu-id="2a105-117">Odwołaj ten element w raporcie wzorzec/szczegóły dwustronicowy, który każdy rekord główny zawiera hiperłącze, które po kliknięciu wysłało użytkownika do strony szczegółów, przekazując kliknięty `SupplierID` wartość w ciągu QueryString.</span><span class="sxs-lookup"><span data-stu-id="2a105-117">Recall that in the two-page master/detail report that each master record included a hyperlink that, when clicked, sent the user to the details page passing the clicked row's `SupplierID` value in the querystring.</span></span> <span data-ttu-id="2a105-118">Takie hiperłącze zostało dodane do każdego wiersza GridView przy użyciu HyperLinkField.</span><span class="sxs-lookup"><span data-stu-id="2a105-118">Such a hyperlink was added to each GridView row using a HyperLinkField.</span></span> <span data-ttu-id="2a105-119">W przypadku raportu wzorzec/szczegóły pojedynczej strony będziemy potrzebować przycisku dla każdego wiersza GridView, który po kliknięciu pokazuje szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="2a105-119">For the single page master/details report, we will need a Button for each GridView row that, when clicked, shows the details.</span></span> <span data-ttu-id="2a105-120">Formant GridView można skonfigurować tak, aby zawierał przycisk wyboru dla każdego wiersza, który powoduje odświeżenie i oznacza, że ten wiersz jest [SelectedRowem](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx)GridView.</span><span class="sxs-lookup"><span data-stu-id="2a105-120">The GridView control can be configured to include a Select button for each row that causes a postback and marks that row as the GridView's [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span></span>

<span data-ttu-id="2a105-121">Zacznij od dodania kontrolki GridView do strony `DetailsBySelecting.aspx` w folderze `Filtering`, ustawiając jej Właściwość `ID` na `ProductsGrid`.</span><span class="sxs-lookup"><span data-stu-id="2a105-121">Start by adding a GridView control to the `DetailsBySelecting.aspx` page in the `Filtering` folder, setting its `ID` property to `ProductsGrid`.</span></span> <span data-ttu-id="2a105-122">Następnie Dodaj nowy element ObjectDataSource o nazwie `AllProductsDataSource`, który wywołuje metodę `GetProducts()` klasy `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="2a105-122">Next, add a new ObjectDataSource named `AllProductsDataSource` that invokes the `ProductsBLL` class's `GetProducts()` method.</span></span>

<span data-ttu-id="2a105-123">[![utworzyć elementu ObjectDataSource o nazwie AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-123">[![Create an ObjectDataSource Named AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image4.png)</span></span>

<span data-ttu-id="2a105-124">**Rysunek 2**. Tworzenie elementu ObjectDataSource o nazwie `AllProductsDataSource` ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-124">**Figure 2**: Create an ObjectDataSource Named `AllProductsDataSource` ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image6.png))</span></span>

<span data-ttu-id="2a105-125">[![użyć klasy ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-125">[![Use the ProductsBLL Class](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image7.png)</span></span>

<span data-ttu-id="2a105-126">**Rysunek 3**. Korzystanie z klasy `ProductsBLL` ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-126">**Figure 3**: Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image9.png))</span></span>

<span data-ttu-id="2a105-127">[![skonfigurować element ObjectDataSource do wywoływania metody getProducts ()](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-127">[![Configure the ObjectDataSource to Invoke the GetProducts() Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image10.png)</span></span>

<span data-ttu-id="2a105-128">**Ilustracja 4**. Konfigurowanie elementu ObjectDataSource do wywoływania metody `GetProducts()` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-128">**Figure 4**: Configure the ObjectDataSource to Invoke the `GetProducts()` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image12.png))</span></span>

<span data-ttu-id="2a105-129">Edytuj pola GridView, usuwając wszystkie z nich oprócz `ProductName` i `UnitPrice` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="2a105-129">Edit the GridView's fields removing all but the `ProductName` and `UnitPrice` BoundFields.</span></span> <span data-ttu-id="2a105-130">Ponadto możesz dostosowywać te BoundFields w miarę potrzeby, jak formatowanie `UnitPrice` BoundField jako waluta i zmiana właściwości `HeaderText` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="2a105-130">Also, feel free to customize these BoundFields as needed, such as formatting the `UnitPrice` BoundField as a currency and changing the `HeaderText` properties of the BoundFields.</span></span> <span data-ttu-id="2a105-131">Kroki te można wykonać graficznie, klikając łącze Edytuj kolumny w tagu inteligentnym GridView lub ręcznie konfigurując składnię deklaratywną.</span><span class="sxs-lookup"><span data-stu-id="2a105-131">These steps can be accomplished graphically, by clicking the Edit Columns link from the GridView's smart tag, or by manually configuring the declarative syntax.</span></span>

<span data-ttu-id="2a105-132">[![usunąć wszystkie oprócz ProductName i CenaJednostkowa BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-132">[![Remove All But the ProductName and UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image13.png)</span></span>

<span data-ttu-id="2a105-133">**Rysunek 5**. Usuń wszystkie oprócz `ProductName` i `UnitPrice` BoundFields ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-133">**Figure 5**: Remove All But the `ProductName` and `UnitPrice` BoundFields ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image15.png))</span></span>

<span data-ttu-id="2a105-134">Końcowa wartość znacznika GridView to:</span><span class="sxs-lookup"><span data-stu-id="2a105-134">The final markup for the GridView is:</span></span>

[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample1.aspx)]

<span data-ttu-id="2a105-135">Następnie musimy oznaczyć widok GridView jako zaznaczony, co spowoduje dodanie przycisku wyboru do każdego wiersza.</span><span class="sxs-lookup"><span data-stu-id="2a105-135">Next, we need to mark the GridView as selectable, which will add a Select button to each row.</span></span> <span data-ttu-id="2a105-136">Aby to osiągnąć, po prostu zaznacz pole wyboru Włącz zaznaczenie w tagu inteligentnym GridView.</span><span class="sxs-lookup"><span data-stu-id="2a105-136">To accomplish this, simply check the Enable Selection checkbox in the GridView's smart tag.</span></span>

<span data-ttu-id="2a105-137">[![uczynić wierszy GridView jako zaznaczone](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-137">[![Make the GridView's Rows Selectable](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image16.png)</span></span>

<span data-ttu-id="2a105-138">**Ilustracja 6**. Przekształć wiersze GridView w wybrane ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-138">**Figure 6**: Make the GridView's Rows Selectable ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image18.png))</span></span>

<span data-ttu-id="2a105-139">Zaznaczenie opcji włączania wyboru powoduje dodanie CommandField do `ProductsGrid` GridView z właściwością `ShowSelectButton` ustawioną na wartość true.</span><span class="sxs-lookup"><span data-stu-id="2a105-139">Checking the Enabling Selection option adds a CommandField to the `ProductsGrid` GridView with its `ShowSelectButton` property set to True.</span></span> <span data-ttu-id="2a105-140">Spowoduje to wybranie przycisku wyboru dla każdego wiersza GridView, jak pokazano na rysunku 6.</span><span class="sxs-lookup"><span data-stu-id="2a105-140">This results in a Select button for each row of the GridView, as Figure 6 illustrates.</span></span> <span data-ttu-id="2a105-141">Domyślnie przyciski SELECT są renderowane jako LinkButtons, ale można użyć przycisków lub ImageButtons zamiast właściwości `ButtonType` CommandField.</span><span class="sxs-lookup"><span data-stu-id="2a105-141">By default, the Select buttons are rendered as LinkButtons, but you can use Buttons or ImageButtons instead through the CommandField's `ButtonType` property.</span></span>

[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample2.aspx)]

<span data-ttu-id="2a105-142">Gdy klikniesz przycisk wyboru wiersza GridView, nastąpi odświeżenie, a właściwość `SelectedRow` GridView zostanie zaktualizowana.</span><span class="sxs-lookup"><span data-stu-id="2a105-142">When a GridView row's Select button is clicked a postback ensues and the GridView's `SelectedRow` property is updated.</span></span> <span data-ttu-id="2a105-143">Poza właściwością `SelectedRow` GridView zawiera właściwości [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx)i [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) .</span><span class="sxs-lookup"><span data-stu-id="2a105-143">In addition to the `SelectedRow` property, the GridView provides the [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), and [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) properties.</span></span> <span data-ttu-id="2a105-144">Właściwość `SelectedIndex` zwraca indeks wybranego wiersza, podczas gdy właściwości `SelectedValue` i `SelectedDataKey` zwracają wartości na podstawie [Właściwości DataKeyNames ustawionej](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx)GridView.</span><span class="sxs-lookup"><span data-stu-id="2a105-144">The `SelectedIndex` property returns the index of the selected row, whereas the `SelectedValue` and `SelectedDataKey` properties return values based upon the GridView's [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span></span>

<span data-ttu-id="2a105-145">Właściwość `DataKeyNames` służy do kojarzenia co najmniej jednej wartości pola danych z każdym wierszem i jest często używana do unikatowego identyfikowania informacji z danych źródłowych z każdym wierszem GridView.</span><span class="sxs-lookup"><span data-stu-id="2a105-145">The `DataKeyNames` property is used to associate one or more data field values with each row and is commonly used to attribute uniquely identifying information from the underlying data with each GridView row.</span></span> <span data-ttu-id="2a105-146">Właściwość `SelectedValue` zwraca wartość pierwszego pola danych `DataKeyNames` dla wybranego wiersza, gdzie jako właściwość `SelectedDataKey` zwraca obiekt `DataKey` wybranego wiersza, który zawiera wszystkie wartości dla określonych pól klucza danych dla tego wiersza.</span><span class="sxs-lookup"><span data-stu-id="2a105-146">The `SelectedValue` property returns the value of the first `DataKeyNames` data field for the selected row where as the `SelectedDataKey` property returns the selected row's `DataKey` object, which contains all of the values for the specified data key fields for that row.</span></span>

<span data-ttu-id="2a105-147">Właściwość `DataKeyNames` jest automatycznie ustawiana na pola danych z unikatowymi tożsamościami podczas powiązania źródła danych z elementem GridView, DetailsView lub FormView za pomocą projektanta.</span><span class="sxs-lookup"><span data-stu-id="2a105-147">The `DataKeyNames` property is automatically set to the uniquely-identifying data field(s) when you bind a data source to a GridView, DetailsView, or FormView through the Designer.</span></span> <span data-ttu-id="2a105-148">Mimo że ta właściwość została automatycznie ustawiona dla nas w poprzednich samouczkach, te przykłady byłyby działały bez określonej właściwości `DataKeyNames`.</span><span class="sxs-lookup"><span data-stu-id="2a105-148">While this property has been set for us automatically in the preceding tutorials, the examples would have worked without the `DataKeyNames` property specified.</span></span> <span data-ttu-id="2a105-149">Jednak dla elementu GridView z wybieraniem w tym samouczku, a także dla przyszłych samouczków, w których będziemy sprawdzać Wstawianie, aktualizowanie i usuwanie, właściwość `DataKeyNames` musi być ustawiona poprawnie.</span><span class="sxs-lookup"><span data-stu-id="2a105-149">However, for the selectable GridView in this tutorial, as well as for future tutorials in which we'll be examining inserting, updating, and deleting, the `DataKeyNames` property must be set properly.</span></span> <span data-ttu-id="2a105-150">Poświęć chwilę, aby upewnić się, że właściwość `DataKeyNames` GridView jest ustawiona na `ProductID`.</span><span class="sxs-lookup"><span data-stu-id="2a105-150">Take a moment to ensure that your GridView's `DataKeyNames` property is set to `ProductID`.</span></span>

<span data-ttu-id="2a105-151">Obejrzyjmy nasz postęp w tym zakresie za pomocą przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="2a105-151">Let's view our progress thus far through a browser.</span></span> <span data-ttu-id="2a105-152">Należy pamiętać, że w widoku GridView wyświetlana jest nazwa i cena wszystkich produktów wraz z SELECT element LinkButton.</span><span class="sxs-lookup"><span data-stu-id="2a105-152">Note that the GridView lists the name and price for all of the products along with a Select LinkButton.</span></span> <span data-ttu-id="2a105-153">Kliknięcie przycisku Wybierz spowoduje odświeżenie.</span><span class="sxs-lookup"><span data-stu-id="2a105-153">Clicking the Select button causes a postback.</span></span> <span data-ttu-id="2a105-154">W kroku 2 zobaczymy, jak mieć element DetailsView odpowiada na to ogłaszanie zwrotne, wyświetlając szczegóły wybranego produktu.</span><span class="sxs-lookup"><span data-stu-id="2a105-154">In Step 2 we'll see how to have a DetailsView respond to this postback by displaying the details for the selected product.</span></span>

<span data-ttu-id="2a105-155">[![każdy wiersz produktu zawiera element SELECT element LinkButton](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-155">[![Each Product Row Contains a Select LinkButton](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image19.png)</span></span>

<span data-ttu-id="2a105-156">**Rysunek 7**: każdy wiersz produktu zawiera element LinkButton ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-156">**Figure 7**: Each Product Row Contains a Select LinkButton ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image21.png))</span></span>

## <a name="highlighting-the-selected-row"></a><span data-ttu-id="2a105-157">Wyróżnianie zaznaczonego wiersza</span><span class="sxs-lookup"><span data-stu-id="2a105-157">Highlighting the Selected Row</span></span>

<span data-ttu-id="2a105-158">`ProductsGrid` GridView ma właściwość `SelectedRowStyle`, która może służyć do dyktowania stylu wizualizacji wybranego wiersza.</span><span class="sxs-lookup"><span data-stu-id="2a105-158">The `ProductsGrid` GridView has a `SelectedRowStyle` property that can be used to dictate the visual style for the selected row.</span></span> <span data-ttu-id="2a105-159">Używane prawidłowo, dzięki czemu można poprawić środowisko użytkownika, dokładniej pokazując, który wiersz widoku GridView jest obecnie zaznaczony.</span><span class="sxs-lookup"><span data-stu-id="2a105-159">Used properly, this can improve the user's experience by more clearly showing which row of the GridView is currently selected.</span></span> <span data-ttu-id="2a105-160">Na potrzeby tego samouczka zostanie wyróżniony wybrany wiersz z żółtym tłem.</span><span class="sxs-lookup"><span data-stu-id="2a105-160">For this tutorial, let's have the selected row be highlighted with a yellow background.</span></span>

<span data-ttu-id="2a105-161">Podobnie jak w przypadku naszych wcześniejszych samouczków, warto zadbać o to, aby ustawienia estetyczne były zdefiniowane jako klasy CSS.</span><span class="sxs-lookup"><span data-stu-id="2a105-161">As with our earlier tutorials, let's strive to keep the aesthetic-related settings defined as CSS classes.</span></span> <span data-ttu-id="2a105-162">W związku z tym Utwórz nową klasę CSS w `Styles.css` o nazwie `SelectedRowStyle`.</span><span class="sxs-lookup"><span data-stu-id="2a105-162">Therefore, create a new CSS class in `Styles.css` named `SelectedRowStyle`.</span></span>

[!code-css[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample3.css)]

<span data-ttu-id="2a105-163">Aby zastosować tę klasę CSS do właściwości `SelectedRowStyle` *wszystkich* elementów GridView w naszej serii samouczków, Edytuj skórkę `GridView.skin` w motywie `DataWebControls`, aby uwzględnić ustawienia `SelectedRowStyle`, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="2a105-163">To apply this CSS class to the `SelectedRowStyle` property of *all* GridViews in our tutorial series, edit the `GridView.skin` Skin in the `DataWebControls` Theme to include the `SelectedRowStyle` settings as shown below:</span></span>

[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample4.aspx)]

<span data-ttu-id="2a105-164">W tym przypadku wybrany wiersz GridView jest teraz wyróżniony żółtym kolorem tła.</span><span class="sxs-lookup"><span data-stu-id="2a105-164">With this addition, the selected GridView row is now highlighted with a yellow background color.</span></span>

<span data-ttu-id="2a105-165">[![dostosować wygląd zaznaczonego wiersza przy użyciu właściwości SelectedRowStyle GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-165">[![Customize the Selected Row's Appearance Using the GridView's SelectedRowStyle Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image22.png)</span></span>

<span data-ttu-id="2a105-166">**Ilustracja 8**. Dostosowywanie wyglądu zaznaczonego wiersza za pomocą właściwości `SelectedRowStyle` GridView ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-166">**Figure 8**: Customize the Selected Row's Appearance Using the GridView's `SelectedRowStyle` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image24.png))</span></span>

## <a name="step-2-displaying-the-selected-products-details-in-a-detailsview"></a><span data-ttu-id="2a105-167">Krok 2. Wyświetlanie szczegółowych informacji o wybranym produkcie w widoku DetailsView</span><span class="sxs-lookup"><span data-stu-id="2a105-167">Step 2: Displaying the Selected Product's Details in a DetailsView</span></span>

<span data-ttu-id="2a105-168">Po zakończeniu `ProductsGrid` widoku GridView wszystko to jest konieczne dodanie widoku DetailsView, który wyświetla informacje o wybranym produkcie.</span><span class="sxs-lookup"><span data-stu-id="2a105-168">With the `ProductsGrid` GridView complete, all that remains is to add a DetailsView that displays information about the particular product selected.</span></span> <span data-ttu-id="2a105-169">Dodaj kontrolkę DetailsView powyżej widoku GridView i Utwórz nowy element ObjectDataSource o nazwie `ProductDetailsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="2a105-169">Add a DetailsView control above the GridView and create a new ObjectDataSource named `ProductDetailsDataSource`.</span></span> <span data-ttu-id="2a105-170">Ponieważ chcemy, aby ten DetailsView wyświetlał określone informacje o wybranym produkcie, skonfiguruj `ProductDetailsDataSource` tak, aby korzystał z metody `GetProductByProductID(productID)` klasy `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="2a105-170">Since we want this DetailsView to display particular information about the selected product, configure the `ProductDetailsDataSource` to use the `ProductsBLL` class's `GetProductByProductID(productID)` method.</span></span>

<span data-ttu-id="2a105-171">[![wywołać metodę GetProductByProductID (productID) klasy ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-171">[![Invoke the ProductsBLL Class's GetProductByProductID(productID) Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image25.png)</span></span>

<span data-ttu-id="2a105-172">**Rysunek 9**. Wywołaj metodę `GetProductByProductID(productID)` klasy `ProductsBLL` ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-172">**Figure 9**: Invoke the `ProductsBLL` Class's `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image27.png))</span></span>

<span data-ttu-id="2a105-173">Wartość parametru *`productID`* uzyskana z właściwości `SelectedValue` kontrolki GridView.</span><span class="sxs-lookup"><span data-stu-id="2a105-173">Have the *`productID`* parameter's value obtained from the GridView control's `SelectedValue` property.</span></span> <span data-ttu-id="2a105-174">Jak wspomniano wcześniej, właściwość `SelectedValue` GridView zwraca pierwszą wartość klucza danych dla wybranego wiersza.</span><span class="sxs-lookup"><span data-stu-id="2a105-174">As we discussed earlier, the GridView's `SelectedValue` property returns the first data key value for the selected row.</span></span> <span data-ttu-id="2a105-175">W związku z tym jest konieczne, aby Właściwość `DataKeyNames` GridView była ustawiona na `ProductID`, dzięki czemu `ProductID` wartość wybranego wiersza jest zwracana przez `SelectedValue`.</span><span class="sxs-lookup"><span data-stu-id="2a105-175">Therefore, it's imperative that the GridView's `DataKeyNames` property is set to `ProductID`, so that the selected row's `ProductID` value is returned by `SelectedValue`.</span></span>

<span data-ttu-id="2a105-176">[![ustawić parametru productID na Właściwość SelectedValue GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-176">[![Set the productID Parameter to the GridView's SelectedValue Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image28.png)</span></span>

<span data-ttu-id="2a105-177">**Ilustracja 10**. ustaw parametr *`productID`* na Właściwość `SelectedValue` GridView ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-177">**Figure 10**: Set the *`productID`* Parameter to the GridView's `SelectedValue` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image30.png))</span></span>

<span data-ttu-id="2a105-178">Po poprawnym skonfigurowaniu elementu ObjectDataSource `productDetailsDataSource` i powiązaniu go z elementem DetailsView ten samouczek został ukończony.</span><span class="sxs-lookup"><span data-stu-id="2a105-178">Once the `productDetailsDataSource` ObjectDataSource has been configured correctly and bound to the DetailsView, this tutorial is complete!</span></span> <span data-ttu-id="2a105-179">Gdy strona jest najpierw odwiedzona, nie jest zaznaczony żaden wiersz, więc Właściwość `SelectedValue` GridView zwraca `Nothing`.</span><span class="sxs-lookup"><span data-stu-id="2a105-179">When the page is first visited no row is selected, so the GridView's `SelectedValue` property returns `Nothing`.</span></span> <span data-ttu-id="2a105-180">Ponieważ nie ma żadnych produktów z `NULL` `ProductID` wartością, żadne rekordy nie są zwracane przez metodę `GetProductByProductID(productID)`, co oznacza, że element DetailsView nie jest wyświetlany (patrz rysunek 11).</span><span class="sxs-lookup"><span data-stu-id="2a105-180">Since there are no products with a `NULL` `ProductID` value, no records are returned by the `GetProductByProductID(productID)` method, meaning that the DetailsView isn't displayed (see Figure 11).</span></span> <span data-ttu-id="2a105-181">Po kliknięciu przycisku SELECT w wierszu GridView zostanie odświeżone odświeżenie i widok DetailsView.</span><span class="sxs-lookup"><span data-stu-id="2a105-181">Upon clicking a GridView row's Select button, a postback ensues and the DetailsView is refreshed.</span></span> <span data-ttu-id="2a105-182">Tym razem Właściwość `SelectedValue` GridView zwraca `ProductID` zaznaczonego wiersza, Metoda `GetProductByProductID(productID)` zwróci `ProductsDataTable` z informacjami o tym konkretnym produkcie, a widok DetailsView wyświetli te szczegóły (Zobacz Rysunek 12).</span><span class="sxs-lookup"><span data-stu-id="2a105-182">This time the GridView's `SelectedValue` property returns the `ProductID` of the selected row, the `GetProductByProductID(productID)` method returns a `ProductsDataTable` with information about that particular product, and the DetailsView shows these details (see Figure 12).</span></span>

<span data-ttu-id="2a105-183">[![podczas pierwszej wizyty zostanie wyświetlony tylko widok GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-183">[![When First Visited, Only the GridView is Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image31.png)</span></span>

<span data-ttu-id="2a105-184">**Rysunek 11**. podczas pierwszej wizyty wyświetlana jest tylko wartość GridView ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-184">**Figure 11**: When First Visited, Only the GridView is Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image33.png))</span></span>

<span data-ttu-id="2a105-185">[![po zaznaczeniu wiersza są wyświetlane szczegóły produktu](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="2a105-185">[![Upon Selecting a Row, the Product's Details are Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image34.png)</span></span>

<span data-ttu-id="2a105-186">**Ilustracja 12**. po wybraniu wiersza są wyświetlane szczegóły produktu ([kliknij, aby wyświetlić obraz o pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="2a105-186">**Figure 12**: Upon Selecting a Row, the Product's Details are Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="2a105-187">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="2a105-187">Summary</span></span>

<span data-ttu-id="2a105-188">W tym i powyższych trzech samouczkach zaobserwowano kilka technik wyświetlania raportów głównych/szczegółowych.</span><span class="sxs-lookup"><span data-stu-id="2a105-188">In this and the preceding three tutorials we've seen a number of techniques for displaying master/detail reports.</span></span> <span data-ttu-id="2a105-189">W tym samouczku sprawdzono użycie widoku GridView do przechowywania rekordów głównych i widoku DetailsView w celu wyświetlenia szczegółowych informacji o wybranym rekordzie głównym na tej samej stronie.</span><span class="sxs-lookup"><span data-stu-id="2a105-189">In this tutorial we examined using a selectable GridView to house the master records and a DetailsView to display details about the selected master record on the same page.</span></span> <span data-ttu-id="2a105-190">We wcześniejszych samouczkach oglądamy sposób wyświetlania raportów wzorzec/szczegóły przy użyciu kontrolek DropDownList i wyświetlania rekordów głównych na jednej stronie sieci Web i szczegółowych rekordów na innym.</span><span class="sxs-lookup"><span data-stu-id="2a105-190">In the earlier tutorials we looked at how to display master/details reports using DropDownLists and displaying master records on one web page and detail records on another.</span></span>

<span data-ttu-id="2a105-191">W tym samouczku zakończymy badanie raportów master/detail.</span><span class="sxs-lookup"><span data-stu-id="2a105-191">This tutorial concludes our examination of master/detail reports.</span></span> <span data-ttu-id="2a105-192">Począwszy od następnego samouczka, rozpocznie się Eksplorowanie dostosowanego formatowania za pomocą widoku GridView, DetailsView i FormView.</span><span class="sxs-lookup"><span data-stu-id="2a105-192">Starting with the next tutorial we'll begin our exploration of customized formatting with the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="2a105-193">Zobaczymy, jak dostosować wygląd tych kontrolek w oparciu o powiązane z nimi dane, jak podsumowywać dane w stopce GridView oraz jak korzystać z szablonów, aby uzyskać większą kontrolę nad układem.</span><span class="sxs-lookup"><span data-stu-id="2a105-193">We'll see how to customize the appearance of these controls based on the data bound to them, how to summarize data in the GridView's footer, and how to use templates to obtain a greater degree of control over the layout.</span></span>

<span data-ttu-id="2a105-194">Szczęśliwe programowanie!</span><span class="sxs-lookup"><span data-stu-id="2a105-194">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="2a105-195">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="2a105-195">About the Author</span></span>

<span data-ttu-id="2a105-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor siedmiu grup ASP/ASP. NET Books i założyciel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracował z technologiami sieci Web firmy Microsoft od czasu 1998.</span><span class="sxs-lookup"><span data-stu-id="2a105-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="2a105-197">Scott działa jako niezależny konsultant, trainer i składnik zapisywania.</span><span class="sxs-lookup"><span data-stu-id="2a105-197">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="2a105-198">Jego Najnowsza książka to [*Sams ASP.NET 2,0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="2a105-198">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="2a105-199">Można go osiągnąć w [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="2a105-199">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="2a105-200">lub za pośrednictwem swojego blogu, który można znaleźć w [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="2a105-200">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="2a105-201">Specjalne podziękowania</span><span class="sxs-lookup"><span data-stu-id="2a105-201">Special Thanks To</span></span>

<span data-ttu-id="2a105-202">Ta seria samouczków została sprawdzona przez wielu przydatnych recenzentów.</span><span class="sxs-lookup"><span data-stu-id="2a105-202">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="2a105-203">Recenzent potencjalnych klientów dla tego samouczka został Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="2a105-203">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="2a105-204">Chcesz przeglądać moje nadchodzące artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="2a105-204">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="2a105-205">Jeśli tak, upuść mi linię w [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="2a105-205">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="2a105-206">Ubiegł</span><span class="sxs-lookup"><span data-stu-id="2a105-206">Previous</span></span>](master-detail-filtering-across-two-pages-vb.md)
