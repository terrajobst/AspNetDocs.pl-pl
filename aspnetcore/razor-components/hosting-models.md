---
title: Składniki razor modele obsługi
author: guardrex
description: Dowiedz się, Blazor po stronie klienta i po stronie serwera ASP.NET Razor składniki podstawowe modele obsługi.
monikerRange: '>= aspnetcore-3.0'
ms.author: riande
ms.custom: mvc
ms.date: 01/29/2019
uid: razor-components/hosting-models
ms.openlocfilehash: d1e0c472d7d10eeb4cef0da735cf703c98dd1645
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/01/2019
ms.locfileid: "57071369"
---
# <a name="razor-components-hosting-models"></a><span data-ttu-id="9c4f6-103">Składniki razor modele obsługi</span><span class="sxs-lookup"><span data-stu-id="9c4f6-103">Razor Components hosting models</span></span>

<span data-ttu-id="9c4f6-104">Przez [Daniel Roth](https://github.com/danroth27)</span><span class="sxs-lookup"><span data-stu-id="9c4f6-104">By [Daniel Roth](https://github.com/danroth27)</span></span>

<span data-ttu-id="9c4f6-105">Składniki razor to struktura sieci web przeznaczony do działania po stronie klienta w przeglądarce w środowisku uruchomieniowym .NET oparte na format WebAssembly (*Blazor*) lub po stronie serwera w programie ASP.NET Core (*składniki programu ASP.NET Core Razor*).</span><span class="sxs-lookup"><span data-stu-id="9c4f6-105">Razor Components is a web framework designed to run client-side in the browser on a WebAssembly-based .NET runtime (*Blazor*) or server-side in ASP.NET Core (*ASP.NET Core Razor Components*).</span></span> <span data-ttu-id="9c4f6-106">Niezależnie od tego modelu, aplikacji i składników modelach hostingu *pozostają takie same*.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-106">Regardless of the hosting model, the app and component models *remain the same*.</span></span> <span data-ttu-id="9c4f6-107">W tym artykule omówiono dostępne modelach hostingu.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-107">This article discusses the available hosting models.</span></span>

## <a name="client-side-hosting-model"></a><span data-ttu-id="9c4f6-108">Model hostingu po stronie klienta</span><span class="sxs-lookup"><span data-stu-id="9c4f6-108">Client-side hosting model</span></span>

[!INCLUDE[](~/includes/razor-components-preview-notice.md)]

<span data-ttu-id="9c4f6-109">Jednostki modelu hostowania Blazor jest uruchomiona po stronie klienta w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-109">The principal hosting model for Blazor is running client-side in the browser.</span></span> <span data-ttu-id="9c4f6-110">W tym modelu aplikacja Blazor, jego zależności i środowisko uruchomieniowe platformy .NET są pobierane do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-110">In this model, the Blazor app, its dependencies, and the .NET runtime are downloaded to the browser.</span></span> <span data-ttu-id="9c4f6-111">Aplikacja jest wykonywane bezpośrednio w przeglądarce wątku interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-111">The app is executed directly on the browser UI thread.</span></span> <span data-ttu-id="9c4f6-112">Wszystkie aktualizacje interfejsu użytkownika i obsługa zdarzeń odbywa się w obrębie tego samego procesu.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-112">All UI updates and event handling happens within the same process.</span></span> <span data-ttu-id="9c4f6-113">Zasoby aplikacji można wdrożyć jako pliki statyczne, za pomocą dowolnego serwera sieci web jest preferowana (zobacz [hosta i wdrażanie](xref:host-and-deploy/razor-components/index)).</span><span class="sxs-lookup"><span data-stu-id="9c4f6-113">The app assets can be deployed as static files using whatever web server is preferred (see [Host and deploy](xref:host-and-deploy/razor-components/index)).</span></span>

![Blazor po stronie klienta: Aplikacja Blazor jest uruchamiana w wątku interfejsu użytkownika w przeglądarce.](hosting-models/_static/client-side.png)

<span data-ttu-id="9c4f6-115">Aby utworzyć aplikację Blazor przy użyciu modelu hostingu w sieci po stronie klienta, należy użyć **Blazor** lub **Blazor (ASP.NET Core hostowane)** szablony projektów (`blazor` lub `blazorhosted` szablon, korzystając z [dotnet nowe](/dotnet/core/tools/dotnet-new) polecenie w wierszu polecenia).</span><span class="sxs-lookup"><span data-stu-id="9c4f6-115">To create a Blazor app using the client-side hosting model, use the **Blazor** or **Blazor (ASP.NET Core Hosted)** project templates (`blazor` or `blazorhosted` template when using the [dotnet new](/dotnet/core/tools/dotnet-new) command at a command prompt).</span></span> <span data-ttu-id="9c4f6-116">Dołączonej *blazor.webassembly.js* skryptu obsługuje:</span><span class="sxs-lookup"><span data-stu-id="9c4f6-116">The included *blazor.webassembly.js* script handles:</span></span>

* <span data-ttu-id="9c4f6-117">Pobieranie środowiska uruchomieniowego .NET, aplikacji oraz jego zależności.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-117">Downloading the .NET runtime, the app, and its dependencies.</span></span>
* <span data-ttu-id="9c4f6-118">Inicjalizacja środowiska uruchomieniowego, aby uruchomić aplikację.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-118">Initialization of the runtime to run the app.</span></span>

<span data-ttu-id="9c4f6-119">Model hostingu w sieci po stronie klienta oferuje wiele korzyści.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-119">The client-side hosting model offers several benefits.</span></span> <span data-ttu-id="9c4f6-120">Blazor po stronie klienta:</span><span class="sxs-lookup"><span data-stu-id="9c4f6-120">Client-side Blazor:</span></span>

* <span data-ttu-id="9c4f6-121">Ma nie zależności po stronie serwera .NET.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-121">Has no .NET server-side dependency.</span></span>
* <span data-ttu-id="9c4f6-122">Zawiera zaawansowane interaktywnego interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-122">Has a rich interactive UI.</span></span>
* <span data-ttu-id="9c4f6-123">W pełni wykorzystuje zasoby klienta i możliwości.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-123">Fully leverages client resources and capabilities.</span></span>
* <span data-ttu-id="9c4f6-124">Odciążanie pracować z serwera do klienta.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-124">Offloads work from the server to the client.</span></span>
* <span data-ttu-id="9c4f6-125">Obsługuje scenariusze w trybie offline.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-125">Supports offline scenarios.</span></span>

<span data-ttu-id="9c4f6-126">Brak wad hostingu po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-126">There are downsides to client-side hosting.</span></span> <span data-ttu-id="9c4f6-127">Blazor po stronie klienta:</span><span class="sxs-lookup"><span data-stu-id="9c4f6-127">Client-side Blazor:</span></span>

* <span data-ttu-id="9c4f6-128">Ogranicza ją do możliwości przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-128">Restricts the app to the capabilities of the browser.</span></span>
* <span data-ttu-id="9c4f6-129">Wymaga klienta obsługującego sprzętu i oprogramowania (na przykład w przypadku, format WebAssembly Obsługa).</span><span class="sxs-lookup"><span data-stu-id="9c4f6-129">Requires capable client hardware and software (for example, WebAssembly support).</span></span>
* <span data-ttu-id="9c4f6-130">Ma większy rozmiar pobierania i aplikacji dłuższy czas ładowania.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-130">Has a larger download size and longer app load time.</span></span>
* <span data-ttu-id="9c4f6-131">Ma mniejszą dla dorosłych, środowisko uruchomieniowe platformy .NET oraz narzędzia do obsługi (na przykład ograniczenia dotyczące pomocy technicznej Standard platformy .NET i profilowanie).</span><span class="sxs-lookup"><span data-stu-id="9c4f6-131">Has less mature .NET runtime and tooling support (for example, limitations in .NET Standard support and debugging).</span></span>

<span data-ttu-id="9c4f6-132">Program Visual Studio obejmuje **Blazor (platformy ASP.NET Core hostowany)** szablon projektu umożliwiający tworzenie aplikacji Blazor, który jest uruchamiany na format WebAssembly i jest hostowana na serwerze programu ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-132">Visual Studio includes the **Blazor (ASP.NET Core hosted)** project template for creating a Blazor app that runs on WebAssembly and is hosted on an ASP.NET Core server.</span></span> <span data-ttu-id="9c4f6-133">Aplikacja platformy ASP.NET Core udostępnia aplikacji Blazor klientom, ale to oddzielny proces, w przeciwnym razie.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-133">The ASP.NET Core app serves the Blazor app to clients but is otherwise a separate process.</span></span> <span data-ttu-id="9c4f6-134">Aplikacja Blazor po stronie klienta mogą wchodzić w interakcje z serwerem za pośrednictwem sieci przy użyciu wywołań interfejsu API sieci Web lub połączeniami SignalR.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-134">The client-side Blazor app can interact with the server over the network using Web API calls or SignalR connections.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9c4f6-135">Jeśli aplikacja Blazor po stronie klienta jest obsługiwany przez aplikację ASP.NET Core, obsługiwane jako aplikację podrzędnych usług IIS, należy wyłączyć dziedziczone obsługi modułu ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-135">If a client-side Blazor app is served by an ASP.NET Core app hosted as an IIS sub-app, disable the inherited ASP.NET Core Module handler.</span></span> <span data-ttu-id="9c4f6-136">Ustaw ścieżki podstawowej aplikacji w aplikacji Blazor *index.html* pliku do aliasu usług IIS, używane podczas konfigurowania aplikacji podrzędnej w usługach IIS.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-136">Set the app base path in the Blazor app's *index.html* file to the IIS alias used when configuring the sub-app in IIS.</span></span>
>
> <span data-ttu-id="9c4f6-137">Aby uzyskać więcej informacji, zobacz [ścieżki podstawowej aplikacji](xref:host-and-deploy/razor-components/index#app-base-path).</span><span class="sxs-lookup"><span data-stu-id="9c4f6-137">For more information, see [App base path](xref:host-and-deploy/razor-components/index#app-base-path).</span></span>

## <a name="server-side-hosting-model"></a><span data-ttu-id="9c4f6-138">Model hostingu po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="9c4f6-138">Server-side hosting model</span></span>

<span data-ttu-id="9c4f6-139">W modelu hostingu po stronie serwera platformy ASP.NET Core Razor składniki aplikacji są wykonywane na serwerze z poziomu aplikacji ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-139">In the ASP.NET Core Razor Components server-side hosting model, the app is executed on the server from within an ASP.NET Core app.</span></span> <span data-ttu-id="9c4f6-140">Aktualizacje interfejsu użytkownika, obsługa zdarzeń i wywołania języka JavaScript są obsługiwane za pośrednictwem połączenia SignalR.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-140">UI updates, event handling, and JavaScript calls are handled over a SignalR connection.</span></span>

![ASP.NET Core Razor składniki po stronie serwera: Przeglądarka wchodzi w interakcję z aplikacją (obsługiwana wewnątrz aplikacji ASP.NET Core) na serwerze za pośrednictwem połączenia SignalR.](hosting-models/_static/server-side.png)

<span data-ttu-id="9c4f6-142">Aby utworzyć aplikację składniki Razor przy użyciu modelu hostingu w sieci po stronie serwera, należy użyć **Blazor (po stronie serwera w programie ASP.NET Core)** szablonu (`blazorserver` przy użyciu [dotnet nowe](/dotnet/core/tools/dotnet-new) polecenie w wierszu polecenia).</span><span class="sxs-lookup"><span data-stu-id="9c4f6-142">To create a Razor Components app using the server-side hosting model, use the **Blazor (Server-side in ASP.NET Core)** template (`blazorserver` when using [dotnet new](/dotnet/core/tools/dotnet-new) at a command prompt).</span></span> <span data-ttu-id="9c4f6-143">Aplikacji ASP.NET Core obsługuje składniki Razor aplikacji po stronie serwera i ustawia punkt końcowy SignalR, gdy klienci łączą.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-143">An ASP.NET Core app hosts the Razor Components server-side app and sets up the SignalR endpoint where clients connect.</span></span> <span data-ttu-id="9c4f6-144">Aplikacja platformy ASP.NET Core odwołuje się do aplikacji `Startup` klasy do dodania:</span><span class="sxs-lookup"><span data-stu-id="9c4f6-144">The ASP.NET Core app references the app's `Startup` class to add:</span></span>

* <span data-ttu-id="9c4f6-145">Usługi aparatu Razor składniki po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-145">Server-side Razor Components services.</span></span>
* <span data-ttu-id="9c4f6-146">Aplikacja do żądania obsługi potoku.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-146">The app to the request handling pipeline.</span></span>

[!code-csharp[](hosting-models/samples_snapshot/Startup.cs?highlight=5,27)]

<span data-ttu-id="9c4f6-147">*Blazor.server.js* skryptu&dagger; nawiązuje połączenie z klientem.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-147">The *blazor.server.js* script&dagger; establishes the client connection.</span></span> <span data-ttu-id="9c4f6-148">To aplikacja odpowiada za utrwalanie i przywracanie stanu aplikacji, zgodnie z potrzebami (na przykład w przypadku połączenia sieciowego utracone).</span><span class="sxs-lookup"><span data-stu-id="9c4f6-148">It's the app's responsibility to persist and restore app state as required (for example, in the event of a lost network connection).</span></span>

<span data-ttu-id="9c4f6-149">Model hostingu w sieci po stronie serwera oferuje wiele korzyści:</span><span class="sxs-lookup"><span data-stu-id="9c4f6-149">The server-side hosting model offers several benefits:</span></span>

* <span data-ttu-id="9c4f6-150">Umożliwia pisanie całej aplikacji przy użyciu platformy .NET i C# przy użyciu modelu składnika.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-150">Allows you to write your entire app with .NET and C# using the component model.</span></span>
* <span data-ttu-id="9c4f6-151">Zapewnia rozbudowane interaktywny sposób działania i pozwala uniknąć odświeżenie strony niepotrzebne.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-151">Provides a rich interactive feel and avoids unnecessary page refreshes.</span></span>
* <span data-ttu-id="9c4f6-152">Ma znacznie mniejszym rozmiarem aplikacji niż aplikacja Blazor po stronie klienta i ładuje znacznie szybciej.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-152">Has a significantly smaller app size than a client-side Blazor app and loads much faster.</span></span>
* <span data-ttu-id="9c4f6-153">Składnik logiki można wykorzystać możliwości serwera, takie jak przy użyciu zgodnych interfejsów API dowolnej platformy .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-153">Component logic can take full advantage of server capabilities, including using any .NET Core compatible APIs.</span></span>
* <span data-ttu-id="9c4f6-154">Działa na platformie .NET Core w serwer, więc .NET istniejących narzędzi, takich jak debugowanie, działa zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-154">Runs on .NET Core on the server, so existing .NET tooling, such as debugging, works as expected.</span></span>
* <span data-ttu-id="9c4f6-155">Współpracuje z elastycznej klientów (na przykład przeglądarek, które nie obsługują format WebAssembly i zasobach ograniczonego urządzenia).</span><span class="sxs-lookup"><span data-stu-id="9c4f6-155">Works with thin clients (for example, browsers that don't support WebAssembly and resource constrained devices).</span></span>

<span data-ttu-id="9c4f6-156">Istnieją wad po stronie serwera hostingu:</span><span class="sxs-lookup"><span data-stu-id="9c4f6-156">There are downsides to server-side hosting:</span></span>

* <span data-ttu-id="9c4f6-157">Ma czas oczekiwania: Każdy interakcja użytkownika obejmuje przeskok sieci.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-157">Has higher latency: Every user interaction involves a network hop.</span></span>
* <span data-ttu-id="9c4f6-158">Oferuje Brak obsługi w trybie offline: Jeśli połączenie klienta zakończy się niepowodzeniem, aplikacja przestaje działać.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-158">Offers no offline support: If the client connection fails, the app stops working.</span></span>
* <span data-ttu-id="9c4f6-159">Obniżyła skalowalność: Serwer musi zarządzać wieloma połączeń klientów i obsługi stanu klienta.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-159">Has reduced scalability: The server must manage multiple client connections and handle client state.</span></span>
* <span data-ttu-id="9c4f6-160">Wymaga serwera do obsługi aplikacji programu ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-160">Requires an ASP.NET Core server to serve the app.</span></span> <span data-ttu-id="9c4f6-161">Wdrożenie bez serwera (na przykład z sieci CDN) nie jest możliwe.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-161">Deployment without a server (for example, from a CDN) isn't possible.</span></span>

<span data-ttu-id="9c4f6-162">&dagger;*Blazor.server.js* skryptu jest opublikowana w następującej ścieżce: *bin / {debugowanie | Zlecenia} / {struktury docelowej} /publish/ {Nazwa aplikacji}. Aplikacja/dist/_struktura*.</span><span class="sxs-lookup"><span data-stu-id="9c4f6-162">&dagger;The *blazor.server.js* script is published to the following path: *bin/{Debug|Release}/{TARGET FRAMEWORK}/publish/{APPLICATION NAME}.App/dist/_framework*.</span></span>
